(()=>{"use strict";var t={n:e=>{var s=e&&e.__esModule?()=>e.default:()=>e;return t.d(s,{a:s}),s},d:(e,s)=>{for(var i in s)t.o(s,i)&&!t.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:s[i]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)};const e=Phaser;var s=t.n(e);class i extends s().Scene{constructor(){super("OptionsScene")}preload(){this.load.image("background","assets/menu-inicio-fondo.png")}create(t){this.add.rectangle(400,300,800,600,0).setOrigin(.5),this.add.text(400,100,"Opciones",{fontSize:"48px",color:"#ffffffff",fontStyle:"bold"}).setOrigin(.5);const e=this.sound.mute?"Activar Sonido":"Desactivar Sonido",s=this.add.text(400,300,e,{fontSize:"32px",color:"#ffffffff",backgroundColor:"#000000ff",padding:{x:20,y:10}}).setOrigin(.5).setInteractive({useHandCursor:!0});s.on("pointerover",()=>s.setStyle({backgroundColor:"#737373ff"})).on("pointerout",()=>s.setStyle({backgroundColor:"#000000ff"})).on("pointerdown",()=>{this.sound.mute=!this.sound.mute,s.setText(this.sound.mute?"Activar Sonido":"Desactivar Sonido")});const i=this.add.text(400,500,"Volver",{fontSize:"32px",color:"#ffffffff",backgroundColor:"#000000ff",padding:{x:20,y:10}}).setOrigin(.5).setInteractive({useHandCursor:!0});i.on("pointerover",()=>i.setStyle({backgroundColor:"#737373ff"})).on("pointerout",()=>i.setStyle({backgroundColor:"#000000ff"})).on("pointerdown",()=>{this.scene.stop(),this.scene.resume(t.originalScene)})}}const a=new class{constructor(){this.connectedCount=0,this.isConnected=!1,this.lastCheckTime=0,this.checkInterval=2e3,this.listeners=[],this.sessionId=this.generateSessionId(),this.intervalId=null,this.startPolling()}generateSessionId(){return`session_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}async checkConnection(){try{const t=await fetch("/api/connected",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sessionId:this.sessionId})});if(t.ok){const e=await t.json();return this.connectedCount=e.connected,this.isConnected=!0,this.lastCheckTime=Date.now(),this.notifyListeners({connected:!0,count:this.connectedCount}),{connected:this.connectedCount,success:!0}}return this.handleDisconnection(),{connected:0,success:!1}}catch(t){return console.error("Error checking connection:",t),this.handleDisconnection(),{connected:0,success:!1}}}handleDisconnection(){this.isConnected=!1,this.connectedCount=0,this.notifyListeners({connected:!1,count:0})}addListener(t){this.listeners.push(t)}removeListener(t){const e=this.listeners.indexOf(t);e>-1&&this.listeners.splice(e,1)}notifyListeners(t){this.listeners.forEach(e=>e(t))}getStatus(){return{isConnected:this.isConnected,connectedCount:this.connectedCount,lastCheckTime:this.lastCheckTime}}startPolling(){this.intervalId||(this.checkConnection(),this.intervalId=setInterval(()=>{this.checkConnection()},this.checkInterval))}stopPolling(){this.intervalId&&(clearInterval(this.intervalId),this.intervalId=null)}};let n=new class{constructor(){this.id=void 0,this.name=void 0,this.deaths=0}async updateClientData(t){const e=await fetch(`/api/users/${this.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});return await e.json()}async getClientDeaths(){try{const t=await fetch(`/api/users/${this.id}`);if(!t.ok)throw new Error("Network response was not ok");return(await t.json()).deaths}catch(t){throw console.error("ClientDataManager error:",t),t}}async updateClientDeaths(t){this.deaths=t}async postLogin(){const t=await fetch("/api/users",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:this.id,name:this.name,deaths:this.deaths})});if(t.ok){const e=await t.json();this.id=e.id,this.deaths=e.deaths}return t.status}};class r extends s().Scene{constructor(){super("MenuScene")}preload(){this.load.audio("music","assets/sound/menu-theme.mp3"),this.load.image("background","assets/menuSinLetras.png"),this.load.image("id1","assets/BotonTitulo.png"),this.load.image("id2","assets/BotonLocalPlay.png"),this.load.image("id3","assets/BotonCreditos.png"),this.load.image("id4","assets/BotonOpciones.png"),this.load.image("id5","assets/BotonSalir.png"),this.load.image("menu","assets/libretaNivelesConSombra.png"),this.load.image("n1","assets/BotonNivel1.png"),this.load.image("n2","assets/BotonNivel2.png"),this.load.image("return","assets/BotonVolver.png")}create(){this.add.image(400,300,"background").setOrigin(.5),this.add.image(85,34,"id1").setOrigin(0),this.startButton=this.add.image(196,238,"id2").setOrigin(0).setInteractive({useHandCursor:!0}).on("pointerdown",()=>{this.openMiniMenu()}),this.creditsButton=this.add.image(241,307,"id3").setOrigin(0).setInteractive({useHandCursor:!0}).on("pointerdown",()=>{this.scene.start("CreditsScene")}),this.optionsButton=this.add.image(245,377,"id4").setOrigin(0).setInteractive({useHandCursor:!0}).on("pointerdown",()=>{this.scene.launch("OptionsScene",{originalScene:"MenuScene"})}),this.exitButton=this.add.image(276,451,"id5").setOrigin(0).setInteractive({useHandCursor:!0}).on("pointerdown",()=>{this.game.destroy(!0),window.close()}),this.buttons=[this.startButton,this.creditsButton,this.optionsButton,this.exitButton],this.music=this.sound.add("music"),this.music.play(),this.music.setVolume(0),this.connectionText=this.add.text(400,550,"Servidor: Comprobando...",{fontSize:"18px",color:"#ffff00"}).setOrigin(.5),this.connectionListener=t=>{this.updateConnectionDisplay(t)},a.addListener(this.connectionListener),this.onlineBtn=this.add.text(500,300,"Jugar Online",{fontSize:"18px",color:"#ffff00"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerover",()=>this.onlineBtn.setStyle({backgroundColor:"#737373ff"})).on("pointerout",()=>this.onlineBtn.setStyle({backgroundColor:"#000000ff"})).on("pointerdown",()=>{this.scene.start("MatchMakingScene")})}openMiniMenu(){this.buttons.forEach(t=>t.removeInteractive());const t=this.add.image(400,300,"menu").setDepth(10),e=this.add.image(350,230,"n1").setDepth(11).setInteractive({useHandCursor:!0}).on("pointerdown",()=>{this.closeMiniMenu([t,e,s,i]),this.scene.start("IntroScene")}),s=this.add.image(350,310,"n2").setDepth(11).setInteractive({useHandCursor:!0}).on("pointerdown",()=>{this.closeMiniMenu([t,e,s,i]),this.scene.start("EndScene")}),i=this.add.image(320,400,"return").setDepth(11).setInteractive({useHandCursor:!0}).on("pointerdown",()=>{this.closeMiniMenu([t,e,s,i])})}closeMiniMenu(t){t.forEach(t=>t.destroy()),this.buttons.forEach(t=>t.setInteractive({useHandCursor:!0}))}updateConnectionDisplay(t){if(this.connectionText&&this.scene&&this.scene.isActive("MenuScene"))try{t.connected?(this.connectionText.setText(`Servidor: ${t.count} usuario(s) conectado(s)`),this.connectionText.setColor("#00ff00")):(this.connectionText.setText("Servidor: Desconectado"),this.connectionText.setColor("#ff0000"))}catch(t){console.error("[MenuScene] Error updating connection display:",t)}}shutdown(){this.connectionListener&&a.removeListener(this.connectionListener)}}class o{execute(){}serialize(){return{}}getEntity(){return null}}class h extends o{constructor(t,e){super(),this.player=t,this.action=e}execute(){const t=this.player;"up"===this.action&&t.jump(),"left"!==this.action&&"right"!==this.action?"idle"===this.action&&t.idle():t.horizontalMove(this.action)}serialize(){return{type:"PlayerMovmentInputCommand",playerId:this.player.id,action:this.action}}getEntity(){return this.player}}class l extends o{constructor(t){super(),this.player=t}execute(){this.player.attack()}serialize(){return{type:"PlayerAttackCommand",playerId:this.player.id}}getEntity(){return this.player}}class c{constructor(){this.players=new Map}process(t){t.execute()}receiveCommand(t){this.players.get(t.playerId);const e=this.deserialize(t);e&&e.execute()}deserialize(t){const e=this.players.get(t.playerId);switch(t.type){case"PlayerMovmentInputCommand":return e?new h(e,t.action):(console.warn(`Player not found for ID: ${t.playerId}`),null);case"PlayerAttackCommand":return e?new l(e):(console.warn(`Player not found for ID: ${t.playerId}`),null);default:return console.warn("Comando desconocido:",t.type),null}}}class p{constructor(t,e,s,i,a=null,n=null){this.commandProcessor=new c,this.scene=t,this.sceneManager=e,this.input=s,this.commandProcessor=i,this.players=new Map,this.inputsMapping=[],this.isPaused=!1,this.playerRole=a,this.ws=n,this.setUpInputs()}setUpInputs(){this.players=this.scene.players,this.playerRole?this.setUpRemoteInputs(this.playerRole):this.setUpLocalInputs()}setWebSocket(t){this.ws=t}setPlayerRole(t){this.playerRole=t}setUpLocalInputs(){this.input.keyboard.on("keydown-ESC",()=>{this.pause()}),this.input.keyboard.on("keydown-F",()=>{this.players.get("player1").attack()}),this.inputsMapping=[{playerId:"player1",leftKey:"A",rightKey:"D",upKey:"W",downKey:"S",attackKey:"F"},{playerId:"player2",leftKey:"LEFT",rightKey:"RIGHT",upKey:"UP",downKey:"DOWN",attackKey:"ENTER"}],this.inputsMapping=this.inputsMapping.map(t=>({playerId:t.playerId,leftKeyObj:this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes[t.leftKey]),rightKeyObj:this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes[t.rightKey]),upKeyObj:this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes[t.upKey]),downKeyObj:this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes[t.downKey]),attackKeyObj:this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes[t.attackKey])}))}setUpRemoteInputs(t){this.input.keyboard.on("keydown-ESC",()=>{this.pause()});const e=[{playerId:t,leftKey:"A",rightKey:"D",upKey:"W",downKey:"S",attackKey:"F"}];this.inputsMapping=e,this.inputsMapping=this.inputsMapping.map(t=>({playerId:t.playerId,leftKeyObj:this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes[t.leftKey]),rightKeyObj:this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes[t.rightKey]),upKeyObj:this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes[t.upKey]),downKeyObj:this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes[t.downKey]),attackKeyObj:this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes[t.attackKey])}))}pause(){this.sceneManager.launch("PauseScene",{originalScene:"GameScene"}),this.sceneManager.pause("GameScene"),this.isPaused=!0}update(){this.inputsMapping.forEach(t=>{let e=this.players.get(this.playerRole);e.id=this.playerRole;let s=new o;if(s=t.upKeyObj.isDown?new h(e,"up"):t.leftKeyObj.isDown?new h(e,"left"):t.rightKeyObj.isDown?new h(e,"right"):new h(e,"idle"),this.commandProcessor.process(s),this.sendMessage(s.serialize()),t.attackKeyObj.isDown){let t=new l(e);this.commandProcessor.process(t),this.sendMessage(t.serialize())}})}sendMessage(t){this.ws&&this.ws.readyState===WebSocket.OPEN?(console.log("Sending message:",t),this.ws.send(JSON.stringify(t))):console.warn("WebSocket is not open. Message not sent:",t)}updateRemotePlayerPosition(t){"PlayerMovmentInputCommand"===t.type&&this.commandProcessor.receiveCommand(t)}updateRemotePlayerAttack(t){"PlayerAttackCommand"===t.type&&(console.log("MultiplayerScene received in input manager msg:",t),this.commandProcessor.receiveCommand(t))}}class d{constructor(t,e){this.scene=t,this.animationSpritesheet=e}preload(t,e){this.scene.load.spritesheet(this.animationSpritesheet,`assets/sprites/${this.animationSpritesheet}.png`,{frameWidth:t,frameHeight:e})}createAnimation(t,e,s,i,a=-1){this.scene.anims.create({key:t,frames:this.scene.anims.generateFrameNumbers(this.animationSpritesheet,{start:e,end:s}),frameRate:i,repeat:a})}assignSpriteToPlayer(t,e){return this.scene.physics.add.sprite(t,e,this.animationSpritesheet)}createSprite(t,e){return this.scene.add.sprite(t,e,this.animationSpritesheet)}}class u{constructor(t,e,s,i,a){this.scene=t,this.x=s,this.y=i,this.players=a,this.id=e,this.baseHeight=.17,this.baseWidth=.17,this.baseSpeed=100,this.isDead=!1,this.weakened=!1,this.animator=new d(this.scene,"spritesheet-enemigo")}preload(){this.animator.preload(600,800)}create(){this.sprite=this.animator.assignSpriteToPlayer(this.x,this.y),this.animator.createAnimation(`idle-black-${this.id}`,0,2,5),this.animator.createAnimation(`idle-white-${this.id}`,3,5,5),this.animator.createAnimation(`black-to-white-${this.id}`,6,8,8,0),this.animator.createAnimation(`white-to-black-${this.id}`,6,8,8,0),this.animator.createAnimation(`die-${this.id}`,9,11,8,0),this.sprite.on("animationcomplete",t=>{t.key===`die-${this.id}`&&this.sprite.destroy()}),this.sprite.setCollideWorldBounds(!0),this.sprite.body.allowGravity=!1,this.sprite.body.setGravityY(500),this.sprite.setDepth(10),this.sprite.setScale(this.baseWidth,this.baseHeight),this.sprite.body.setSize(this.sprite.width-300,this.sprite.height-270),this.sprite.anims.play(`idle-black-${this.id}`)}enemyMovement(){let t=this.pickPlayer();this.sprite.flipX=t.sprite.x<this.sprite.x,this.weakened||Math.abs(t.sprite.x-this.sprite.x)>500||Math.abs(t.sprite.y-this.sprite.y)>500?this.baseSpeed=0:this.baseSpeed=100,this.scene.physics.moveToObject(this.sprite,t.sprite,this.baseSpeed)}pickPlayer(){let t=Math.abs(this.players.get("player1").sprite.x-this.sprite.x)>Math.abs(this.players.get("player2").sprite.x-this.sprite.x)?this.players.get("player2"):this.players.get("player1");return t.health<=0&&(t="player1"===t.id?this.players.get("player2"):this.players.get("player1")),t}die(){this.sprite.setVelocity(0),this.sprite.anims.play(`die-${this.id}`)}setWeakened(t){this.weakened=t,t?(this.sprite.anims.play(`black-to-white-${this.id}`),this.sprite.on("animationcomplete",t=>{t.key===`black-to-white-${this.id}`&&this.sprite.anims.play(`idle-white-${this.id}`)})):this.sprite.anims.play(`idle-black-${this.id}`)}update(){this.isDead||this.enemyMovement()}}class y{constructor(t,e){this.scene=t,this.players=e,this.camera=this.scene.cameras.main,this.camLeft=this.camera.scrollX,this.camRight=this.camera.scrollX+this.camera.width,this.margin=20}update(){this.camLeft=this.camera.scrollX,this.camRight=this.camera.scrollX+this.camera.width,this.players.get("player1").sprite.x=s().Math.Clamp(this.players.get("player1").sprite.x,this.camLeft+this.margin,this.camRight-this.margin),this.players.get("player2").sprite.x=s().Math.Clamp(this.players.get("player2").sprite.x,this.camLeft+this.margin,this.camRight-this.margin);const t=(this.players.get("player1").sprite.x+this.players.get("player2").sprite.x)/2,e=t-.5*this.camera.width,i=t+.5*this.camera.width,a=this.players.get("player1").sprite.x>e+this.margin&&this.players.get("player1").sprite.x<i-this.margin,n=this.players.get("player2").sprite.x>e+this.margin&&this.players.get("player2").sprite.x<i-this.margin;a&&n&&(this.camera.scrollX=Math.round(s().Math.Linear(this.camera.scrollX,t-this.camera.width/2,.1)))}}class m{constructor(t,e,s,i,a,n,r){this.scene=t,this.id=e,this.sprite=t.add.image(s,i,r),this.sprite.setOrigin(.5,.5),this.sprite.setDepth(10),this.sprite.setDisplaySize(a,n),t.physics.add.existing(this.sprite,!0),this.sprite.body.setSize(a,n),this.g=t.add.graphics(),this.g.fillStyle(0,0),this.g.fillRect(s-a/2,i-n/2,a-10,n-10),this.g.setDepth(0),this.setUpCollisions()}setUpCollisions(){this.scene.physics.add.existing(this.g,!0)}}class g{constructor(t,e,s,i,a,r=null){this.id=e,this.scene=t,this.gravity=s,this.baseHeight=.17,this.baseWidth=.17,this.baseSpeed=300,this.jumpForce=450,this.health=100,this.invulnerable=!1,this.authority="LOCAL",this.xPos=i,this.yPos=a,this.isDead=!1,this.numDeaths=n.deaths,this.currentDirection="idle",this.currentAnim=null,this.animator=new d(this.scene,r)}preload(t,e){this.animator.preload(t,e)}create(){this.sprite=this.animator.assignSpriteToPlayer(this.xPos,this.yPos),this.animator.createAnimation(`idle-${this.id}`,0,3,4),this.animator.createAnimation(`walk-${this.id}`,4,7,5),this.animator.createAnimation(`jump-${this.id}`,8,8,4,0),this.animator.createAnimation(`air-${this.id}`,9,10,1,0),this.animator.createAnimation(`fall-${this.id}`,10,10,1,0),this.animator.createAnimation(`attack-${this.id}`,12,13,2,0),this.sprite.on("animationcomplete",t=>{t.key===`jump-${this.id}`&&(this.sprite.body.onFloor()||this.playAnim(`air-${this.id}`))}),this.sprite.on("animationupdate",t=>{t.key===`air-${this.id}`&&this.sprite.body.onFloor()&&this.playAnim(`fall-${this.id}`)}),this.sprite.setScale(this.baseWidth,this.baseHeight),this.sprite.setCollideWorldBounds(!0),this.sprite.body.allowGravity=!0,this.sprite.body.setGravityY(this.gravity),this.sprite.body.setSize(this.sprite.width-300,this.sprite.height-270),this.sprite.body.setOffset(150,270),this.sprite.setDepth(5),this.sprite.play(`idle-${this.id}`)}playAnim(t){this.currentAnim!==t&&(this.sprite.play(t,!0),this.currentAnim=t)}horizontalMove(t){this.health<=0||(this.currentDirection=t,this.sprite.flipX="left"===t,this.sprite.setVelocityX("left"===t?-this.baseSpeed:this.baseSpeed),this.sprite.body.onFloor()&&this.currentAnim!==`jump-${this.id}`&&this.currentAnim!==`attack-${this.id}`&&this.playAnim(`walk-${this.id}`))}jump(){this.canJump()&&(this.sprite.setVelocityY(-this.jumpForce),this.playAnim(`jump-${this.id}`))}idle(){this.sprite.setVelocityX(0),this.sprite.body.onFloor()&&this.currentAnim!==`jump-${this.id}`&&this.currentAnim!==`fall-${this.id}`&&this.currentAnim!==`attack-${this.id}`&&!this.isDead&&(this.playAnim(`idle-${this.id}`),this.currentDirection="idle")}getHit(t){if(!this.invulnerable){if(this.health-=t,this.invulnerable=!0,this.sprite.setTint(8421504),!this.checkAlive())return this.health=0,this.baseSpeed=0,this.sprite.setTint(0),this.sprite.anims.pause(),this.invulnerable=!1,this.isDead=!0,void(this.isAttacking=!1);this.scene.time.delayedCall(2e3,()=>{this.invulnerable=!1,this.sprite.clearTint()})}}revive(){this.health=100,this.baseSpeed=300,this.isDead=!1,this.invulnerable=!1,this.sprite.clearTint(),this.sprite.anims.resume(),this.invulnerable=!0,this.isAttacking=!1,this.playAnim(`idle-${this.id}`),this.scene.time.delayedCall(1e3,()=>{this.invulnerable=!1})}checkAlive(){return this.health>0}canJump(){return this.sprite.body.onFloor()&&this.checkAlive()}attack(){}async updateDeaths(){await n.updateClientData(n,{deaths:this.numDeaths})}}class f extends g{constructor(t,e,s,i,a,n,r,o=null){super(t,e,s,i,a,n,r,o),this.attackHitbox=null}create(){super.create(),this.attackHitbox=this.scene.physics.add.sprite(0,0,null).setSize(40,20).setVisible(!1).setImmovable(!0),this.isAttacking=!1,this.sprite.on("animationcomplete",t=>{t.key===`attack-${this.id}`&&(this.isAttacking=!1,this.playAnim(`idle-${this.id}`),this.attackHitbox.setPosition(-100,-100))}),this.sprite.on("animationupdate",t=>{t.key===`attack-${this.id}`&&this.updateHitbox()})}updateHitbox(){const t=this.sprite.flipX?-20:20;this.attackHitbox.setPosition(this.sprite.x+t,this.sprite.y)}attack(){this.isAttacking||(this.updateHitbox(),this.isAttacking=!0,this.sprite.setVelocityX(0),this.playAnim(`attack-${this.id}`))}}class b{constructor(t,e,s,i,a){this.id=e,this.scene=t,this.player=s,this.radius=i,this.color=a,this.isOn=!1,this.canPerform=!0,this.colliderCircle=null}create(){this.colliderCircle=this.scene.add.circle(this.player.sprite.x,this.player.sprite.y,this.radius),this.scene.physics.add.existing(this.colliderCircle),this.colliderCircle.body.setCircle(this.radius),this.colliderCircle.body.setAllowGravity(!1),this.colliderCircle.body.setImmovable(!0),this.graphics=this.scene.add.graphics()}update(){const t=this.player.sprite.x,e=this.player.sprite.y;this.colliderCircle.setPosition(t,e),this.isOn?(this.graphics.clear(),this.graphics.fillStyle(this.color,.5),this.graphics.fillCircle(t,e,this.radius),this.graphics.setDepth(10)):this.graphics.clear()}perform(){this.canPerform&&(this.canPerform=!1,this.isOn=!0,this.scene.time.delayedCall(1e3,()=>{this.isOn=!1,this.graphics.clear()}),this.scene.time.delayedCall(3e3,()=>{this.canPerform=!0}))}destroy(){this.graphics.destroy(),this.colliderCircle.destroy()}}class S extends g{constructor(t,e,s,i,a,n,r,o=null){super(t,e,s,i,a,n,r,o),this.light=new b(this.scene,"light1",this,75,16777215),this.isAttacking=!1}create(){super.create(),this.light.create(),this.sprite.on("animationupdate",t=>{t.key===`attack-${this.id}`&&(this.light.update(),this.isAttacking=!0)}),this.sprite.on("animationcomplete",t=>{t.key===`attack-${this.id}`&&(this.isAttacking=!1,this.playAnim(`idle-${this.id}`))})}revive(){super.revive(),this.light.canPerform=!0}attack(){!this.isAttacking&&this.light.canPerform&&(this.light.perform(),this.playAnim(`attack-${this.id}`))}}class w extends s().Scene{constructor(t="GameScene"){super(t)}preload(){this.arthur.preload(600,800),this.lucy.preload(600,800),this.load.audio("ambient","assets/sound/ambient-theme.mp3"),this.load.image("fondo","assets/FondoHorizontal.png"),this.load.image("p1","assets/props/plataforma1.png"),this.load.image("suelo","assets/props/suelo.png"),this.load.image("p2","assets/props/plataforma2.png"),this.load.image("c1","assets/props/columna1.png"),this.load.image("lib","assets/props/libreria.png"),this.enemies.forEach(t=>t.preload())}init(){this.sound.stopAll(),this.commandProcessor=new c,this.players=new Map,this.enemies=new Map,this.platforms=new Map,this.isPaused=!1,this.inputManager=new p(this,this.scene,this.input,this.commandProcessor),this.arthur=new S(this,"player1",600,100,500,"spritesheet-arthur"),this.lucy=new f(this,"player2",450,300,500,"spritesheet-lucy"),this.enemy1=new u(this,"enemy1",400,100,this.players),this.enemy2=new u(this,"enemy2",1200,100,this.players),this.enemy3=new u(this,"enemy3",2e3,100,this.players),this.enemy4=new u(this,"enemy4",2800,100,this.players),this.enemy5=new u(this,"enemy5",3500,100,this.players),this.camera=new y(this,this.players),this.enemies.set(this.enemy1.id,this.enemy1),this.enemies.set(this.enemy2.id,this.enemy2),this.enemies.set(this.enemy3.id,this.enemy3),this.enemies.set(this.enemy4.id,this.enemy4),this.enemies.set(this.enemy5.id,this.enemy5)}create(){this.music=this.sound.add("ambient"),this.music.play(),this.music.setVolume(.25),this.fondo=this.add.tileSprite(0,0,8e3,2e3,"fondo").setOrigin(0,0).setScrollFactor(.2).setScale(.3),this.arthur.create(),this.lucy.create(),this.players.set("player1",this.arthur),this.players.set("player2",this.lucy),this.inputManager.players=this.players,this.commandProcessor.players=this.players,this.enemies.forEach(t=>{t.create()}),this.setUpWorldCollisions(),this.setUpEnemyCollisions(),this.setUpReviveCollision(),this.physics.world.setBounds(0,0,4175,600),this.camera.camera.setBounds(0,0,4175,600),this.camera.camera.setLerp(.1,.1),this.connectionListener=t=>{!t.connected&&this.scene.isActive()&&this.onConnectionLost()},a.addListener(this.connectionListener)}setUpReviveCollision(){this.physics.add.overlap(this.players.get("player1").sprite,this.players.get("player2").sprite,()=>{this.players.get("player1").health<=0&&this.players.get("player2").health>0?this.players.get("player1").revive():this.players.get("player2").health<=0&&this.players.get("player1").health>0&&this.players.get("player2").revive()})}setUpWorldCollisions(){this.suelo1=new m(this,"s1",2500,590,5e3,40,"suelo"),this.plat1=new m(this,"p1",200,450,200,30,"p1"),this.plat2=new m(this,"p2",450,300,200,30,"p1"),this.suelo2=new m(this,"s2",1200,550,500,200,"p2"),this.col1=new m(this,"c1",700,450,70,300,"c1"),this.col2=new m(this,"c2",2200,450,70,400,"c1"),this.plat3=new m(this,"p3",1800,450,150,30,"p1"),this.plat4=new m(this,"p4",1500,300,150,30,"p1"),this.plat5=new m(this,"p5",2e3,200,150,30,"p1"),this.suelo3=new m(this,"s3",2200,550,230,100,"p2"),this.suelo4=new m(this,"s4",2800,500,550,250,"p2"),this.plat6=new m(this,"p6",3150,250,150,30,"p1"),this.plat7=new m(this,"p7",3500,250,150,30,"p1"),this.plat8=new m(this,"p8",3150,450,150,30,"p1"),this.suelo5=new m(this,"s5",4001,450,350,350,"p2"),this.platforms.set("s1",this.suelo1),this.platforms.set("p1",this.plat1),this.platforms.set("p2",this.plat2),this.platforms.set("s2",this.suelo2),this.platforms.set("c1",this.col1),this.platforms.set("c2",this.col2),this.platforms.set("p3",this.plat3),this.platforms.set("p4",this.plat4),this.platforms.set("p5",this.plat5),this.platforms.set("s3",this.suelo3),this.platforms.set("s4",this.suelo4),this.platforms.set("s5",this.suelo5),this.platforms.set("p6",this.plat6),this.platforms.set("p7",this.plat7),this.platforms.set("p8",this.plat8),this.platforms.forEach(t=>{this.players.forEach(e=>{this.physics.add.collider(e.sprite,t.sprite)}),this.enemies.forEach(e=>{this.physics.add.collider(e.sprite,t.sprite)})}),this.libreria=new m(this,"lib",4e3,208,100,150,"lib"),this.libreria.sprite.setDepth(2),this.physics.add.overlap(this.libreria.sprite,this.arthur.sprite,()=>{this.scene.stop(),this.scene.start("EndScene")})}setUpEnemyCollisions(){this.enemies.forEach(t=>{this.physics.add.collider(t.sprite,this.players.get("player1").sprite,()=>{t&&this.players.get("player1").health>0&&(this.players.get("player1").getHit(50),this.checkPlayerStatus())}),this.physics.add.collider(t.sprite,this.players.get("player2").sprite,()=>{t&&this.players.get("player2").health>0&&(this.players.get("player2").getHit(50),this.checkPlayerStatus())}),this.physics.add.overlap(t.sprite,this.arthur.light.colliderCircle,()=>{this.arthur.light.isOn&&t&&(t.setWeakened(!0),this.time.delayedCall(4e3,()=>{t&&t.setWeakened(!1)}))}),this.physics.add.overlap(t.sprite,this.players.get("player2").attackHitbox,()=>{t?.weakened&&this.players.get("player2").isAttacking&&(t.die(),t.isDead=!0,t=null)})})}checkPlayerStatus(){this.players.get("player1").health<=0&&this.players.get("player2").health<=0&&(n.updateClientDeaths(n.deaths+1),n.updateClientData({deaths:n.deaths}),this.scene.stop(),this.scene.start("GameScene"))}update(){this.fondo.tilePositionX=.2*this.cameras.main.scrollX,this.camera.update(),this.inputManager.update(),this.arthur.light.update(),this.enemies.forEach(t=>{t&&!t.isDead?t.update():this.enemies.delete(t.id)})}onConnectionLost(){this.scene.pause(),this.scene.launch("ConnectionLostScene",{previousScene:"GameScene"})}}class x extends s().Scene{constructor(){super("PauseScene")}create(t){this.input.keyboard.on("keydown-ESC",()=>{this.unpause(t.originalScene)}),this.add.rectangle(400,300,800,600,0,.7),this.add.text(400,100,"Menú de pausa",{fontSize:"48px",color:"#3e2606ff",backgroundColor:"#ffffff"}).setOrigin(.5);const e=this.add.text(400,250,"Continuar",{fontSize:"24px",color:"#3e2606ff",backgroundColor:"#ffffff"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerover",()=>e.setStyle({fill:"#00000037"})).on("pointerout",()=>e.setStyle({fill:"#000000"})).on("pointerdown",()=>{this.unpause(t.originalScene)}),s=this.sound.mute?"Activar Sonido":"Desactivar Sonido",i=this.add.text(400,400,s,{fontSize:"24px",color:"#3e2606ff",backgroundColor:"#ffffff"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerover",()=>i.setStyle({fill:"#00000037"})).on("pointerout",()=>i.setStyle({fill:"#000000"})).on("pointerdown",()=>{this.sound.mute=!this.sound.mute,i.setText(this.sound.mute?"Activar Sonido":"Desactivar Sonido")}),a=this.add.text(400,550,"Volver al Menu",{fontSize:"24px",color:"#3e2606ff",backgroundColor:"#ffffff"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerover",()=>a.setStyle({fill:"#00000037"})).on("pointerout",()=>a.setStyle({fill:"#000000"})).on("pointerdown",()=>{this.exitToMenu(t.originalScene)})}unpause(t){this.scene.stop(),this.scene.resume(t)}exitToMenu(t){this.scene.stop(t),this.sound.stopAll(),this.scene.start("MenuScene")}}class k extends s().Scene{constructor(){super("CreditsScene")}create(){this.add.text(400,100,"Juego desarrollado por:\n\nClaudia Porcuna: Interfaces y arte \nJavier Ruibal: Programación \nOscar Rodriguez: Arte y diseño \nMarcos Matutes: Programación \nFernando Pin: Sonido",{fontSize:"24px",color:"#ffffffff",align:"center"}).setOrigin(.5);const t=this.add.text(600,500,"Return",{fontSize:"24px",color:"#ffffffff",backgroundColor:"#000000ff"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerover",()=>t.setStyle({backgroundColor:"#737373ff"})).on("pointerout",()=>t.setStyle({backgroundColor:"#000000ff"})).on("pointerdown",()=>{this.scene.start("MenuScene")})}}class C{constructor(t,e,s,i,a=null,n){this.id=e,this.scene=t,this.xPos=s,this.yPos=i,this.currentAnim=null,this.isPlayer=n,this.animator=new d(t,a)}preload(t,e){this.animator.preload(t,e)}create(){this.sprite=this.animator.createSprite(this.xPos,this.yPos),this.isPlayer?(this.animator.createAnimation(`idle-${this.id}`,0,3,4),this.animator.createAnimation(`walk-${this.id}`,4,7,5),this.animator.createAnimation(`jump-${this.id}`,8,8,4,0),this.animator.createAnimation(`air-${this.id}`,9,10,1,0),this.animator.createAnimation(`fall-${this.id}`,10,10,1,0),this.animator.createAnimation(`attack-${this.id}`,12,13,2,0),this.sprite.setScale(.23)):(this.animator.createAnimation(`idle-${this.id}`,0,2,5),this.animator.createAnimation(`idle-white-${this.id}`,3,5,5),this.animator.createAnimation(`black-to-white-${this.id}`,6,8,8,0),this.animator.createAnimation(`white-to-black-${this.id}`,6,8,8,0),this.animator.createAnimation(`die-${this.id}`,9,11,8,0),this.sprite.setScale(.35)),this.sprite.setDepth(200),this.sprite.play(`idle-${this.id}`)}playAnim(t){this.currentAnim!==t&&(this.sprite.play(t,!0),this.currentAnim=t)}loopAnimationList(t,e=1e3){let s=0;this.scene.time.addEvent({delay:e,loop:!0,callback:()=>{this.playAnim(t[s]),s=(s+1)%t.length}})}}class v extends s().Scene{constructor(){super("IntroScene")}init(){this.arthur1=new C(this,"ca1",130,120,"spritesheet-arthur",!0),this.arthur2=new C(this,"ca2",340,120,"spritesheet-arthur",!0),this.arthur3=new C(this,"ca3",500,120,"spritesheet-arthur",!0),this.arthur4=new C(this,"ca4",650,120,"spritesheet-arthur",!0),this.lucy1=new C(this,"cl1",130,370,"spritesheet-lucy",!0),this.lucy2=new C(this,"cl2",340,370,"spritesheet-lucy",!0),this.lucy3=new C(this,"cl3",500,370,"spritesheet-lucy",!0),this.lucy4=new C(this,"cl4",650,370,"spritesheet-lucy",!0),this.puppets1=[this.arthur1,this.arthur2,this.arthur3,this.arthur4,this.lucy1,this.lucy2,this.lucy3,this.lucy4],this.enemy1=new C(this,"enemy1",300,90,"spritesheet-enemigo",!1),this.enemy2=new C(this,"enemy2",600,90,"spritesheet-enemigo",!1),this.enemy3=new C(this,"enemy3",300,340,"spritesheet-enemigo",!1),this.enemy4=new C(this,"enemy4",600,340,"spritesheet-enemigo",!1),this.puppets2=[this.enemy1,this.enemy2,this.enemy3,this.enemy4]}preload(){this.load.image("intro","assets/p1entrando.png"),this.load.image("intro2","assets/p1yp2.png"),this.load.image("controls","assets/ilustracionMecanicas.png"),this.load.image("combat","assets/ilustracionCombate.png"),this.load.image("mansion","assets/mansion.png"),this.load.image("lucyPeeking","assets/lucyPeeking.png"),this.puppets1.forEach(t=>t.preload(600,800)),this.puppets2.forEach(t=>t.preload(600,800))}create(){this.introText=["1953, Birmingham, Inglaterra, \nhace 27 años la familia Felton fue misteriosamente \nasesinada,\n nadie se ha atrevido a entrar en su mansión.","Hasta hoy. \n           \nArthur, dispuesto a resolver el caso\n se adentra en la sombría mansión.","Pero no está solo.\nAlgo le observa desde las sombras...\nO más bien,\nAlguien.","La fantasma resultó ser extrañamente amigable,\nOfreciéndose como guía y protectora\n en su investigacíon por la mansión."," "," "],this.textIndex=0,this.inProgress=!1,this.introImage0=this.add.image(400,200,"mansion"),this.introImage1=this.add.image(400,200,"intro"),this.introImageL=this.add.image(400,200,"lucyPeeking"),this.introImage2=this.add.image(400,200,"intro2"),this.controlsImage=this.add.image(400,270,"controls"),this.combatImage=this.add.image(400,270,"combat"),this.controlsImage.setScale(.9),this.combatImage.setScale(.9),this.cutsceneImages=[this.introImage1,this.introImageL,this.introImage2,this.controlsImage,this.combatImage],this.cutsceneImages.forEach(t=>t.setVisible(!1)),this.arthur1.create(),this.arthur1.playAnim("walk-ca1"),this.arthur1.sprite.flipX=!0,this.arthur2.create(),this.arthur2.playAnim("walk-ca2"),this.arthur2.sprite.flipX=!1,this.arthur3.create(),this.arthur3.loopAnimationList(["jump-ca3","air-ca3","fall-ca3"],300),this.arthur4.create(),this.arthur4.loopAnimationList(["idle-ca4","attack-ca4"],500),this.lucy1.create(),this.lucy1.playAnim("walk-cl1"),this.lucy1.sprite.flipX=!0,this.lucy2.create(),this.lucy2.playAnim("walk-cl2"),this.lucy2.sprite.flipX=!1,this.lucy3.create(),this.lucy3.loopAnimationList(["jump-cl3","air-cl3","fall-cl3"],300),this.lucy4.create(),this.lucy4.loopAnimationList(["idle-cl4","attack-cl4"],500),this.puppets1.forEach(t=>t.sprite.setVisible(!1)),this.enemy1.create(),this.enemy1.playAnim("idle-enemy1"),this.enemy2.create(),this.enemy2.playAnim("idle-white-enemy2"),this.enemy3.create(),this.enemy3.playAnim("idle-white-enemy3"),this.enemy4.create(),this.enemy4.loopAnimationList(["white-to-black-enemy4","die-enemy4"],500),this.puppets2.forEach(t=>t.sprite.setVisible(!1));const t=this.add.text(700,550,"Siguiente",{fontSize:"20px",color:"#ffffffff",backgroundColor:"#00000000"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerover",()=>t.setStyle({backgroundColor:"#737373ff"})).on("pointerout",()=>t.setStyle({backgroundColor:"#000000ff"})).on("pointerdown",()=>{switch(this.inProgress||this.nextText(),this.textIndex){case 1:this.introImage0.setVisible(!1),this.introImage1.setVisible(!0);break;case 2:this.introImage1.setVisible(!1),this.introImageL.setVisible(!0);break;case 3:this.introImageL.setVisible(!1),this.introImage2.setVisible(!0);break;case 4:this.introImage2.setVisible(!1),this.controlsImage.setVisible(!0),this.puppets1.forEach(t=>t.sprite.setVisible(!0));break;case 5:this.controlsImage.setVisible(!1),this.combatImage.setVisible(!0),this.puppets1.forEach(t=>t.sprite.setVisible(!1)),this.arthur4.sprite.setVisible(!0),this.arthur4.sprite.x=150,this.arthur4.sprite.y=100,this.lucy4.sprite.setVisible(!0),this.lucy4.sprite.x=150,this.lucy4.sprite.y=330,this.puppets2.forEach(t=>t.sprite.setVisible(!0));break;default:this.cutsceneImages.forEach(t=>t.setVisible(!1))}});this.text=this.add.text(400,460,"",{fontSize:"24px",color:"#ffffffff",align:"center"}).setOrigin(.5);const e=this.add.text(100,550,"Saltar",{fontSize:"20px",color:"#ffffffff",backgroundColor:"#00000000"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerover",()=>e.setStyle({backgroundColor:"#737373ff"})).on("pointerout",()=>e.setStyle({backgroundColor:"#000000ff"})).on("pointerdown",()=>{this.scene.start("GameScene")});this.showText()}showText(){this.textIndex<this.introText.length?this.textIn(this.introText[this.textIndex]):this.scene.start("GameScene")}textIn(t){this.inProgress=!0;let e=0;const s=()=>{e<t.length?(this.text.setText(t.substring(0,e+1)),e++,this.time.delayedCall(75,s)):this.inProgress=!1};s()}nextText(){this.textIndex++,this.showText()}}class I extends s().Scene{constructor(){super("EndScene")}preload(){this.load.image("p1","assets/p1p2foto.png"),this.load.image("p2","assets/p1p2Partido.png"),this.load.image("p3","assets/p1p2yfantasma.png"),this.load.image("p4","assets/p1p2eSCAPANDO.png")}create(){this.introText=["Arthur y Lucy hallan una vieja foto entre los \n polvorientos libros de la estantería.","De pronto, todo encaja en la mente de Arthur.\nSu obsesión sin sentido con el caso\n y la conexión con Lucy...\nella es...","Sin embargo, no hay tiempo para reflexiones.","Deben huir."],this.textIndex=0,this.inProgress=!1,this.endImage1=this.add.image(400,200,"p1"),this.endImage2=this.add.image(400,200,"p2"),this.endImage3=this.add.image(400,200,"p3"),this.endImage4=this.add.image(400,200,"p4"),this.endImages=[this.endImage2,this.endImage3,this.endImage4],this.endImages.forEach(t=>t.setVisible(!1));const t=this.add.text(700,550,"Siguiente",{fontSize:"20px",color:"#ffffffff",backgroundColor:"#000000ff"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerover",()=>t.setStyle({backgroundColor:"#737373ff"})).on("pointerout",()=>t.setStyle({backgroundColor:"#000000ff"})).on("pointerdown",()=>{switch(this.inProgress||this.nextText(),this.textIndex){case 1:this.endImage1.setVisible(!1),this.endImage2.setVisible(!0);break;case 2:this.endImage2.setVisible(!1),this.endImage3.setVisible(!0);break;case 3:this.endImage3.setVisible(!1),this.endImage4.setVisible(!0);break;case 4:this.endImage4.setVisible(!1)}});this.texto=this.add.text(400,460,"",{fontSize:"24px",color:"#ffffffff",align:"center"}).setOrigin(.5);const e=this.add.text(100,550,"Saltar",{fontSize:"20px",color:"#ffffffff",backgroundColor:"#00000000"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerover",()=>e.setStyle({backgroundColor:"#737373ff"})).on("pointerout",()=>e.setStyle({backgroundColor:"#000000ff"})).on("pointerdown",()=>{this.scene.start("GameScene2")});this.showText()}showText(){this.textIndex<this.introText.length?this.textIn(this.introText[this.textIndex]):this.scene.start("GameScene2")}textIn(t){this.inProgress=!0;let e=0;const s=()=>{e<t.length?(this.texto.setText(t.substring(0,e+1)),e++,this.time.delayedCall(75,s)):this.inProgress=!1};s()}nextText(){this.textIndex++,this.showText()}}class P extends s().Scene{constructor(){super("GameScene2")}preload(){this.arthur.preload(600,800),this.lucy.preload(600,800),this.load.audio("ambient","assets/sound/ambient-theme.mp3"),this.load.image("fondo","assets/FondoHorizontal.png"),this.load.image("p1","assets/props/plataforma1.png"),this.load.image("suelo","assets/props/suelo.png"),this.load.image("p2","assets/props/plataforma2.png"),this.load.image("c1","assets/props/columna1.png"),this.load.image("lib","assets/props/libreria.png"),this.enemies.forEach(t=>t.preload())}init(){this.sound.stopAll(),this.commandProcessor=new c,this.players=new Map,this.enemies=new Map,this.platforms=new Map,this.isPaused=!1,this.inputManager=new p(this,this.scene,this.input,this.commandProcessor),this.arthur=new S(this,"player1",600,100,500,"spritesheet-arthur"),this.lucy=new f(this,"player2",450,300,500,"spritesheet-lucy"),this.camera=new y(this,this.players)}create(){this.music=this.sound.add("ambient"),this.music.play(),this.music.setVolume(.25),this.fondo=this.add.tileSprite(0,0,8e3,2e3,"fondo").setOrigin(0,0).setScrollFactor(.2).setScale(.3),this.arthur.create(),this.lucy.create(),this.players.set("player1",this.arthur),this.players.set("player2",this.lucy),this.inputManager.players=this.players,this.enemies.forEach(t=>{t.create()}),this.setUpWorldCollisions(),this.setUpEnemyCollisions(),this.setUpReviveCollision(),this.physics.world.setBounds(0,0,4175,600),this.camera.camera.setBounds(0,0,4175,600),this.camera.camera.setLerp(.1,.1)}setUpReviveCollision(){this.physics.add.overlap(this.players.get("player1").sprite,this.players.get("player2").sprite,()=>{this.players.get("player1").health<=0&&this.players.get("player2").health>0?this.players.get("player1").revive():this.players.get("player2").health<=0&&this.players.get("player1").health>0&&this.players.get("player2").revive()})}setUpWorldCollisions(){this.suelo1=new m(this,"s1",2500,590,5e3,40,"suelo"),this.platforms.set("s1",this.suelo1),this.platforms.forEach(t=>{this.players.forEach(e=>{this.physics.add.collider(e.sprite,t.sprite)}),this.enemies.forEach(e=>{this.physics.add.collider(e.sprite,t.sprite)})})}setUpEnemyCollisions(){this.enemies.forEach(t=>{this.physics.add.collider(t.sprite,this.players.get("player1").sprite,()=>{t&&this.players.get("player1").health>0&&(this.players.get("player1").getHit(50),this.checkPlayerStatus())}),this.physics.add.collider(t.sprite,this.players.get("player2").sprite,()=>{t&&this.players.get("player2").health>0&&(this.players.get("player2").getHit(50),this.checkPlayerStatus())}),this.physics.add.overlap(t.sprite,this.arthur.light.colliderCircle,()=>{this.arthur.light.isOn&&t&&(t.setWeakened(!0),this.time.delayedCall(4e3,()=>{t&&t.setWeakened(!1)}))}),this.physics.add.overlap(t.sprite,this.players.get("player2").attackHitbox,()=>{t?.weakened&&this.players.get("player2").isAttacking&&(t.die(),t.isDead=!0,t=null)})})}checkPlayerStatus(){this.players.get("player1").health<=0&&this.players.get("player2").health<=0&&(this.scene.stop(),this.scene.start("GameScene"))}update(){this.fondo.tilePositionX=.2*this.cameras.main.scrollX,this.camera.update(),this.inputManager.update(),this.arthur.light.update(),this.enemies.forEach(t=>{t&&!t.isDead?t.update():this.enemies.delete(t.id)})}}class A extends s().Scene{constructor(){super("ConnectionLostScene"),this.reconnectCheckInterval=null}init(t){this.previousScene=t.previousScene}create(){this.add.rectangle(400,300,800,600,0,.8),this.add.text(400,200,"CONEXIÓN PERDIDA",{fontSize:"48px",color:"#ff0000",fontStyle:"bold"}).setOrigin(.5),this.statusText=this.add.text(400,300,"Intentando reconectar...",{fontSize:"24px",color:"#ffff00"}).setOrigin(.5),this.attemptCount=0,this.attemptText=this.add.text(400,350,"Intentos: 0",{fontSize:"18px",color:"#ffffff"}).setOrigin(.5),this.dotCount=0,this.time.addEvent({delay:2e3,callback:()=>{this.dotCount=(this.dotCount+1)%4;const t=".".repeat(this.dotCount);this.statusText.setText(`Intentando reconectar${t}`)},loop:!0}),this.connectionListener=t=>{t.connected&&this.onReconnected()},a.addListener(this.connectionListener),this.reconnectCheckInterval=setInterval(()=>{this.attemptReconnect()},2e3),this.attemptReconnect()}async attemptReconnect(){if(this.attemptCount++,this.attemptCount>30)return this.statusText.setText("No se pudo establecer la conexión"),void this.statusText.setColor("#ff0000");this.attemptText.setText(`Intentos: ${this.attemptCount}`),await a.checkConnection()}onReconnected(){this.reconnectCheckInterval&&clearInterval(this.reconnectCheckInterval),a.removeListener(this.connectionListener),this.statusText.setText("¡Conexión restablecida!"),this.statusText.setColor("#00ff00"),this.time.delayedCall(1e3,()=>{this.scene.stop(),this.previousScene&&this.scene.resume(this.previousScene)})}shutdown(){this.reconnectCheckInterval&&clearInterval(this.reconnectCheckInterval),this.connectionListener&&a.removeListener(this.connectionListener)}}s().Scene;class M extends Phaser.Scene{constructor(){super("MatchMakingScene"),this.ws=null}create(){const t=this.cameras.main.width,e=this.cameras.main.height;this.add.text(t/2,100,"Online Multiplayer",{fontSize:"48px",color:"#ffffffff"}).setOrigin(.5),this.statusText=this.add.text(t/2,e/2-50,"Connecting to server...",{fontSize:"24px",color:"#ffffffff"}).setOrigin(.5),this.playerCountText=this.add.text(t/2,e/2+20,"",{fontSize:"20px",color:"#ffffffff"}).setOrigin(.5);const s=this.add.text(t/2,e-100,"Cancel",{fontSize:"24px",color:"#ff6666fff",padding:{x:20,y:10}}).setOrigin(.5).setInteractive();s.on("pointerover",()=>{s.setColor("#ff0000ff")}),s.on("pointerout",()=>{s.setColor("#ff6666ff")}),s.on("pointerdown",()=>{this.leaveQueue(),this.scene.start("MenuScene")}),this.connectToServer()}connectToServer(){try{const t=`ws://${window.location.host}`;this.ws=new WebSocket(t),this.ws.onopen=()=>{console.log("Connected to WebSocket server"),this.statusText.setText("Waiting for opponent..."),this.ws.send(JSON.stringify({type:"joinQueue"}))},this.ws.onmessage=t=>{try{const e=JSON.parse(t.data);this.handleServerMessage(e)}catch(t){console.error("Error parsing server message:",t)}},this.ws.onerror=t=>{console.error("WebSocket error:",t),this.statusText.setText("Connection error!"),this.statusText.setColor("#ff0000ff")},this.ws.onclose=()=>{console.log("WebSocket connection closed"),this.scene.isActive("LobbyScene")&&(this.statusText.setText("Connection lost!"),this.statusText.setColor("#ff0000ff"))}}catch(t){console.error("Error connecting to server:",t),this.statusText.setText("Failed to connect!"),this.statusText.setColor("#ff0000ff")}}handleServerMessage(t){switch(t.type){case"queueStatus":this.playerCountText.setText(`Players in queue: ${t.position}/2`);break;case"gameStart":console.log("Game starting!",t),this.scene.start("MultiplayerScene",{ws:this.ws,playerRole:t.role,roomId:t.roomId});break;default:console.log("Unknown message type:",t.type)}}leaveQueue(){this.ws&&this.ws.readyState===WebSocket.OPEN&&(this.ws.send(JSON.stringify({type:"leaveQueue"})),this.ws.close())}shutdown(){this.leaveQueue()}}const O={type:s().AUTO,width:800,height:600,parent:"game-container",physics:{default:"arcade",arcade:{gravity:{x:0,y:1},debug:!0,debugShowBody:!1,debugShowStaticBody:!1}},dom:{createContainer:!0},scene:[r,M,k,i,v,w,class extends w{constructor(){super("MultiplayerScene")}preload(){super.preload()}init(t){super.init(),this.ws=t.ws,this.playerRole=t.playerRole,this.roomId=t.roomId,this.localPlayer=null,this.remotePlayer=null}create(){super.create(),this.setUpPlayers(),this.inputManager.setWebSocket(this.ws),this.inputManager.setPlayerRole(this.playerRole),this.inputManager.setUpInputs(),this.setupWebSocketListeners()}update(){super.update()}setUpPlayers(){"player1"===this.playerRole?(this.localPlayer=this.arthur,this.remotePlayer=this.lucy):(this.localPlayer=this.lucy,this.remotePlayer=this.arthur)}setupWebSocketListeners(){this.ws.onmessage=t=>{try{const e=JSON.parse(t.data);this.handleServerMessage(e)}catch(t){console.error("Error parsing server message:",t)}},this.ws.onclose=()=>{console.log("WebSocket connection closed"),this.handleDisconnection()},this.ws.onerror=t=>{console.error("WebSocket error:",t),this.handleDisconnection()}}handleServerMessage(t){switch(t.type){case"PlayerMovmentInputCommand":this.inputManager.updateRemotePlayerPosition(t);break;case"PlayerAttackCommand":console.log("MultiplayerScene received msg:",t),this.inputManager.updateRemotePlayerAttack(t);break;case"gameOver":break;case"playerDisconnected":this.handleDisconnection();break;default:console.log("Unknown message type:",t.type)}}handleDisconnection(){this.gameEnded=!0,this.physics.pause(),this.add.text(400,250,"Partner Disconnected",{fontSize:"48px",color:"#ff0000"}).setOrigin(.5),this.createMenuButton()}createMenuButton(){const t=this.add.text(400,400,"Return to Main Menu",{fontSize:"32px",color:"#ffffff"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerover",()=>t.setColor("#cccccc")).on("pointerout",()=>t.setColor("#ffffff")).on("pointerdown",()=>{this.ws&&this.ws.readyState===WebSocket.OPEN&&this.ws.close(),this.scene.start("MenuScene")})}shutdown(){this.ws&&this.ws.readyState===WebSocket.OPEN&&this.ws.close()}},x,I,P,A],backgroundColor:"#360246ff"};new(s().Game)(O)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYnVuZGxlLmpzIiwibWFwcGluZ3MiOiJtQkFDQSxJQUFJQSxFQUFzQixDQ0ExQkEsRUFBeUJDLElBQ3hCLElBQUlDLEVBQVNELEdBQVVBLEVBQU9FLFdBQzdCLElBQU9GLEVBQWlCLFFBQ3hCLElBQU0sRUFFUCxPQURBRCxFQUFvQkksRUFBRUYsRUFBUSxDQUFFRyxFQUFHSCxJQUM1QkEsR0NMUkYsRUFBd0IsQ0FBQ00sRUFBU0MsS0FDakMsSUFBSSxJQUFJQyxLQUFPRCxFQUNYUCxFQUFvQlMsRUFBRUYsRUFBWUMsS0FBU1IsRUFBb0JTLEVBQUVILEVBQVNFLElBQzVFRSxPQUFPQyxlQUFlTCxFQUFTRSxFQUFLLENBQUVJLFlBQVksRUFBTUMsSUFBS04sRUFBV0MsTUNKM0VSLEVBQXdCLENBQUNjLEVBQUtDLElBQVVMLE9BQU9NLFVBQVVDLGVBQWVDLEtBQUtKLEVBQUtDLElDQWxGLE1BQU0sRUFBK0JJLE8sYUNFOUIsTUFBTUMsVUFBcUIsVUFDOUIsV0FBQUMsR0FDSUMsTUFBTSxlQUNWLENBRUEsT0FBQUMsR0FDSUMsS0FBS0MsS0FBS0MsTUFBTSxhQUFjLCtCQUNsQyxDQUVBLE1BQUFDLENBQU9DLEdBRUhKLEtBQUtLLElBQUlDLFVBQVUsSUFBSyxJQUFLLElBQUssSUFBSyxHQUFVQyxVQUFVLElBRzNEUCxLQUFLSyxJQUFJRyxLQUFLLElBQUssSUFBSyxXQUFZLENBQ2hDQyxTQUFVLE9BQ1ZDLE1BQU8sWUFDUEMsVUFBVyxTQUNaSixVQUFVLElBR2IsTUFBTUssRUFBYVosS0FBS2EsTUFBTUMsS0FBTyxpQkFBbUIsb0JBQ2xEQyxFQUFZZixLQUFLSyxJQUFJRyxLQUFLLElBQUssSUFBS0ksRUFBWSxDQUNsREgsU0FBVSxPQUNWQyxNQUFPLFlBQ1BNLGdCQUFpQixZQUNqQkMsUUFBUyxDQUFFQyxFQUFHLEdBQUlDLEVBQUcsTUFDdEJaLFVBQVUsSUFDUmEsZUFBZSxDQUFFQyxlQUFlLElBRXJDTixFQUFVTyxHQUFHLGNBQWUsSUFBTVAsRUFBVVEsU0FBUyxDQUFFUCxnQkFBaUIsZUFDbkVNLEdBQUcsYUFBYyxJQUFNUCxFQUFVUSxTQUFTLENBQUVQLGdCQUFpQixlQUM3RE0sR0FBRyxjQUFlLEtBQ2Z0QixLQUFLYSxNQUFNQyxNQUFRZCxLQUFLYSxNQUFNQyxLQUM5QkMsRUFBVVMsUUFBUXhCLEtBQUthLE1BQU1DLEtBQU8saUJBQW1CLHVCQUkvRCxNQUFNVyxFQUFVekIsS0FBS0ssSUFBSUcsS0FBSyxJQUFLLElBQUssU0FBVSxDQUM5Q0MsU0FBVSxPQUNWQyxNQUFPLFlBQ1BNLGdCQUFpQixZQUNqQkMsUUFBUyxDQUFFQyxFQUFHLEdBQUlDLEVBQUcsTUFDdEJaLFVBQVUsSUFDUmEsZUFBZSxDQUFFQyxlQUFlLElBRXJDSSxFQUFRSCxHQUFHLGNBQWUsSUFBTUcsRUFBUUYsU0FBUyxDQUFFUCxnQkFBaUIsZUFDL0RNLEdBQUcsYUFBYyxJQUFNRyxFQUFRRixTQUFTLENBQUVQLGdCQUFpQixlQUMzRE0sR0FBRyxjQUFlLEtBQ2Z0QixLQUFLMEIsTUFBTUMsT0FDWDNCLEtBQUswQixNQUFNRSxPQUFPeEIsRUFBS3lCLGdCQUVuQyxFQ3NGRyxNQUFNQyxFQUFvQixJQXhJMUIsTUFDTCxXQUFBakMsR0FDRUcsS0FBSytCLGVBQWlCLEVBQ3RCL0IsS0FBS2dDLGFBQWMsRUFDbkJoQyxLQUFLaUMsY0FBZ0IsRUFDckJqQyxLQUFLa0MsY0FBZ0IsSUFDckJsQyxLQUFLbUMsVUFBWSxHQUNqQm5DLEtBQUtvQyxVQUFZcEMsS0FBS3FDLG9CQUN0QnJDLEtBQUtzQyxXQUFhLEtBR2xCdEMsS0FBS3VDLGNBQ1AsQ0FNQSxpQkFBQUYsR0FDRSxNQUFPLFdBQVdHLEtBQUtDLFNBQVNDLEtBQUtDLFNBQVNDLFNBQVMsSUFBSUMsT0FBTyxFQUFHLElBQ3ZFLENBTUEscUJBQU1DLEdBQ0osSUFDRSxNQUFNQyxRQUFpQkMsTUFBTSxpQkFBa0IsQ0FDN0NDLE9BQVEsT0FDUkMsUUFBUyxDQUNQLGVBQWdCLG9CQUVsQkMsS0FBTUMsS0FBS0MsVUFBVSxDQUNuQmpCLFVBQVdwQyxLQUFLb0MsY0FJcEIsR0FBSVcsRUFBU08sR0FBSSxDQUNmLE1BQU1sRCxRQUFhMkMsRUFBU1EsT0FRNUIsT0FQQXZELEtBQUsrQixlQUFpQjNCLEVBQUtvRCxVQUMzQnhELEtBQUtnQyxhQUFjLEVBQ25CaEMsS0FBS2lDLGNBQWdCTyxLQUFLQyxNQUcxQnpDLEtBQUt5RCxnQkFBZ0IsQ0FBRUQsV0FBVyxFQUFNRSxNQUFPMUQsS0FBSytCLGlCQUU3QyxDQUFFeUIsVUFBV3hELEtBQUsrQixlQUFnQjRCLFNBQVMsRUFDcEQsQ0FFRSxPQURBM0QsS0FBSzRELHNCQUNFLENBQUVKLFVBQVcsRUFBR0csU0FBUyxFQUVwQyxDQUFFLE1BQU9FLEdBR1AsT0FGQUMsUUFBUUQsTUFBTSw2QkFBOEJBLEdBQzVDN0QsS0FBSzRELHNCQUNFLENBQUVKLFVBQVcsRUFBR0csU0FBUyxFQUNsQyxDQUNGLENBS0EsbUJBQUFDLEdBQ0U1RCxLQUFLZ0MsYUFBYyxFQUNuQmhDLEtBQUsrQixlQUFpQixFQUN0Qi9CLEtBQUt5RCxnQkFBZ0IsQ0FBRUQsV0FBVyxFQUFPRSxNQUFPLEdBQ2xELENBTUEsV0FBQUssQ0FBWUMsR0FDVmhFLEtBQUttQyxVQUFVOEIsS0FBS0QsRUFDdEIsQ0FNQSxjQUFBRSxDQUFlRixHQUNiLE1BQU1HLEVBQVFuRSxLQUFLbUMsVUFBVWlDLFFBQVFKLEdBQ2pDRyxHQUFTLEdBQ1huRSxLQUFLbUMsVUFBVWtDLE9BQU9GLEVBQU8sRUFFakMsQ0FNQSxlQUFBVixDQUFnQnJELEdBQ2RKLEtBQUttQyxVQUFVbUMsUUFBUUMsR0FBWUEsRUFBU25FLEdBQzlDLENBTUEsU0FBQW9FLEdBQ0UsTUFBTyxDQUNMeEMsWUFBYWhDLEtBQUtnQyxZQUNsQkQsZUFBZ0IvQixLQUFLK0IsZUFDckJFLGNBQWVqQyxLQUFLaUMsY0FFeEIsQ0FLQSxZQUFBTSxHQUNNdkMsS0FBS3NDLGFBS1R0QyxLQUFLOEMsa0JBR0w5QyxLQUFLc0MsV0FBYW1DLFlBQVksS0FDNUJ6RSxLQUFLOEMsbUJBQ0o5QyxLQUFLa0MsZUFDVixDQUtBLFdBQUF3QyxHQUNNMUUsS0FBS3NDLGFBQ1BxQyxjQUFjM0UsS0FBS3NDLFlBQ25CdEMsS0FBS3NDLFdBQWEsS0FFdEIsR0M3RUssSUFBSXNDLEVBQW9CLElBM0R4QixNQUVILFdBQUEvRSxHQUNJRyxLQUFLNkUsUUFBS0MsRUFDVjlFLEtBQUsrRSxVQUFPRCxFQUNaOUUsS0FBS2dGLE9BQVMsQ0FDbEIsQ0FFQSxzQkFBTUMsQ0FBaUJDLEdBQ25CLE1BQU1uQyxRQUFpQkMsTUFBTSxjQUFjaEQsS0FBSzZFLEtBQU0sQ0FDbEQ1QixPQUFRLE1BQ1JDLFFBQVMsQ0FDTCxlQUFnQixvQkFFcEJDLEtBQU1DLEtBQUtDLFVBQVU2QixLQUd6QixhQUFhbkMsRUFBU1EsTUFDMUIsQ0FFQSxxQkFBTTRCLEdBQ0YsSUFDSSxNQUFNcEMsUUFBaUJDLE1BQU0sY0FBY2hELEtBQUs2RSxNQUNoRCxJQUFLOUIsRUFBU08sR0FBSSxNQUFNLElBQUk4QixNQUFNLCtCQUVsQyxhQURtQnJDLEVBQVNRLFFBQ2hCeUIsTUFDaEIsQ0FBRSxNQUFPbkIsR0FFTCxNQURBQyxRQUFRRCxNQUFNLDJCQUE0QkEsR0FDcENBLENBQ1YsQ0FDSixDQUVBLHdCQUFNd0IsQ0FBbUJMLEdBQ3JCaEYsS0FBS2dGLE9BQVNBLENBQ2xCLENBRUEsZUFBTU0sR0FDRixNQUFNdkMsUUFBaUJDLE1BQU0sYUFBYyxDQUN2Q0MsT0FBUSxPQUNSQyxRQUFTLENBQ0wsZUFBZ0Isb0JBRXBCQyxLQUFNQyxLQUFLQyxVQUFVLENBQ2pCd0IsR0FBSTdFLEtBQUs2RSxHQUNURSxLQUFNL0UsS0FBSytFLEtBQ1hDLE9BQVFoRixLQUFLZ0YsV0FHckIsR0FBSWpDLEVBQVNPLEdBQUksQ0FDYixNQUFNbEQsUUFBYTJDLEVBQVNRLE9BQzVCdkQsS0FBSzZFLEdBQUt6RSxFQUFLeUUsR0FDZjdFLEtBQUtnRixPQUFTNUUsRUFBSzRFLE1BQ3ZCLENBQ0EsT0FBT2pDLEVBQVN3QyxNQUNwQixHQ2xERyxNQUFNQyxVQUFrQixVQUMzQixXQUFBM0YsR0FDSUMsTUFBTSxZQUNWLENBR0EsT0FBQUMsR0FDSUMsS0FBS0MsS0FBS3dGLE1BQU0sUUFBUywrQkFDekJ6RixLQUFLQyxLQUFLQyxNQUFNLGFBQWMsNEJBRTlCRixLQUFLQyxLQUFLQyxNQUFNLE1BQU8sMEJBQ3ZCRixLQUFLQyxLQUFLQyxNQUFNLE1BQU8sNkJBQ3ZCRixLQUFLQyxLQUFLQyxNQUFNLE1BQU8sNEJBQ3ZCRixLQUFLQyxLQUFLQyxNQUFNLE1BQU8sNEJBQ3ZCRixLQUFLQyxLQUFLQyxNQUFNLE1BQU8seUJBQ3ZCRixLQUFLQyxLQUFLQyxNQUFNLE9BQVEsc0NBQ3hCRixLQUFLQyxLQUFLQyxNQUFNLEtBQU0sMEJBQ3RCRixLQUFLQyxLQUFLQyxNQUFNLEtBQU0sMEJBQ3RCRixLQUFLQyxLQUFLQyxNQUFNLFNBQVUseUJBQzlCLENBRUEsTUFBQUMsR0FDSUgsS0FBS0ssSUFBSUgsTUFBTSxJQUFLLElBQUssY0FDckJLLFVBQVUsSUFDZFAsS0FBS0ssSUFBSUgsTUFBTSxHQUFJLEdBQUksT0FDbkJLLFVBQVUsR0FFZFAsS0FBSzBGLFlBQWMxRixLQUFLSyxJQUFJSCxNQUFNLElBQUssSUFBSyxPQUN4Q0ssVUFBVSxHQUNWYSxlQUFlLENBQUVDLGVBQWUsSUFDaENDLEdBQUcsY0FBZSxLQUNkdEIsS0FBSzJGLGlCQUdiM0YsS0FBSzRGLGNBQWdCNUYsS0FBS0ssSUFBSUgsTUFBTSxJQUFLLElBQUssT0FDMUNLLFVBQVUsR0FDVmEsZUFBZSxDQUFFQyxlQUFlLElBQ2hDQyxHQUFHLGNBQWUsS0FDZHRCLEtBQUswQixNQUFNbUUsTUFBTSxrQkFHekI3RixLQUFLOEYsY0FBZ0I5RixLQUFLSyxJQUFJSCxNQUFNLElBQUssSUFBSyxPQUMxQ0ssVUFBVSxHQUNWYSxlQUFlLENBQUVDLGVBQWUsSUFDaENDLEdBQUcsY0FBZSxLQUNkdEIsS0FBSzBCLE1BQU1xRSxPQUFPLGVBQWdCLENBQUVsRSxjQUFlLGdCQUczRDdCLEtBQUtnRyxXQUFhaEcsS0FBS0ssSUFBSUgsTUFBTSxJQUFLLElBQUssT0FDdkNLLFVBQVUsR0FDVmEsZUFBZSxDQUFFQyxlQUFlLElBQ2hDQyxHQUFHLGNBQWUsS0FDZHRCLEtBQUtpRyxLQUFLQyxTQUFRLEdBQ2xCQyxPQUFPQyxVQUtmcEcsS0FBS3FHLFFBQVUsQ0FBQ3JHLEtBQUswRixZQUFhMUYsS0FBSzRGLGNBQWU1RixLQUFLOEYsY0FBZTlGLEtBQUtnRyxZQUMvRWhHLEtBQUtzRyxNQUFRdEcsS0FBS2EsTUFBTVIsSUFBSSxTQUM1QkwsS0FBS3NHLE1BQU1DLE9BQ1h2RyxLQUFLc0csTUFBTUUsVUFBVSxHQXVEckJ4RyxLQUFLeUcsZUFBaUJ6RyxLQUFLSyxJQUFJRyxLQUFLLElBQUssSUFBSywyQkFBNEIsQ0FDdEVDLFNBQVUsT0FDVkMsTUFBTyxZQUNSSCxVQUFVLElBR2JQLEtBQUswRyxtQkFBc0J0RyxJQUN2QkosS0FBSzJHLHdCQUF3QnZHLElBRWpDMEIsRUFBa0JpQyxZQUFZL0QsS0FBSzBHLG9CQXFCbkMxRyxLQUFLNEcsVUFBWTVHLEtBQUtLLElBQUlHLEtBQUssSUFBSyxJQUFLLGVBQWdCLENBQ3JEQyxTQUFVLE9BQ1ZDLE1BQU8sWUFDUkgsVUFBVSxJQUNSYSxlQUFlLENBQUVDLGVBQWUsSUFDaENDLEdBQUcsY0FBZSxJQUFNdEIsS0FBSzRHLFVBQVVyRixTQUFTLENBQUVQLGdCQUFpQixlQUNuRU0sR0FBRyxhQUFjLElBQU10QixLQUFLNEcsVUFBVXJGLFNBQVMsQ0FBRVAsZ0JBQWlCLGVBQ2xFTSxHQUFHLGNBQWUsS0FDZnRCLEtBQUswQixNQUFNbUUsTUFBTSxxQkFJN0IsQ0FJQSxZQUFBRixHQUdJM0YsS0FBS3FHLFFBQVEvQixRQUFRdUMsR0FBT0EsRUFBSUMscUJBR2hDLE1BQU1DLEVBQUsvRyxLQUFLSyxJQUFJSCxNQUFNLElBQUssSUFBSyxRQUMvQjhHLFNBQVMsSUFHUkMsRUFBT2pILEtBQUtLLElBQUlILE1BQU0sSUFBSyxJQUFLLE1BQ2pDOEcsU0FBUyxJQUNUNUYsZUFBZSxDQUFFQyxlQUFlLElBQ2hDQyxHQUFHLGNBQWUsS0FDZnRCLEtBQUtrSCxjQUFjLENBQUNILEVBQUlFLEVBQU1FLEVBQU1DLElBQ3BDcEgsS0FBSzBCLE1BQU1tRSxNQUFNLGdCQUluQnNCLEVBQU9uSCxLQUFLSyxJQUFJSCxNQUFNLElBQUssSUFBSyxNQUNqQzhHLFNBQVMsSUFDVDVGLGVBQWUsQ0FBRUMsZUFBZSxJQUNoQ0MsR0FBRyxjQUFlLEtBQ2Z0QixLQUFLa0gsY0FBYyxDQUFDSCxFQUFJRSxFQUFNRSxFQUFNQyxJQUNwQ3BILEtBQUswQixNQUFNbUUsTUFBTSxjQUduQnVCLEVBQVlwSCxLQUFLSyxJQUFJSCxNQUFNLElBQUssSUFBSyxVQUN0QzhHLFNBQVMsSUFDVDVGLGVBQWUsQ0FBRUMsZUFBZSxJQUNoQ0MsR0FBRyxjQUFlLEtBQ2Z0QixLQUFLa0gsY0FBYyxDQUFDSCxFQUFJRSxFQUFNRSxFQUFNQyxLQUVoRCxDQUVBLGFBQUFGLENBQWNHLEdBR1ZBLEVBQVMvQyxRQUFRZ0QsR0FBS0EsRUFBRXBCLFdBR3hCbEcsS0FBS3FHLFFBQVEvQixRQUFRdUMsR0FBT0EsRUFBSXpGLGVBQWUsQ0FBRUMsZUFBZSxJQUNwRSxDQUVBLHVCQUFBc0YsQ0FBd0J2RyxHQUVwQixHQUFLSixLQUFLeUcsZ0JBQW1CekcsS0FBSzBCLE9BQVUxQixLQUFLMEIsTUFBTTZGLFNBQVMsYUFJaEUsSUFDUW5ILEVBQUtvRCxXQUNMeEQsS0FBS3lHLGVBQWVqRixRQUFRLGFBQWFwQixFQUFLc0QsaUNBQzlDMUQsS0FBS3lHLGVBQWVlLFNBQVMsYUFFN0J4SCxLQUFLeUcsZUFBZWpGLFFBQVEsMEJBQzVCeEIsS0FBS3lHLGVBQWVlLFNBQVMsV0FFckMsQ0FBRSxNQUFPM0QsR0FDTEMsUUFBUUQsTUFBTSxpREFBa0RBLEVBQ3BFLENBQ0osQ0FFQSxRQUFBNEQsR0FFUXpILEtBQUswRyxvQkFDTDVFLEVBQWtCb0MsZUFBZWxFLEtBQUswRyxtQkFFOUMsRUMxT0csTUFBTWdCLEVBQ1QsT0FBQUMsR0FHQSxDQUVBLFNBQUFDLEdBRUksTUFBTyxDQUFDLENBQ1osQ0FFQSxTQUFBQyxHQUVJLE9BQU8sSUFDWCxFQ1pHLE1BQU1DLFVBQWtDSixFQUMzQyxXQUFBN0gsQ0FBWWtJLEVBQVFDLEdBQ2hCbEksUUFDQUUsS0FBSytILE9BQVNBLEVBQ2QvSCxLQUFLZ0ksT0FBU0EsQ0FDbEIsQ0FFQSxPQUFBTCxHQUVJLE1BQU1JLEVBQVMvSCxLQUFLK0gsT0FHQSxPQUFoQi9ILEtBQUtnSSxRQUNMRCxFQUFPRSxPQUlTLFNBQWhCakksS0FBS2dJLFFBQXFDLFVBQWhCaEksS0FBS2dJLE9BTWYsU0FBaEJoSSxLQUFLZ0ksUUFDTEQsRUFBT0csT0FOUEgsRUFBT0ksZUFBZW5JLEtBQUtnSSxPQVNuQyxDQUdBLFNBQUFKLEdBQ0ksTUFBTyxDQUNIUSxLQUFNLDRCQUNOQyxTQUFVckksS0FBSytILE9BQU9sRCxHQUN0Qm1ELE9BQVFoSSxLQUFLZ0ksT0FFckIsQ0FFQSxTQUFBSCxHQUNJLE9BQU83SCxLQUFLK0gsTUFDaEIsRUN4Q0csTUFBTU8sVUFBNEJaLEVBQ3JDLFdBQUE3SCxDQUFZa0ksR0FDUmpJLFFBQ0FFLEtBQUsrSCxPQUFTQSxDQUNsQixDQUVBLE9BQUFKLEdBQ0kzSCxLQUFLK0gsT0FBT1EsUUFDaEIsQ0FFQSxTQUFBWCxHQUNJLE1BQU8sQ0FDSFEsS0FBTSxzQkFDTkMsU0FBVXJJLEtBQUsrSCxPQUFPbEQsR0FFOUIsQ0FFQSxTQUFBZ0QsR0FDSSxPQUFPN0gsS0FBSytILE1BQ2hCLEVDbkJHLE1BQU1TLEVBQ1QsV0FBQTNJLEdBQ0lHLEtBQUt5SSxRQUFVLElBQUlDLEdBQ3ZCLENBR0EsT0FBQUMsQ0FBUUMsR0FDSkEsRUFBUWpCLFNBQ1osQ0FFQSxjQUFBa0IsQ0FBZXpJLEdBQ0lKLEtBQUt5SSxRQUFRcEosSUFBSWUsRUFBS2lJLFVBQXJDLE1BRU1PLEVBQVU1SSxLQUFLOEksWUFBWTFJLEdBQzdCd0ksR0FDQUEsRUFBUWpCLFNBRWhCLENBRUEsV0FBQW1CLENBQVkxSSxHQUVSLE1BQU0ySCxFQUFTL0gsS0FBS3lJLFFBQVFwSixJQUFJZSxFQUFLaUksVUFDckMsT0FBUWpJLEVBQUtnSSxNQUNULElBQUssNEJBQ0QsT0FBS0wsRUFJRSxJQUFJRCxFQUEwQkMsRUFBUTNILEVBQUs0SCxTQUg5Q2xFLFFBQVFpRixLQUFLLDRCQUE0QjNJLEVBQUtpSSxZQUN2QyxNQUdmLElBQUssc0JBQ0QsT0FBS04sRUFJRSxJQUFJTyxFQUFvQlAsSUFIM0JqRSxRQUFRaUYsS0FBSyw0QkFBNEIzSSxFQUFLaUksWUFDdkMsTUFHZixRQUVJLE9BREF2RSxRQUFRaUYsS0FBSyx1QkFBd0IzSSxFQUFLZ0ksTUFDbkMsS0FFbkIsRUNuQ0csTUFBTVksRUFFVCxXQUFBbkosQ0FBWTZCLEVBQU91SCxFQUFjQyxFQUFPQyxFQUFrQkMsRUFBYSxLQUFNQyxFQUFLLE1BQzlFckosS0FBS21KLGlCQUFtQixJQUFJWCxFQUM1QnhJLEtBQUswQixNQUFRQSxFQUNiMUIsS0FBS2lKLGFBQWVBLEVBQ3BCakosS0FBS2tKLE1BQVFBLEVBQ2JsSixLQUFLbUosaUJBQW1CQSxFQUN4Qm5KLEtBQUt5SSxRQUFVLElBQUlDLElBQ25CMUksS0FBS3NKLGNBQWdCLEdBQ3JCdEosS0FBS3VKLFVBQVcsRUFHaEJ2SixLQUFLb0osV0FBYUEsRUFDbEJwSixLQUFLcUosR0FBS0EsRUFDVnJKLEtBQUt3SixhQUNULENBRUEsV0FBQUEsR0FDSXhKLEtBQUt5SSxRQUFVekksS0FBSzBCLE1BQU0rRyxRQUNyQnpJLEtBQUtvSixXQUdOcEosS0FBS3lKLGtCQUFrQnpKLEtBQUtvSixZQUY1QnBKLEtBQUswSixrQkFJYixDQUVBLFlBQUFDLENBQWFOLEdBQ1RySixLQUFLcUosR0FBS0EsQ0FDZCxDQUVBLGFBQUFPLENBQWNDLEdBQ1Y3SixLQUFLb0osV0FBYVMsQ0FDdEIsQ0FFQSxnQkFBQUgsR0FFSTFKLEtBQUtrSixNQUFNWSxTQUFTeEksR0FBRyxjQUFlLEtBQ2xDdEIsS0FBSytKLFVBSVQvSixLQUFLa0osTUFBTVksU0FBU3hJLEdBQUcsWUFBYSxLQUVoQ3RCLEtBQUt5SSxRQUFRcEosSUFBSSxXQUFXa0osV0FzQmhDdkksS0FBS3NKLGNBbkJlLENBQ2hCLENBQ0lqQixTQUFVLFVBQ1YyQixRQUFTLElBQ1RDLFNBQVUsSUFDVkMsTUFBTyxJQUNQQyxRQUFTLElBQ1RDLFVBQVcsS0FFZixDQUNJL0IsU0FBVSxVQUNWMkIsUUFBUyxPQUNUQyxTQUFVLFFBQ1ZDLE1BQU8sS0FDUEMsUUFBUyxPQUNUQyxVQUFXLFVBS25CcEssS0FBS3NKLGNBQWdCdEosS0FBS3NKLGNBQWNlLElBQUlDLElBQ2pDLENBQ0hqQyxTQUFVaUMsRUFBT2pDLFNBQ2pCa0MsV0FBWXZLLEtBQUtrSixNQUFNWSxTQUFTVSxPQUFPLFVBQWFDLFNBQVNDLFNBQVNKLEVBQU9OLFVBQzdFVyxZQUFhM0ssS0FBS2tKLE1BQU1ZLFNBQVNVLE9BQU8sVUFBYUMsU0FBU0MsU0FBU0osRUFBT0wsV0FDOUVXLFNBQVU1SyxLQUFLa0osTUFBTVksU0FBU1UsT0FBTyxVQUFhQyxTQUFTQyxTQUFTSixFQUFPSixRQUMzRVcsV0FBWTdLLEtBQUtrSixNQUFNWSxTQUFTVSxPQUFPLFVBQWFDLFNBQVNDLFNBQVNKLEVBQU9ILFVBQzdFVyxhQUFjOUssS0FBS2tKLE1BQU1ZLFNBQVNVLE9BQU8sVUFBYUMsU0FBU0MsU0FBU0osRUFBT0YsY0FHM0YsQ0FFQSxpQkFBQVgsQ0FBa0JMLEdBRWRwSixLQUFLa0osTUFBTVksU0FBU3hJLEdBQUcsY0FBZSxLQUNsQ3RCLEtBQUsrSixVQUlULE1BQU1nQixFQUFjLENBQ2hCLENBQ0kxQyxTQUFVZSxFQUNWWSxRQUFTLElBQ1RDLFNBQVUsSUFDVkMsTUFBTyxJQUNQQyxRQUFTLElBQ1RDLFVBQVcsTUFJbkJwSyxLQUFLc0osY0FBZ0J5QixFQUNyQi9LLEtBQUtzSixjQUFnQnRKLEtBQUtzSixjQUFjZSxJQUFJQyxJQUNqQyxDQUNIakMsU0FBVWlDLEVBQU9qQyxTQUNqQmtDLFdBQVl2SyxLQUFLa0osTUFBTVksU0FBU1UsT0FBTyxVQUFhQyxTQUFTQyxTQUFTSixFQUFPTixVQUM3RVcsWUFBYTNLLEtBQUtrSixNQUFNWSxTQUFTVSxPQUFPLFVBQWFDLFNBQVNDLFNBQVNKLEVBQU9MLFdBQzlFVyxTQUFVNUssS0FBS2tKLE1BQU1ZLFNBQVNVLE9BQU8sVUFBYUMsU0FBU0MsU0FBU0osRUFBT0osUUFDM0VXLFdBQVk3SyxLQUFLa0osTUFBTVksU0FBU1UsT0FBTyxVQUFhQyxTQUFTQyxTQUFTSixFQUFPSCxVQUM3RVcsYUFBYzlLLEtBQUtrSixNQUFNWSxTQUFTVSxPQUFPLFVBQWFDLFNBQVNDLFNBQVNKLEVBQU9GLGNBRzNGLENBRUEsS0FBQUwsR0FDSS9KLEtBQUtpSixhQUFhbEQsT0FBTyxhQUFjLENBQUVsRSxjQUFlLGNBQ3hEN0IsS0FBS2lKLGFBQWFjLE1BQU0sYUFDeEIvSixLQUFLdUosVUFBVyxDQUNwQixDQUVBLE1BQUF5QixHQUVJaEwsS0FBS3NKLGNBQWNoRixRQUFRMkcsSUFDdkIsSUFBSWxELEVBQVMvSCxLQUFLeUksUUFBUXBKLElBQUlXLEtBQUtvSixZQUNuQ3JCLEVBQU9sRCxHQUFLN0UsS0FBS29KLFdBRWpCLElBQUk4QixFQUFlLElBQUl4RCxFQW1CdkIsR0FmSXdELEVBREFELEVBQVFMLFNBQVNPLE9BQ0YsSUFBSXJELEVBQTBCQyxFQUFRLE1BSWhEa0QsRUFBUVYsV0FBV1ksT0FDVCxJQUFJckQsRUFBMEJDLEVBQVEsUUFDOUNrRCxFQUFRTixZQUFZUSxPQUNaLElBQUlyRCxFQUEwQkMsRUFBUSxTQUV0QyxJQUFJRCxFQUEwQkMsRUFBUSxRQUd6RC9ILEtBQUttSixpQkFBaUJSLFFBQVF1QyxHQUM5QmxMLEtBQUtvTCxZQUFZRixFQUFhdEQsYUFFMUJxRCxFQUFRSCxhQUFhSyxPQUFRLENBQzdCLElBQUlFLEVBQWdCLElBQUkvQyxFQUFvQlAsR0FDNUMvSCxLQUFLbUosaUJBQWlCUixRQUFRMEMsR0FDOUJyTCxLQUFLb0wsWUFBWUMsRUFBY3pELFlBQ25DLEdBSVIsQ0FFQSxXQUFBd0QsQ0FBWUUsR0FDSnRMLEtBQUtxSixJQUFNckosS0FBS3FKLEdBQUdrQyxhQUFlQyxVQUFVQyxNQUM1QzNILFFBQVE0SCxJQUFJLG1CQUFvQkosR0FDaEN0TCxLQUFLcUosR0FBR3NDLEtBQUt2SSxLQUFLQyxVQUFVaUksS0FFNUJ4SCxRQUFRaUYsS0FBSywyQ0FBNEN1QyxFQUVqRSxDQUVBLDBCQUFBTSxDQUEyQnhMLEdBQ0wsOEJBQWRBLEVBQUtnSSxNQUVMcEksS0FBS21KLGlCQUFpQk4sZUFBZXpJLEVBRTdDLENBRUEsd0JBQUF5TCxDQUF5QnpMLEdBQ0gsd0JBQWRBLEVBQUtnSSxPQUNMdEUsUUFBUTRILElBQUksa0RBQW1EdEwsR0FDL0RKLEtBQUttSixpQkFBaUJOLGVBQWV6SSxHQUU3QyxFQ2xMRyxNQUFNMEwsRUFFVCxXQUFBak0sQ0FBWTZCLEVBQU9xSyxHQUNmL0wsS0FBSzBCLE1BQVFBLEVBQ2IxQixLQUFLK0wscUJBQXVCQSxDQUNoQyxDQUdBLE9BQUFoTSxDQUFRaU0sRUFBWUMsR0FDaEJqTSxLQUFLMEIsTUFBTXpCLEtBQUtpTSxZQUFZbE0sS0FBSytMLHFCQUM3QixrQkFBa0IvTCxLQUFLK0wsMkJBQ3ZCLENBQUVDLFdBQVlBLEVBQVlDLFlBQWFBLEdBQy9DLENBRUEsZUFBQUUsQ0FBZ0JuTixFQUFLb04sRUFBWUMsRUFBVUMsRUFBV0MsR0FBUyxHQUMzRHZNLEtBQUswQixNQUFNOEssTUFBTXJNLE9BQU8sQ0FDcEJuQixJQUFLQSxFQUNMeU4sT0FBUXpNLEtBQUswQixNQUFNOEssTUFBTUUscUJBQXFCMU0sS0FBSytMLHFCQUFzQixDQUFFbEcsTUFBT3VHLEVBQVlPLElBQUtOLElBQ25HQyxVQUFXQSxFQUNYQyxPQUFRQSxHQUVoQixDQUVBLG9CQUFBSyxDQUFxQjFMLEVBQUdDLEdBQ3BCLE9BQU9uQixLQUFLMEIsTUFBTW1MLFFBQVF4TSxJQUFJeU0sT0FBTzVMLEVBQUdDLEVBQUduQixLQUFLK0wscUJBQ3BELENBRUEsWUFBQWdCLENBQWE3TCxFQUFHQyxHQUNaLE9BQU9uQixLQUFLMEIsTUFBTXJCLElBQUl5TSxPQUFPNUwsRUFBR0MsRUFBR25CLEtBQUsrTCxxQkFDNUMsRUMzQkcsTUFBTWlCLEVBQ1QsV0FBQW5OLENBQVk2QixFQUFPbUQsRUFBSTNELEVBQUdDLEVBQUdzSCxHQUN6QnpJLEtBQUswQixNQUFRQSxFQUNiMUIsS0FBS2tCLEVBQUlBLEVBQ1RsQixLQUFLbUIsRUFBSUEsRUFDVG5CLEtBQUt5SSxRQUFVQSxFQUNmekksS0FBSzZFLEdBQUtBLEVBQ1Y3RSxLQUFLaU4sV0FBYSxJQUNsQmpOLEtBQUtrTixVQUFZLElBQ2pCbE4sS0FBS21OLFVBQVksSUFDakJuTixLQUFLb04sUUFBUyxFQUVkcE4sS0FBS3FOLFVBQVcsRUFFaEJyTixLQUFLc04sU0FBVyxJQUFJeEIsRUFBUzlMLEtBQUswQixNQUFPLHNCQUM3QyxDQUVBLE9BQUEzQixHQUNJQyxLQUFLc04sU0FBU3ZOLFFBQVEsSUFBSyxJQUMvQixDQUVBLE1BQUFJLEdBRUlILEtBQUs4TSxPQUFTOU0sS0FBS3NOLFNBQVNWLHFCQUFxQjVNLEtBQUtrQixFQUFHbEIsS0FBS21CLEdBQzlEbkIsS0FBS3NOLFNBQVNuQixnQkFBZ0IsY0FBY25NLEtBQUs2RSxLQUFNLEVBQUcsRUFBRyxHQUM3RDdFLEtBQUtzTixTQUFTbkIsZ0JBQWdCLGNBQWNuTSxLQUFLNkUsS0FBTSxFQUFHLEVBQUcsR0FDN0Q3RSxLQUFLc04sU0FBU25CLGdCQUFnQixrQkFBa0JuTSxLQUFLNkUsS0FBTSxFQUFHLEVBQUcsRUFBRSxHQUNuRTdFLEtBQUtzTixTQUFTbkIsZ0JBQWdCLGtCQUFrQm5NLEtBQUs2RSxLQUFNLEVBQUcsRUFBRyxFQUFFLEdBQ25FN0UsS0FBS3NOLFNBQVNuQixnQkFBZ0IsT0FBT25NLEtBQUs2RSxLQUFNLEVBQUcsR0FBSSxFQUFFLEdBRXpEN0UsS0FBSzhNLE9BQU94TCxHQUFHLG9CQUFzQmlNLElBQzdCQSxFQUFLdk8sTUFBUSxPQUFPZ0IsS0FBSzZFLE1BQ3pCN0UsS0FBSzhNLE9BQU81RyxZQUlwQmxHLEtBQUs4TSxPQUFPVSx1QkFBc0IsR0FDbEN4TixLQUFLOE0sT0FBTzNKLEtBQUtzSyxjQUFlLEVBQ2hDek4sS0FBSzhNLE9BQU8zSixLQUFLdUssWUFBWSxLQUM3QjFOLEtBQUs4TSxPQUFPOUYsU0FBUyxJQUNyQmhILEtBQUs4TSxPQUFPYSxTQUFTM04sS0FBS2tOLFVBQVdsTixLQUFLaU4sWUFDMUNqTixLQUFLOE0sT0FBTzNKLEtBQUt5SyxRQUFRNU4sS0FBSzhNLE9BQU9lLE1BQVEsSUFBSzdOLEtBQUs4TSxPQUFPZ0IsT0FBUyxLQUV2RTlOLEtBQUs4TSxPQUFPTixNQUFNakcsS0FBSyxjQUFjdkcsS0FBSzZFLEtBQzlDLENBQ0EsYUFBQWtKLEdBRUksSUFBSWhHLEVBQVMvSCxLQUFLZ08sYUFFbEJoTyxLQUFLOE0sT0FBT21CLE1BQVFsRyxFQUFPK0UsT0FBTzVMLEVBQUlsQixLQUFLOE0sT0FBTzVMLEVBRTlDbEIsS0FBS3FOLFVBQVkzSyxLQUFLd0wsSUFBSW5HLEVBQU8rRSxPQUFPNUwsRUFBSWxCLEtBQUs4TSxPQUFPNUwsR0FBSyxLQUFPd0IsS0FBS3dMLElBQUluRyxFQUFPK0UsT0FBTzNMLEVBQUluQixLQUFLOE0sT0FBTzNMLEdBQUssSUFDaEhuQixLQUFLbU4sVUFBWSxFQUVqQm5OLEtBQUttTixVQUFZLElBSXJCbk4sS0FBSzBCLE1BQU1tTCxRQUFRc0IsYUFBYW5PLEtBQUs4TSxPQUFRL0UsRUFBTytFLE9BQVE5TSxLQUFLbU4sVUFDckUsQ0FFQSxVQUFBYSxHQUNJLElBQUlqRyxFQUFVckYsS0FBS3dMLElBQUlsTyxLQUFLeUksUUFBUXBKLElBQUksV0FBV3lOLE9BQU81TCxFQUFJbEIsS0FBSzhNLE9BQU81TCxHQUFPd0IsS0FBS3dMLElBQUlsTyxLQUFLeUksUUFBUXBKLElBQUksV0FBV3lOLE9BQU81TCxFQUFJbEIsS0FBSzhNLE9BQU81TCxHQUFNbEIsS0FBS3lJLFFBQVFwSixJQUFJLFdBQWFXLEtBQUt5SSxRQUFRcEosSUFBSSxXQVdsTSxPQVJJMEksRUFBT3FHLFFBQVUsSUFFYnJHLEVBRGMsWUFBZEEsRUFBT2xELEdBQ0U3RSxLQUFLeUksUUFBUXBKLElBQUksV0FFakJXLEtBQUt5SSxRQUFRcEosSUFBSSxZQUkzQjBJLENBQ1gsQ0FFQSxHQUFBc0csR0FDSXJPLEtBQUs4TSxPQUFPd0IsWUFBWSxHQUN4QnRPLEtBQUs4TSxPQUFPTixNQUFNakcsS0FBSyxPQUFPdkcsS0FBSzZFLEtBQ3ZDLENBR0EsV0FBQTBKLENBQVlDLEdBQ1J4TyxLQUFLcU4sU0FBV21CLEVBQ1pBLEdBQ0F4TyxLQUFLOE0sT0FBT04sTUFBTWpHLEtBQUssa0JBQWtCdkcsS0FBSzZFLE1BRTlDN0UsS0FBSzhNLE9BQU94TCxHQUFHLG9CQUFzQmlNLElBQzdCQSxFQUFLdk8sTUFBUSxrQkFBa0JnQixLQUFLNkUsTUFDcEM3RSxLQUFLOE0sT0FBT04sTUFBTWpHLEtBQUssY0FBY3ZHLEtBQUs2RSxTQUtsRDdFLEtBQUs4TSxPQUFPTixNQUFNakcsS0FBSyxjQUFjdkcsS0FBSzZFLEtBR2xELENBRUEsTUFBQW1HLEdBQ1FoTCxLQUFLb04sUUFDVHBOLEtBQUsrTixlQUNULEVDdkdHLE1BQU1VLEVBQ1QsV0FBQTVPLENBQVk2QixFQUFPK0csR0FDZnpJLEtBQUswQixNQUFRQSxFQUNiMUIsS0FBS3lJLFFBQVVBLEVBQ2Z6SSxLQUFLME8sT0FBUzFPLEtBQUswQixNQUFNaU4sUUFBUUMsS0FFakM1TyxLQUFLNk8sUUFBVTdPLEtBQUswTyxPQUFPSSxRQUMzQjlPLEtBQUsrTyxTQUFXL08sS0FBSzBPLE9BQU9JLFFBQVU5TyxLQUFLME8sT0FBT2IsTUFDbEQ3TixLQUFLZ1AsT0FBUyxFQUNsQixDQUVBLE1BQUFoRSxHQUNJaEwsS0FBSzZPLFFBQVU3TyxLQUFLME8sT0FBT0ksUUFDM0I5TyxLQUFLK08sU0FBVy9PLEtBQUswTyxPQUFPSSxRQUFVOU8sS0FBSzBPLE9BQU9iLE1BRWxEN04sS0FBS3lJLFFBQVFwSixJQUFJLFdBQVd5TixPQUFPNUwsRUFBSSxTQUFZK04sTUFBTWpQLEtBQUt5SSxRQUFRcEosSUFBSSxXQUFXeU4sT0FBTzVMLEVBQUdsQixLQUFLNk8sUUFBVTdPLEtBQUtnUCxPQUFRaFAsS0FBSytPLFNBQVcvTyxLQUFLZ1AsUUFDaEpoUCxLQUFLeUksUUFBUXBKLElBQUksV0FBV3lOLE9BQU81TCxFQUFJLFNBQVkrTixNQUFNalAsS0FBS3lJLFFBQVFwSixJQUFJLFdBQVd5TixPQUFPNUwsRUFBR2xCLEtBQUs2TyxRQUFVN08sS0FBS2dQLE9BQVFoUCxLQUFLK08sU0FBVy9PLEtBQUtnUCxRQUVoSixNQUFNRSxHQUFRbFAsS0FBS3lJLFFBQVFwSixJQUFJLFdBQVd5TixPQUFPNUwsRUFBSWxCLEtBQUt5SSxRQUFRcEosSUFBSSxXQUFXeU4sT0FBTzVMLEdBQUssRUFDdkZpTyxFQUFjRCxFQUEyQixHQUFwQmxQLEtBQUswTyxPQUFPYixNQUNqQ3VCLEVBQWNGLEVBQTJCLEdBQXBCbFAsS0FBSzBPLE9BQU9iLE1BRWpDd0IsRUFDRnJQLEtBQUt5SSxRQUFRcEosSUFBSSxXQUFXeU4sT0FBTzVMLEVBQUlpTyxFQUFhblAsS0FBS2dQLFFBQ3pEaFAsS0FBS3lJLFFBQVFwSixJQUFJLFdBQVd5TixPQUFPNUwsRUFBSWtPLEVBQWNwUCxLQUFLZ1AsT0FFeERNLEVBQ0Z0UCxLQUFLeUksUUFBUXBKLElBQUksV0FBV3lOLE9BQU81TCxFQUFJaU8sRUFBYW5QLEtBQUtnUCxRQUN6RGhQLEtBQUt5SSxRQUFRcEosSUFBSSxXQUFXeU4sT0FBTzVMLEVBQUlrTyxFQUFjcFAsS0FBS2dQLE9BRTFESyxHQUF5QkMsSUFDekJ0UCxLQUFLME8sT0FBT0ksUUFBVXBNLEtBQUs2TSxNQUN2QixTQUFZQyxPQUFPeFAsS0FBSzBPLE9BQU9JLFFBQVNJLEVBQU9sUCxLQUFLME8sT0FBT2IsTUFBTSxFQUFHLEtBR2hGLEVDcENHLE1BQU00QixFQUNULFdBQUE1UCxDQUFZNkIsRUFBT21ELEVBQUkzRCxFQUFHQyxFQUFHME0sRUFBT0MsRUFBUTRCLEdBQ3hDMVAsS0FBSzBCLE1BQVFBLEVBQ2IxQixLQUFLNkUsR0FBS0EsRUFFVjdFLEtBQUs4TSxPQUFTcEwsRUFBTXJCLElBQUlILE1BQU1nQixFQUFHQyxFQUFHdU8sR0FDcEMxUCxLQUFLOE0sT0FBT3ZNLFVBQVUsR0FBSyxJQUMzQlAsS0FBSzhNLE9BQU85RixTQUFTLElBQ3JCaEgsS0FBSzhNLE9BQU82QyxlQUFlOUIsRUFBT0MsR0FFbENwTSxFQUFNbUwsUUFBUXhNLElBQUl1UCxTQUFTNVAsS0FBSzhNLFFBQVEsR0FDeEM5TSxLQUFLOE0sT0FBTzNKLEtBQUt5SyxRQUFRQyxFQUFPQyxHQUdoQzlOLEtBQUs2UCxFQUFJbk8sRUFBTXJCLElBQUl5UCxXQUNuQjlQLEtBQUs2UCxFQUFFRSxVQUFVLEVBQVUsR0FDM0IvUCxLQUFLNlAsRUFBRUcsU0FBUzlPLEVBQUkyTSxFQUFNLEVBQUcxTSxFQUFJMk0sRUFBTyxFQUFHRCxFQUFRLEdBQUlDLEVBQVMsSUFDaEU5TixLQUFLNlAsRUFBRTdJLFNBQVMsR0FFaEJoSCxLQUFLaVEsaUJBQ1QsQ0FFQSxlQUFBQSxHQUNJalEsS0FBSzBCLE1BQU1tTCxRQUFReE0sSUFBSXVQLFNBQVM1UCxLQUFLNlAsR0FBRyxFQUM1QyxFQ3JCRyxNQUFNSyxFQUVULFdBQUFyUSxDQUFZNkIsRUFBT21ELEVBQUlzTCxFQUFTQyxFQUFNQyxFQUFNQyxFQUFjLE1BQ3REdFEsS0FBSzZFLEdBQUtBLEVBQ1Y3RSxLQUFLMEIsTUFBUUEsRUFDYjFCLEtBQUttUSxRQUFVQSxFQUNmblEsS0FBS2lOLFdBQWEsSUFDbEJqTixLQUFLa04sVUFBWSxJQUNqQmxOLEtBQUttTixVQUFZLElBQ2pCbk4sS0FBS3VRLFVBQVksSUFDakJ2USxLQUFLb08sT0FBUyxJQUNkcE8sS0FBS3dRLGNBQWUsRUFDcEJ4USxLQUFLeVEsVUFBWSxRQUNqQnpRLEtBQUtvUSxLQUFPQSxFQUNacFEsS0FBS3FRLEtBQU9BLEVBQ1pyUSxLQUFLb04sUUFBUyxFQUNkcE4sS0FBSzBRLFVBQVk5TCxFQUFrQkksT0FFbkNoRixLQUFLMlEsaUJBQW1CLE9BQ3hCM1EsS0FBSzRRLFlBQWMsS0FFbkI1USxLQUFLc04sU0FBVyxJQUFJeEIsRUFBUzlMLEtBQUswQixNQUFPNE8sRUFDN0MsQ0FFQSxPQUFBdlEsQ0FBUThOLEVBQU9DLEdBQ1g5TixLQUFLc04sU0FBU3ZOLFFBQVE4TixFQUFPQyxFQUNqQyxDQUVBLE1BQUEzTixHQUVJSCxLQUFLOE0sT0FBUzlNLEtBQUtzTixTQUFTVixxQkFBcUI1TSxLQUFLb1EsS0FBTXBRLEtBQUtxUSxNQUNqRXJRLEtBQUtzTixTQUFTbkIsZ0JBQWdCLFFBQVFuTSxLQUFLNkUsS0FBTSxFQUFHLEVBQUcsR0FDdkQ3RSxLQUFLc04sU0FBU25CLGdCQUFnQixRQUFRbk0sS0FBSzZFLEtBQU0sRUFBRyxFQUFHLEdBQ3ZEN0UsS0FBS3NOLFNBQVNuQixnQkFBZ0IsUUFBUW5NLEtBQUs2RSxLQUFNLEVBQUcsRUFBRyxFQUFHLEdBQzFEN0UsS0FBS3NOLFNBQVNuQixnQkFBZ0IsT0FBT25NLEtBQUs2RSxLQUFNLEVBQUcsR0FBSSxFQUFHLEdBQzFEN0UsS0FBS3NOLFNBQVNuQixnQkFBZ0IsUUFBUW5NLEtBQUs2RSxLQUFNLEdBQUksR0FBSSxFQUFHLEdBQzVEN0UsS0FBS3NOLFNBQVNuQixnQkFBZ0IsVUFBVW5NLEtBQUs2RSxLQUFNLEdBQUksR0FBSSxFQUFHLEdBRTlEN0UsS0FBSzhNLE9BQU94TCxHQUFHLG9CQUFzQmlNLElBQzdCQSxFQUFLdk8sTUFBUSxRQUFRZ0IsS0FBSzZFLE9BRXJCN0UsS0FBSzhNLE9BQU8zSixLQUFLME4sV0FDbEI3USxLQUFLOFEsU0FBUyxPQUFPOVEsS0FBSzZFLFNBS3RDN0UsS0FBSzhNLE9BQU94TCxHQUFHLGtCQUFvQmlNLElBQzNCQSxFQUFLdk8sTUFBUSxPQUFPZ0IsS0FBSzZFLE1BQ3JCN0UsS0FBSzhNLE9BQU8zSixLQUFLME4sV0FDakI3USxLQUFLOFEsU0FBUyxRQUFROVEsS0FBSzZFLFFBS3ZDN0UsS0FBSzhNLE9BQU9hLFNBQVMzTixLQUFLa04sVUFBV2xOLEtBQUtpTixZQUUxQ2pOLEtBQUs4TSxPQUFPVSx1QkFBc0IsR0FDbEN4TixLQUFLOE0sT0FBTzNKLEtBQUtzSyxjQUFlLEVBQ2hDek4sS0FBSzhNLE9BQU8zSixLQUFLdUssWUFBWTFOLEtBQUttUSxTQUNsQ25RLEtBQUs4TSxPQUFPM0osS0FBS3lLLFFBQVE1TixLQUFLOE0sT0FBT2UsTUFBUSxJQUFLN04sS0FBSzhNLE9BQU9nQixPQUFTLEtBQ3ZFOU4sS0FBSzhNLE9BQU8zSixLQUFLNE4sVUFBVSxJQUFLLEtBQ2hDL1EsS0FBSzhNLE9BQU85RixTQUFTLEdBQ3JCaEgsS0FBSzhNLE9BQU92RyxLQUFLLFFBQVF2RyxLQUFLNkUsS0FDbEMsQ0FFQSxRQUFBaU0sQ0FBUzlSLEdBQ0RnQixLQUFLNFEsY0FBZ0I1UixJQUNyQmdCLEtBQUs4TSxPQUFPdkcsS0FBS3ZILEdBQUssR0FDdEJnQixLQUFLNFEsWUFBYzVSLEVBRTNCLENBRUEsY0FBQW1KLENBQWU2SSxHQUVQaFIsS0FBS29PLFFBQVUsSUFDbkJwTyxLQUFLMlEsaUJBQW1CSyxFQUN4QmhSLEtBQUs4TSxPQUFPbUIsTUFBdUIsU0FBZCtDLEVBR3JCaFIsS0FBSzhNLE9BQU9tRSxhQUEyQixTQUFkRCxHQUF3QmhSLEtBQUttTixVQUFZbk4sS0FBS21OLFdBR25Fbk4sS0FBSzhNLE9BQU8zSixLQUFLME4sV0FBYTdRLEtBQUs0USxjQUFnQixRQUFRNVEsS0FBSzZFLE1BQVE3RSxLQUFLNFEsY0FBZ0IsVUFBVTVRLEtBQUs2RSxNQUM1RzdFLEtBQUs4USxTQUFTLFFBQVE5USxLQUFLNkUsTUFFbkMsQ0FFQSxJQUFBb0QsR0FDUWpJLEtBQUtrUixZQUNMbFIsS0FBSzhNLE9BQU9xRSxjQUFjblIsS0FBS3VRLFdBQy9CdlEsS0FBSzhRLFNBQVMsUUFBUTlRLEtBQUs2RSxNQUVuQyxDQUdBLElBQUFxRCxHQUNJbEksS0FBSzhNLE9BQU9tRSxhQUFhLEdBRXJCalIsS0FBSzhNLE9BQU8zSixLQUFLME4sV0FBYTdRLEtBQUs0USxjQUFnQixRQUFRNVEsS0FBSzZFLE1BQVE3RSxLQUFLNFEsY0FBZ0IsUUFBUTVRLEtBQUs2RSxNQUFRN0UsS0FBSzRRLGNBQWdCLFVBQVU1USxLQUFLNkUsT0FBUzdFLEtBQUtvTixTQUNwS3BOLEtBQUs4USxTQUFTLFFBQVE5USxLQUFLNkUsTUFDM0I3RSxLQUFLMlEsaUJBQW1CLE9BRWhDLENBR0EsTUFBQVMsQ0FBT0MsR0FFSCxJQUFJclIsS0FBS3dRLGFBQVQsQ0FNQSxHQUpBeFEsS0FBS29PLFFBQVVpRCxFQUNmclIsS0FBS3dRLGNBQWUsRUFDcEJ4USxLQUFLOE0sT0FBT3dFLFFBQVEsVUFFZnRSLEtBQUt1UixhQVFOLE9BUEF2UixLQUFLb08sT0FBUyxFQUNkcE8sS0FBS21OLFVBQVksRUFDakJuTixLQUFLOE0sT0FBT3dFLFFBQVEsR0FDcEJ0UixLQUFLOE0sT0FBT04sTUFBTXpDLFFBQ2xCL0osS0FBS3dRLGNBQWUsRUFDcEJ4USxLQUFLb04sUUFBUyxPQUNkcE4sS0FBS3dSLGFBQWMsR0FLdkJ4UixLQUFLMEIsTUFBTStQLEtBQUtDLFlBQVksSUFBTSxLQUM5QjFSLEtBQUt3USxjQUFlLEVBQ3BCeFEsS0FBSzhNLE9BQU82RSxhQXBCYSxDQXNCakMsQ0FFQSxNQUFBQyxHQUNJNVIsS0FBS29PLE9BQVMsSUFDZHBPLEtBQUttTixVQUFZLElBQ2pCbk4sS0FBS29OLFFBQVMsRUFDZHBOLEtBQUt3USxjQUFlLEVBQ3BCeFEsS0FBSzhNLE9BQU82RSxZQUNaM1IsS0FBSzhNLE9BQU9OLE1BQU01SyxTQUNsQjVCLEtBQUt3USxjQUFlLEVBQ3BCeFEsS0FBS3dSLGFBQWMsRUFDbkJ4UixLQUFLOFEsU0FBUyxRQUFROVEsS0FBSzZFLE1BRTNCN0UsS0FBSzBCLE1BQU0rUCxLQUFLQyxZQUFZLElBQU0sS0FBUTFSLEtBQUt3USxjQUFlLEdBQ2xFLENBRUEsVUFBQWUsR0FDSSxPQUFPdlIsS0FBS29PLE9BQVMsQ0FDekIsQ0FFQSxPQUFBOEMsR0FDSSxPQUFPbFIsS0FBSzhNLE9BQU8zSixLQUFLME4sV0FBYTdRLEtBQUt1UixZQUM5QyxDQUVBLE1BQUFoSixHQUVBLENBRUEsa0JBQU1zSixTQUNJak4sRUFBa0JLLGlCQUFpQkwsRUFBbUIsQ0FBRUksT0FBUWhGLEtBQUswUSxXQUMvRSxFQ2pLRyxNQUFNb0IsVUFBYTVCLEVBQ3RCLFdBQUFyUSxDQUFZNkIsRUFBT21ELEVBQUkzRCxFQUFHQyxFQUFHZ1AsRUFBU0MsRUFBTUMsRUFBTUMsRUFBYyxNQUM1RHhRLE1BQU00QixFQUFPbUQsRUFBSTNELEVBQUdDLEVBQUdnUCxFQUFTQyxFQUFNQyxFQUFNQyxHQUM1Q3RRLEtBQUsrUixhQUFlLElBQ3hCLENBRUEsTUFBQTVSLEdBQ0lMLE1BQU1LLFNBQ05ILEtBQUsrUixhQUFlL1IsS0FBSzBCLE1BQU1tTCxRQUFReE0sSUFBSXlNLE9BQU8sRUFBRyxFQUFHLE1BQ25EYyxRQUFRLEdBQUksSUFDWm9FLFlBQVcsR0FDWEMsY0FBYSxHQUVsQmpTLEtBQUt3UixhQUFjLEVBR25CeFIsS0FBSzhNLE9BQU94TCxHQUFHLG9CQUFzQmlNLElBQzdCQSxFQUFLdk8sTUFBUSxVQUFVZ0IsS0FBSzZFLE9BQzVCN0UsS0FBS3dSLGFBQWMsRUFDbkJ4UixLQUFLOFEsU0FBUyxRQUFROVEsS0FBSzZFLE1BQzNCN0UsS0FBSytSLGFBQWFHLGFBQWEsS0FBTSxRQUs3Q2xTLEtBQUs4TSxPQUFPeEwsR0FBRyxrQkFBb0JpTSxJQUMzQkEsRUFBS3ZPLE1BQVEsVUFBVWdCLEtBQUs2RSxNQUM1QjdFLEtBQUttUyxnQkFLakIsQ0FFQSxZQUFBQSxHQUNJLE1BQU1DLEVBQVVwUyxLQUFLOE0sT0FBT21CLE9BQVMsR0FBSyxHQUMxQ2pPLEtBQUsrUixhQUFhRyxZQUNkbFMsS0FBSzhNLE9BQU81TCxFQUFJa1IsRUFDaEJwUyxLQUFLOE0sT0FBTzNMLEVBRXBCLENBRUEsTUFBQW9ILEdBQ1F2SSxLQUFLd1IsY0FFVHhSLEtBQUttUyxlQUNMblMsS0FBS3dSLGFBQWMsRUFDbkJ4UixLQUFLOE0sT0FBT21FLGFBQWEsR0FDekJqUixLQUFLOFEsU0FBUyxVQUFVOVEsS0FBSzZFLE1BQ2pDLEVDbkRHLE1BQU13TixFQUVULFdBQUF4UyxDQUFZNkIsRUFBT21ELEVBQUlrRCxFQUFRdUssRUFBUTVSLEdBRW5DVixLQUFLNkUsR0FBS0EsRUFDVjdFLEtBQUswQixNQUFRQSxFQUNiMUIsS0FBSytILE9BQVNBLEVBQ2QvSCxLQUFLc1MsT0FBU0EsRUFDZHRTLEtBQUtVLE1BQVFBLEVBQ2JWLEtBQUt1UyxNQUFPLEVBQ1p2UyxLQUFLd1MsWUFBYSxFQUVsQnhTLEtBQUt5UyxlQUFpQixJQUUxQixDQUNBLE1BQUF0UyxHQUVJSCxLQUFLeVMsZUFBaUJ6UyxLQUFLMEIsTUFBTXJCLElBQUlxUyxPQUNqQzFTLEtBQUsrSCxPQUFPK0UsT0FBTzVMLEVBQ25CbEIsS0FBSytILE9BQU8rRSxPQUFPM0wsRUFDbkJuQixLQUFLc1MsUUFHVHRTLEtBQUswQixNQUFNbUwsUUFBUXhNLElBQUl1UCxTQUFTNVAsS0FBS3lTLGdCQUNyQ3pTLEtBQUt5UyxlQUFldFAsS0FBS3dQLFVBQVUzUyxLQUFLc1MsUUFDeEN0UyxLQUFLeVMsZUFBZXRQLEtBQUt5UCxpQkFBZ0IsR0FDekM1UyxLQUFLeVMsZUFBZXRQLEtBQUs4TyxjQUFhLEdBR3RDalMsS0FBSzhQLFNBQVc5UCxLQUFLMEIsTUFBTXJCLElBQUl5UCxVQUNuQyxDQUVBLE1BQUE5RSxHQUdJLE1BQU05SixFQUFJbEIsS0FBSytILE9BQU8rRSxPQUFPNUwsRUFDdkJDLEVBQUluQixLQUFLK0gsT0FBTytFLE9BQU8zTCxFQUU3Qm5CLEtBQUt5UyxlQUFlUCxZQUFZaFIsRUFBR0MsR0FFL0JuQixLQUFLdVMsTUFDTHZTLEtBQUs4UCxTQUFTK0MsUUFDZDdTLEtBQUs4UCxTQUFTQyxVQUFVL1AsS0FBS1UsTUFBTyxJQUNwQ1YsS0FBSzhQLFNBQVNnRCxXQUFXNVIsRUFBR0MsRUFBR25CLEtBQUtzUyxRQUNwQ3RTLEtBQUs4UCxTQUFTOUksU0FBUyxLQUV2QmhILEtBQUs4UCxTQUFTK0MsT0FFdEIsQ0FFQSxPQUFBRSxHQUNTL1MsS0FBS3dTLGFBRVZ4UyxLQUFLd1MsWUFBYSxFQUNsQnhTLEtBQUt1UyxNQUFPLEVBRVp2UyxLQUFLMEIsTUFBTStQLEtBQUtDLFlBQVksSUFBTSxLQUM5QjFSLEtBQUt1UyxNQUFPLEVBQ1p2UyxLQUFLOFAsU0FBUytDLFVBR2xCN1MsS0FBSzBCLE1BQU0rUCxLQUFLQyxZQUFZLElBQU0sS0FDOUIxUixLQUFLd1MsWUFBYSxJQUUxQixDQUVBLE9BQUF0TSxHQUNJbEcsS0FBSzhQLFNBQVM1SixVQUNkbEcsS0FBS3lTLGVBQWV2TSxTQUN4QixFQ2xFRyxNQUFNOE0sVUFBZTlDLEVBQ3hCLFdBQUFyUSxDQUFZNkIsRUFBT21ELEVBQUkzRCxFQUFHQyxFQUFHZ1AsRUFBU0MsRUFBTUMsRUFBTUMsRUFBYyxNQUM1RHhRLE1BQU00QixFQUFPbUQsRUFBSTNELEVBQUdDLEVBQUdnUCxFQUFTQyxFQUFNQyxFQUFNQyxHQUU1Q3RRLEtBQUtpVCxNQUFRLElBQUlaLEVBQU1yUyxLQUFLMEIsTUFBTyxTQUFVMUIsS0FBTSxHQUFJLFVBQ3ZEQSxLQUFLd1IsYUFBYyxDQUV2QixDQUVBLE1BQUFyUixHQUNJTCxNQUFNSyxTQUNOSCxLQUFLaVQsTUFBTTlTLFNBSVhILEtBQUs4TSxPQUFPeEwsR0FBRyxrQkFBb0JpTSxJQUMzQkEsRUFBS3ZPLE1BQVEsVUFBVWdCLEtBQUs2RSxPQUM1QjdFLEtBQUtpVCxNQUFNakksU0FDWGhMLEtBQUt3UixhQUFjLEtBRzNCeFIsS0FBSzhNLE9BQU94TCxHQUFHLG9CQUFzQmlNLElBQzdCQSxFQUFLdk8sTUFBUSxVQUFVZ0IsS0FBSzZFLE9BQzVCN0UsS0FBS3dSLGFBQWMsRUFDbkJ4UixLQUFLOFEsU0FBUyxRQUFROVEsS0FBSzZFLFFBR3ZDLENBRUEsTUFBQStNLEdBQ0k5UixNQUFNOFIsU0FDTjVSLEtBQUtpVCxNQUFNVCxZQUFhLENBQzVCLENBRUEsTUFBQWpLLElBQ1F2SSxLQUFLd1IsYUFBZ0J4UixLQUFLaVQsTUFBTVQsYUFFcEN4UyxLQUFLaVQsTUFBTUYsVUFDWC9TLEtBQUs4USxTQUFTLFVBQVU5USxLQUFLNkUsTUFDakMsRUM5QkcsTUFBTXFPLFVBQWtCLFVBQzNCLFdBQUFyVCxDQUFZa0YsRUFBTyxhQUNmakYsTUFBTWlGLEVBQ1YsQ0FHQSxPQUFBaEYsR0FDSUMsS0FBS21ULE9BQU9wVCxRQUFRLElBQUssS0FDekJDLEtBQUtvVCxLQUFLclQsUUFBUSxJQUFLLEtBQ3ZCQyxLQUFLQyxLQUFLd0YsTUFBTSxVQUFXLGtDQUczQnpGLEtBQUtDLEtBQUtDLE1BQU0sUUFBUyw4QkFDekJGLEtBQUtDLEtBQUtDLE1BQU0sS0FBTSxnQ0FDdEJGLEtBQUtDLEtBQUtDLE1BQU0sUUFBUywwQkFDekJGLEtBQUtDLEtBQUtDLE1BQU0sS0FBTSxnQ0FDdEJGLEtBQUtDLEtBQUtDLE1BQU0sS0FBTSw2QkFDdEJGLEtBQUtDLEtBQUtDLE1BQU0sTUFBTyw2QkFFdkJGLEtBQUtxVCxRQUFRL08sUUFBUWdQLEdBQVNBLEVBQU12VCxVQUN4QyxDQUVBLElBQUF3VCxHQUNJdlQsS0FBS2EsTUFBTTJTLFVBQ1h4VCxLQUFLbUosaUJBQW1CLElBQUlYLEVBQzVCeEksS0FBS3lJLFFBQVUsSUFBSUMsSUFDbkIxSSxLQUFLcVQsUUFBVSxJQUFJM0ssSUFDbkIxSSxLQUFLeVQsVUFBWSxJQUFJL0ssSUFDckIxSSxLQUFLdUosVUFBVyxFQUNoQnZKLEtBQUswVCxhQUFlLElBQUkxSyxFQUFhaEosS0FBTUEsS0FBSzBCLE1BQU8xQixLQUFLa0osTUFBT2xKLEtBQUttSixrQkFDeEVuSixLQUFLbVQsT0FBUyxJQUFJSCxFQUFPaFQsS0FBTSxVQUFXLElBQUssSUFBSyxJQUFLLHNCQUN6REEsS0FBS29ULEtBQU8sSUFBSXRCLEVBQUs5UixLQUFNLFVBQVcsSUFBSyxJQUFLLElBQUssb0JBRXJEQSxLQUFLMlQsT0FBUyxJQUFJM0csRUFBTWhOLEtBQU0sU0FBVSxJQUFLLElBQUtBLEtBQUt5SSxTQUN2RHpJLEtBQUs0VCxPQUFTLElBQUk1RyxFQUFNaE4sS0FBTSxTQUFVLEtBQU0sSUFBS0EsS0FBS3lJLFNBQ3hEekksS0FBSzZULE9BQVMsSUFBSTdHLEVBQU1oTixLQUFNLFNBQVUsSUFBTSxJQUFLQSxLQUFLeUksU0FDeER6SSxLQUFLOFQsT0FBUyxJQUFJOUcsRUFBTWhOLEtBQU0sU0FBVSxLQUFNLElBQUtBLEtBQUt5SSxTQUN4RHpJLEtBQUsrVCxPQUFTLElBQUkvRyxFQUFNaE4sS0FBTSxTQUFVLEtBQU0sSUFBS0EsS0FBS3lJLFNBR3hEekksS0FBSzBPLE9BQVMsSUFBSUQsRUFBT3pPLEtBQU1BLEtBQUt5SSxTQUVwQ3pJLEtBQUtxVCxRQUFRVyxJQUFJaFUsS0FBSzJULE9BQU85TyxHQUFJN0UsS0FBSzJULFFBQ3RDM1QsS0FBS3FULFFBQVFXLElBQUloVSxLQUFLNFQsT0FBTy9PLEdBQUk3RSxLQUFLNFQsUUFDdEM1VCxLQUFLcVQsUUFBUVcsSUFBSWhVLEtBQUs2VCxPQUFPaFAsR0FBSTdFLEtBQUs2VCxRQUN0QzdULEtBQUtxVCxRQUFRVyxJQUFJaFUsS0FBSzhULE9BQU9qUCxHQUFJN0UsS0FBSzhULFFBQ3RDOVQsS0FBS3FULFFBQVFXLElBQUloVSxLQUFLK1QsT0FBT2xQLEdBQUk3RSxLQUFLK1QsT0FFMUMsQ0FFQSxNQUFBNVQsR0FFSUgsS0FBS3NHLE1BQVF0RyxLQUFLYSxNQUFNUixJQUFJLFdBQzVCTCxLQUFLc0csTUFBTUMsT0FDWHZHLEtBQUtzRyxNQUFNRSxVQUFVLEtBR3JCeEcsS0FBS2lVLE1BQVFqVSxLQUFLSyxJQUFJNlQsV0FBVyxFQUFHLEVBQUcsSUFBTSxJQUFNLFNBQzlDM1QsVUFBVSxFQUFHLEdBQ2I0VCxnQkFBZ0IsSUFDaEJ4RyxTQUFTLElBR2QzTixLQUFLbVQsT0FBT2hULFNBQ1pILEtBQUtvVCxLQUFLalQsU0FHVkgsS0FBS3lJLFFBQVF1TCxJQUFJLFVBQVdoVSxLQUFLbVQsUUFDakNuVCxLQUFLeUksUUFBUXVMLElBQUksVUFBV2hVLEtBQUtvVCxNQUVqQ3BULEtBQUswVCxhQUFhakwsUUFBVXpJLEtBQUt5SSxRQUNqQ3pJLEtBQUttSixpQkFBaUJWLFFBQVV6SSxLQUFLeUksUUFHckN6SSxLQUFLcVQsUUFBUS9PLFFBQVNnUCxJQUNsQkEsRUFBTW5ULFdBR1ZILEtBQUtvVSx1QkFDTHBVLEtBQUtxVSx1QkFDTHJVLEtBQUtzVSx1QkFFTHRVLEtBQUs2TSxRQUFRMEgsTUFBTUMsVUFBVSxFQUFHLEVBQUcsS0FBTSxLQUN6Q3hVLEtBQUswTyxPQUFPQSxPQUFPOEYsVUFBVSxFQUFHLEVBQUcsS0FBTSxLQUV6Q3hVLEtBQUswTyxPQUFPQSxPQUFPK0YsUUFBUSxHQUFLLElBRWhDelUsS0FBSzBHLG1CQUFzQnRHLEtBQ2xCQSxFQUFLb0QsV0FBYXhELEtBQUswQixNQUFNNkYsWUFDOUJ2SCxLQUFLMFUsb0JBR2I1UyxFQUFrQmlDLFlBQVkvRCxLQUFLMEcsbUJBQ3ZDLENBRUEsb0JBQUE0TixHQUNJdFUsS0FBSzZNLFFBQVF4TSxJQUFJc1UsUUFBUTNVLEtBQUt5SSxRQUFRcEosSUFBSSxXQUFXeU4sT0FBUTlNLEtBQUt5SSxRQUFRcEosSUFBSSxXQUFXeU4sT0FBUSxLQUN6RjlNLEtBQUt5SSxRQUFRcEosSUFBSSxXQUFXK08sUUFBVSxHQUFLcE8sS0FBS3lJLFFBQVFwSixJQUFJLFdBQVcrTyxPQUFTLEVBQ2hGcE8sS0FBS3lJLFFBQVFwSixJQUFJLFdBQVd1UyxTQUV2QjVSLEtBQUt5SSxRQUFRcEosSUFBSSxXQUFXK08sUUFBVSxHQUFLcE8sS0FBS3lJLFFBQVFwSixJQUFJLFdBQVcrTyxPQUFTLEdBQ3JGcE8sS0FBS3lJLFFBQVFwSixJQUFJLFdBQVd1UyxVQUd4QyxDQUVBLG9CQUFBd0MsR0FHSXBVLEtBQUs0VSxPQUFTLElBQUluRixFQUFTelAsS0FBTSxLQUFNLEtBQU0sSUFBSyxJQUFNLEdBQUksU0FDNURBLEtBQUs2VSxNQUFRLElBQUlwRixFQUFTelAsS0FBTSxLQUFNLElBQUssSUFBSyxJQUFLLEdBQUksTUFDekRBLEtBQUs4VSxNQUFRLElBQUlyRixFQUFTelAsS0FBTSxLQUFNLElBQUssSUFBSyxJQUFLLEdBQUksTUFDekRBLEtBQUsrVSxPQUFTLElBQUl0RixFQUFTelAsS0FBTSxLQUFNLEtBQU0sSUFBSyxJQUFLLElBQUssTUFDNURBLEtBQUtnVixLQUFPLElBQUl2RixFQUFTelAsS0FBTSxLQUFNLElBQUssSUFBSyxHQUFJLElBQUssTUFDeERBLEtBQUtpVixLQUFPLElBQUl4RixFQUFTelAsS0FBTSxLQUFNLEtBQU0sSUFBSyxHQUFJLElBQUssTUFDekRBLEtBQUtrVixNQUFRLElBQUl6RixFQUFTelAsS0FBTSxLQUFNLEtBQU0sSUFBSyxJQUFLLEdBQUksTUFDMURBLEtBQUttVixNQUFRLElBQUkxRixFQUFTelAsS0FBTSxLQUFNLEtBQU0sSUFBSyxJQUFLLEdBQUksTUFDMURBLEtBQUtvVixNQUFRLElBQUkzRixFQUFTelAsS0FBTSxLQUFNLElBQU0sSUFBSyxJQUFLLEdBQUksTUFDMURBLEtBQUtxVixPQUFTLElBQUk1RixFQUFTelAsS0FBTSxLQUFNLEtBQU0sSUFBSyxJQUFLLElBQUssTUFDNURBLEtBQUtzVixPQUFTLElBQUk3RixFQUFTelAsS0FBTSxLQUFNLEtBQU0sSUFBSyxJQUFLLElBQUssTUFDNURBLEtBQUt1VixNQUFRLElBQUk5RixFQUFTelAsS0FBTSxLQUFNLEtBQU0sSUFBSyxJQUFLLEdBQUksTUFDMURBLEtBQUt3VixNQUFRLElBQUkvRixFQUFTelAsS0FBTSxLQUFNLEtBQU0sSUFBSyxJQUFLLEdBQUksTUFDMURBLEtBQUt5VixNQUFRLElBQUloRyxFQUFTelAsS0FBTSxLQUFNLEtBQU0sSUFBSyxJQUFLLEdBQUksTUFDMURBLEtBQUswVixPQUFTLElBQUlqRyxFQUFTelAsS0FBTSxLQUFNLEtBQU0sSUFBSyxJQUFLLElBQUssTUFHNURBLEtBQUt5VCxVQUFVTyxJQUFJLEtBQU1oVSxLQUFLNFUsUUFDOUI1VSxLQUFLeVQsVUFBVU8sSUFBSSxLQUFNaFUsS0FBSzZVLE9BQzlCN1UsS0FBS3lULFVBQVVPLElBQUksS0FBTWhVLEtBQUs4VSxPQUM5QjlVLEtBQUt5VCxVQUFVTyxJQUFJLEtBQU1oVSxLQUFLK1UsUUFDOUIvVSxLQUFLeVQsVUFBVU8sSUFBSSxLQUFNaFUsS0FBS2dWLE1BQzlCaFYsS0FBS3lULFVBQVVPLElBQUksS0FBTWhVLEtBQUtpVixNQUM5QmpWLEtBQUt5VCxVQUFVTyxJQUFJLEtBQU1oVSxLQUFLa1YsT0FDOUJsVixLQUFLeVQsVUFBVU8sSUFBSSxLQUFNaFUsS0FBS21WLE9BQzlCblYsS0FBS3lULFVBQVVPLElBQUksS0FBTWhVLEtBQUtvVixPQUM5QnBWLEtBQUt5VCxVQUFVTyxJQUFJLEtBQU1oVSxLQUFLcVYsUUFDOUJyVixLQUFLeVQsVUFBVU8sSUFBSSxLQUFNaFUsS0FBS3NWLFFBQzlCdFYsS0FBS3lULFVBQVVPLElBQUksS0FBTWhVLEtBQUswVixRQUM5QjFWLEtBQUt5VCxVQUFVTyxJQUFJLEtBQU1oVSxLQUFLdVYsT0FDOUJ2VixLQUFLeVQsVUFBVU8sSUFBSSxLQUFNaFUsS0FBS3dWLE9BQzlCeFYsS0FBS3lULFVBQVVPLElBQUksS0FBTWhVLEtBQUt5VixPQUU5QnpWLEtBQUt5VCxVQUFVblAsUUFBUXFSLElBQ25CM1YsS0FBS3lJLFFBQVFuRSxRQUFRc1IsSUFDakI1VixLQUFLNk0sUUFBUXhNLElBQUl3VixTQUFTRCxFQUFVOUksT0FBUTZJLEVBQUU3SSxVQUVsRDlNLEtBQUtxVCxRQUFRL08sUUFBUXdSLElBQ2pCOVYsS0FBSzZNLFFBQVF4TSxJQUFJd1YsU0FBU0MsRUFBUWhKLE9BQVE2SSxFQUFFN0ksWUFJcEQ5TSxLQUFLK1YsU0FBVyxJQUFJdEcsRUFBU3pQLEtBQU0sTUFBTyxJQUFNLElBQUssSUFBSyxJQUFLLE9BQy9EQSxLQUFLK1YsU0FBU2pKLE9BQU85RixTQUFTLEdBQzlCaEgsS0FBSzZNLFFBQVF4TSxJQUFJc1UsUUFBUTNVLEtBQUsrVixTQUFTakosT0FBUTlNLEtBQUttVCxPQUFPckcsT0FBUSxLQUMvRDlNLEtBQUswQixNQUFNQyxPQUNYM0IsS0FBSzBCLE1BQU1tRSxNQUFNLGFBRXpCLENBRUEsb0JBQUF3TyxHQUNJclUsS0FBS3FULFFBQVEvTyxRQUFTZ1AsSUFHbEJ0VCxLQUFLNk0sUUFBUXhNLElBQUl3VixTQUFTdkMsRUFBTXhHLE9BQVE5TSxLQUFLeUksUUFBUXBKLElBQUksV0FBV3lOLE9BQVEsS0FDcEV3RyxHQUFTdFQsS0FBS3lJLFFBQVFwSixJQUFJLFdBQVcrTyxPQUFTLElBQzlDcE8sS0FBS3lJLFFBQVFwSixJQUFJLFdBQVcrUixPQUFPLElBQ25DcFIsS0FBS2dXLHVCQUliaFcsS0FBSzZNLFFBQVF4TSxJQUFJd1YsU0FBU3ZDLEVBQU14RyxPQUFROU0sS0FBS3lJLFFBQVFwSixJQUFJLFdBQVd5TixPQUFRLEtBQ3BFd0csR0FBU3RULEtBQUt5SSxRQUFRcEosSUFBSSxXQUFXK08sT0FBUyxJQUM5Q3BPLEtBQUt5SSxRQUFRcEosSUFBSSxXQUFXK1IsT0FBTyxJQUNuQ3BSLEtBQUtnVyx1QkFLYmhXLEtBQUs2TSxRQUFReE0sSUFBSXNVLFFBQVFyQixFQUFNeEcsT0FBUTlNLEtBQUttVCxPQUFPRixNQUFNUixlQUFnQixLQUNqRXpTLEtBQUttVCxPQUFPRixNQUFNVixNQUFRZSxJQUMxQkEsRUFBTS9FLGFBQVksR0FDbEJ2TyxLQUFLeVIsS0FBS0MsWUFBWSxJQUFNLEtBQ3BCNEIsR0FDQUEsRUFBTS9FLGFBQVksUUFPbEN2TyxLQUFLNk0sUUFBUXhNLElBQUlzVSxRQUFRckIsRUFBTXhHLE9BQVE5TSxLQUFLeUksUUFBUXBKLElBQUksV0FBVzBTLGFBQWMsS0FDekV1QixHQUFPakcsVUFBWXJOLEtBQUt5SSxRQUFRcEosSUFBSSxXQUFXbVMsY0FDL0M4QixFQUFNakYsTUFDTmlGLEVBQU1sRyxRQUFTLEVBQ2ZrRyxFQUFRLFNBSXhCLENBRUEsaUJBQUEwQyxHQUNRaFcsS0FBS3lJLFFBQVFwSixJQUFJLFdBQVcrTyxRQUFVLEdBQUtwTyxLQUFLeUksUUFBUXBKLElBQUksV0FBVytPLFFBQVUsSUFDakZ4SixFQUFrQlMsbUJBQW1CVCxFQUFrQkksT0FBUyxHQUNoRUosRUFBa0JLLGlCQUFpQixDQUFFRCxPQUFRSixFQUFrQkksU0FDL0RoRixLQUFLMEIsTUFBTUMsT0FDWDNCLEtBQUswQixNQUFNbUUsTUFBTSxhQUd6QixDQUVBLE1BQUFtRixHQUNJaEwsS0FBS2lVLE1BQU1nQyxjQUE0QyxHQUE1QmpXLEtBQUsyTyxRQUFRQyxLQUFLRSxRQUU3QzlPLEtBQUswTyxPQUFPMUQsU0FDWmhMLEtBQUswVCxhQUFhMUksU0FFbEJoTCxLQUFLbVQsT0FBT0YsTUFBTWpJLFNBRWxCaEwsS0FBS3FULFFBQVEvTyxRQUFTZ1AsSUFDYkEsSUFBU0EsRUFBTWxHLE9BSXBCa0csRUFBTXRJLFNBSEZoTCxLQUFLcVQsUUFBUTZDLE9BQU81QyxFQUFNek8sS0FLdEMsQ0FHQSxnQkFBQTZQLEdBQ0kxVSxLQUFLMEIsTUFBTXFJLFFBQ1gvSixLQUFLMEIsTUFBTXFFLE9BQU8sc0JBQXVCLENBQUVvUSxjQUFlLGFBQzlELEVDalBHLE1BQU1DLFVBQW1CLFVBQzVCLFdBQUF2VyxHQUNJQyxNQUFNLGFBQ1YsQ0FFQSxNQUFBSyxDQUFPQyxHQUVISixLQUFLa0osTUFBTVksU0FBU3hJLEdBQUcsY0FBZSxLQUNsQ3RCLEtBQUtxVyxRQUFRalcsRUFBS3lCLGlCQUd0QjdCLEtBQUtLLElBQUlDLFVBQVUsSUFBSyxJQUFLLElBQUssSUFBSyxFQUFVLElBRWpETixLQUFLSyxJQUFJRyxLQUFLLElBQUssSUFBSyxnQkFBaUIsQ0FDckNDLFNBQVUsT0FDVkMsTUFBTyxZQUNQTSxnQkFBaUIsWUFDbEJULFVBQVUsSUFFYixNQUFNK1YsRUFBVXRXLEtBQUtLLElBQUlHLEtBQUssSUFBSyxJQUFLLFlBQWEsQ0FDakRDLFNBQVUsT0FDVkMsTUFBTyxZQUNQTSxnQkFBaUIsWUFDbEJULFVBQVUsSUFDUmEsZUFBZSxDQUFFQyxlQUFlLElBQ2hDQyxHQUFHLGNBQWUsSUFBTWdWLEVBQVEvVSxTQUFTLENBQUVnVixLQUFNLGVBQ2pEalYsR0FBRyxhQUFjLElBQU1nVixFQUFRL1UsU0FBUyxDQUFFZ1YsS0FBTSxhQUNoRGpWLEdBQUcsY0FBZSxLQUNmdEIsS0FBS3FXLFFBQVFqVyxFQUFLeUIsaUJBSXBCakIsRUFBYVosS0FBS2EsTUFBTUMsS0FBTyxpQkFBbUIsb0JBQ2xEQyxFQUFZZixLQUFLSyxJQUFJRyxLQUFLLElBQUssSUFBS0ksRUFBWSxDQUNsREgsU0FBVSxPQUNWQyxNQUFPLFlBQ1BNLGdCQUFpQixZQUNsQlQsVUFBVSxJQUNaYSxlQUFlLENBQUVDLGVBQWUsSUFDaENDLEdBQUcsY0FBZSxJQUFNUCxFQUFVUSxTQUFTLENBQUVnVixLQUFNLGVBQ25EalYsR0FBRyxhQUFjLElBQU1QLEVBQVVRLFNBQVMsQ0FBRWdWLEtBQU0sYUFDbERqVixHQUFHLGNBQWUsS0FDZnRCLEtBQUthLE1BQU1DLE1BQVFkLEtBQUthLE1BQU1DLEtBQzlCQyxFQUFVUyxRQUFReEIsS0FBS2EsTUFBTUMsS0FBTyxpQkFBbUIsdUJBR3JEMFYsRUFBVXhXLEtBQUtLLElBQUlHLEtBQUssSUFBSyxJQUFLLGlCQUFrQixDQUN0REMsU0FBVSxPQUNWQyxNQUFPLFlBQ1BNLGdCQUFpQixZQUNsQlQsVUFBVSxJQUNSYSxlQUFlLENBQUVDLGVBQWUsSUFDaENDLEdBQUcsY0FBZSxJQUFNa1YsRUFBUWpWLFNBQVMsQ0FBRWdWLEtBQU0sZUFDakRqVixHQUFHLGFBQWMsSUFBTWtWLEVBQVFqVixTQUFTLENBQUVnVixLQUFNLGFBQ2hEalYsR0FBRyxjQUFlLEtBQ2Z0QixLQUFLeVcsV0FBV3JXLEVBQUt5QixnQkFFakMsQ0FFQSxPQUFBd1UsQ0FBUXhVLEdBQ0o3QixLQUFLMEIsTUFBTUMsT0FDWDNCLEtBQUswQixNQUFNRSxPQUFPQyxFQUN0QixDQUVBLFVBQUE0VSxDQUFXNVUsR0FDUDdCLEtBQUswQixNQUFNQyxLQUFLRSxHQUNoQjdCLEtBQUthLE1BQU0yUyxVQUNYeFQsS0FBSzBCLE1BQU1tRSxNQUFNLFlBQ3JCLEVDcEVHLE1BQU02USxVQUFxQixVQUM5QixXQUFBN1csR0FDSUMsTUFBTSxlQUNWLENBRUEsTUFBQUssR0FFSUgsS0FBS0ssSUFBSUcsS0FBSyxJQUFLLElBQUsscUxBQ3hCLENBQUlDLFNBQVUsT0FDVkMsTUFBTyxZQUNQaVcsTUFBTyxXQUNScFcsVUFBVSxJQUViLE1BQU02RyxFQUFZcEgsS0FBS0ssSUFBSUcsS0FBSyxJQUFLLElBQUssU0FBVSxDQUNoREMsU0FBVSxPQUNWQyxNQUFPLFlBQ1BNLGdCQUFpQixjQUNsQlQsVUFBVSxJQUNaYSxlQUFlLENBQUNDLGVBQWUsSUFDL0JDLEdBQUcsY0FBZSxJQUFNOEYsRUFBVTdGLFNBQVMsQ0FBQ1AsZ0JBQWlCLGVBQzdETSxHQUFHLGFBQWMsSUFBTThGLEVBQVU3RixTQUFTLENBQUNQLGdCQUFpQixlQUM1RE0sR0FBRyxjQUFlLEtBQ2Z0QixLQUFLMEIsTUFBTW1FLE1BQU0sY0FJekIsRUMxQkcsTUFBTStRLEVBRVQsV0FBQS9XLENBQVk2QixFQUFPbUQsRUFBSXVMLEVBQU1DLEVBQU1DLEVBQWMsS0FBTXVHLEdBQ25EN1csS0FBSzZFLEdBQUtBLEVBQ1Y3RSxLQUFLMEIsTUFBUUEsRUFDYjFCLEtBQUtvUSxLQUFPQSxFQUNacFEsS0FBS3FRLEtBQU9BLEVBQ1pyUSxLQUFLNFEsWUFBYyxLQUNuQjVRLEtBQUs2VyxTQUFXQSxFQUNoQjdXLEtBQUtzTixTQUFXLElBQUl4QixFQUFTcEssRUFBTzRPLEVBQ3hDLENBRUEsT0FBQXZRLENBQVE4TixFQUFPQyxHQUNYOU4sS0FBS3NOLFNBQVN2TixRQUFROE4sRUFBT0MsRUFDakMsQ0FFQSxNQUFBM04sR0FFSUgsS0FBSzhNLE9BQVM5TSxLQUFLc04sU0FBU1AsYUFBYS9NLEtBQUtvUSxLQUFNcFEsS0FBS3FRLE1BR3JEclEsS0FBSzZXLFVBQ0w3VyxLQUFLc04sU0FBU25CLGdCQUFnQixRQUFRbk0sS0FBSzZFLEtBQU0sRUFBRyxFQUFHLEdBQ3ZEN0UsS0FBS3NOLFNBQVNuQixnQkFBZ0IsUUFBUW5NLEtBQUs2RSxLQUFNLEVBQUcsRUFBRyxHQUN2RDdFLEtBQUtzTixTQUFTbkIsZ0JBQWdCLFFBQVFuTSxLQUFLNkUsS0FBTSxFQUFHLEVBQUcsRUFBRyxHQUMxRDdFLEtBQUtzTixTQUFTbkIsZ0JBQWdCLE9BQU9uTSxLQUFLNkUsS0FBTSxFQUFHLEdBQUksRUFBRyxHQUMxRDdFLEtBQUtzTixTQUFTbkIsZ0JBQWdCLFFBQVFuTSxLQUFLNkUsS0FBTSxHQUFJLEdBQUksRUFBRyxHQUM1RDdFLEtBQUtzTixTQUFTbkIsZ0JBQWdCLFVBQVVuTSxLQUFLNkUsS0FBTSxHQUFJLEdBQUksRUFBRyxHQUM5RDdFLEtBQUs4TSxPQUFPYSxTQUFTLE9BRXJCM04sS0FBS3NOLFNBQVNuQixnQkFBZ0IsUUFBUW5NLEtBQUs2RSxLQUFNLEVBQUcsRUFBRyxHQUN2RDdFLEtBQUtzTixTQUFTbkIsZ0JBQWdCLGNBQWNuTSxLQUFLNkUsS0FBTSxFQUFHLEVBQUcsR0FDN0Q3RSxLQUFLc04sU0FBU25CLGdCQUFnQixrQkFBa0JuTSxLQUFLNkUsS0FBTSxFQUFHLEVBQUcsRUFBRyxHQUNwRTdFLEtBQUtzTixTQUFTbkIsZ0JBQWdCLGtCQUFrQm5NLEtBQUs2RSxLQUFNLEVBQUcsRUFBRyxFQUFHLEdBQ3BFN0UsS0FBS3NOLFNBQVNuQixnQkFBZ0IsT0FBT25NLEtBQUs2RSxLQUFNLEVBQUcsR0FBSSxFQUFHLEdBQzFEN0UsS0FBSzhNLE9BQU9hLFNBQVMsTUFLekIzTixLQUFLOE0sT0FBTzlGLFNBQVMsS0FHckJoSCxLQUFLOE0sT0FBT3ZHLEtBQUssUUFBUXZHLEtBQUs2RSxLQUNsQyxDQUVBLFFBQUFpTSxDQUFTOVIsR0FDRGdCLEtBQUs0USxjQUFnQjVSLElBQ3JCZ0IsS0FBSzhNLE9BQU92RyxLQUFLdkgsR0FBSyxHQUN0QmdCLEtBQUs0USxZQUFjNVIsRUFFM0IsQ0FHQSxpQkFBQThYLENBQWtCdEssRUFBT3VLLEVBQVEsS0FDN0IsSUFBSTVTLEVBQVEsRUFDWm5FLEtBQUswQixNQUFNK1AsS0FBS3VGLFNBQVMsQ0FDckJELFFBQ0FFLE1BQU0sRUFDTmpULFNBQVUsS0FDTmhFLEtBQUs4USxTQUFTdEUsRUFBTXJJLElBQ3BCQSxHQUFTQSxFQUFRLEdBQUtxSSxFQUFNMEssU0FHeEMsRUMvREcsTUFBTUMsVUFBbUIsVUFDNUIsV0FBQXRYLEdBQ0lDLE1BQU0sYUFDVixDQUVBLElBQUF5VCxHQUNJdlQsS0FBS29YLFFBQVUsSUFBSVIsRUFBTzVXLEtBQU0sTUFBTyxJQUFLLElBQUssc0JBQXNCLEdBQ3ZFQSxLQUFLcVgsUUFBVSxJQUFJVCxFQUFPNVcsS0FBTSxNQUFPLElBQUssSUFBSyxzQkFBc0IsR0FDdkVBLEtBQUtzWCxRQUFVLElBQUlWLEVBQU81VyxLQUFNLE1BQU8sSUFBSyxJQUFLLHNCQUFzQixHQUN2RUEsS0FBS3VYLFFBQVUsSUFBSVgsRUFBTzVXLEtBQU0sTUFBTyxJQUFLLElBQUssc0JBQXNCLEdBRXZFQSxLQUFLd1gsTUFBUSxJQUFJWixFQUFPNVcsS0FBTSxNQUFPLElBQUssSUFBSyxvQkFBb0IsR0FDbkVBLEtBQUt5WCxNQUFRLElBQUliLEVBQU81VyxLQUFNLE1BQU8sSUFBSyxJQUFLLG9CQUFvQixHQUNuRUEsS0FBSzBYLE1BQVEsSUFBSWQsRUFBTzVXLEtBQU0sTUFBTyxJQUFLLElBQUssb0JBQW9CLEdBQ25FQSxLQUFLMlgsTUFBUSxJQUFJZixFQUFPNVcsS0FBTSxNQUFPLElBQUssSUFBSyxvQkFBb0IsR0FFbkVBLEtBQUs0WCxTQUFXLENBQUM1WCxLQUFLb1gsUUFBU3BYLEtBQUtxWCxRQUFTclgsS0FBS3NYLFFBQVN0WCxLQUFLdVgsUUFBU3ZYLEtBQUt3WCxNQUFPeFgsS0FBS3lYLE1BQU96WCxLQUFLMFgsTUFBTzFYLEtBQUsyWCxPQUVsSDNYLEtBQUsyVCxPQUFTLElBQUlpRCxFQUFPNVcsS0FBTSxTQUFVLElBQUssR0FBSSx1QkFBdUIsR0FDekVBLEtBQUs0VCxPQUFTLElBQUlnRCxFQUFPNVcsS0FBTSxTQUFVLElBQUssR0FBSSx1QkFBdUIsR0FDekVBLEtBQUs2VCxPQUFTLElBQUkrQyxFQUFPNVcsS0FBTSxTQUFVLElBQUssSUFBSyx1QkFBdUIsR0FDMUVBLEtBQUs4VCxPQUFTLElBQUk4QyxFQUFPNVcsS0FBTSxTQUFVLElBQUssSUFBSyx1QkFBdUIsR0FFMUVBLEtBQUs2WCxTQUFXLENBQUM3WCxLQUFLMlQsT0FBUTNULEtBQUs0VCxPQUFRNVQsS0FBSzZULE9BQVE3VCxLQUFLOFQsT0FDakUsQ0FFQSxPQUFBL1QsR0FHSUMsS0FBS0MsS0FBS0MsTUFBTSxRQUFTLHlCQUN6QkYsS0FBS0MsS0FBS0MsTUFBTSxTQUFVLG9CQUMxQkYsS0FBS0MsS0FBS0MsTUFBTSxXQUFZLG1DQUM1QkYsS0FBS0MsS0FBS0MsTUFBTSxTQUFVLGlDQUMxQkYsS0FBS0MsS0FBS0MsTUFBTSxVQUFXLHNCQUMzQkYsS0FBS0MsS0FBS0MsTUFBTSxjQUFlLDBCQUUvQkYsS0FBSzRYLFNBQVN0VCxRQUFRd1QsR0FBVUEsRUFBTy9YLFFBQVEsSUFBSyxNQUNwREMsS0FBSzZYLFNBQVN2VCxRQUFRd1QsR0FBVUEsRUFBTy9YLFFBQVEsSUFBSyxLQUN4RCxDQUVBLE1BQUFJLEdBQ0lILEtBQUsrWCxVQUFZLENBQ2IsaUpBQ0EscUdBQ0Esa0ZBQ0EsNEhBQ0EsSUFDQSxLQUVKL1gsS0FBS2dZLFVBQVksRUFDakJoWSxLQUFLaVksWUFBYSxFQUNsQmpZLEtBQUtrWSxZQUFjbFksS0FBS0ssSUFBSUgsTUFBTSxJQUFLLElBQUssV0FFNUNGLEtBQUttWSxZQUFjblksS0FBS0ssSUFBSUgsTUFBTSxJQUFLLElBQUssU0FDNUNGLEtBQUtvWSxZQUFjcFksS0FBS0ssSUFBSUgsTUFBTSxJQUFLLElBQUssZUFDNUNGLEtBQUtxWSxZQUFjclksS0FBS0ssSUFBSUgsTUFBTSxJQUFLLElBQUssVUFDNUNGLEtBQUtzWSxjQUFnQnRZLEtBQUtLLElBQUlILE1BQU0sSUFBSyxJQUFLLFlBQzlDRixLQUFLdVksWUFBY3ZZLEtBQUtLLElBQUlILE1BQU0sSUFBSyxJQUFLLFVBQzVDRixLQUFLc1ksY0FBYzNLLFNBQVMsSUFDNUIzTixLQUFLdVksWUFBWTVLLFNBQVMsSUFDMUIzTixLQUFLd1ksZUFBaUIsQ0FBQ3hZLEtBQUttWSxZQUFhblksS0FBS29ZLFlBQWFwWSxLQUFLcVksWUFBYXJZLEtBQUtzWSxjQUFldFksS0FBS3VZLGFBQ3RHdlksS0FBS3dZLGVBQWVsVSxRQUFRcEUsR0FBU0EsRUFBTThSLFlBQVcsSUFJdERoUyxLQUFLb1gsUUFBUWpYLFNBQ2JILEtBQUtvWCxRQUFRdEcsU0FBUyxZQUN0QjlRLEtBQUtvWCxRQUFRdEssT0FBT21CLE9BQVEsRUFDNUJqTyxLQUFLcVgsUUFBUWxYLFNBQ2JILEtBQUtxWCxRQUFRdkcsU0FBUyxZQUN0QjlRLEtBQUtxWCxRQUFRdkssT0FBT21CLE9BQVEsRUFDNUJqTyxLQUFLc1gsUUFBUW5YLFNBQ2JILEtBQUtzWCxRQUFRUixrQkFBa0IsQ0FBQyxXQUFZLFVBQVcsWUFBYSxLQUNwRTlXLEtBQUt1WCxRQUFRcFgsU0FDYkgsS0FBS3VYLFFBQVFULGtCQUFrQixDQUFDLFdBQVksY0FBZSxLQUMzRDlXLEtBQUt3WCxNQUFNclgsU0FDWEgsS0FBS3dYLE1BQU0xRyxTQUFTLFlBQ3BCOVEsS0FBS3dYLE1BQU0xSyxPQUFPbUIsT0FBUSxFQUMxQmpPLEtBQUt5WCxNQUFNdFgsU0FDWEgsS0FBS3lYLE1BQU0zRyxTQUFTLFlBQ3BCOVEsS0FBS3lYLE1BQU0zSyxPQUFPbUIsT0FBUSxFQUMxQmpPLEtBQUswWCxNQUFNdlgsU0FDWEgsS0FBSzBYLE1BQU1aLGtCQUFrQixDQUFDLFdBQVksVUFBVyxZQUFhLEtBQ2xFOVcsS0FBSzJYLE1BQU14WCxTQUNYSCxLQUFLMlgsTUFBTWIsa0JBQWtCLENBQUMsV0FBWSxjQUFlLEtBRXpEOVcsS0FBSzRYLFNBQVN0VCxRQUFRd1QsR0FBVUEsRUFBT2hMLE9BQU9rRixZQUFXLElBRXpEaFMsS0FBSzJULE9BQU94VCxTQUNaSCxLQUFLMlQsT0FBTzdDLFNBQVMsZUFDckI5USxLQUFLNFQsT0FBT3pULFNBQ1pILEtBQUs0VCxPQUFPOUMsU0FBUyxxQkFDckI5USxLQUFLNlQsT0FBTzFULFNBQ1pILEtBQUs2VCxPQUFPL0MsU0FBUyxxQkFDckI5USxLQUFLOFQsT0FBTzNULFNBQ1pILEtBQUs4VCxPQUFPZ0Qsa0JBQWtCLENBQUMsd0JBQXlCLGNBQWUsS0FFdkU5VyxLQUFLNlgsU0FBU3ZULFFBQVF3VCxHQUFVQSxFQUFPaEwsT0FBT2tGLFlBQVcsSUFHekQsTUFBTXlHLEVBQVV6WSxLQUFLSyxJQUFJRyxLQUFLLElBQUssSUFBSyxZQUFhLENBQ2pEQyxTQUFVLE9BQ1ZDLE1BQU8sWUFDUE0sZ0JBQWlCLGNBQ2xCVCxVQUFVLElBQ1JhLGVBQWUsQ0FBRUMsZUFBZSxJQUNoQ0MsR0FBRyxjQUFlLElBQU1tWCxFQUFRbFgsU0FBUyxDQUFFUCxnQkFBaUIsZUFDNURNLEdBQUcsYUFBYyxJQUFNbVgsRUFBUWxYLFNBQVMsQ0FBRVAsZ0JBQWlCLGVBQzNETSxHQUFHLGNBQWUsS0FFZixPQURLdEIsS0FBS2lZLFlBQWNqWSxLQUFLMFksV0FDckIxWSxLQUFLZ1ksV0FDVCxLQUFLLEVBQ0RoWSxLQUFLa1ksWUFBWWxHLFlBQVcsR0FDNUJoUyxLQUFLbVksWUFBWW5HLFlBQVcsR0FDNUIsTUFFSixLQUFLLEVBQ0RoUyxLQUFLbVksWUFBWW5HLFlBQVcsR0FDNUJoUyxLQUFLb1ksWUFBWXBHLFlBQVcsR0FDNUIsTUFFSixLQUFLLEVBQ0RoUyxLQUFLb1ksWUFBWXBHLFlBQVcsR0FDNUJoUyxLQUFLcVksWUFBWXJHLFlBQVcsR0FDNUIsTUFFSixLQUFLLEVBQ0RoUyxLQUFLcVksWUFBWXJHLFlBQVcsR0FDNUJoUyxLQUFLc1ksY0FBY3RHLFlBQVcsR0FDOUJoUyxLQUFLNFgsU0FBU3RULFFBQVF3VCxHQUFVQSxFQUFPaEwsT0FBT2tGLFlBQVcsSUFDekQsTUFFSixLQUFLLEVBQ0RoUyxLQUFLc1ksY0FBY3RHLFlBQVcsR0FDOUJoUyxLQUFLdVksWUFBWXZHLFlBQVcsR0FFNUJoUyxLQUFLNFgsU0FBU3RULFFBQVF3VCxHQUFVQSxFQUFPaEwsT0FBT2tGLFlBQVcsSUFFekRoUyxLQUFLdVgsUUFBUXpLLE9BQU9rRixZQUFXLEdBQy9CaFMsS0FBS3VYLFFBQVF6SyxPQUFPNUwsRUFBSSxJQUN4QmxCLEtBQUt1WCxRQUFRekssT0FBTzNMLEVBQUksSUFFeEJuQixLQUFLMlgsTUFBTTdLLE9BQU9rRixZQUFXLEdBQzdCaFMsS0FBSzJYLE1BQU03SyxPQUFPNUwsRUFBSSxJQUN0QmxCLEtBQUsyWCxNQUFNN0ssT0FBTzNMLEVBQUksSUFFdEJuQixLQUFLNlgsU0FBU3ZULFFBQVF3VCxHQUFVQSxFQUFPaEwsT0FBT2tGLFlBQVcsSUFDekQsTUFFSixRQUNJaFMsS0FBS3dZLGVBQWVsVSxRQUFRcEUsR0FBU0EsRUFBTThSLFlBQVcsT0FJdEVoUyxLQUFLUSxLQUFPUixLQUFLSyxJQUFJRyxLQUFLLElBQUssSUFBSyxHQUFJLENBQ3BDQyxTQUFVLE9BQ1ZDLE1BQU8sWUFDUGlXLE1BQU8sV0FHUnBXLFVBQVUsSUFFYixNQUFNb1ksRUFBVTNZLEtBQUtLLElBQUlHLEtBQUssSUFBSyxJQUFLLFNBQVUsQ0FDOUNDLFNBQVUsT0FDVkMsTUFBTyxZQUNQTSxnQkFBaUIsY0FDbEJULFVBQVUsSUFDUmEsZUFBZSxDQUFFQyxlQUFlLElBQ2hDQyxHQUFHLGNBQWUsSUFBTXFYLEVBQVFwWCxTQUFTLENBQUVQLGdCQUFpQixlQUM1RE0sR0FBRyxhQUFjLElBQU1xWCxFQUFRcFgsU0FBUyxDQUFFUCxnQkFBaUIsZUFDM0RNLEdBQUcsY0FBZSxLQUNmdEIsS0FBSzBCLE1BQU1tRSxNQUFNLGVBR3pCN0YsS0FBSzRZLFVBQ1QsQ0FFQSxRQUFBQSxHQUNRNVksS0FBS2dZLFVBQVloWSxLQUFLK1gsVUFBVWIsT0FDaENsWCxLQUFLNlksT0FBTzdZLEtBQUsrWCxVQUFVL1gsS0FBS2dZLFlBRWhDaFksS0FBSzBCLE1BQU1tRSxNQUFNLFlBRXpCLENBRUEsTUFBQWdULENBQU9yWSxHQUNIUixLQUFLaVksWUFBYSxFQUNsQixJQUFJOVQsRUFBUSxFQUNaLE1BRU0yVSxFQUFZLEtBQ1YzVSxFQUFRM0QsRUFBSzBXLFFBQ2JsWCxLQUFLUSxLQUFLZ0IsUUFBUWhCLEVBQUt1WSxVQUFVLEVBQUc1VSxFQUFRLElBQzVDQSxJQUNBbkUsS0FBS3lSLEtBQUtDLFlBTkosR0FNdUJvSCxJQUU3QjlZLEtBQUtpWSxZQUFhLEdBSTFCYSxHQUNKLENBQ0EsUUFBQUosR0FDSTFZLEtBQUtnWSxZQUNMaFksS0FBSzRZLFVBQ1QsRUM5TUcsTUFBTUksVUFBaUIsVUFDMUIsV0FBQW5aLEdBQ0lDLE1BQU0sV0FDVixDQUVBLE9BQUFDLEdBQ0lDLEtBQUtDLEtBQUtDLE1BQU0sS0FBTSx1QkFDdEJGLEtBQUtDLEtBQUtDLE1BQU0sS0FBTSwwQkFDdEJGLEtBQUtDLEtBQUtDLE1BQU0sS0FBTSw0QkFDdEJGLEtBQUtDLEtBQUtDLE1BQU0sS0FBTSwyQkFHMUIsQ0FFQSxNQUFBQyxHQUNJSCxLQUFLK1gsVUFBWSxDQUNiLHlGQUNBLDZIQUNBLCtDQUNBLGVBRUovWCxLQUFLZ1ksVUFBWSxFQUNqQmhZLEtBQUtpWSxZQUFhLEVBRWxCalksS0FBS2laLFVBQVlqWixLQUFLSyxJQUFJSCxNQUFNLElBQUssSUFBSyxNQUMxQ0YsS0FBS2taLFVBQVlsWixLQUFLSyxJQUFJSCxNQUFNLElBQUssSUFBSyxNQUMxQ0YsS0FBS21aLFVBQVluWixLQUFLSyxJQUFJSCxNQUFNLElBQUssSUFBSyxNQUMxQ0YsS0FBS29aLFVBQVlwWixLQUFLSyxJQUFJSCxNQUFNLElBQUssSUFBSyxNQUMxQ0YsS0FBS3FaLFVBQVksQ0FBQ3JaLEtBQUtrWixVQUFXbFosS0FBS21aLFVBQVduWixLQUFLb1osV0FDdkRwWixLQUFLcVosVUFBVS9VLFFBQVFwRSxHQUFTQSxFQUFNOFIsWUFBVyxJQUVqRCxNQUFNeUcsRUFBVXpZLEtBQUtLLElBQUlHLEtBQUssSUFBSyxJQUFLLFlBQWEsQ0FDakRDLFNBQVUsT0FDVkMsTUFBTyxZQUNQTSxnQkFBaUIsY0FDbEJULFVBQVUsSUFDUmEsZUFBZSxDQUFFQyxlQUFlLElBQ2hDQyxHQUFHLGNBQWUsSUFBTW1YLEVBQVFsWCxTQUFTLENBQUVQLGdCQUFpQixlQUM1RE0sR0FBRyxhQUFjLElBQU1tWCxFQUFRbFgsU0FBUyxDQUFFUCxnQkFBaUIsZUFDM0RNLEdBQUcsY0FBZSxLQUVmLE9BREt0QixLQUFLaVksWUFBY2pZLEtBQUswWSxXQUNyQjFZLEtBQUtnWSxXQUNULEtBQUssRUFDRGhZLEtBQUtpWixVQUFVakgsWUFBVyxHQUMxQmhTLEtBQUtrWixVQUFVbEgsWUFBVyxHQUMxQixNQUVKLEtBQUssRUFDRGhTLEtBQUtrWixVQUFVbEgsWUFBVyxHQUMxQmhTLEtBQUttWixVQUFVbkgsWUFBVyxHQUMxQixNQUVKLEtBQUssRUFDRGhTLEtBQUttWixVQUFVbkgsWUFBVyxHQUMxQmhTLEtBQUtvWixVQUFVcEgsWUFBVyxHQUMxQixNQUVKLEtBQUssRUFDRGhTLEtBQUtvWixVQUFVcEgsWUFBVyxNQUsxQ2hTLEtBQUtzWixNQUFRdFosS0FBS0ssSUFBSUcsS0FBSyxJQUFLLElBQUssR0FBSSxDQUNyQ0MsU0FBVSxPQUNWQyxNQUFPLFlBQ1BpVyxNQUFPLFdBR1JwVyxVQUFVLElBRWIsTUFBTW9ZLEVBQVUzWSxLQUFLSyxJQUFJRyxLQUFLLElBQUssSUFBSyxTQUFVLENBQzlDQyxTQUFVLE9BQ1ZDLE1BQU8sWUFDUE0sZ0JBQWlCLGNBQ2xCVCxVQUFVLElBQ1JhLGVBQWUsQ0FBRUMsZUFBZSxJQUNoQ0MsR0FBRyxjQUFlLElBQU1xWCxFQUFRcFgsU0FBUyxDQUFFUCxnQkFBaUIsZUFDNURNLEdBQUcsYUFBYyxJQUFNcVgsRUFBUXBYLFNBQVMsQ0FBRVAsZ0JBQWlCLGVBQzNETSxHQUFHLGNBQWUsS0FDZnRCLEtBQUswQixNQUFNbUUsTUFBTSxnQkFHekI3RixLQUFLNFksVUFFVCxDQUVBLFFBQUFBLEdBQ1E1WSxLQUFLZ1ksVUFBWWhZLEtBQUsrWCxVQUFVYixPQUNoQ2xYLEtBQUs2WSxPQUFPN1ksS0FBSytYLFVBQVUvWCxLQUFLZ1ksWUFFaENoWSxLQUFLMEIsTUFBTW1FLE1BQU0sYUFFekIsQ0FFQSxNQUFBZ1QsQ0FBT3JZLEdBQ0hSLEtBQUtpWSxZQUFhLEVBQ2xCLElBQUlzQixFQUFNLEVBQ1YsTUFFTUMsRUFBYyxLQUNaRCxFQUFNL1ksRUFBSzBXLFFBQ1hsWCxLQUFLc1osTUFBTTlYLFFBQVFoQixFQUFLdVksVUFBVSxFQUFHUSxFQUFNLElBQzNDQSxJQUNBdlosS0FBS3lSLEtBQUtDLFlBTkosR0FNdUI4SCxJQUU3QnhaLEtBQUtpWSxZQUFhLEdBSTFCdUIsR0FDSixDQUNBLFFBQUFkLEdBQ0kxWSxLQUFLZ1ksWUFDTGhZLEtBQUs0WSxVQUNULEVDM0dHLE1BQU1hLFVBQW1CLFVBQzVCLFdBQUE1WixHQUNJQyxNQUFNLGFBQ1YsQ0FFQSxPQUFBQyxHQUNJQyxLQUFLbVQsT0FBT3BULFFBQVEsSUFBSyxLQUN6QkMsS0FBS29ULEtBQUtyVCxRQUFRLElBQUssS0FDdkJDLEtBQUtDLEtBQUt3RixNQUFNLFVBQVcsa0NBRzNCekYsS0FBS0MsS0FBS0MsTUFBTSxRQUFTLDhCQUN6QkYsS0FBS0MsS0FBS0MsTUFBTSxLQUFNLGdDQUN0QkYsS0FBS0MsS0FBS0MsTUFBTSxRQUFTLDBCQUN6QkYsS0FBS0MsS0FBS0MsTUFBTSxLQUFNLGdDQUN0QkYsS0FBS0MsS0FBS0MsTUFBTSxLQUFNLDZCQUN0QkYsS0FBS0MsS0FBS0MsTUFBTSxNQUFPLDZCQUV2QkYsS0FBS3FULFFBQVEvTyxRQUFRZ1AsR0FBU0EsRUFBTXZULFVBQ3hDLENBRUEsSUFBQXdULEdBQ0l2VCxLQUFLYSxNQUFNMlMsVUFDWHhULEtBQUttSixpQkFBbUIsSUFBSVgsRUFDNUJ4SSxLQUFLeUksUUFBVSxJQUFJQyxJQUNuQjFJLEtBQUtxVCxRQUFVLElBQUkzSyxJQUNuQjFJLEtBQUt5VCxVQUFZLElBQUkvSyxJQUNyQjFJLEtBQUt1SixVQUFXLEVBQ2hCdkosS0FBSzBULGFBQWUsSUFBSTFLLEVBQWFoSixLQUFNQSxLQUFLMEIsTUFBTzFCLEtBQUtrSixNQUFPbEosS0FBS21KLGtCQUN4RW5KLEtBQUttVCxPQUFTLElBQUlILEVBQU9oVCxLQUFNLFVBQVcsSUFBSyxJQUFLLElBQUssc0JBQ3pEQSxLQUFLb1QsS0FBTyxJQUFJdEIsRUFBSzlSLEtBQU0sVUFBVyxJQUFLLElBQUssSUFBSyxvQkFTckRBLEtBQUswTyxPQUFTLElBQUlELEVBQU96TyxLQUFNQSxLQUFLeUksUUFPeEMsQ0FFQSxNQUFBdEksR0FFSUgsS0FBS3NHLE1BQVF0RyxLQUFLYSxNQUFNUixJQUFJLFdBQzVCTCxLQUFLc0csTUFBTUMsT0FDWHZHLEtBQUtzRyxNQUFNRSxVQUFVLEtBR3JCeEcsS0FBS2lVLE1BQVFqVSxLQUFLSyxJQUFJNlQsV0FBVyxFQUFHLEVBQUcsSUFBTSxJQUFNLFNBQzlDM1QsVUFBVSxFQUFHLEdBQ2I0VCxnQkFBZ0IsSUFDaEJ4RyxTQUFTLElBR2QzTixLQUFLbVQsT0FBT2hULFNBQ1pILEtBQUtvVCxLQUFLalQsU0FHVkgsS0FBS3lJLFFBQVF1TCxJQUFJLFVBQVdoVSxLQUFLbVQsUUFDakNuVCxLQUFLeUksUUFBUXVMLElBQUksVUFBV2hVLEtBQUtvVCxNQUVqQ3BULEtBQUswVCxhQUFhakwsUUFBVXpJLEtBQUt5SSxRQUdqQ3pJLEtBQUtxVCxRQUFRL08sUUFBU2dQLElBQ2xCQSxFQUFNblQsV0FHVkgsS0FBS29VLHVCQUNMcFUsS0FBS3FVLHVCQUNMclUsS0FBS3NVLHVCQUVMdFUsS0FBSzZNLFFBQVEwSCxNQUFNQyxVQUFVLEVBQUcsRUFBRyxLQUFNLEtBQ3pDeFUsS0FBSzBPLE9BQU9BLE9BQU84RixVQUFVLEVBQUcsRUFBRyxLQUFNLEtBRXpDeFUsS0FBSzBPLE9BQU9BLE9BQU8rRixRQUFRLEdBQUssR0FFcEMsQ0FFQSxvQkFBQUgsR0FDSXRVLEtBQUs2TSxRQUFReE0sSUFBSXNVLFFBQVEzVSxLQUFLeUksUUFBUXBKLElBQUksV0FBV3lOLE9BQVE5TSxLQUFLeUksUUFBUXBKLElBQUksV0FBV3lOLE9BQVEsS0FDekY5TSxLQUFLeUksUUFBUXBKLElBQUksV0FBVytPLFFBQVUsR0FBS3BPLEtBQUt5SSxRQUFRcEosSUFBSSxXQUFXK08sT0FBUyxFQUNoRnBPLEtBQUt5SSxRQUFRcEosSUFBSSxXQUFXdVMsU0FFdkI1UixLQUFLeUksUUFBUXBKLElBQUksV0FBVytPLFFBQVUsR0FBS3BPLEtBQUt5SSxRQUFRcEosSUFBSSxXQUFXK08sT0FBUyxHQUNyRnBPLEtBQUt5SSxRQUFRcEosSUFBSSxXQUFXdVMsVUFHeEMsQ0FFQSxvQkFBQXdDLEdBR0lwVSxLQUFLNFUsT0FBUyxJQUFJbkYsRUFBU3pQLEtBQU0sS0FBTSxLQUFNLElBQUssSUFBTSxHQUFJLFNBaUI1REEsS0FBS3lULFVBQVVPLElBQUksS0FBTWhVLEtBQUs0VSxRQWdCOUI1VSxLQUFLeVQsVUFBVW5QLFFBQVFxUixJQUNuQjNWLEtBQUt5SSxRQUFRbkUsUUFBUXNSLElBQ2pCNVYsS0FBSzZNLFFBQVF4TSxJQUFJd1YsU0FBU0QsRUFBVTlJLE9BQVE2SSxFQUFFN0ksVUFFbEQ5TSxLQUFLcVQsUUFBUS9PLFFBQVF3UixJQUNqQjlWLEtBQUs2TSxRQUFReE0sSUFBSXdWLFNBQVNDLEVBQVFoSixPQUFRNkksRUFBRTdJLFdBVXhELENBRUEsb0JBQUF1SCxHQUNJclUsS0FBS3FULFFBQVEvTyxRQUFTZ1AsSUFHbEJ0VCxLQUFLNk0sUUFBUXhNLElBQUl3VixTQUFTdkMsRUFBTXhHLE9BQVE5TSxLQUFLeUksUUFBUXBKLElBQUksV0FBV3lOLE9BQVEsS0FDcEV3RyxHQUFTdFQsS0FBS3lJLFFBQVFwSixJQUFJLFdBQVcrTyxPQUFTLElBQzlDcE8sS0FBS3lJLFFBQVFwSixJQUFJLFdBQVcrUixPQUFPLElBQ25DcFIsS0FBS2dXLHVCQUliaFcsS0FBSzZNLFFBQVF4TSxJQUFJd1YsU0FBU3ZDLEVBQU14RyxPQUFROU0sS0FBS3lJLFFBQVFwSixJQUFJLFdBQVd5TixPQUFRLEtBQ3BFd0csR0FBU3RULEtBQUt5SSxRQUFRcEosSUFBSSxXQUFXK08sT0FBUyxJQUM5Q3BPLEtBQUt5SSxRQUFRcEosSUFBSSxXQUFXK1IsT0FBTyxJQUNuQ3BSLEtBQUtnVyx1QkFLYmhXLEtBQUs2TSxRQUFReE0sSUFBSXNVLFFBQVFyQixFQUFNeEcsT0FBUTlNLEtBQUttVCxPQUFPRixNQUFNUixlQUFnQixLQUNqRXpTLEtBQUttVCxPQUFPRixNQUFNVixNQUFRZSxJQUMxQkEsRUFBTS9FLGFBQVksR0FDbEJ2TyxLQUFLeVIsS0FBS0MsWUFBWSxJQUFNLEtBQ3BCNEIsR0FDQUEsRUFBTS9FLGFBQVksUUFPbEN2TyxLQUFLNk0sUUFBUXhNLElBQUlzVSxRQUFRckIsRUFBTXhHLE9BQVE5TSxLQUFLeUksUUFBUXBKLElBQUksV0FBVzBTLGFBQWMsS0FDekV1QixHQUFPakcsVUFBWXJOLEtBQUt5SSxRQUFRcEosSUFBSSxXQUFXbVMsY0FDL0M4QixFQUFNakYsTUFDTmlGLEVBQU1sRyxRQUFTLEVBQ2ZrRyxFQUFRLFNBSXhCLENBRUEsaUJBQUEwQyxHQUNRaFcsS0FBS3lJLFFBQVFwSixJQUFJLFdBQVcrTyxRQUFVLEdBQUtwTyxLQUFLeUksUUFBUXBKLElBQUksV0FBVytPLFFBQVUsSUFDakZwTyxLQUFLMEIsTUFBTUMsT0FDWDNCLEtBQUswQixNQUFNbUUsTUFBTSxhQUV6QixDQUVBLE1BQUFtRixHQUNJaEwsS0FBS2lVLE1BQU1nQyxjQUE0QyxHQUE1QmpXLEtBQUsyTyxRQUFRQyxLQUFLRSxRQUU3QzlPLEtBQUswTyxPQUFPMUQsU0FDWmhMLEtBQUswVCxhQUFhMUksU0FFbEJoTCxLQUFLbVQsT0FBT0YsTUFBTWpJLFNBRWxCaEwsS0FBS3FULFFBQVEvTyxRQUFTZ1AsSUFDYkEsSUFBU0EsRUFBTWxHLE9BSXBCa0csRUFBTXRJLFNBSEZoTCxLQUFLcVQsUUFBUTZDLE9BQU81QyxFQUFNek8sS0FLdEMsRUN4TkcsTUFBTTZVLFVBQTRCLFVBQ3JDLFdBQUE3WixHQUNJQyxNQUFNLHVCQUNORSxLQUFLMlosdUJBQXlCLElBQ2xDLENBRUEsSUFBQXBHLENBQUtuVCxHQUVESixLQUFLbVcsY0FBZ0IvVixFQUFLK1YsYUFDOUIsQ0FFQSxNQUFBaFcsR0FFSUgsS0FBS0ssSUFBSUMsVUFBVSxJQUFLLElBQUssSUFBSyxJQUFLLEVBQVUsSUFHakROLEtBQUtLLElBQUlHLEtBQUssSUFBSyxJQUFLLG1CQUFvQixDQUN4Q0MsU0FBVSxPQUNWQyxNQUFPLFVBQ1BDLFVBQVcsU0FDWkosVUFBVSxJQUdiUCxLQUFLNFosV0FBYTVaLEtBQUtLLElBQUlHLEtBQUssSUFBSyxJQUFLLDJCQUE0QixDQUNsRUMsU0FBVSxPQUNWQyxNQUFPLFlBQ1JILFVBQVUsSUFHYlAsS0FBSzZaLGFBQWUsRUFDcEI3WixLQUFLOFosWUFBYzlaLEtBQUtLLElBQUlHLEtBQUssSUFBSyxJQUFLLGNBQWUsQ0FDdERDLFNBQVUsT0FDVkMsTUFBTyxZQUNSSCxVQUFVLElBR2JQLEtBQUsrWixTQUFXLEVBQ2hCL1osS0FBS3lSLEtBQUt1RixTQUFTLENBQ2ZELE1BQU8sSUFDUC9TLFNBQVUsS0FDTmhFLEtBQUsrWixVQUFZL1osS0FBSytaLFNBQVcsR0FBSyxFQUN0QyxNQUFNQyxFQUFPLElBQUl6TixPQUFPdk0sS0FBSytaLFVBQzdCL1osS0FBSzRaLFdBQVdwWSxRQUFRLHdCQUF3QndZLE1BRXBEL0MsTUFBTSxJQUlWalgsS0FBSzBHLG1CQUFzQnRHLElBQ25CQSxFQUFLb0QsV0FDTHhELEtBQUtpYSxpQkFHYm5ZLEVBQWtCaUMsWUFBWS9ELEtBQUswRyxvQkFHbkMxRyxLQUFLMlosdUJBQXlCbFYsWUFBWSxLQUN0Q3pFLEtBQUtrYSxvQkFDTixLQUdIbGEsS0FBS2thLGtCQUNULENBRUEsc0JBQU1BLEdBRUYsR0FEQWxhLEtBQUs2WixlQUNEN1osS0FBSzZaLGFBQWUsR0FHcEIsT0FGQTdaLEtBQUs0WixXQUFXcFksUUFBUSwwQ0FDeEJ4QixLQUFLNFosV0FBV3BTLFNBQVMsV0FHN0J4SCxLQUFLOFosWUFBWXRZLFFBQVEsYUFBYXhCLEtBQUs2WixzQkFDckMvWCxFQUFrQmdCLGlCQUM1QixDQUVBLGFBQUFtWCxHQUVRamEsS0FBSzJaLHdCQUNMaFYsY0FBYzNFLEtBQUsyWix3QkFJdkI3WCxFQUFrQm9DLGVBQWVsRSxLQUFLMEcsb0JBR3RDMUcsS0FBSzRaLFdBQVdwWSxRQUFRLDJCQUN4QnhCLEtBQUs0WixXQUFXcFMsU0FBUyxXQUd6QnhILEtBQUt5UixLQUFLQyxZQUFZLElBQU0sS0FDeEIxUixLQUFLMEIsTUFBTUMsT0FDUDNCLEtBQUttVyxlQUNMblcsS0FBSzBCLE1BQU1FLE9BQU81QixLQUFLbVcsZ0JBR25DLENBRUEsUUFBQTFPLEdBRVF6SCxLQUFLMlosd0JBQ0xoVixjQUFjM0UsS0FBSzJaLHdCQUduQjNaLEtBQUswRyxvQkFDTDVFLEVBQWtCb0MsZUFBZWxFLEtBQUswRyxtQkFFOUMsRUM5RzRCLFVDQXpCLE1BQU15VCxVQUF5QnhhLE9BQU95YSxNQUMzQyxXQUFBdmEsR0FDRUMsTUFBTSxvQkFDTkUsS0FBS3FKLEdBQUssSUFDWixDQUVBLE1BQUFsSixHQUNFLE1BQU0wTixFQUFRN04sS0FBSzJPLFFBQVFDLEtBQUtmLE1BQzFCQyxFQUFTOU4sS0FBSzJPLFFBQVFDLEtBQUtkLE9BR2pDOU4sS0FBS0ssSUFBSUcsS0FBS3FOLEVBQVEsRUFBRyxJQUFLLHFCQUFzQixDQUNsRHBOLFNBQVUsT0FDVkMsTUFBTyxjQUNOSCxVQUFVLElBR2JQLEtBQUs0WixXQUFhNVosS0FBS0ssSUFBSUcsS0FBS3FOLEVBQVEsRUFBR0MsRUFBUyxFQUFJLEdBQUksMEJBQTJCLENBQ3JGck4sU0FBVSxPQUNWQyxNQUFPLGNBQ05ILFVBQVUsSUFHYlAsS0FBS3FhLGdCQUFrQnJhLEtBQUtLLElBQUlHLEtBQUtxTixFQUFRLEVBQUdDLEVBQVMsRUFBSSxHQUFJLEdBQUksQ0FDbkVyTixTQUFVLE9BQ1ZDLE1BQU8sY0FDTkgsVUFBVSxJQUdiLE1BQU0rWixFQUFldGEsS0FBS0ssSUFBSUcsS0FBS3FOLEVBQVEsRUFBR0MsRUFBUyxJQUFLLFNBQVUsQ0FDcEVyTixTQUFVLE9BQ1ZDLE1BQU8sYUFDUE8sUUFBUyxDQUFFQyxFQUFHLEdBQUlDLEVBQUcsTUFDcEJaLFVBQVUsSUFBS2EsaUJBRWxCa1osRUFBYWhaLEdBQUcsY0FBZSxLQUM3QmdaLEVBQWE5UyxTQUFTLGVBR3hCOFMsRUFBYWhaLEdBQUcsYUFBYyxLQUM1QmdaLEVBQWE5UyxTQUFTLGVBR3hCOFMsRUFBYWhaLEdBQUcsY0FBZSxLQUM3QnRCLEtBQUt1YSxhQUNMdmEsS0FBSzBCLE1BQU1tRSxNQUFNLGVBSW5CN0YsS0FBS3dhLGlCQUNQLENBRUEsZUFBQUEsR0FDRSxJQUVFLE1BQU1DLEVBQVEsUUFBUXRVLE9BQU91VSxTQUFTQyxPQUV0QzNhLEtBQUtxSixHQUFLLElBQUltQyxVQUFVaVAsR0FFeEJ6YSxLQUFLcUosR0FBR3VSLE9BQVMsS0FDZjlXLFFBQVE0SCxJQUFJLGlDQUNaMUwsS0FBSzRaLFdBQVdwWSxRQUFRLDJCQUd4QnhCLEtBQUtxSixHQUFHc0MsS0FBS3ZJLEtBQUtDLFVBQVUsQ0FBRStFLEtBQU0sZ0JBR3RDcEksS0FBS3FKLEdBQUd3UixVQUFhQyxJQUNuQixJQUNFLE1BQU0xYSxFQUFPZ0QsS0FBSzJYLE1BQU1ELEVBQU0xYSxNQUM5QkosS0FBS2diLG9CQUFvQjVhLEVBQzNCLENBQUUsTUFBT3lELEdBQ1BDLFFBQVFELE1BQU0sZ0NBQWlDQSxFQUNqRCxHQUdGN0QsS0FBS3FKLEdBQUc0UixRQUFXcFgsSUFDakJDLFFBQVFELE1BQU0sbUJBQW9CQSxHQUNsQzdELEtBQUs0WixXQUFXcFksUUFBUSxxQkFDeEJ4QixLQUFLNFosV0FBV3BTLFNBQVMsY0FHM0J4SCxLQUFLcUosR0FBRzZSLFFBQVUsS0FDaEJwWCxRQUFRNEgsSUFBSSwrQkFDUjFMLEtBQUswQixNQUFNNkYsU0FBUyxnQkFDdEJ2SCxLQUFLNFosV0FBV3BZLFFBQVEsb0JBQ3hCeEIsS0FBSzRaLFdBQVdwUyxTQUFTLGNBRy9CLENBQUUsTUFBTzNELEdBQ1BDLFFBQVFELE1BQU0sOEJBQStCQSxHQUM3QzdELEtBQUs0WixXQUFXcFksUUFBUSxzQkFDeEJ4QixLQUFLNFosV0FBV3BTLFNBQVMsWUFDM0IsQ0FDRixDQUVBLG1CQUFBd1QsQ0FBb0I1YSxHQUNsQixPQUFRQSxFQUFLZ0ksTUFDWCxJQUFLLGNBQ0hwSSxLQUFLcWEsZ0JBQWdCN1ksUUFBUSxxQkFBcUJwQixFQUFLK2EsY0FDdkQsTUFFRixJQUFLLFlBQ0hyWCxRQUFRNEgsSUFBSSxpQkFBa0J0TCxHQUU5QkosS0FBSzBCLE1BQU1tRSxNQUFNLG1CQUFvQixDQUNuQ3dELEdBQUlySixLQUFLcUosR0FDVEQsV0FBWWhKLEVBQUt5SixLQUNqQnVSLE9BQVFoYixFQUFLZ2IsU0FFZixNQUVGLFFBQ0V0WCxRQUFRNEgsSUFBSSx3QkFBeUJ0TCxFQUFLZ0ksTUFFaEQsQ0FFQSxVQUFBbVMsR0FDTXZhLEtBQUtxSixJQUFNckosS0FBS3FKLEdBQUdrQyxhQUFlQyxVQUFVQyxPQUM5Q3pMLEtBQUtxSixHQUFHc0MsS0FBS3ZJLEtBQUtDLFVBQVUsQ0FBRStFLEtBQU0sZ0JBQ3BDcEksS0FBS3FKLEdBQUdqRCxRQUVaLENBRUEsUUFBQXFCLEdBQ0V6SCxLQUFLdWEsWUFDUCxFQ25IRixNQUFNalEsRUFBUyxDQUNYbEMsS0FBTSxTQUNOeUYsTUFBTyxJQUNQQyxPQUFRLElBQ1J1TixPQUFRLGlCQUVSeE8sUUFBUyxDQUNMeU8sUUFBUyxTQUNUQyxPQUFRLENBQ0pwTCxRQUFTLENBQUVqUCxFQUFHLEVBQUdDLEVBQUcsR0FDcEJxYSxPQUFPLEVBQ1BDLGVBQWUsRUFDZkMscUJBQXFCLElBRzdCQyxJQUFLLENBQ0RDLGlCQUFpQixHQUlyQmxhLE1BQU8sQ0FBQzhELEVBQVcyVSxFQUFrQnpELEVBQWM5VyxFQUFjdVgsRUFBWWpFLEVDaEMxRSxjQUErQkEsRUFDbEMsV0FBQXJULEdBQ0lDLE1BQU0sbUJBQ1YsQ0FFQSxPQUFBQyxHQUNJRCxNQUFNQyxTQUNWLENBRUEsSUFBQXdULENBQUtuVCxHQUNETixNQUFNeVQsT0FDTnZULEtBQUtxSixHQUFLakosRUFBS2lKLEdBQ2ZySixLQUFLb0osV0FBYWhKLEVBQUtnSixXQUN2QnBKLEtBQUtvYixPQUFTaGIsRUFBS2diLE9BQ25CcGIsS0FBSzZiLFlBQWMsS0FDbkI3YixLQUFLOGIsYUFBZSxJQUN4QixDQUVBLE1BQUEzYixHQUNJTCxNQUFNSyxTQUNOSCxLQUFLK2IsZUFHTC9iLEtBQUswVCxhQUFhL0osYUFBYTNKLEtBQUtxSixJQUNwQ3JKLEtBQUswVCxhQUFhOUosY0FBYzVKLEtBQUtvSixZQUNyQ3BKLEtBQUswVCxhQUFhbEssY0FFbEJ4SixLQUFLZ2MseUJBQ1QsQ0FHQSxNQUFBaFIsR0FDSWxMLE1BQU1rTCxRQUNWLENBSUEsWUFBQStRLEdBQzRCLFlBQXBCL2IsS0FBS29KLFlBQ0xwSixLQUFLNmIsWUFBYzdiLEtBQUttVCxPQUN4Qm5ULEtBQUs4YixhQUFlOWIsS0FBS29ULE9BRXpCcFQsS0FBSzZiLFlBQWM3YixLQUFLb1QsS0FDeEJwVCxLQUFLOGIsYUFBZTliLEtBQUttVCxPQUVqQyxDQUVBLHVCQUFBNkksR0FDSWhjLEtBQUtxSixHQUFHd1IsVUFBYUMsSUFDakIsSUFDSSxNQUFNMWEsRUFBT2dELEtBQUsyWCxNQUFNRCxFQUFNMWEsTUFDOUJKLEtBQUtnYixvQkFBb0I1YSxFQUM3QixDQUFFLE1BQU95RCxHQUNMQyxRQUFRRCxNQUFNLGdDQUFpQ0EsRUFDbkQsR0FHSjdELEtBQUtxSixHQUFHNlIsUUFBVSxLQUNkcFgsUUFBUTRILElBQUksK0JBQ1oxTCxLQUFLNEQsdUJBR1Q1RCxLQUFLcUosR0FBRzRSLFFBQVdwWCxJQUNmQyxRQUFRRCxNQUFNLG1CQUFvQkEsR0FDbEM3RCxLQUFLNEQsc0JBRWIsQ0FFQSxtQkFBQW9YLENBQW9CNWEsR0FDaEIsT0FBUUEsRUFBS2dJLE1BQ1QsSUFBSyw0QkFHRHBJLEtBQUswVCxhQUFhOUgsMkJBQTJCeEwsR0FDN0MsTUFFSixJQUFLLHNCQUNEMEQsUUFBUTRILElBQUksaUNBQWtDdEwsR0FFOUNKLEtBQUswVCxhQUFhN0gseUJBQXlCekwsR0FDM0MsTUFFSixJQUFLLFdBRUQsTUFFSixJQUFLLHFCQUNESixLQUFLNEQsc0JBQ0wsTUFFSixRQUNJRSxRQUFRNEgsSUFBSSx3QkFBeUJ0TCxFQUFLZ0ksTUFFdEQsQ0FFQSxtQkFBQXhFLEdBQ0k1RCxLQUFLaWMsV0FBWSxFQUNqQmpjLEtBQUs2TSxRQUFROUMsUUFFYi9KLEtBQUtLLElBQUlHLEtBQUssSUFBSyxJQUFLLHVCQUF3QixDQUM1Q0MsU0FBVSxPQUNWQyxNQUFPLFlBQ1JILFVBQVUsSUFFYlAsS0FBS2tjLGtCQUNULENBRUEsZ0JBQUFBLEdBQ0ksTUFBTUMsRUFBVW5jLEtBQUtLLElBQUlHLEtBQUssSUFBSyxJQUFLLHNCQUF1QixDQUMzREMsU0FBVSxPQUNWQyxNQUFPLFlBQ1JILFVBQVUsSUFDUmEsZUFBZSxDQUFFQyxlQUFlLElBQ2hDQyxHQUFHLGNBQWUsSUFBTTZhLEVBQVEzVSxTQUFTLFlBQ3pDbEcsR0FBRyxhQUFjLElBQU02YSxFQUFRM1UsU0FBUyxZQUN4Q2xHLEdBQUcsY0FBZSxLQUNYdEIsS0FBS3FKLElBQU1ySixLQUFLcUosR0FBR2tDLGFBQWVDLFVBQVVDLE1BQzVDekwsS0FBS3FKLEdBQUdqRCxRQUVacEcsS0FBSzBCLE1BQU1tRSxNQUFNLGNBRTdCLENBRUEsUUFBQTRCLEdBQ1F6SCxLQUFLcUosSUFBTXJKLEtBQUtxSixHQUFHa0MsYUFBZUMsVUFBVUMsTUFDNUN6TCxLQUFLcUosR0FBR2pELE9BRWhCLEdEL0YwR2dRLEVBQVk0QyxFQUFVUyxFQUFZQyxHQUM1STFZLGdCQUFpQixhQUdSLElBQUksVUFBWXNKLEUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ibWNvbmZpZGVuY2lhbC93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9ibWNvbmZpZGVuY2lhbC93ZWJwYWNrL3J1bnRpbWUvY29tcGF0IGdldCBkZWZhdWx0IGV4cG9ydCIsIndlYnBhY2s6Ly9ibWNvbmZpZGVuY2lhbC93ZWJwYWNrL3J1bnRpbWUvZGVmaW5lIHByb3BlcnR5IGdldHRlcnMiLCJ3ZWJwYWNrOi8vYm1jb25maWRlbmNpYWwvd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly9ibWNvbmZpZGVuY2lhbC9leHRlcm5hbCB2YXIgXCJQaGFzZXJcIiIsIndlYnBhY2s6Ly9ibWNvbmZpZGVuY2lhbC8uL3NyYy9jbGllbnQvc2NlbmUvT3B0aW9uc1NjZW5lLmpzIiwid2VicGFjazovL2JtY29uZmlkZW5jaWFsLy4vc3JjL2NsaWVudC9zZXJ2aWNlcy9Db25uZWN0aW9uTWFuYWdlci5qcyIsIndlYnBhY2s6Ly9ibWNvbmZpZGVuY2lhbC8uL3NyYy9jbGllbnQvc2VydmljZXMvY2xpZW50RGF0YU1hbmFnZXIuanMiLCJ3ZWJwYWNrOi8vYm1jb25maWRlbmNpYWwvLi9zcmMvY2xpZW50L3NjZW5lL01lbnVTY2VuZS5qcyIsIndlYnBhY2s6Ly9ibWNvbmZpZGVuY2lhbC8uL3NyYy9jbGllbnQvY29tbWFuZC1wYXR0ZXJuL0NvbW1hbmQuanMiLCJ3ZWJwYWNrOi8vYm1jb25maWRlbmNpYWwvLi9zcmMvY2xpZW50L2NvbW1hbmQtcGF0dGVybi9QbGF5ZXJNb3ZtZW50SW5wdXRDb21tYW5kLmpzIiwid2VicGFjazovL2JtY29uZmlkZW5jaWFsLy4vc3JjL2NsaWVudC9jb21tYW5kLXBhdHRlcm4vUGxheWVyQXR0YWNrQ29tbWFuZC5qcyIsIndlYnBhY2s6Ly9ibWNvbmZpZGVuY2lhbC8uL3NyYy9jbGllbnQvY29tbWFuZC1wYXR0ZXJuL0NvbW1hbmRQcm9jZXNzb3IuanMiLCJ3ZWJwYWNrOi8vYm1jb25maWRlbmNpYWwvLi9zcmMvY2xpZW50L2hhbmRsZXJzL0lucHV0TWFuYWdlci5qcyIsIndlYnBhY2s6Ly9ibWNvbmZpZGVuY2lhbC8uL3NyYy9jbGllbnQvQ29tcG9uZW50cy9BbmltYXRvci5qcyIsIndlYnBhY2s6Ly9ibWNvbmZpZGVuY2lhbC8uL3NyYy9jbGllbnQvZW50aXRpZXMvRW5lbXkuanMiLCJ3ZWJwYWNrOi8vYm1jb25maWRlbmNpYWwvLi9zcmMvY2xpZW50L0NvbXBvbmVudHMvQ2FtZXJhLmpzIiwid2VicGFjazovL2JtY29uZmlkZW5jaWFsLy4vc3JjL2NsaWVudC9lbnRpdGllcy9QbGF0Zm9ybS5qcyIsIndlYnBhY2s6Ly9ibWNvbmZpZGVuY2lhbC8uL3NyYy9jbGllbnQvZW50aXRpZXMvUGxheWVyLmpzIiwid2VicGFjazovL2JtY29uZmlkZW5jaWFsLy4vc3JjL2NsaWVudC9lbnRpdGllcy9MdWN5LmpzIiwid2VicGFjazovL2JtY29uZmlkZW5jaWFsLy4vc3JjL2NsaWVudC9lbnRpdGllcy9MaWdodC5qcyIsIndlYnBhY2s6Ly9ibWNvbmZpZGVuY2lhbC8uL3NyYy9jbGllbnQvZW50aXRpZXMvQXJ0aHVyLmpzIiwid2VicGFjazovL2JtY29uZmlkZW5jaWFsLy4vc3JjL2NsaWVudC9zY2VuZS9HYW1lU2NlbmUuanMiLCJ3ZWJwYWNrOi8vYm1jb25maWRlbmNpYWwvLi9zcmMvY2xpZW50L3NjZW5lL1BhdXNlU2NlbmUuanMiLCJ3ZWJwYWNrOi8vYm1jb25maWRlbmNpYWwvLi9zcmMvY2xpZW50L3NjZW5lL0NyZWRpdHNTY2VuZS5qcyIsIndlYnBhY2s6Ly9ibWNvbmZpZGVuY2lhbC8uL3NyYy9jbGllbnQvZW50aXRpZXMvUHVwcGV0LmpzIiwid2VicGFjazovL2JtY29uZmlkZW5jaWFsLy4vc3JjL2NsaWVudC9zY2VuZS9JbnRyb1NjZW5lLmpzIiwid2VicGFjazovL2JtY29uZmlkZW5jaWFsLy4vc3JjL2NsaWVudC9zY2VuZS9FbmRTY2VuZS5qcyIsIndlYnBhY2s6Ly9ibWNvbmZpZGVuY2lhbC8uL3NyYy9jbGllbnQvc2NlbmUvR2FtZVNjZW5lMi5qcyIsIndlYnBhY2s6Ly9ibWNvbmZpZGVuY2lhbC8uL3NyYy9jbGllbnQvc2NlbmUvQ29ubmVjdGlvbkxvc3RTY2VuZS5qcyIsIndlYnBhY2s6Ly9ibWNvbmZpZGVuY2lhbC8uL3NyYy9jbGllbnQvc2NlbmUvTG9naW5TY2VuZS5qcyIsIndlYnBhY2s6Ly9ibWNvbmZpZGVuY2lhbC8uL3NyYy9jbGllbnQvc2NlbmUvTWF0Y2hNYWtpbmdTY2VuZS5qcyIsIndlYnBhY2s6Ly9ibWNvbmZpZGVuY2lhbC8uL3NyYy9jbGllbnQvbWFpbi5qcyIsIndlYnBhY2s6Ly9ibWNvbmZpZGVuY2lhbC8uL3NyYy9jbGllbnQvc2NlbmUvTXVsdGlwbGF5ZXJTY2VuZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBUaGUgcmVxdWlyZSBzY29wZVxudmFyIF9fd2VicGFja19yZXF1aXJlX18gPSB7fTtcblxuIiwiLy8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbl9fd2VicGFja19yZXF1aXJlX18ubiA9IChtb2R1bGUpID0+IHtcblx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG5cdFx0KCkgPT4gKG1vZHVsZVsnZGVmYXVsdCddKSA6XG5cdFx0KCkgPT4gKG1vZHVsZSk7XG5cdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsIHsgYTogZ2V0dGVyIH0pO1xuXHRyZXR1cm4gZ2V0dGVyO1xufTsiLCIvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSAoZXhwb3J0cywgZGVmaW5pdGlvbikgPT4ge1xuXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xuXHRcdH1cblx0fVxufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpIiwiY29uc3QgX19XRUJQQUNLX05BTUVTUEFDRV9PQkpFQ1RfXyA9IFBoYXNlcjsiLCJpbXBvcnQgUGhhc2VyIGZyb20gXCJwaGFzZXJcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBPcHRpb25zU2NlbmUgZXh0ZW5kcyBQaGFzZXIuU2NlbmUge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoJ09wdGlvbnNTY2VuZScpO1xyXG4gICAgfVxyXG5cclxuICAgIHByZWxvYWQoKSB7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdiYWNrZ3JvdW5kJywgJ2Fzc2V0cy9tZW51LWluaWNpby1mb25kby5wbmcnKTtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGUoZGF0YSkge1xyXG4gICAgICAgIC8vUGFuZWwgb3NjdXJvXHJcbiAgICAgICAgdGhpcy5hZGQucmVjdGFuZ2xlKDQwMCwgMzAwLCA4MDAsIDYwMCwgMHgwMDAwMDApLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICAvLyBUaXRsZVxyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoNDAwLCAxMDAsICdPcGNpb25lcycsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICc0OHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmZmYnLFxyXG4gICAgICAgICAgICBmb250U3R5bGU6ICdib2xkJ1xyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICAvL2JvdG9uIGRlIHNvbmlkb1xyXG4gICAgICAgIGNvbnN0IHZvbHVtZVRleHQgPSB0aGlzLnNvdW5kLm11dGUgPyAnQWN0aXZhciBTb25pZG8nIDogJ0Rlc2FjdGl2YXIgU29uaWRvJztcclxuICAgICAgICBjb25zdCB2b2x1bWVCdG4gPSB0aGlzLmFkZC50ZXh0KDQwMCwgMzAwLCB2b2x1bWVUZXh0LCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMzJweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmZmZmZmZmJyxcclxuICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAnIzAwMDAwMGZmJyxcclxuICAgICAgICAgICAgcGFkZGluZzogeyB4OiAyMCwgeTogMTAgfVxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSk7XHJcblxyXG4gICAgICAgIHZvbHVtZUJ0bi5vbigncG9pbnRlcm92ZXInLCAoKSA9PiB2b2x1bWVCdG4uc2V0U3R5bGUoeyBiYWNrZ3JvdW5kQ29sb3I6ICcjNzM3MzczZmYnIH0pKVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiB2b2x1bWVCdG4uc2V0U3R5bGUoeyBiYWNrZ3JvdW5kQ29sb3I6ICcjMDAwMDAwZmYnIH0pKVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zb3VuZC5tdXRlID0gIXRoaXMuc291bmQubXV0ZTtcclxuICAgICAgICAgICAgICAgIHZvbHVtZUJ0bi5zZXRUZXh0KHRoaXMuc291bmQubXV0ZSA/ICdBY3RpdmFyIFNvbmlkbycgOiAnRGVzYWN0aXZhciBTb25pZG8nKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vYm90b24gZGUgdm9sdmVyXHJcbiAgICAgICAgY29uc3QgYmFja0J0biA9IHRoaXMuYWRkLnRleHQoNDAwLCA1MDAsICdWb2x2ZXInLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMzJweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmZmZmZmZmJyxcclxuICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAnIzAwMDAwMGZmJyxcclxuICAgICAgICAgICAgcGFkZGluZzogeyB4OiAyMCwgeTogMTAgfVxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSk7XHJcblxyXG4gICAgICAgIGJhY2tCdG4ub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4gYmFja0J0bi5zZXRTdHlsZSh7IGJhY2tncm91bmRDb2xvcjogJyM3MzczNzNmZicgfSkpXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcm91dCcsICgpID0+IGJhY2tCdG4uc2V0U3R5bGUoeyBiYWNrZ3JvdW5kQ29sb3I6ICcjMDAwMDAwZmYnIH0pKVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5zdG9wKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnJlc3VtZShkYXRhLm9yaWdpbmFsU2NlbmUpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgIH1cclxufVxyXG4iLCIvKipcclxuICogU2VydmljaW8gcGFyYSBnZXN0aW9uYXIgbGEgY29uZXhpw7NuIGNvbiBlbCBzZXJ2aWRvclxyXG4gKiBNYW5lamEgZWwgcG9sbGluZyBhbCBlbmRwb2ludCAvYXBpL2Nvbm5lY3RlZCB5IGRldGVjdGEgcMOpcmRpZGFzIGRlIGNvbmV4acOzblxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIENvbm5lY3Rpb25NYW5hZ2VyIHtcclxuICBjb25zdHJ1Y3RvcigpIHtcclxuICAgIHRoaXMuY29ubmVjdGVkQ291bnQgPSAwO1xyXG4gICAgdGhpcy5pc0Nvbm5lY3RlZCA9IGZhbHNlO1xyXG4gICAgdGhpcy5sYXN0Q2hlY2tUaW1lID0gMDtcclxuICAgIHRoaXMuY2hlY2tJbnRlcnZhbCA9IDIwMDA7IC8vIENvbXByb2JhciBjYWRhIDIgc2VndW5kb3NcclxuICAgIHRoaXMubGlzdGVuZXJzID0gW107XHJcbiAgICB0aGlzLnNlc3Npb25JZCA9IHRoaXMuZ2VuZXJhdGVTZXNzaW9uSWQoKTtcclxuICAgIHRoaXMuaW50ZXJ2YWxJZCA9IG51bGw7XHJcblxyXG4gICAgLy8gSW5pY2lhciBlbCBwb2xsaW5nIGF1dG9tw6F0aWNvXHJcbiAgICB0aGlzLnN0YXJ0UG9sbGluZygpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogR2VuZXJhciB1biBJRCDDum5pY28gZGUgc2VzacOzbiBwYXJhIGVzdGUgY2xpZW50ZVxyXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9XHJcbiAgICovXHJcbiAgZ2VuZXJhdGVTZXNzaW9uSWQoKSB7XHJcbiAgICByZXR1cm4gYHNlc3Npb25fJHtEYXRlLm5vdygpfV8ke01hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cigyLCA5KX1gO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQ29tcHJvYmFyIGNvbmV4acOzbiBjb24gZWwgc2Vydmlkb3JcclxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTx7Y29ubmVjdGVkOiBudW1iZXIsIHN1Y2Nlc3M6IGJvb2xlYW59Pn1cclxuICAgKi9cclxuICBhc3luYyBjaGVja0Nvbm5lY3Rpb24oKSB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCcvYXBpL2Nvbm5lY3RlZCcsIHtcclxuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcclxuICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXHJcbiAgICAgICAgfSxcclxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgICBzZXNzaW9uSWQ6IHRoaXMuc2Vzc2lvbklkXHJcbiAgICAgICAgfSlcclxuICAgICAgfSk7XHJcblxyXG4gICAgICBpZiAocmVzcG9uc2Uub2spIHtcclxuICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xyXG4gICAgICAgIHRoaXMuY29ubmVjdGVkQ291bnQgPSBkYXRhLmNvbm5lY3RlZDtcclxuICAgICAgICB0aGlzLmlzQ29ubmVjdGVkID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLmxhc3RDaGVja1RpbWUgPSBEYXRlLm5vdygpO1xyXG5cclxuICAgICAgICAvLyBOb3RpZmljYXIgYSBsb3MgbGlzdGVuZXJzXHJcbiAgICAgICAgdGhpcy5ub3RpZnlMaXN0ZW5lcnMoeyBjb25uZWN0ZWQ6IHRydWUsIGNvdW50OiB0aGlzLmNvbm5lY3RlZENvdW50IH0pO1xyXG5cclxuICAgICAgICByZXR1cm4geyBjb25uZWN0ZWQ6IHRoaXMuY29ubmVjdGVkQ291bnQsIHN1Y2Nlc3M6IHRydWUgfTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0aGlzLmhhbmRsZURpc2Nvbm5lY3Rpb24oKTtcclxuICAgICAgICByZXR1cm4geyBjb25uZWN0ZWQ6IDAsIHN1Y2Nlc3M6IGZhbHNlIH07XHJcbiAgICAgIH1cclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGNoZWNraW5nIGNvbm5lY3Rpb246JywgZXJyb3IpO1xyXG4gICAgICB0aGlzLmhhbmRsZURpc2Nvbm5lY3Rpb24oKTtcclxuICAgICAgcmV0dXJuIHsgY29ubmVjdGVkOiAwLCBzdWNjZXNzOiBmYWxzZSB9O1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogTWFuZWphciBkZXNjb25leGnDs25cclxuICAgKi9cclxuICBoYW5kbGVEaXNjb25uZWN0aW9uKCkge1xyXG4gICAgdGhpcy5pc0Nvbm5lY3RlZCA9IGZhbHNlO1xyXG4gICAgdGhpcy5jb25uZWN0ZWRDb3VudCA9IDA7XHJcbiAgICB0aGlzLm5vdGlmeUxpc3RlbmVycyh7IGNvbm5lY3RlZDogZmFsc2UsIGNvdW50OiAwIH0pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogUmVnaXN0cmFyIHVuIGxpc3RlbmVyIHBhcmEgY2FtYmlvcyBkZSBjb25leGnDs25cclxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayAtIEZ1bmNpw7NuIHF1ZSBzZSBsbGFtYXLDoSBjdWFuZG8gY2FtYmllIGVsIGVzdGFkb1xyXG4gICAqL1xyXG4gIGFkZExpc3RlbmVyKGNhbGxiYWNrKSB7XHJcbiAgICB0aGlzLmxpc3RlbmVycy5wdXNoKGNhbGxiYWNrKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEVsaW1pbmFyIHVuIGxpc3RlbmVyXHJcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgLSBGdW5jacOzbiBhIGVsaW1pbmFyXHJcbiAgICovXHJcbiAgcmVtb3ZlTGlzdGVuZXIoY2FsbGJhY2spIHtcclxuICAgIGNvbnN0IGluZGV4ID0gdGhpcy5saXN0ZW5lcnMuaW5kZXhPZihjYWxsYmFjayk7XHJcbiAgICBpZiAoaW5kZXggPiAtMSkge1xyXG4gICAgICB0aGlzLmxpc3RlbmVycy5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogTm90aWZpY2FyIGEgdG9kb3MgbG9zIGxpc3RlbmVyc1xyXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBkYXRhIC0gRGF0b3MgZGVsIGVzdGFkbyBkZSBjb25leGnDs25cclxuICAgKi9cclxuICBub3RpZnlMaXN0ZW5lcnMoZGF0YSkge1xyXG4gICAgdGhpcy5saXN0ZW5lcnMuZm9yRWFjaChsaXN0ZW5lciA9PiBsaXN0ZW5lcihkYXRhKSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBPYnRlbmVyIGVsIGVzdGFkbyBhY3R1YWwgZGUgY29uZXhpw7NuXHJcbiAgICogQHJldHVybnMge09iamVjdH1cclxuICAgKi9cclxuICBnZXRTdGF0dXMoKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBpc0Nvbm5lY3RlZDogdGhpcy5pc0Nvbm5lY3RlZCxcclxuICAgICAgY29ubmVjdGVkQ291bnQ6IHRoaXMuY29ubmVjdGVkQ291bnQsXHJcbiAgICAgIGxhc3RDaGVja1RpbWU6IHRoaXMubGFzdENoZWNrVGltZVxyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEluaWNpYXIgZWwgcG9sbGluZyBhdXRvbcOhdGljbyBkZSBjb25leGnDs25cclxuICAgKi9cclxuICBzdGFydFBvbGxpbmcoKSB7XHJcbiAgICBpZiAodGhpcy5pbnRlcnZhbElkKSB7XHJcbiAgICAgIHJldHVybjsgLy8gWWEgZXN0w6EgY29ycmllbmRvXHJcbiAgICB9XHJcblxyXG4gICAgLy8gQ29tcHJvYmFyIGlubWVkaWF0YW1lbnRlXHJcbiAgICB0aGlzLmNoZWNrQ29ubmVjdGlvbigpO1xyXG5cclxuICAgIC8vIEx1ZWdvIGNvbXByb2JhciBjYWRhIFggc2VndW5kb3NcclxuICAgIHRoaXMuaW50ZXJ2YWxJZCA9IHNldEludGVydmFsKCgpID0+IHtcclxuICAgICAgdGhpcy5jaGVja0Nvbm5lY3Rpb24oKTtcclxuICAgIH0sIHRoaXMuY2hlY2tJbnRlcnZhbCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBEZXRlbmVyIGVsIHBvbGxpbmcgYXV0b23DoXRpY29cclxuICAgKi9cclxuICBzdG9wUG9sbGluZygpIHtcclxuICAgIGlmICh0aGlzLmludGVydmFsSWQpIHtcclxuICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLmludGVydmFsSWQpO1xyXG4gICAgICB0aGlzLmludGVydmFsSWQgPSBudWxsO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuLy8gQ3JlYXIgaW5zdGFuY2lhIHNpbmdsZXRvblxyXG5leHBvcnQgY29uc3QgY29ubmVjdGlvbk1hbmFnZXIgPSBuZXcgQ29ubmVjdGlvbk1hbmFnZXIoKTtcclxuIiwiZXhwb3J0IGNsYXNzIENsaWVudERhdGFNYW5hZ2VyIHtcclxuICAgIFxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5pZCA9IHVuZGVmaW5lZDtcclxuICAgICAgICB0aGlzLm5hbWUgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgdGhpcy5kZWF0aHMgPSAwO1xyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIHVwZGF0ZUNsaWVudERhdGEodXBkYXRlcykge1xyXG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYC9hcGkvdXNlcnMvJHt0aGlzLmlkfWAsIHtcclxuICAgICAgICAgICAgbWV0aG9kOiAnUFVUJyxcclxuICAgICAgICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh1cGRhdGVzKVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICByZXR1cm4gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIGdldENsaWVudERlYXRocygpIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAvYXBpL3VzZXJzLyR7dGhpcy5pZH1gKTtcclxuICAgICAgICAgICAgaWYgKCFyZXNwb25zZS5vaykgdGhyb3cgbmV3IEVycm9yKCdOZXR3b3JrIHJlc3BvbnNlIHdhcyBub3Qgb2snKTtcclxuICAgICAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcclxuICAgICAgICAgICAgcmV0dXJuIGRhdGEuZGVhdGhzO1xyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0NsaWVudERhdGFNYW5hZ2VyIGVycm9yOicsIGVycm9yKTtcclxuICAgICAgICAgICAgdGhyb3cgZXJyb3I7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIHVwZGF0ZUNsaWVudERlYXRocyhkZWF0aHMpIHtcclxuICAgICAgICB0aGlzLmRlYXRocyA9IGRlYXRocztcclxuICAgIH1cclxuXHJcbiAgICBhc3luYyBwb3N0TG9naW4oKSB7XHJcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgL2FwaS91c2Vyc2AsIHtcclxuICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbidcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgICAgICAgICAgaWQ6IHRoaXMuaWQsXHJcbiAgICAgICAgICAgICAgICBuYW1lOiB0aGlzLm5hbWUsXHJcbiAgICAgICAgICAgICAgICBkZWF0aHM6IHRoaXMuZGVhdGhzXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgaWYgKHJlc3BvbnNlLm9rKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XHJcbiAgICAgICAgICAgIHRoaXMuaWQgPSBkYXRhLmlkO1xyXG4gICAgICAgICAgICB0aGlzLmRlYXRocyA9IGRhdGEuZGVhdGhzO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzO1xyXG4gICAgfVxyXG5cclxufVxyXG5cclxuLy9TaW5nbGV0b25cclxuZXhwb3J0IGxldCBjbGllbnREYXRhTWFuYWdlciA9IG5ldyBDbGllbnREYXRhTWFuYWdlcigpOyIsImltcG9ydCBQaGFzZXIgZnJvbSBcInBoYXNlclwiO1xyXG5pbXBvcnQgeyBjb25uZWN0aW9uTWFuYWdlciB9IGZyb20gXCIuLi9zZXJ2aWNlcy9Db25uZWN0aW9uTWFuYWdlci5qc1wiO1xyXG5pbXBvcnQgeyBjbGllbnREYXRhTWFuYWdlciB9IGZyb20gXCIuLi9zZXJ2aWNlcy9jbGllbnREYXRhTWFuYWdlci5qc1wiO1xyXG5cclxuZXhwb3J0IGNsYXNzIE1lbnVTY2VuZSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcignTWVudVNjZW5lJylcclxuICAgIH1cclxuXHJcblxyXG4gICAgcHJlbG9hZCgpIHtcclxuICAgICAgICB0aGlzLmxvYWQuYXVkaW8oJ211c2ljJywgJ2Fzc2V0cy9zb3VuZC9tZW51LXRoZW1lLm1wMycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYmFja2dyb3VuZCcsICdhc3NldHMvbWVudVNpbkxldHJhcy5wbmcnKTtcclxuXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdpZDEnLCAnYXNzZXRzL0JvdG9uVGl0dWxvLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnaWQyJywgJ2Fzc2V0cy9Cb3RvbkxvY2FsUGxheS5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2lkMycsICdhc3NldHMvQm90b25DcmVkaXRvcy5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2lkNCcsICdhc3NldHMvQm90b25PcGNpb25lcy5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2lkNScsICdhc3NldHMvQm90b25TYWxpci5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ21lbnUnLCAnYXNzZXRzL2xpYnJldGFOaXZlbGVzQ29uU29tYnJhLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnbjEnLCAnYXNzZXRzL0JvdG9uTml2ZWwxLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnbjInLCAnYXNzZXRzL0JvdG9uTml2ZWwyLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgncmV0dXJuJywgJ2Fzc2V0cy9Cb3RvblZvbHZlci5wbmcnKTtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGUoKSB7XHJcbiAgICAgICAgdGhpcy5hZGQuaW1hZ2UoNDAwLCAzMDAsICdiYWNrZ3JvdW5kJykuXHJcbiAgICAgICAgICAgIHNldE9yaWdpbigwLjUpO1xyXG4gICAgICAgIHRoaXMuYWRkLmltYWdlKDg1LCAzNCwgJ2lkMScpLlxyXG4gICAgICAgICAgICBzZXRPcmlnaW4oMCk7XHJcblxyXG4gICAgICAgIHRoaXMuc3RhcnRCdXR0b24gPSB0aGlzLmFkZC5pbWFnZSgxOTYsIDIzOCwgJ2lkMicpLlxyXG4gICAgICAgICAgICBzZXRPcmlnaW4oMCkuXHJcbiAgICAgICAgICAgIHNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KS5cclxuICAgICAgICAgICAgb24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5vcGVuTWluaU1lbnUoKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuY3JlZGl0c0J1dHRvbiA9IHRoaXMuYWRkLmltYWdlKDI0MSwgMzA3LCAnaWQzJykuXHJcbiAgICAgICAgICAgIHNldE9yaWdpbigwKS5cclxuICAgICAgICAgICAgc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pLlxyXG4gICAgICAgICAgICBvbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdDcmVkaXRzU2NlbmUnKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMub3B0aW9uc0J1dHRvbiA9IHRoaXMuYWRkLmltYWdlKDI0NSwgMzc3LCAnaWQ0JykuXHJcbiAgICAgICAgICAgIHNldE9yaWdpbigwKS5cclxuICAgICAgICAgICAgc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pLlxyXG4gICAgICAgICAgICBvbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLmxhdW5jaCgnT3B0aW9uc1NjZW5lJywgeyBvcmlnaW5hbFNjZW5lOiAnTWVudVNjZW5lJyB9KTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuZXhpdEJ1dHRvbiA9IHRoaXMuYWRkLmltYWdlKDI3NiwgNDUxLCAnaWQ1JykuXHJcbiAgICAgICAgICAgIHNldE9yaWdpbigwKS5cclxuICAgICAgICAgICAgc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pLlxyXG4gICAgICAgICAgICBvbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmdhbWUuZGVzdHJveSh0cnVlKTtcclxuICAgICAgICAgICAgICAgIHdpbmRvdy5jbG9zZSgpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcblxyXG5cclxuICAgICAgICB0aGlzLmJ1dHRvbnMgPSBbdGhpcy5zdGFydEJ1dHRvbiwgdGhpcy5jcmVkaXRzQnV0dG9uLCB0aGlzLm9wdGlvbnNCdXR0b24sIHRoaXMuZXhpdEJ1dHRvbl07XHJcbiAgICAgICAgdGhpcy5tdXNpYyA9IHRoaXMuc291bmQuYWRkKCdtdXNpYycpO1xyXG4gICAgICAgIHRoaXMubXVzaWMucGxheSgpO1xyXG4gICAgICAgIHRoaXMubXVzaWMuc2V0Vm9sdW1lKDApO1xyXG5cclxuXHJcbiAgICAgICAgLypjb25zdCBsb2NhbEJ0biA9IHRoaXMuYWRkLnRleHQoNjAwLCAxMDAsICdKdWVnbyBMb2NhbCcsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICcyNHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmZmYnLFxyXG4gICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjMDAwMDAwZmYnLFxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSlcclxuICAgICAgICAgICAgLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IGxvY2FsQnRuLnNldFN0eWxlKHsgYmFja2dyb3VuZENvbG9yOiAnIzczNzM3M2ZmJyB9KSlcclxuICAgICAgICAgICAgLm9uKCdwb2ludGVyb3V0JywgKCkgPT4gbG9jYWxCdG4uc2V0U3R5bGUoeyBiYWNrZ3JvdW5kQ29sb3I6ICcjMDAwMDAwZmYnIH0pKVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5zdGFydCgnSW50cm9TY2VuZScpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgY29uc3QgY3JlZGl0c0J0biA9IHRoaXMuYWRkLnRleHQoNjAwLCAzMDAsICdDcsOpZGl0b3MnLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMjRweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmZmZmZmZmJyxcclxuICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAnIzAwMDAwMGZmJyxcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcm92ZXInLCAoKSA9PiBjcmVkaXRzQnRuLnNldFN0eWxlKHsgYmFja2dyb3VuZENvbG9yOiAnIzczNzM3M2ZmJyB9KSlcclxuICAgICAgICAgICAgLm9uKCdwb2ludGVyb3V0JywgKCkgPT4gY3JlZGl0c0J0bi5zZXRTdHlsZSh7IGJhY2tncm91bmRDb2xvcjogJyMwMDAwMDBmZicgfSkpXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm11c2ljLnN0b3AoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ0NyZWRpdHNTY2VuZScpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgY29uc3Qgb3B0aW9uc0J0biA9IHRoaXMuYWRkLnRleHQoNjAwLCAyMDAsICdPcGNpb25lcycsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICcyNHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmZmYnLFxyXG4gICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjMDAwMDAwZmYnLFxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSlcclxuICAgICAgICAgICAgLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IG9wdGlvbnNCdG4uc2V0U3R5bGUoeyBiYWNrZ3JvdW5kQ29sb3I6ICcjNzM3MzczZmYnIH0pKVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiBvcHRpb25zQnRuLnNldFN0eWxlKHsgYmFja2dyb3VuZENvbG9yOiAnIzAwMDAwMGZmJyB9KSlcclxuICAgICAgICAgICAgLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUubGF1bmNoKCdPcHRpb25zU2NlbmUnLCB7IG9yaWdpbmFsU2NlbmU6IFwiTWVudVNjZW5lXCIgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICBjb25zdCBleGl0QnRuID0gdGhpcy5hZGQudGV4dCg2MDAsIDQwMCwgJ1NhbGlyJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzI0cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmZmZmZicsXHJcbiAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogJyMwMDAwMDBmZicsXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4gZXhpdEJ0bi5zZXRTdHlsZSh7IGJhY2tncm91bmRDb2xvcjogJyM3MzczNzNmZicgfSkpXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcm91dCcsICgpID0+IGV4aXRCdG4uc2V0U3R5bGUoeyBiYWNrZ3JvdW5kQ29sb3I6ICcjMDAwMDAwZmYnIH0pKVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5nYW1lLmRlc3Ryb3kodHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICB3aW5kb3cuY2xvc2UoKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgKi9cclxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLyBBUEkgUkVTVCAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcbiAgICAgICAgLy8gSW5kaWNhZG9yIGRlIGNvbmV4acOzbiBhbCBzZXJ2aWRvclxyXG4gICAgICAgIHRoaXMuY29ubmVjdGlvblRleHQgPSB0aGlzLmFkZC50ZXh0KDQwMCwgNTUwLCAnU2Vydmlkb3I6IENvbXByb2JhbmRvLi4uJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzE4cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmMDAnXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIC8vIExpc3RlbmVyIHBhcmEgY2FtYmlvcyBkZSBjb25leGnDs25cclxuICAgICAgICB0aGlzLmNvbm5lY3Rpb25MaXN0ZW5lciA9IChkYXRhKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMudXBkYXRlQ29ubmVjdGlvbkRpc3BsYXkoZGF0YSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBjb25uZWN0aW9uTWFuYWdlci5hZGRMaXN0ZW5lcih0aGlzLmNvbm5lY3Rpb25MaXN0ZW5lcik7XHJcblxyXG4gICAgICAgIC8vIFRleHRvIGRlIG11ZXJ0ZXNcclxuICAgICAgICAvLyB0aGlzLmRlYXRoc1RleHQgPSB0aGlzLmFkZC50ZXh0KDQwMCwgNTAwLCAnTXVlcnRlczogQ2FyZ2FuZG8uLi4gJywge1xyXG4gICAgICAgIC8vICAgICBmb250U2l6ZTogJzE4cHgnLFxyXG4gICAgICAgIC8vICAgICBjb2xvcjogJyNmZmZmMDAnXHJcbiAgICAgICAgLy8gfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIC8vIGNsaWVudERhdGFNYW5hZ2VyLmdldENsaWVudERlYXRocygpLnRoZW4oZGVhdGhzID0+IHtcclxuICAgICAgICAvLyAgICAgY29uc29sZS5sb2coJ1JlY2VpdmVkIGRlYXRoczonLCBkZWF0aHMpOyBcclxuICAgICAgICAvLyAgICAgaWYgKGRlYXRocyAhPT0gbnVsbCAmJiBkZWF0aHMgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgIC8vICAgICAgICAgdGhpcy5kZWF0aHNUZXh0LnNldFRleHQoJ011ZXJ0ZXM6ICcgKyBkZWF0aHMpO1xyXG4gICAgICAgIC8vICAgICB9IGVsc2Uge1xyXG4gICAgICAgIC8vICAgICAgICAgdGhpcy5kZWF0aHNUZXh0LnNldFRleHQoJ011ZXJ0ZXM6IEVycm9yJyk7XHJcbiAgICAgICAgLy8gICAgIH1cclxuICAgICAgICAvLyB9KS5jYXRjaChlcnJvciA9PiB7XHJcbiAgICAgICAgLy8gICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIGRlYXRoczonLCBlcnJvcik7XHJcbiAgICAgICAgLy8gICAgIHRoaXMuZGVhdGhzVGV4dC5zZXRUZXh0KCdNdWVydGVzOiBFcnJvcicpO1xyXG4gICAgICAgIC8vIH0pO1xyXG5cclxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vIFdlYlNvY2tldCAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG4gICAgICAgIHRoaXMub25saW5lQnRuID0gdGhpcy5hZGQudGV4dCg1MDAsIDMwMCwgJ0p1Z2FyIE9ubGluZScsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICcxOHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZjAwJ1xyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSlcclxuICAgICAgICAgICAgLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IHRoaXMub25saW5lQnRuLnNldFN0eWxlKHsgYmFja2dyb3VuZENvbG9yOiAnIzczNzM3M2ZmJyB9KSlcclxuICAgICAgICAgICAgLm9uKCdwb2ludGVyb3V0JywgKCkgPT4gdGhpcy5vbmxpbmVCdG4uc2V0U3R5bGUoeyBiYWNrZ3JvdW5kQ29sb3I6ICcjMDAwMDAwZmYnIH0pKVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5zdGFydCgnTWF0Y2hNYWtpbmdTY2VuZScpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbi8vLy8vLy8vLy9XZWJTb2NrZXQvLy8vLy8vLy8vXHJcbiAgICB9XHJcblxyXG5cclxuXHJcbiAgICBvcGVuTWluaU1lbnUoKSB7XHJcblxyXG4gICAgICAgIC8vRGVzYWN0aXZhciB0b2RvcyBsb3MgYm90b25lcyBkZSBhYmFqbyBkZWwgbWVuw7pcclxuICAgICAgICB0aGlzLmJ1dHRvbnMuZm9yRWFjaChidG4gPT4gYnRuLnJlbW92ZUludGVyYWN0aXZlKCkpO1xyXG5cclxuICAgICAgICAvLyBGb25kbyBkZWwgbWVuw7pcclxuICAgICAgICBjb25zdCBiZyA9IHRoaXMuYWRkLmltYWdlKDQwMCwgMzAwLCAnbWVudScpXHJcbiAgICAgICAgICAgIC5zZXREZXB0aCgxMCk7XHJcblxyXG4gICAgICAgIC8vIEJvdMOzbiBOaXZlbCAxXHJcbiAgICAgICAgY29uc3QgbHZsMSA9IHRoaXMuYWRkLmltYWdlKDM1MCwgMjMwLCAnbjEnKVxyXG4gICAgICAgICAgICAuc2V0RGVwdGgoMTEpXHJcbiAgICAgICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSlcclxuICAgICAgICAgICAgLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2xvc2VNaW5pTWVudShbYmcsIGx2bDEsIGx2bDIsIHJldHVybkJ0bl0pO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5zdGFydCgnSW50cm9TY2VuZScpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gQm90w7NuIE5pdmVsIDJcclxuICAgICAgICBjb25zdCBsdmwyID0gdGhpcy5hZGQuaW1hZ2UoMzUwLCAzMTAsICduMicpXHJcbiAgICAgICAgICAgIC5zZXREZXB0aCgxMSlcclxuICAgICAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jbG9zZU1pbmlNZW51KFtiZywgbHZsMSwgbHZsMiwgcmV0dXJuQnRuXSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdFbmRTY2VuZScpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgY29uc3QgcmV0dXJuQnRuID0gdGhpcy5hZGQuaW1hZ2UoMzIwLCA0MDAsICdyZXR1cm4nKVxyXG4gICAgICAgICAgICAuc2V0RGVwdGgoMTEpXHJcbiAgICAgICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSlcclxuICAgICAgICAgICAgLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2xvc2VNaW5pTWVudShbYmcsIGx2bDEsIGx2bDIsIHJldHVybkJ0bl0pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBjbG9zZU1pbmlNZW51KGVsZW1lbnRzKSB7XHJcblxyXG4gICAgICAgIC8vIEVsaW1pbmFyIGxvcyBlbGVtZW50b3MgZGVsIG1pbmltZW51XHJcbiAgICAgICAgZWxlbWVudHMuZm9yRWFjaChlID0+IGUuZGVzdHJveSgpKTtcclxuXHJcbiAgICAgICAgLy8g4pyU77iPIFJlYWN0aXZhciBsb3MgYm90b25lcyBkZSBsYSBlc2NlbmFcclxuICAgICAgICB0aGlzLmJ1dHRvbnMuZm9yRWFjaChidG4gPT4gYnRuLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KSk7XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlQ29ubmVjdGlvbkRpc3BsYXkoZGF0YSkge1xyXG4gICAgICAgIC8vIFNvbG8gYWN0dWFsaXphciBzaSBlbCB0ZXh0byBleGlzdGUgKGxhIGVzY2VuYSBlc3TDoSBjcmVhZGEpXHJcbiAgICAgICAgaWYgKCF0aGlzLmNvbm5lY3Rpb25UZXh0IHx8ICF0aGlzLnNjZW5lIHx8ICF0aGlzLnNjZW5lLmlzQWN0aXZlKCdNZW51U2NlbmUnKSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBpZiAoZGF0YS5jb25uZWN0ZWQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuY29ubmVjdGlvblRleHQuc2V0VGV4dChgU2Vydmlkb3I6ICR7ZGF0YS5jb3VudH0gdXN1YXJpbyhzKSBjb25lY3RhZG8ocylgKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuY29ubmVjdGlvblRleHQuc2V0Q29sb3IoJyMwMGZmMDAnKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuY29ubmVjdGlvblRleHQuc2V0VGV4dCgnU2Vydmlkb3I6IERlc2NvbmVjdGFkbycpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jb25uZWN0aW9uVGV4dC5zZXRDb2xvcignI2ZmMDAwMCcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcignW01lbnVTY2VuZV0gRXJyb3IgdXBkYXRpbmcgY29ubmVjdGlvbiBkaXNwbGF5OicsIGVycm9yKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgc2h1dGRvd24oKSB7XHJcbiAgICAgICAgLy8gUmVtb3ZlciBlbCBsaXN0ZW5lclxyXG4gICAgICAgIGlmICh0aGlzLmNvbm5lY3Rpb25MaXN0ZW5lcikge1xyXG4gICAgICAgICAgICBjb25uZWN0aW9uTWFuYWdlci5yZW1vdmVMaXN0ZW5lcih0aGlzLmNvbm5lY3Rpb25MaXN0ZW5lcik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuXHJcbn0iLCJleHBvcnQgY2xhc3MgQ29tbWFuZCB7XHJcbiAgICBleGVjdXRlKCkge1xyXG4gICAgICAgIC8vIEltcGxlbWVudGFyIGVuIHN1YmNsYXNlc1xyXG4gICAgICAgIC8vIEVqZWN1dGEgbGEgYWNjacOzbiBlbiBlbCBqdWVnb1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBzZXJpYWxpemUoKSB7XHJcbiAgICAgICAgLy8gQ29udmVydGlyIGEgSlNPTiBwYXJhIGVudmlhciBwb3IgcmVkXHJcbiAgICAgICAgcmV0dXJuIHt9O1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBnZXRFbnRpdHkoKSB7XHJcbiAgICAgICAgLy8gUmV0b3JuYSBsYSBlbnRpZGFkIGFzb2NpYWRhXHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBDb21tYW5kIH0gZnJvbSAnLi9Db21tYW5kLmpzJztcclxuXHJcbmV4cG9ydCBjbGFzcyBQbGF5ZXJNb3ZtZW50SW5wdXRDb21tYW5kIGV4dGVuZHMgQ29tbWFuZCB7XHJcbiAgICBjb25zdHJ1Y3RvcihwbGF5ZXIsIGFjdGlvbikge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgdGhpcy5wbGF5ZXIgPSBwbGF5ZXI7XHJcbiAgICAgICAgdGhpcy5hY3Rpb24gPSBhY3Rpb247IC8vICdsZWZ0JywgJ3JpZ2h0JywgJ3VwJ1xyXG4gICAgfVxyXG5cclxuICAgIGV4ZWN1dGUoKSB7XHJcblxyXG4gICAgICAgIGNvbnN0IHBsYXllciA9IHRoaXMucGxheWVyO1xyXG5cclxuICAgICAgICAvLyBcclxuICAgICAgICBpZiAodGhpcy5hY3Rpb24gPT09ICd1cCcpIHtcclxuICAgICAgICAgICAgcGxheWVyLmp1bXAoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFxyXG4gICAgICAgIGlmICh0aGlzLmFjdGlvbiA9PT0gJ2xlZnQnIHx8IHRoaXMuYWN0aW9uID09PSAncmlnaHQnKSB7XHJcbiAgICAgICAgICAgIHBsYXllci5ob3Jpem9udGFsTW92ZSh0aGlzLmFjdGlvbik7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFxyXG4gICAgICAgIGlmICh0aGlzLmFjdGlvbiA9PT0gJ2lkbGUnKSB7XHJcbiAgICAgICAgICAgIHBsYXllci5pZGxlKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxuXHJcblxyXG4gICAgc2VyaWFsaXplKCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHR5cGU6ICdQbGF5ZXJNb3ZtZW50SW5wdXRDb21tYW5kJyxcclxuICAgICAgICAgICAgcGxheWVySWQ6IHRoaXMucGxheWVyLmlkLFxyXG4gICAgICAgICAgICBhY3Rpb246IHRoaXMuYWN0aW9uLFxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0RW50aXR5KCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnBsYXllcjtcclxuICAgIH1cclxufSIsImltcG9ydCB7IENvbW1hbmQgfSBmcm9tIFwiLi9Db21tYW5kLmpzXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgUGxheWVyQXR0YWNrQ29tbWFuZCBleHRlbmRzIENvbW1hbmQge1xyXG4gICAgY29uc3RydWN0b3IocGxheWVyKSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgICAgICB0aGlzLnBsYXllciA9IHBsYXllcjtcclxuICAgIH1cclxuXHJcbiAgICBleGVjdXRlKCkge1xyXG4gICAgICAgIHRoaXMucGxheWVyLmF0dGFjaygpO1xyXG4gICAgfVxyXG5cclxuICAgIHNlcmlhbGl6ZSgpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICB0eXBlOiAnUGxheWVyQXR0YWNrQ29tbWFuZCcsXHJcbiAgICAgICAgICAgIHBsYXllcklkOiB0aGlzLnBsYXllci5pZCxcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIGdldEVudGl0eSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5wbGF5ZXI7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBQbGF5ZXJBdHRhY2tDb21tYW5kIH0gZnJvbSAnLi9QbGF5ZXJBdHRhY2tDb21tYW5kLmpzJztcclxuaW1wb3J0IHsgUGxheWVyTW92bWVudElucHV0Q29tbWFuZCB9IGZyb20gJy4vUGxheWVyTW92bWVudElucHV0Q29tbWFuZC5qcyc7XHJcbmV4cG9ydCBjbGFzcyBDb21tYW5kUHJvY2Vzc29yIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMucGxheWVycyA9IG5ldyBNYXAoKTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgcHJvY2Vzcyhjb21tYW5kKSB7XHJcbiAgICAgICAgY29tbWFuZC5leGVjdXRlKCk7IC8vIFJlc3B1ZXN0YSBpbm1lZGlhdGFcclxuICAgIH1cclxuXHJcbiAgICByZWNlaXZlQ29tbWFuZChkYXRhKSB7XHJcbiAgICAgICAgY29uc3QgcGxheWVyID0gdGhpcy5wbGF5ZXJzLmdldChkYXRhLnBsYXllcklkKTtcclxuXHJcbiAgICAgICAgY29uc3QgY29tbWFuZCA9IHRoaXMuZGVzZXJpYWxpemUoZGF0YSk7XHJcbiAgICAgICAgaWYgKGNvbW1hbmQpIHtcclxuICAgICAgICAgICAgY29tbWFuZC5leGVjdXRlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLy8vIEltcGxlbWVudGFyIGRlc2VyaWFsaXphY2lvbiBkZSBjb21hbmRvcyBjb24gbGFzIGRpZmVyZW50ZXMgYWNjaW9uZXMgZGUgbG9zIGlucHV0c1xyXG4gICAgZGVzZXJpYWxpemUoZGF0YSkge1xyXG4gICAgICAgIC8vIE9idGVuZXIgbGEgaW5zdGFuY2lhIHJlYWwgZGVsIGp1Z2Fkb3IgdXNhbmRvIGVsIElEXHJcbiAgICAgICAgY29uc3QgcGxheWVyID0gdGhpcy5wbGF5ZXJzLmdldChkYXRhLnBsYXllcklkKTtcclxuICAgICAgICBzd2l0Y2ggKGRhdGEudHlwZSkge1xyXG4gICAgICAgICAgICBjYXNlICdQbGF5ZXJNb3ZtZW50SW5wdXRDb21tYW5kJzpcclxuICAgICAgICAgICAgICAgIGlmICghcGxheWVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKGBQbGF5ZXIgbm90IGZvdW5kIGZvciBJRDogJHtkYXRhLnBsYXllcklkfWApO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBQbGF5ZXJNb3ZtZW50SW5wdXRDb21tYW5kKHBsYXllciwgZGF0YS5hY3Rpb24pO1xyXG4gICAgICAgICAgICBjYXNlICdQbGF5ZXJBdHRhY2tDb21tYW5kJzpcclxuICAgICAgICAgICAgICAgIGlmICghcGxheWVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKGBQbGF5ZXIgbm90IGZvdW5kIGZvciBJRDogJHtkYXRhLnBsYXllcklkfWApO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBQbGF5ZXJBdHRhY2tDb21tYW5kKHBsYXllcik7XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ0NvbWFuZG8gZGVzY29ub2NpZG86JywgZGF0YS50eXBlKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsImltcG9ydCB7IENvbW1hbmQgfSBmcm9tICcuLi9jb21tYW5kLXBhdHRlcm4vQ29tbWFuZCc7XHJcbmltcG9ydCB7IFBsYXllck1vdm1lbnRJbnB1dENvbW1hbmQgfSBmcm9tICcuLi9jb21tYW5kLXBhdHRlcm4vUGxheWVyTW92bWVudElucHV0Q29tbWFuZCc7XHJcbmltcG9ydCB7IENvbW1hbmRQcm9jZXNzb3IgfSBmcm9tICcuLi9jb21tYW5kLXBhdHRlcm4vQ29tbWFuZFByb2Nlc3Nvcic7XHJcbmltcG9ydCBQaGFzZXIgZnJvbSAncGhhc2VyJztcclxuaW1wb3J0IHsgUGxheWVyQXR0YWNrQ29tbWFuZCB9IGZyb20gJy4uL2NvbW1hbmQtcGF0dGVybi9QbGF5ZXJBdHRhY2tDb21tYW5kJztcclxuXHJcbmV4cG9ydCBjbGFzcyBJbnB1dE1hbmFnZXIge1xyXG4gICAgLy8gQ2xhc2UgcXVlIG1hbmVqYSBsb3MgaW5wdXRzIGRlbCBqdWdhZG9yIHkgbG9zIGVudmlhIGFsIGNvbW1hbmQgcHJvY2Vzc29yIFxyXG4gICAgY29uc3RydWN0b3Ioc2NlbmUsIHNjZW5lTWFuYWdlciwgaW5wdXQsIGNvbW1hbmRQcm9jZXNzb3IsIHBsYXllclJvbGUgPSBudWxsLCB3cyA9IG51bGwpIHtcclxuICAgICAgICB0aGlzLmNvbW1hbmRQcm9jZXNzb3IgPSBuZXcgQ29tbWFuZFByb2Nlc3NvcigpO1xyXG4gICAgICAgIHRoaXMuc2NlbmUgPSBzY2VuZTtcclxuICAgICAgICB0aGlzLnNjZW5lTWFuYWdlciA9IHNjZW5lTWFuYWdlcjtcclxuICAgICAgICB0aGlzLmlucHV0ID0gaW5wdXQ7XHJcbiAgICAgICAgdGhpcy5jb21tYW5kUHJvY2Vzc29yID0gY29tbWFuZFByb2Nlc3NvcjtcclxuICAgICAgICB0aGlzLnBsYXllcnMgPSBuZXcgTWFwKCk7XHJcbiAgICAgICAgdGhpcy5pbnB1dHNNYXBwaW5nID0gW107XHJcbiAgICAgICAgdGhpcy5pc1BhdXNlZCA9IGZhbHNlO1xyXG5cclxuICAgICAgICAvLy8vLy8vLy8vLyBJTlBVVCBNQU5BR0VSIENPTiBXRUJTT0NLRVQgLy8vLy8vLy8vLy9cclxuICAgICAgICB0aGlzLnBsYXllclJvbGUgPSBwbGF5ZXJSb2xlO1xyXG4gICAgICAgIHRoaXMud3MgPSB3cztcclxuICAgICAgICB0aGlzLnNldFVwSW5wdXRzKCk7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0VXBJbnB1dHMoKSB7XHJcbiAgICAgICAgdGhpcy5wbGF5ZXJzID0gdGhpcy5zY2VuZS5wbGF5ZXJzO1xyXG4gICAgICAgIGlmICghdGhpcy5wbGF5ZXJSb2xlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0VXBMb2NhbElucHV0cygpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0VXBSZW1vdGVJbnB1dHModGhpcy5wbGF5ZXJSb2xlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgc2V0V2ViU29ja2V0KHdzKSB7XHJcbiAgICAgICAgdGhpcy53cyA9IHdzO1xyXG4gICAgfVxyXG5cclxuICAgIHNldFBsYXllclJvbGUocm9sZSkge1xyXG4gICAgICAgIHRoaXMucGxheWVyUm9sZSA9IHJvbGU7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0VXBMb2NhbElucHV0cygpIHtcclxuXHJcbiAgICAgICAgdGhpcy5pbnB1dC5rZXlib2FyZC5vbigna2V5ZG93bi1FU0MnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMucGF1c2UoKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gRGV0ZWN0YXIgRiBzb2xvIGN1YW5kbyBzZSBwcmVzaW9uYSAoZXZlbnRvKVxyXG4gICAgICAgIHRoaXMuaW5wdXQua2V5Ym9hcmQub24oJ2tleWRvd24tRicsICgpID0+IHtcclxuXHJcbiAgICAgICAgICAgIHRoaXMucGxheWVycy5nZXQoJ3BsYXllcjEnKS5hdHRhY2soKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgY29uc3QgSW5wdXRDb25maWcgPSBbXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHBsYXllcklkOiAncGxheWVyMScsXHJcbiAgICAgICAgICAgICAgICBsZWZ0S2V5OiAnQScsXHJcbiAgICAgICAgICAgICAgICByaWdodEtleTogJ0QnLFxyXG4gICAgICAgICAgICAgICAgdXBLZXk6ICdXJyxcclxuICAgICAgICAgICAgICAgIGRvd25LZXk6ICdTJyxcclxuICAgICAgICAgICAgICAgIGF0dGFja0tleTogJ0YnXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHBsYXllcklkOiAncGxheWVyMicsXHJcbiAgICAgICAgICAgICAgICBsZWZ0S2V5OiAnTEVGVCcsXHJcbiAgICAgICAgICAgICAgICByaWdodEtleTogJ1JJR0hUJyxcclxuICAgICAgICAgICAgICAgIHVwS2V5OiAnVVAnLFxyXG4gICAgICAgICAgICAgICAgZG93bktleTogJ0RPV04nLFxyXG4gICAgICAgICAgICAgICAgYXR0YWNrS2V5OiAnRU5URVInXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICBdO1xyXG5cclxuICAgICAgICB0aGlzLmlucHV0c01hcHBpbmcgPSBJbnB1dENvbmZpZztcclxuICAgICAgICB0aGlzLmlucHV0c01hcHBpbmcgPSB0aGlzLmlucHV0c01hcHBpbmcubWFwKGNvbmZpZyA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICBwbGF5ZXJJZDogY29uZmlnLnBsYXllcklkLFxyXG4gICAgICAgICAgICAgICAgbGVmdEtleU9iajogdGhpcy5pbnB1dC5rZXlib2FyZC5hZGRLZXkoUGhhc2VyLklucHV0LktleWJvYXJkLktleUNvZGVzW2NvbmZpZy5sZWZ0S2V5XSksXHJcbiAgICAgICAgICAgICAgICByaWdodEtleU9iajogdGhpcy5pbnB1dC5rZXlib2FyZC5hZGRLZXkoUGhhc2VyLklucHV0LktleWJvYXJkLktleUNvZGVzW2NvbmZpZy5yaWdodEtleV0pLFxyXG4gICAgICAgICAgICAgICAgdXBLZXlPYmo6IHRoaXMuaW5wdXQua2V5Ym9hcmQuYWRkS2V5KFBoYXNlci5JbnB1dC5LZXlib2FyZC5LZXlDb2Rlc1tjb25maWcudXBLZXldKSxcclxuICAgICAgICAgICAgICAgIGRvd25LZXlPYmo6IHRoaXMuaW5wdXQua2V5Ym9hcmQuYWRkS2V5KFBoYXNlci5JbnB1dC5LZXlib2FyZC5LZXlDb2Rlc1tjb25maWcuZG93bktleV0pLFxyXG4gICAgICAgICAgICAgICAgYXR0YWNrS2V5T2JqOiB0aGlzLmlucHV0LmtleWJvYXJkLmFkZEtleShQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuS2V5Q29kZXNbY29uZmlnLmF0dGFja0tleV0pXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBzZXRVcFJlbW90ZUlucHV0cyhwbGF5ZXJSb2xlKSB7XHJcblxyXG4gICAgICAgIHRoaXMuaW5wdXQua2V5Ym9hcmQub24oJ2tleWRvd24tRVNDJywgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnBhdXNlKCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG5cclxuICAgICAgICBjb25zdCBJbnB1dENvbmZpZyA9IFtcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgcGxheWVySWQ6IHBsYXllclJvbGUsXHJcbiAgICAgICAgICAgICAgICBsZWZ0S2V5OiAnQScsXHJcbiAgICAgICAgICAgICAgICByaWdodEtleTogJ0QnLFxyXG4gICAgICAgICAgICAgICAgdXBLZXk6ICdXJyxcclxuICAgICAgICAgICAgICAgIGRvd25LZXk6ICdTJyxcclxuICAgICAgICAgICAgICAgIGF0dGFja0tleTogJ0YnXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICBdO1xyXG5cclxuICAgICAgICB0aGlzLmlucHV0c01hcHBpbmcgPSBJbnB1dENvbmZpZztcclxuICAgICAgICB0aGlzLmlucHV0c01hcHBpbmcgPSB0aGlzLmlucHV0c01hcHBpbmcubWFwKGNvbmZpZyA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICBwbGF5ZXJJZDogY29uZmlnLnBsYXllcklkLFxyXG4gICAgICAgICAgICAgICAgbGVmdEtleU9iajogdGhpcy5pbnB1dC5rZXlib2FyZC5hZGRLZXkoUGhhc2VyLklucHV0LktleWJvYXJkLktleUNvZGVzW2NvbmZpZy5sZWZ0S2V5XSksXHJcbiAgICAgICAgICAgICAgICByaWdodEtleU9iajogdGhpcy5pbnB1dC5rZXlib2FyZC5hZGRLZXkoUGhhc2VyLklucHV0LktleWJvYXJkLktleUNvZGVzW2NvbmZpZy5yaWdodEtleV0pLFxyXG4gICAgICAgICAgICAgICAgdXBLZXlPYmo6IHRoaXMuaW5wdXQua2V5Ym9hcmQuYWRkS2V5KFBoYXNlci5JbnB1dC5LZXlib2FyZC5LZXlDb2Rlc1tjb25maWcudXBLZXldKSxcclxuICAgICAgICAgICAgICAgIGRvd25LZXlPYmo6IHRoaXMuaW5wdXQua2V5Ym9hcmQuYWRkS2V5KFBoYXNlci5JbnB1dC5LZXlib2FyZC5LZXlDb2Rlc1tjb25maWcuZG93bktleV0pLFxyXG4gICAgICAgICAgICAgICAgYXR0YWNrS2V5T2JqOiB0aGlzLmlucHV0LmtleWJvYXJkLmFkZEtleShQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuS2V5Q29kZXNbY29uZmlnLmF0dGFja0tleV0pXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBwYXVzZSgpIHtcclxuICAgICAgICB0aGlzLnNjZW5lTWFuYWdlci5sYXVuY2goJ1BhdXNlU2NlbmUnLCB7IG9yaWdpbmFsU2NlbmU6ICdHYW1lU2NlbmUnIH0pO1xyXG4gICAgICAgIHRoaXMuc2NlbmVNYW5hZ2VyLnBhdXNlKCdHYW1lU2NlbmUnKTtcclxuICAgICAgICB0aGlzLmlzUGF1c2VkID0gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGUoKSB7XHJcblxyXG4gICAgICAgIHRoaXMuaW5wdXRzTWFwcGluZy5mb3JFYWNoKG1hcHBpbmcgPT4ge1xyXG4gICAgICAgICAgICBsZXQgcGxheWVyID0gdGhpcy5wbGF5ZXJzLmdldCh0aGlzLnBsYXllclJvbGUpO1xyXG4gICAgICAgICAgICBwbGF5ZXIuaWQgPSB0aGlzLnBsYXllclJvbGU7XHJcblxyXG4gICAgICAgICAgICBsZXQgbG9jYWxDb21tYW5kID0gbmV3IENvbW1hbmQoKTtcclxuXHJcbiAgICAgICAgICAgIC8vIFNBTFRPXHJcbiAgICAgICAgICAgIGlmIChtYXBwaW5nLnVwS2V5T2JqLmlzRG93bikge1xyXG4gICAgICAgICAgICAgICAgbG9jYWxDb21tYW5kID0gbmV3IFBsYXllck1vdm1lbnRJbnB1dENvbW1hbmQocGxheWVyLCAndXAnKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gTU9WSU1JRU5UT1xyXG4gICAgICAgICAgICBlbHNlIGlmIChtYXBwaW5nLmxlZnRLZXlPYmouaXNEb3duKSB7XHJcbiAgICAgICAgICAgICAgICBsb2NhbENvbW1hbmQgPSBuZXcgUGxheWVyTW92bWVudElucHV0Q29tbWFuZChwbGF5ZXIsICdsZWZ0Jyk7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAobWFwcGluZy5yaWdodEtleU9iai5pc0Rvd24pIHtcclxuICAgICAgICAgICAgICAgIGxvY2FsQ29tbWFuZCA9IG5ldyBQbGF5ZXJNb3ZtZW50SW5wdXRDb21tYW5kKHBsYXllciwgJ3JpZ2h0Jyk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBsb2NhbENvbW1hbmQgPSBuZXcgUGxheWVyTW92bWVudElucHV0Q29tbWFuZChwbGF5ZXIsICdpZGxlJyk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMuY29tbWFuZFByb2Nlc3Nvci5wcm9jZXNzKGxvY2FsQ29tbWFuZCk7XHJcbiAgICAgICAgICAgIHRoaXMuc2VuZE1lc3NhZ2UobG9jYWxDb21tYW5kLnNlcmlhbGl6ZSgpKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChtYXBwaW5nLmF0dGFja0tleU9iai5pc0Rvd24pIHtcclxuICAgICAgICAgICAgICAgIGxldCBhdHRhY2tDb21tYW5kID0gbmV3IFBsYXllckF0dGFja0NvbW1hbmQocGxheWVyKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuY29tbWFuZFByb2Nlc3Nvci5wcm9jZXNzKGF0dGFja0NvbW1hbmQpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZW5kTWVzc2FnZShhdHRhY2tDb21tYW5kLnNlcmlhbGl6ZSgpKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgc2VuZE1lc3NhZ2UobWVzc2FnZSkge1xyXG4gICAgICAgIGlmICh0aGlzLndzICYmIHRoaXMud3MucmVhZHlTdGF0ZSA9PT0gV2ViU29ja2V0Lk9QRU4pIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ1NlbmRpbmcgbWVzc2FnZTonLCBtZXNzYWdlKTtcclxuICAgICAgICAgICAgdGhpcy53cy5zZW5kKEpTT04uc3RyaW5naWZ5KG1lc3NhZ2UpKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ1dlYlNvY2tldCBpcyBub3Qgb3Blbi4gTWVzc2FnZSBub3Qgc2VudDonLCBtZXNzYWdlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlUmVtb3RlUGxheWVyUG9zaXRpb24oZGF0YSkge1xyXG4gICAgICAgIGlmIChkYXRhLnR5cGUgPT09ICdQbGF5ZXJNb3ZtZW50SW5wdXRDb21tYW5kJykge1xyXG4gICAgICAgICAgICAvL2NvbnNvbGUubG9nKCdNdWx0aXBsYXllclNjZW5lIHJlY2VpdmVkIGluIGlucHV0IG1hbmFnZXIgbXNnOicsIGRhdGEpO1xyXG4gICAgICAgICAgICB0aGlzLmNvbW1hbmRQcm9jZXNzb3IucmVjZWl2ZUNvbW1hbmQoZGF0YSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZVJlbW90ZVBsYXllckF0dGFjayhkYXRhKSB7XHJcbiAgICAgICAgaWYgKGRhdGEudHlwZSA9PT0gJ1BsYXllckF0dGFja0NvbW1hbmQnKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdNdWx0aXBsYXllclNjZW5lIHJlY2VpdmVkIGluIGlucHV0IG1hbmFnZXIgbXNnOicsIGRhdGEpO1xyXG4gICAgICAgICAgICB0aGlzLmNvbW1hbmRQcm9jZXNzb3IucmVjZWl2ZUNvbW1hbmQoZGF0YSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxufSIsImV4cG9ydCBjbGFzcyBBbmltYXRvciB7XHJcblxyXG4gICAgY29uc3RydWN0b3Ioc2NlbmUsIGFuaW1hdGlvblNwcml0ZXNoZWV0KSB7XHJcbiAgICAgICAgdGhpcy5zY2VuZSA9IHNjZW5lO1xyXG4gICAgICAgIHRoaXMuYW5pbWF0aW9uU3ByaXRlc2hlZXQgPSBhbmltYXRpb25TcHJpdGVzaGVldDtcclxuICAgIH1cclxuXHJcbi8vIE11eSBpbXBvcnRhbnRlIGxsYW1hciBhIGVzdGEgZnVuY2nDs24gZW4gZWwgcHJlbG9hZCBkZSBsYSBlc2NlbmFcclxuICAgIHByZWxvYWQoZnJhbWVXaWR0aCwgZnJhbWVIZWlnaHQpIHtcclxuICAgICAgICB0aGlzLnNjZW5lLmxvYWQuc3ByaXRlc2hlZXQodGhpcy5hbmltYXRpb25TcHJpdGVzaGVldCwgXHJcbiAgICAgICAgICAgIGBhc3NldHMvc3ByaXRlcy8ke3RoaXMuYW5pbWF0aW9uU3ByaXRlc2hlZXR9LnBuZ2AsIFxyXG4gICAgICAgICAgICB7IGZyYW1lV2lkdGg6IGZyYW1lV2lkdGgsIGZyYW1lSGVpZ2h0OiBmcmFtZUhlaWdodCB9KTtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGVBbmltYXRpb24oa2V5LCBzdGFydEZyYW1lLCBlbmRGcmFtZSwgZnJhbWVSYXRlLCByZXBlYXQgPSAtMSkge1xyXG4gICAgICAgIHRoaXMuc2NlbmUuYW5pbXMuY3JlYXRlKHtcclxuICAgICAgICAgICAga2V5OiBrZXksXHJcbiAgICAgICAgICAgIGZyYW1lczogdGhpcy5zY2VuZS5hbmltcy5nZW5lcmF0ZUZyYW1lTnVtYmVycyh0aGlzLmFuaW1hdGlvblNwcml0ZXNoZWV0LCB7IHN0YXJ0OiBzdGFydEZyYW1lLCBlbmQ6IGVuZEZyYW1lIH0pLFxyXG4gICAgICAgICAgICBmcmFtZVJhdGU6IGZyYW1lUmF0ZSwgIC8vIFBvbmVyIG1hcyBvIG1lbm9zIDE2IG8gYXPDrVxyXG4gICAgICAgICAgICByZXBlYXQ6IHJlcGVhdFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGFzc2lnblNwcml0ZVRvUGxheWVyKHgsIHkpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5zY2VuZS5waHlzaWNzLmFkZC5zcHJpdGUoeCwgeSwgdGhpcy5hbmltYXRpb25TcHJpdGVzaGVldCk7XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlU3ByaXRlKHgsIHkpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5zY2VuZS5hZGQuc3ByaXRlKHgsIHksIHRoaXMuYW5pbWF0aW9uU3ByaXRlc2hlZXQpO1xyXG4gICAgfVxyXG4gICAgXHJcbn0iLCJpbXBvcnQgeyBBbmltYXRvciB9IGZyb20gXCIuLi9Db21wb25lbnRzL0FuaW1hdG9yXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgRW5lbXkge1xyXG4gICAgY29uc3RydWN0b3Ioc2NlbmUsIGlkLCB4LCB5LCBwbGF5ZXJzKSB7XHJcbiAgICAgICAgdGhpcy5zY2VuZSA9IHNjZW5lO1xyXG4gICAgICAgIHRoaXMueCA9IHg7XHJcbiAgICAgICAgdGhpcy55ID0geTtcclxuICAgICAgICB0aGlzLnBsYXllcnMgPSBwbGF5ZXJzO1xyXG4gICAgICAgIHRoaXMuaWQgPSBpZDtcclxuICAgICAgICB0aGlzLmJhc2VIZWlnaHQgPSAwLjE3O1xyXG4gICAgICAgIHRoaXMuYmFzZVdpZHRoID0gMC4xNztcclxuICAgICAgICB0aGlzLmJhc2VTcGVlZCA9IDEwMDtcclxuICAgICAgICB0aGlzLmlzRGVhZCA9IGZhbHNlO1xyXG5cclxuICAgICAgICB0aGlzLndlYWtlbmVkID0gZmFsc2U7XHJcblxyXG4gICAgICAgIHRoaXMuYW5pbWF0b3IgPSBuZXcgQW5pbWF0b3IodGhpcy5zY2VuZSwgJ3Nwcml0ZXNoZWV0LWVuZW1pZ28nKTtcclxuICAgIH1cclxuXHJcbiAgICBwcmVsb2FkKCkge1xyXG4gICAgICAgIHRoaXMuYW5pbWF0b3IucHJlbG9hZCg2MDAsIDgwMCk7XHJcbiAgICB9XHJcbiBcclxuICAgIGNyZWF0ZSgpIHtcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLnNwcml0ZSA9IHRoaXMuYW5pbWF0b3IuYXNzaWduU3ByaXRlVG9QbGF5ZXIodGhpcy54LCB0aGlzLnkpO1xyXG4gICAgICAgIHRoaXMuYW5pbWF0b3IuY3JlYXRlQW5pbWF0aW9uKGBpZGxlLWJsYWNrLSR7dGhpcy5pZH1gLCAwLCAyLCA1KTtcclxuICAgICAgICB0aGlzLmFuaW1hdG9yLmNyZWF0ZUFuaW1hdGlvbihgaWRsZS13aGl0ZS0ke3RoaXMuaWR9YCwgMywgNSwgNSk7XHJcbiAgICAgICAgdGhpcy5hbmltYXRvci5jcmVhdGVBbmltYXRpb24oYGJsYWNrLXRvLXdoaXRlLSR7dGhpcy5pZH1gLCA2LCA4LCA4LDApO1xyXG4gICAgICAgIHRoaXMuYW5pbWF0b3IuY3JlYXRlQW5pbWF0aW9uKGB3aGl0ZS10by1ibGFjay0ke3RoaXMuaWR9YCwgNiwgOCwgOCwwKTtcclxuICAgICAgICB0aGlzLmFuaW1hdG9yLmNyZWF0ZUFuaW1hdGlvbihgZGllLSR7dGhpcy5pZH1gLCA5LCAxMSwgOCwwKTtcclxuXHJcbiAgICAgICAgdGhpcy5zcHJpdGUub24oXCJhbmltYXRpb25jb21wbGV0ZVwiLCAoYW5pbSkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoYW5pbS5rZXkgPT09IGBkaWUtJHt0aGlzLmlkfWApIHsgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIHRoaXMuc3ByaXRlLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLnNwcml0ZS5zZXRDb2xsaWRlV29ybGRCb3VuZHModHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5zcHJpdGUuYm9keS5hbGxvd0dyYXZpdHkgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnNwcml0ZS5ib2R5LnNldEdyYXZpdHlZKDUwMCk7XHJcbiAgICAgICAgdGhpcy5zcHJpdGUuc2V0RGVwdGgoMTApO1xyXG4gICAgICAgIHRoaXMuc3ByaXRlLnNldFNjYWxlKHRoaXMuYmFzZVdpZHRoLCB0aGlzLmJhc2VIZWlnaHQpO1xyXG4gICAgICAgIHRoaXMuc3ByaXRlLmJvZHkuc2V0U2l6ZSh0aGlzLnNwcml0ZS53aWR0aCAtIDMwMCwgdGhpcy5zcHJpdGUuaGVpZ2h0IC0gMjcwKTtcclxuXHJcbiAgICAgICAgdGhpcy5zcHJpdGUuYW5pbXMucGxheShgaWRsZS1ibGFjay0ke3RoaXMuaWR9YCk7XHJcbiAgICB9XHJcbiAgICBlbmVteU1vdmVtZW50KCkge1xyXG5cclxuICAgICAgICBsZXQgcGxheWVyID0gdGhpcy5waWNrUGxheWVyKCk7XHJcbiAgICAgICAgLy8gbW92ZSB0b3dhcmRzIHRoZSBwbGF5ZXJcclxuICAgICAgICB0aGlzLnNwcml0ZS5mbGlwWCA9IHBsYXllci5zcHJpdGUueCA8IHRoaXMuc3ByaXRlLng7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLndlYWtlbmVkIHx8IE1hdGguYWJzKHBsYXllci5zcHJpdGUueCAtIHRoaXMuc3ByaXRlLngpID4gNTAwIHx8IE1hdGguYWJzKHBsYXllci5zcHJpdGUueSAtIHRoaXMuc3ByaXRlLnkpID4gNTAwKXsgLy8gQ2hlY2sgaWYgdGhlIHBsYXllciBpcyB0b28gZmFyIGF3YXlcclxuICAgICAgICAgICAgdGhpcy5iYXNlU3BlZWQgPSAwO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuYmFzZVNwZWVkID0gMTAwO1xyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIHRoaXMuc2NlbmUucGh5c2ljcy5tb3ZlVG9PYmplY3QodGhpcy5zcHJpdGUsIHBsYXllci5zcHJpdGUsIHRoaXMuYmFzZVNwZWVkKTtcclxuICAgIH1cclxuXHJcbiAgICBwaWNrUGxheWVyKCl7XHJcbiAgICAgICAgbGV0IHBsYXllciA9IChNYXRoLmFicyh0aGlzLnBsYXllcnMuZ2V0KCdwbGF5ZXIxJykuc3ByaXRlLnggLSB0aGlzLnNwcml0ZS54KSkgPiAoTWF0aC5hYnModGhpcy5wbGF5ZXJzLmdldCgncGxheWVyMicpLnNwcml0ZS54IC0gdGhpcy5zcHJpdGUueCkpID8gdGhpcy5wbGF5ZXJzLmdldCgncGxheWVyMicpIDogdGhpcy5wbGF5ZXJzLmdldCgncGxheWVyMScpO1xyXG5cclxuXHJcbiAgICAgICAgaWYgKHBsYXllci5oZWFsdGggPD0gMCkge1xyXG4gICAgICAgICAgICBpZiAocGxheWVyLmlkID09PSAncGxheWVyMScpIHtcclxuICAgICAgICAgICAgICAgIHBsYXllciA9IHRoaXMucGxheWVycy5nZXQoJ3BsYXllcjInKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHBsYXllciA9IHRoaXMucGxheWVycy5nZXQoJ3BsYXllcjEnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHBsYXllcjtcclxuICAgIH1cclxuXHJcbiAgICBkaWUoKSB7XHJcbiAgICAgICAgdGhpcy5zcHJpdGUuc2V0VmVsb2NpdHkoMCk7XHJcbiAgICAgICAgdGhpcy5zcHJpdGUuYW5pbXMucGxheShgZGllLSR7dGhpcy5pZH1gKTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgc2V0V2Vha2VuZWQodmFsdWUpIHtcclxuICAgICAgICB0aGlzLndlYWtlbmVkID0gdmFsdWU7XHJcbiAgICAgICAgaWYgKHZhbHVlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc3ByaXRlLmFuaW1zLnBsYXkoYGJsYWNrLXRvLXdoaXRlLSR7dGhpcy5pZH1gKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuc3ByaXRlLm9uKFwiYW5pbWF0aW9uY29tcGxldGVcIiwgKGFuaW0pID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChhbmltLmtleSA9PT0gYGJsYWNrLXRvLXdoaXRlLSR7dGhpcy5pZH1gKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zcHJpdGUuYW5pbXMucGxheShgaWRsZS13aGl0ZS0ke3RoaXMuaWR9YCk7XHJcbiAgICAgICAgICAgICAgICB9ICAgXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnNwcml0ZS5hbmltcy5wbGF5KGBpZGxlLWJsYWNrLSR7dGhpcy5pZH1gKTtcclxuICAgICAgICAgICAgICAgIH0gICBcclxuICAgICAgICAgIFxyXG4gICAgfVxyXG4gICAgXHJcbiAgICB1cGRhdGUoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNEZWFkKSByZXR1cm47XHJcbiAgICAgICAgdGhpcy5lbmVteU1vdmVtZW50KCk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgUGhhc2VyIGZyb20gJ3BoYXNlcic7XHJcbmV4cG9ydCBjbGFzcyBDYW1lcmEge1xyXG4gICAgY29uc3RydWN0b3Ioc2NlbmUsIHBsYXllcnMpIHtcclxuICAgICAgICB0aGlzLnNjZW5lID0gc2NlbmU7XHJcbiAgICAgICAgdGhpcy5wbGF5ZXJzID0gcGxheWVycztcclxuICAgICAgICB0aGlzLmNhbWVyYSA9IHRoaXMuc2NlbmUuY2FtZXJhcy5tYWluO1xyXG5cclxuICAgICAgICB0aGlzLmNhbUxlZnQgPSB0aGlzLmNhbWVyYS5zY3JvbGxYO1xyXG4gICAgICAgIHRoaXMuY2FtUmlnaHQgPSB0aGlzLmNhbWVyYS5zY3JvbGxYICsgdGhpcy5jYW1lcmEud2lkdGg7XHJcbiAgICAgICAgdGhpcy5tYXJnaW4gPSAyMDtcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGUoKSB7XHJcbiAgICAgICAgdGhpcy5jYW1MZWZ0ID0gdGhpcy5jYW1lcmEuc2Nyb2xsWDtcclxuICAgICAgICB0aGlzLmNhbVJpZ2h0ID0gdGhpcy5jYW1lcmEuc2Nyb2xsWCArIHRoaXMuY2FtZXJhLndpZHRoO1xyXG5cclxuICAgICAgICB0aGlzLnBsYXllcnMuZ2V0KCdwbGF5ZXIxJykuc3ByaXRlLnggPSBQaGFzZXIuTWF0aC5DbGFtcCh0aGlzLnBsYXllcnMuZ2V0KCdwbGF5ZXIxJykuc3ByaXRlLngsIHRoaXMuY2FtTGVmdCArIHRoaXMubWFyZ2luLCB0aGlzLmNhbVJpZ2h0IC0gdGhpcy5tYXJnaW4pO1xyXG4gICAgICAgIHRoaXMucGxheWVycy5nZXQoJ3BsYXllcjInKS5zcHJpdGUueCA9IFBoYXNlci5NYXRoLkNsYW1wKHRoaXMucGxheWVycy5nZXQoJ3BsYXllcjInKS5zcHJpdGUueCwgdGhpcy5jYW1MZWZ0ICsgdGhpcy5tYXJnaW4sIHRoaXMuY2FtUmlnaHQgLSB0aGlzLm1hcmdpbik7XHJcbiAgICAgICAgXHJcbiAgICAgICAgY29uc3QgbWlkWCA9ICh0aGlzLnBsYXllcnMuZ2V0KCdwbGF5ZXIxJykuc3ByaXRlLnggKyB0aGlzLnBsYXllcnMuZ2V0KCdwbGF5ZXIyJykuc3ByaXRlLngpIC8gMjtcclxuICAgICAgICBjb25zdCB0YXJnZXRMZWZ0ICA9IG1pZFggLSB0aGlzLmNhbWVyYS53aWR0aCAqIDAuNTtcclxuICAgICAgICBjb25zdCB0YXJnZXRSaWdodCA9IG1pZFggKyB0aGlzLmNhbWVyYS53aWR0aCAqIDAuNTtcclxuXHJcbiAgICAgICAgY29uc3QgYXJ0aHVySW5zaWRlQWZ0ZXJNb3ZlID0gXHJcbiAgICAgICAgICAgIHRoaXMucGxheWVycy5nZXQoJ3BsYXllcjEnKS5zcHJpdGUueCA+IHRhcmdldExlZnQgKyB0aGlzLm1hcmdpbiAmJlxyXG4gICAgICAgICAgICB0aGlzLnBsYXllcnMuZ2V0KCdwbGF5ZXIxJykuc3ByaXRlLnggPCB0YXJnZXRSaWdodCAtIHRoaXMubWFyZ2luO1xyXG5cclxuICAgICAgICBjb25zdCBsdWN5SW5zaWRlQWZ0ZXJNb3ZlID1cclxuICAgICAgICAgICAgdGhpcy5wbGF5ZXJzLmdldCgncGxheWVyMicpLnNwcml0ZS54ID4gdGFyZ2V0TGVmdCArIHRoaXMubWFyZ2luICYmXHJcbiAgICAgICAgICAgIHRoaXMucGxheWVycy5nZXQoJ3BsYXllcjInKS5zcHJpdGUueCA8IHRhcmdldFJpZ2h0IC0gdGhpcy5tYXJnaW47XHJcblxyXG4gICAgICAgIGlmIChhcnRodXJJbnNpZGVBZnRlck1vdmUgJiYgbHVjeUluc2lkZUFmdGVyTW92ZSkge1xyXG4gICAgICAgICAgICB0aGlzLmNhbWVyYS5zY3JvbGxYID0gTWF0aC5yb3VuZChcclxuICAgICAgICAgICAgICAgIFBoYXNlci5NYXRoLkxpbmVhcih0aGlzLmNhbWVyYS5zY3JvbGxYLCBtaWRYIC0gdGhpcy5jYW1lcmEud2lkdGgvMiwgMC4xKVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH1cclxuICAgIH0gICBcclxufSAgIiwiZXhwb3J0IGNsYXNzIFBsYXRmb3JtIHtcclxuICAgIGNvbnN0cnVjdG9yKHNjZW5lLCBpZCwgeCwgeSwgd2lkdGgsIGhlaWdodCwgdGV4dHVyZUtleSkge1xyXG4gICAgICAgIHRoaXMuc2NlbmUgPSBzY2VuZTtcclxuICAgICAgICB0aGlzLmlkID0gaWQ7XHJcblxyXG4gICAgICAgIHRoaXMuc3ByaXRlID0gc2NlbmUuYWRkLmltYWdlKHgsIHksIHRleHR1cmVLZXkpO1xyXG4gICAgICAgIHRoaXMuc3ByaXRlLnNldE9yaWdpbigwLjUsIDAuNSk7XHJcbiAgICAgICAgdGhpcy5zcHJpdGUuc2V0RGVwdGgoMTApO1xyXG4gICAgICAgIHRoaXMuc3ByaXRlLnNldERpc3BsYXlTaXplKHdpZHRoLCBoZWlnaHQpO1xyXG5cclxuICAgICAgICBzY2VuZS5waHlzaWNzLmFkZC5leGlzdGluZyh0aGlzLnNwcml0ZSwgdHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5zcHJpdGUuYm9keS5zZXRTaXplKHdpZHRoLCBoZWlnaHQpO1xyXG5cclxuICAgICAgICAvLyBEaWJ1am8gdmlzdWFsIHBhcmEgZGVwdXJhciBjb2xpc2nDs25cclxuICAgICAgICB0aGlzLmcgPSBzY2VuZS5hZGQuZ3JhcGhpY3MoKTtcclxuICAgICAgICB0aGlzLmcuZmlsbFN0eWxlKDB4MDAwMDAwLCAwLjApO1xyXG4gICAgICAgIHRoaXMuZy5maWxsUmVjdCh4IC0gd2lkdGgvMiwgeSAtIGhlaWdodC8yLCB3aWR0aCAtIDEwLCBoZWlnaHQgLSAxMCk7XHJcbiAgICAgICAgdGhpcy5nLnNldERlcHRoKDApO1xyXG5cclxuICAgICAgICB0aGlzLnNldFVwQ29sbGlzaW9ucygpO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBzZXRVcENvbGxpc2lvbnMoKXtcclxuICAgICAgICB0aGlzLnNjZW5lLnBoeXNpY3MuYWRkLmV4aXN0aW5nKHRoaXMuZywgdHJ1ZSk7XHJcbiAgICB9XHJcbn1cclxuXHJcbiAgICBcclxuIiwiaW1wb3J0IHsgQW5pbWF0b3IgfSBmcm9tIFwiLi4vQ29tcG9uZW50cy9BbmltYXRvclwiO1xyXG5pbXBvcnQgeyBjbGllbnREYXRhTWFuYWdlciB9IGZyb20gXCIuLi9zZXJ2aWNlcy9jbGllbnREYXRhTWFuYWdlclwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFBsYXllciB7XHJcblxyXG4gICAgY29uc3RydWN0b3Ioc2NlbmUsIGlkLCBncmF2aXR5LCB4UG9zLCB5UG9zLCBzcHJpdGVTaGVldCA9IG51bGwpIHtcclxuICAgICAgICB0aGlzLmlkID0gaWQ7XHJcbiAgICAgICAgdGhpcy5zY2VuZSA9IHNjZW5lO1xyXG4gICAgICAgIHRoaXMuZ3Jhdml0eSA9IGdyYXZpdHk7XHJcbiAgICAgICAgdGhpcy5iYXNlSGVpZ2h0ID0gMC4xNztcclxuICAgICAgICB0aGlzLmJhc2VXaWR0aCA9IDAuMTc7XHJcbiAgICAgICAgdGhpcy5iYXNlU3BlZWQgPSAzMDA7XHJcbiAgICAgICAgdGhpcy5qdW1wRm9yY2UgPSA0NTA7XHJcbiAgICAgICAgdGhpcy5oZWFsdGggPSAxMDA7XHJcbiAgICAgICAgdGhpcy5pbnZ1bG5lcmFibGUgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmF1dGhvcml0eSA9ICdMT0NBTCc7XHJcbiAgICAgICAgdGhpcy54UG9zID0geFBvcztcclxuICAgICAgICB0aGlzLnlQb3MgPSB5UG9zO1xyXG4gICAgICAgIHRoaXMuaXNEZWFkID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5udW1EZWF0aHMgPSBjbGllbnREYXRhTWFuYWdlci5kZWF0aHM7XHJcblxyXG4gICAgICAgIHRoaXMuY3VycmVudERpcmVjdGlvbiA9ICdpZGxlJztcclxuICAgICAgICB0aGlzLmN1cnJlbnRBbmltID0gbnVsbDtcclxuXHJcbiAgICAgICAgdGhpcy5hbmltYXRvciA9IG5ldyBBbmltYXRvcih0aGlzLnNjZW5lLCBzcHJpdGVTaGVldClcclxuICAgIH1cclxuXHJcbiAgICBwcmVsb2FkKHdpZHRoLCBoZWlnaHQpIHtcclxuICAgICAgICB0aGlzLmFuaW1hdG9yLnByZWxvYWQod2lkdGgsIGhlaWdodCk7XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlKCkge1xyXG4gICAgICAgIC8vIENyZWFyIGxhcyBhbmltYWNpb25lcyBkZWwganVnYWRvciBhcXXDrVxyXG4gICAgICAgIHRoaXMuc3ByaXRlID0gdGhpcy5hbmltYXRvci5hc3NpZ25TcHJpdGVUb1BsYXllcih0aGlzLnhQb3MsIHRoaXMueVBvcyk7XHJcbiAgICAgICAgdGhpcy5hbmltYXRvci5jcmVhdGVBbmltYXRpb24oYGlkbGUtJHt0aGlzLmlkfWAsIDAsIDMsIDQpO1xyXG4gICAgICAgIHRoaXMuYW5pbWF0b3IuY3JlYXRlQW5pbWF0aW9uKGB3YWxrLSR7dGhpcy5pZH1gLCA0LCA3LCA1KTtcclxuICAgICAgICB0aGlzLmFuaW1hdG9yLmNyZWF0ZUFuaW1hdGlvbihganVtcC0ke3RoaXMuaWR9YCwgOCwgOCwgNCwgMCk7XHJcbiAgICAgICAgdGhpcy5hbmltYXRvci5jcmVhdGVBbmltYXRpb24oYGFpci0ke3RoaXMuaWR9YCwgOSwgMTAsIDEsIDApO1xyXG4gICAgICAgIHRoaXMuYW5pbWF0b3IuY3JlYXRlQW5pbWF0aW9uKGBmYWxsLSR7dGhpcy5pZH1gLCAxMCwgMTAsIDEsIDApO1xyXG4gICAgICAgIHRoaXMuYW5pbWF0b3IuY3JlYXRlQW5pbWF0aW9uKGBhdHRhY2stJHt0aGlzLmlkfWAsIDEyLCAxMywgMiwgMCk7XHJcblxyXG4gICAgICAgIHRoaXMuc3ByaXRlLm9uKFwiYW5pbWF0aW9uY29tcGxldGVcIiwgKGFuaW0pID0+IHtcclxuICAgICAgICAgICAgaWYgKGFuaW0ua2V5ID09PSBganVtcC0ke3RoaXMuaWR9YCkge1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5zcHJpdGUuYm9keS5vbkZsb29yKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBsYXlBbmltKGBhaXItJHt0aGlzLmlkfWApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuc3ByaXRlLm9uKFwiYW5pbWF0aW9udXBkYXRlXCIsIChhbmltKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChhbmltLmtleSA9PT0gYGFpci0ke3RoaXMuaWR9YCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc3ByaXRlLmJvZHkub25GbG9vcigpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wbGF5QW5pbShgZmFsbC0ke3RoaXMuaWR9YCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5zcHJpdGUuc2V0U2NhbGUodGhpcy5iYXNlV2lkdGgsIHRoaXMuYmFzZUhlaWdodCk7XHJcblxyXG4gICAgICAgIHRoaXMuc3ByaXRlLnNldENvbGxpZGVXb3JsZEJvdW5kcyh0cnVlKTtcclxuICAgICAgICB0aGlzLnNwcml0ZS5ib2R5LmFsbG93R3Jhdml0eSA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5zcHJpdGUuYm9keS5zZXRHcmF2aXR5WSh0aGlzLmdyYXZpdHkpO1xyXG4gICAgICAgIHRoaXMuc3ByaXRlLmJvZHkuc2V0U2l6ZSh0aGlzLnNwcml0ZS53aWR0aCAtIDMwMCwgdGhpcy5zcHJpdGUuaGVpZ2h0IC0gMjcwKTtcclxuICAgICAgICB0aGlzLnNwcml0ZS5ib2R5LnNldE9mZnNldCgxNTAsIDI3MCk7XHJcbiAgICAgICAgdGhpcy5zcHJpdGUuc2V0RGVwdGgoNSk7XHJcbiAgICAgICAgdGhpcy5zcHJpdGUucGxheShgaWRsZS0ke3RoaXMuaWR9YCk7XHJcbiAgICB9XHJcblxyXG4gICAgcGxheUFuaW0oa2V5KSB7XHJcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudEFuaW0gIT09IGtleSkge1xyXG4gICAgICAgICAgICB0aGlzLnNwcml0ZS5wbGF5KGtleSwgdHJ1ZSk7XHJcbiAgICAgICAgICAgIHRoaXMuY3VycmVudEFuaW0gPSBrZXk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGhvcml6b250YWxNb3ZlKGRpcmVjdGlvbikge1xyXG5cclxuICAgICAgICBpZiAodGhpcy5oZWFsdGggPD0gMCkgcmV0dXJuO1xyXG4gICAgICAgIHRoaXMuY3VycmVudERpcmVjdGlvbiA9IGRpcmVjdGlvbjtcclxuICAgICAgICB0aGlzLnNwcml0ZS5mbGlwWCA9IChkaXJlY3Rpb24gPT09ICdsZWZ0Jyk7XHJcblxyXG4gICAgICAgIC8vIE1vdmVyXHJcbiAgICAgICAgdGhpcy5zcHJpdGUuc2V0VmVsb2NpdHlYKGRpcmVjdGlvbiA9PT0gJ2xlZnQnID8gLXRoaXMuYmFzZVNwZWVkIDogdGhpcy5iYXNlU3BlZWQpO1xyXG5cclxuXHJcbiAgICAgICAgaWYgKHRoaXMuc3ByaXRlLmJvZHkub25GbG9vcigpICYmIHRoaXMuY3VycmVudEFuaW0gIT09IGBqdW1wLSR7dGhpcy5pZH1gICYmIHRoaXMuY3VycmVudEFuaW0gIT09IGBhdHRhY2stJHt0aGlzLmlkfWApIHtcclxuICAgICAgICAgICAgdGhpcy5wbGF5QW5pbShgd2Fsay0ke3RoaXMuaWR9YCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGp1bXAoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuY2FuSnVtcCgpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc3ByaXRlLnNldFZlbG9jaXR5WSgtdGhpcy5qdW1wRm9yY2UpO1xyXG4gICAgICAgICAgICB0aGlzLnBsYXlBbmltKGBqdW1wLSR7dGhpcy5pZH1gKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG5cclxuICAgIGlkbGUoKSB7XHJcbiAgICAgICAgdGhpcy5zcHJpdGUuc2V0VmVsb2NpdHlYKDApO1xyXG4gICAgICAgIC8vIE5vIHBvbmVyIGlkbGUgc2kgZXN0w6FzIGVuIGVsIGFpcmVcclxuICAgICAgICBpZiAodGhpcy5zcHJpdGUuYm9keS5vbkZsb29yKCkgJiYgdGhpcy5jdXJyZW50QW5pbSAhPT0gYGp1bXAtJHt0aGlzLmlkfWAgJiYgdGhpcy5jdXJyZW50QW5pbSAhPT0gYGZhbGwtJHt0aGlzLmlkfWAgJiYgdGhpcy5jdXJyZW50QW5pbSAhPT0gYGF0dGFjay0ke3RoaXMuaWR9YCAmJiAhdGhpcy5pc0RlYWQpIHtcclxuICAgICAgICAgICAgdGhpcy5wbGF5QW5pbShgaWRsZS0ke3RoaXMuaWR9YCk7XHJcbiAgICAgICAgICAgIHRoaXMuY3VycmVudERpcmVjdGlvbiA9ICdpZGxlJztcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG5cclxuICAgIGdldEhpdChkYW1hZ2UpIHtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuaW52dWxuZXJhYmxlKSByZXR1cm47XHJcblxyXG4gICAgICAgIHRoaXMuaGVhbHRoIC09IGRhbWFnZTtcclxuICAgICAgICB0aGlzLmludnVsbmVyYWJsZSA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5zcHJpdGUuc2V0VGludCgweDgwODA4MCk7ICAvLyBHcmlzXHJcblxyXG4gICAgICAgIGlmICghdGhpcy5jaGVja0FsaXZlKCkpIHtcclxuICAgICAgICAgICAgdGhpcy5oZWFsdGggPSAwO1xyXG4gICAgICAgICAgICB0aGlzLmJhc2VTcGVlZCA9IDA7XHJcbiAgICAgICAgICAgIHRoaXMuc3ByaXRlLnNldFRpbnQoMHgwMDAwMDApO1xyXG4gICAgICAgICAgICB0aGlzLnNwcml0ZS5hbmltcy5wYXVzZSgpO1xyXG4gICAgICAgICAgICB0aGlzLmludnVsbmVyYWJsZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICB0aGlzLmlzRGVhZCA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMuaXNBdHRhY2tpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gVm9sdmVyIHZ1bG5lcmFibGUgdHJhcyAyIHNlZ3VuZG9zXHJcbiAgICAgICAgdGhpcy5zY2VuZS50aW1lLmRlbGF5ZWRDYWxsKDIwMDAsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5pbnZ1bG5lcmFibGUgPSBmYWxzZTtcclxuICAgICAgICAgICAgdGhpcy5zcHJpdGUuY2xlYXJUaW50KCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV2aXZlKCkge1xyXG4gICAgICAgIHRoaXMuaGVhbHRoID0gMTAwO1xyXG4gICAgICAgIHRoaXMuYmFzZVNwZWVkID0gMzAwO1xyXG4gICAgICAgIHRoaXMuaXNEZWFkID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5pbnZ1bG5lcmFibGUgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnNwcml0ZS5jbGVhclRpbnQoKTtcclxuICAgICAgICB0aGlzLnNwcml0ZS5hbmltcy5yZXN1bWUoKTtcclxuICAgICAgICB0aGlzLmludnVsbmVyYWJsZSA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5pc0F0dGFja2luZyA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMucGxheUFuaW0oYGlkbGUtJHt0aGlzLmlkfWApO1xyXG5cclxuICAgICAgICB0aGlzLnNjZW5lLnRpbWUuZGVsYXllZENhbGwoMTAwMCwgKCkgPT4geyB0aGlzLmludnVsbmVyYWJsZSA9IGZhbHNlIH0pXHJcbiAgICB9XHJcblxyXG4gICAgY2hlY2tBbGl2ZSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5oZWFsdGggPiAwO1xyXG4gICAgfVxyXG5cclxuICAgIGNhbkp1bXAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc3ByaXRlLmJvZHkub25GbG9vcigpICYmIHRoaXMuY2hlY2tBbGl2ZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIGF0dGFjaygpIHtcclxuICAgICAgICAvLyBJbXBsZW1lbnRhciBlbiBsYXMgY2xhc2VzIGhpamFzXHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgdXBkYXRlRGVhdGhzKCkge1xyXG4gICAgICAgIGF3YWl0IGNsaWVudERhdGFNYW5hZ2VyLnVwZGF0ZUNsaWVudERhdGEoY2xpZW50RGF0YU1hbmFnZXIsIHsgZGVhdGhzOiB0aGlzLm51bURlYXRocyB9KTtcclxuICAgIH1cclxufSIsImltcG9ydCB7IFBsYXllciB9IGZyb20gXCIuL1BsYXllclwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEx1Y3kgZXh0ZW5kcyBQbGF5ZXIge1xyXG4gICAgY29uc3RydWN0b3Ioc2NlbmUsIGlkLCB4LCB5LCBncmF2aXR5LCB4UG9zLCB5UG9zLCBzcHJpdGVTaGVldCA9IG51bGwpIHtcclxuICAgICAgICBzdXBlcihzY2VuZSwgaWQsIHgsIHksIGdyYXZpdHksIHhQb3MsIHlQb3MsIHNwcml0ZVNoZWV0KTtcclxuICAgICAgICB0aGlzLmF0dGFja0hpdGJveCA9IG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlKCkge1xyXG4gICAgICAgIHN1cGVyLmNyZWF0ZSgpO1xyXG4gICAgICAgIHRoaXMuYXR0YWNrSGl0Ym94ID0gdGhpcy5zY2VuZS5waHlzaWNzLmFkZC5zcHJpdGUoMCwgMCwgbnVsbClcclxuICAgICAgICAgICAgLnNldFNpemUoNDAsIDIwKVxyXG4gICAgICAgICAgICAuc2V0VmlzaWJsZShmYWxzZSlcclxuICAgICAgICAgICAgLnNldEltbW92YWJsZSh0cnVlKTtcclxuXHJcbiAgICAgICAgdGhpcy5pc0F0dGFja2luZyA9IGZhbHNlO1xyXG5cclxuXHJcbiAgICAgICAgdGhpcy5zcHJpdGUub24oXCJhbmltYXRpb25jb21wbGV0ZVwiLCAoYW5pbSkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoYW5pbS5rZXkgPT09IGBhdHRhY2stJHt0aGlzLmlkfWApIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuaXNBdHRhY2tpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIHRoaXMucGxheUFuaW0oYGlkbGUtJHt0aGlzLmlkfWApOyAvLyBvIHdhbGsgc2kgdGUgbXVldmVzXHJcbiAgICAgICAgICAgICAgICB0aGlzLmF0dGFja0hpdGJveC5zZXRQb3NpdGlvbigtMTAwLCAtMTAwKTsgLy8gc2FjYXIgZWwgaGl0Ym94IGRlIGxhIHBhbnRhbGxhXHJcblxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuc3ByaXRlLm9uKFwiYW5pbWF0aW9udXBkYXRlXCIsIChhbmltKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChhbmltLmtleSA9PT0gYGF0dGFjay0ke3RoaXMuaWR9YCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVIaXRib3goKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBFbiBlbCBjcmVhdGUgZGUgbGEgZXNjZW5hIGNvbmZpZ3VyYXIgbG9zIE9WRVJMQVBTIGNvbiBsb3MgZW5lbWlnb3NcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGVIaXRib3goKSB7XHJcbiAgICAgICAgY29uc3Qgb2Zmc2V0WCA9IHRoaXMuc3ByaXRlLmZsaXBYID8gLTIwIDogMjA7XHJcbiAgICAgICAgdGhpcy5hdHRhY2tIaXRib3guc2V0UG9zaXRpb24oXHJcbiAgICAgICAgICAgIHRoaXMuc3ByaXRlLnggKyBvZmZzZXRYLFxyXG4gICAgICAgICAgICB0aGlzLnNwcml0ZS55XHJcbiAgICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICBhdHRhY2soKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNBdHRhY2tpbmcgKSByZXR1cm47IC8vIGV2aXRhIHNwYW1lb1xyXG5cclxuICAgICAgICB0aGlzLnVwZGF0ZUhpdGJveCgpO1xyXG4gICAgICAgIHRoaXMuaXNBdHRhY2tpbmcgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuc3ByaXRlLnNldFZlbG9jaXR5WCgwKTsgLy8gb3BjaW9uYWxcclxuICAgICAgICB0aGlzLnBsYXlBbmltKGBhdHRhY2stJHt0aGlzLmlkfWApO1xyXG4gICAgfVxyXG59IiwiZXhwb3J0IGNsYXNzIExpZ2h0IHtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihzY2VuZSwgaWQsIHBsYXllciwgcmFkaXVzLCBjb2xvcikge1xyXG5cclxuICAgICAgICB0aGlzLmlkID0gaWQ7XHJcbiAgICAgICAgdGhpcy5zY2VuZSA9IHNjZW5lO1xyXG4gICAgICAgIHRoaXMucGxheWVyID0gcGxheWVyO1xyXG4gICAgICAgIHRoaXMucmFkaXVzID0gcmFkaXVzO1xyXG4gICAgICAgIHRoaXMuY29sb3IgPSBjb2xvcjtcclxuICAgICAgICB0aGlzLmlzT24gPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmNhblBlcmZvcm0gPSB0cnVlO1xyXG5cclxuICAgICAgICB0aGlzLmNvbGxpZGVyQ2lyY2xlID0gbnVsbDtcclxuICAgICAgICBcclxuICAgIH1cclxuICAgIGNyZWF0ZSgpIHtcclxuICAgICAgICAvLyBDw41SQ1VMTyBGw41TSUNPXHJcbiAgICAgICAgdGhpcy5jb2xsaWRlckNpcmNsZSA9IHRoaXMuc2NlbmUuYWRkLmNpcmNsZShcclxuICAgICAgICAgICAgdGhpcy5wbGF5ZXIuc3ByaXRlLngsXHJcbiAgICAgICAgICAgIHRoaXMucGxheWVyLnNwcml0ZS55LFxyXG4gICAgICAgICAgICB0aGlzLnJhZGl1c1xyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIHRoaXMuc2NlbmUucGh5c2ljcy5hZGQuZXhpc3RpbmcodGhpcy5jb2xsaWRlckNpcmNsZSk7XHJcbiAgICAgICAgdGhpcy5jb2xsaWRlckNpcmNsZS5ib2R5LnNldENpcmNsZSh0aGlzLnJhZGl1cyk7XHJcbiAgICAgICAgdGhpcy5jb2xsaWRlckNpcmNsZS5ib2R5LnNldEFsbG93R3Jhdml0eShmYWxzZSk7XHJcbiAgICAgICAgdGhpcy5jb2xsaWRlckNpcmNsZS5ib2R5LnNldEltbW92YWJsZSh0cnVlKTtcclxuXHJcbiAgICAgICAgLy8gR3LDoWZpY29zIHZpc3VhbGVzXHJcbiAgICAgICAgdGhpcy5ncmFwaGljcyA9IHRoaXMuc2NlbmUuYWRkLmdyYXBoaWNzKCk7XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlKCkge1xyXG5cclxuICAgICAgICAvLyBTZWd1aXIgYWwganVnYWRvclxyXG4gICAgICAgIGNvbnN0IHggPSB0aGlzLnBsYXllci5zcHJpdGUueDtcclxuICAgICAgICBjb25zdCB5ID0gdGhpcy5wbGF5ZXIuc3ByaXRlLnk7XHJcblxyXG4gICAgICAgIHRoaXMuY29sbGlkZXJDaXJjbGUuc2V0UG9zaXRpb24oeCwgeSk7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmlzT24pIHsgICBcclxuICAgICAgICAgICAgdGhpcy5ncmFwaGljcy5jbGVhcigpO1xyXG4gICAgICAgICAgICB0aGlzLmdyYXBoaWNzLmZpbGxTdHlsZSh0aGlzLmNvbG9yLCAwLjUpO1xyXG4gICAgICAgICAgICB0aGlzLmdyYXBoaWNzLmZpbGxDaXJjbGUoeCwgeSwgdGhpcy5yYWRpdXMpO1xyXG4gICAgICAgICAgICB0aGlzLmdyYXBoaWNzLnNldERlcHRoKDEwKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmdyYXBoaWNzLmNsZWFyKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHBlcmZvcm0oKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmNhblBlcmZvcm0pIHJldHVybjtcclxuXHJcbiAgICAgICAgdGhpcy5jYW5QZXJmb3JtID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5pc09uID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgdGhpcy5zY2VuZS50aW1lLmRlbGF5ZWRDYWxsKDEwMDAsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5pc09uID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHRoaXMuZ3JhcGhpY3MuY2xlYXIoKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5zY2VuZS50aW1lLmRlbGF5ZWRDYWxsKDMwMDAsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5jYW5QZXJmb3JtID0gdHJ1ZTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBkZXN0cm95KCkge1xyXG4gICAgICAgIHRoaXMuZ3JhcGhpY3MuZGVzdHJveSgpO1xyXG4gICAgICAgIHRoaXMuY29sbGlkZXJDaXJjbGUuZGVzdHJveSgpO1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCB7IFBsYXllciB9IGZyb20gXCIuL1BsYXllclwiO1xyXG5pbXBvcnQgeyBMaWdodCB9IGZyb20gXCIuL0xpZ2h0LmpzXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgQXJ0aHVyIGV4dGVuZHMgUGxheWVyIHtcclxuICAgIGNvbnN0cnVjdG9yKHNjZW5lLCBpZCwgeCwgeSwgZ3Jhdml0eSwgeFBvcywgeVBvcywgc3ByaXRlU2hlZXQgPSBudWxsKSB7XHJcbiAgICAgICAgc3VwZXIoc2NlbmUsIGlkLCB4LCB5LCBncmF2aXR5LCB4UG9zLCB5UG9zLCBzcHJpdGVTaGVldCk7XHJcblxyXG4gICAgICAgIHRoaXMubGlnaHQgPSBuZXcgTGlnaHQodGhpcy5zY2VuZSwgJ2xpZ2h0MScsIHRoaXMsIDc1LCAweGZmZmZmZilcclxuICAgICAgICB0aGlzLmlzQXR0YWNraW5nID0gZmFsc2U7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZSgpIHtcclxuICAgICAgICBzdXBlci5jcmVhdGUoKTtcclxuICAgICAgICB0aGlzLmxpZ2h0LmNyZWF0ZSgpO1xyXG5cclxuXHJcblxyXG4gICAgICAgIHRoaXMuc3ByaXRlLm9uKFwiYW5pbWF0aW9udXBkYXRlXCIsIChhbmltKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChhbmltLmtleSA9PT0gYGF0dGFjay0ke3RoaXMuaWR9YCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5saWdodC51cGRhdGUoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuaXNBdHRhY2tpbmcgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5zcHJpdGUub24oXCJhbmltYXRpb25jb21wbGV0ZVwiLCAoYW5pbSkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoYW5pbS5rZXkgPT09IGBhdHRhY2stJHt0aGlzLmlkfWApIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuaXNBdHRhY2tpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIHRoaXMucGxheUFuaW0oYGlkbGUtJHt0aGlzLmlkfWApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV2aXZlKCkge1xyXG4gICAgICAgIHN1cGVyLnJldml2ZSgpO1xyXG4gICAgICAgIHRoaXMubGlnaHQuY2FuUGVyZm9ybSA9IHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgYXR0YWNrKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmlzQXR0YWNraW5nIHx8ICF0aGlzLmxpZ2h0LmNhblBlcmZvcm0pIHJldHVybjtcclxuXHJcbiAgICAgICAgdGhpcy5saWdodC5wZXJmb3JtKCk7XHJcbiAgICAgICAgdGhpcy5wbGF5QW5pbShgYXR0YWNrLSR7dGhpcy5pZH1gKTtcclxuICAgIH1cclxufSIsImltcG9ydCBQaGFzZXIgZnJvbSBcInBoYXNlclwiO1xyXG5pbXBvcnQgeyBJbnB1dE1hbmFnZXIgfSBmcm9tIFwiLi4vaGFuZGxlcnMvSW5wdXRNYW5hZ2VyLmpzXCI7XHJcbmltcG9ydCB7IEVuZW15IH0gZnJvbSBcIi4uL2VudGl0aWVzL0VuZW15LmpzXCI7XHJcbmltcG9ydCB7IENvbW1hbmRQcm9jZXNzb3IgfSBmcm9tIFwiLi4vY29tbWFuZC1wYXR0ZXJuL0NvbW1hbmRQcm9jZXNzb3IuanNcIjtcclxuaW1wb3J0IHsgQ2FtZXJhIH0gZnJvbSBcIi4uL0NvbXBvbmVudHMvQ2FtZXJhLmpzXCI7XHJcbmltcG9ydCB7IFBsYXRmb3JtIH0gZnJvbSBcIi4uL2VudGl0aWVzL1BsYXRmb3JtLmpzXCI7XHJcbmltcG9ydCB7IEx1Y3kgfSBmcm9tIFwiLi4vZW50aXRpZXMvTHVjeS5qc1wiO1xyXG5pbXBvcnQgeyBBcnRodXIgfSBmcm9tIFwiLi4vZW50aXRpZXMvQXJ0aHVyLmpzXCI7XHJcbmltcG9ydCB7IGNvbm5lY3Rpb25NYW5hZ2VyIH0gZnJvbSBcIi4uL3NlcnZpY2VzL0Nvbm5lY3Rpb25NYW5hZ2VyLmpzXCI7XHJcbmltcG9ydCB7IGNsaWVudERhdGFNYW5hZ2VyIH0gZnJvbSBcIi4uL3NlcnZpY2VzL2NsaWVudERhdGFNYW5hZ2VyLmpzXCI7XHJcblxyXG5cclxuZXhwb3J0IGNsYXNzIEdhbWVTY2VuZSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XHJcbiAgICBjb25zdHJ1Y3RvcihuYW1lID0gJ0dhbWVTY2VuZScpIHtcclxuICAgICAgICBzdXBlcihuYW1lKVxyXG4gICAgfVxyXG5cclxuXHJcbiAgICBwcmVsb2FkKCkge1xyXG4gICAgICAgIHRoaXMuYXJ0aHVyLnByZWxvYWQoNjAwLCA4MDApO1xyXG4gICAgICAgIHRoaXMubHVjeS5wcmVsb2FkKDYwMCwgODAwKTtcclxuICAgICAgICB0aGlzLmxvYWQuYXVkaW8oJ2FtYmllbnQnLCAnYXNzZXRzL3NvdW5kL2FtYmllbnQtdGhlbWUubXAzJyk7XHJcblxyXG5cclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2ZvbmRvJywgJ2Fzc2V0cy9Gb25kb0hvcml6b250YWwucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdwMScsICdhc3NldHMvcHJvcHMvcGxhdGFmb3JtYTEucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdzdWVsbycsICdhc3NldHMvcHJvcHMvc3VlbG8ucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdwMicsICdhc3NldHMvcHJvcHMvcGxhdGFmb3JtYTIucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdjMScsICdhc3NldHMvcHJvcHMvY29sdW1uYTEucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdsaWInLCAnYXNzZXRzL3Byb3BzL2xpYnJlcmlhLnBuZycpO1xyXG5cclxuICAgICAgICB0aGlzLmVuZW1pZXMuZm9yRWFjaChlbmVteSA9PiBlbmVteS5wcmVsb2FkKCkpO1xyXG4gICAgfVxyXG5cclxuICAgIGluaXQoKSB7XHJcbiAgICAgICAgdGhpcy5zb3VuZC5zdG9wQWxsKCk7XHJcbiAgICAgICAgdGhpcy5jb21tYW5kUHJvY2Vzc29yID0gbmV3IENvbW1hbmRQcm9jZXNzb3IoKTtcclxuICAgICAgICB0aGlzLnBsYXllcnMgPSBuZXcgTWFwKCk7XHJcbiAgICAgICAgdGhpcy5lbmVtaWVzID0gbmV3IE1hcCgpO1xyXG4gICAgICAgIHRoaXMucGxhdGZvcm1zID0gbmV3IE1hcCgpO1xyXG4gICAgICAgIHRoaXMuaXNQYXVzZWQgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmlucHV0TWFuYWdlciA9IG5ldyBJbnB1dE1hbmFnZXIodGhpcywgdGhpcy5zY2VuZSwgdGhpcy5pbnB1dCwgdGhpcy5jb21tYW5kUHJvY2Vzc29yKTtcclxuICAgICAgICB0aGlzLmFydGh1ciA9IG5ldyBBcnRodXIodGhpcywgJ3BsYXllcjEnLCA2MDAsIDEwMCwgNTAwLCAnc3ByaXRlc2hlZXQtYXJ0aHVyJyk7XHJcbiAgICAgICAgdGhpcy5sdWN5ID0gbmV3IEx1Y3kodGhpcywgJ3BsYXllcjInLCA0NTAsIDMwMCwgNTAwLCAnc3ByaXRlc2hlZXQtbHVjeScpO1xyXG5cclxuICAgICAgICB0aGlzLmVuZW15MSA9IG5ldyBFbmVteSh0aGlzLCAnZW5lbXkxJywgNDAwLCAxMDAsIHRoaXMucGxheWVycyk7XHJcbiAgICAgICAgdGhpcy5lbmVteTIgPSBuZXcgRW5lbXkodGhpcywgJ2VuZW15MicsIDEyMDAsIDEwMCwgdGhpcy5wbGF5ZXJzKTtcclxuICAgICAgICB0aGlzLmVuZW15MyA9IG5ldyBFbmVteSh0aGlzLCAnZW5lbXkzJywgMjAwMCwgMTAwLCB0aGlzLnBsYXllcnMpO1xyXG4gICAgICAgIHRoaXMuZW5lbXk0ID0gbmV3IEVuZW15KHRoaXMsICdlbmVteTQnLCAyODAwLCAxMDAsIHRoaXMucGxheWVycyk7XHJcbiAgICAgICAgdGhpcy5lbmVteTUgPSBuZXcgRW5lbXkodGhpcywgJ2VuZW15NScsIDM1MDAsIDEwMCwgdGhpcy5wbGF5ZXJzKTtcclxuXHJcblxyXG4gICAgICAgIHRoaXMuY2FtZXJhID0gbmV3IENhbWVyYSh0aGlzLCB0aGlzLnBsYXllcnMpO1xyXG5cclxuICAgICAgICB0aGlzLmVuZW1pZXMuc2V0KHRoaXMuZW5lbXkxLmlkLCB0aGlzLmVuZW15MSk7XHJcbiAgICAgICAgdGhpcy5lbmVtaWVzLnNldCh0aGlzLmVuZW15Mi5pZCwgdGhpcy5lbmVteTIpO1xyXG4gICAgICAgIHRoaXMuZW5lbWllcy5zZXQodGhpcy5lbmVteTMuaWQsIHRoaXMuZW5lbXkzKTtcclxuICAgICAgICB0aGlzLmVuZW1pZXMuc2V0KHRoaXMuZW5lbXk0LmlkLCB0aGlzLmVuZW15NCk7XHJcbiAgICAgICAgdGhpcy5lbmVtaWVzLnNldCh0aGlzLmVuZW15NS5pZCwgdGhpcy5lbmVteTUpO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGUoKSB7XHJcbiAgICAgICAgLy8gTXVzaWNcclxuICAgICAgICB0aGlzLm11c2ljID0gdGhpcy5zb3VuZC5hZGQoJ2FtYmllbnQnKTtcclxuICAgICAgICB0aGlzLm11c2ljLnBsYXkoKTtcclxuICAgICAgICB0aGlzLm11c2ljLnNldFZvbHVtZSgwLjI1KTtcclxuXHJcbiAgICAgICAgLy8gQmFja2dyb3VuZFxyXG4gICAgICAgIHRoaXMuZm9uZG8gPSB0aGlzLmFkZC50aWxlU3ByaXRlKDAsIDAsIDgwMDAsIDIwMDAsICdmb25kbycpXHJcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMCwgMClcclxuICAgICAgICAgICAgLnNldFNjcm9sbEZhY3RvcigwLjIpXHJcbiAgICAgICAgICAgIC5zZXRTY2FsZSgwLjMpO1xyXG5cclxuICAgICAgICAvL0NyZWF0ZSB0aGUgcGxheWVycyBcclxuICAgICAgICB0aGlzLmFydGh1ci5jcmVhdGUoKTtcclxuICAgICAgICB0aGlzLmx1Y3kuY3JlYXRlKCk7XHJcblxyXG4gICAgICAgIC8vIFNldCB1cCBpbnB1dCBhbmQgcGxheWVyc1xyXG4gICAgICAgIHRoaXMucGxheWVycy5zZXQoJ3BsYXllcjEnLCB0aGlzLmFydGh1cik7XHJcbiAgICAgICAgdGhpcy5wbGF5ZXJzLnNldCgncGxheWVyMicsIHRoaXMubHVjeSk7XHJcblxyXG4gICAgICAgIHRoaXMuaW5wdXRNYW5hZ2VyLnBsYXllcnMgPSB0aGlzLnBsYXllcnM7XHJcbiAgICAgICAgdGhpcy5jb21tYW5kUHJvY2Vzc29yLnBsYXllcnMgPSB0aGlzLnBsYXllcnM7XHJcblxyXG4gICAgICAgIC8vIFNldCB1cCBlbmVtaWVzXHJcbiAgICAgICAgdGhpcy5lbmVtaWVzLmZvckVhY2goKGVuZW15KSA9PiB7XHJcbiAgICAgICAgICAgIGVuZW15LmNyZWF0ZSgpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLnNldFVwV29ybGRDb2xsaXNpb25zKCk7XHJcbiAgICAgICAgdGhpcy5zZXRVcEVuZW15Q29sbGlzaW9ucygpO1xyXG4gICAgICAgIHRoaXMuc2V0VXBSZXZpdmVDb2xsaXNpb24oKTtcclxuXHJcbiAgICAgICAgdGhpcy5waHlzaWNzLndvcmxkLnNldEJvdW5kcygwLCAwLCA0MTc1LCA2MDApO1xyXG4gICAgICAgIHRoaXMuY2FtZXJhLmNhbWVyYS5zZXRCb3VuZHMoMCwgMCwgNDE3NSwgNjAwKTtcclxuXHJcbiAgICAgICAgdGhpcy5jYW1lcmEuY2FtZXJhLnNldExlcnAoMC4xLCAwLjEpO1xyXG5cclxuICAgICAgICB0aGlzLmNvbm5lY3Rpb25MaXN0ZW5lciA9IChkYXRhKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICghZGF0YS5jb25uZWN0ZWQgJiYgdGhpcy5zY2VuZS5pc0FjdGl2ZSgpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm9uQ29ubmVjdGlvbkxvc3QoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgY29ubmVjdGlvbk1hbmFnZXIuYWRkTGlzdGVuZXIodGhpcy5jb25uZWN0aW9uTGlzdGVuZXIpO1xyXG4gICAgfVxyXG5cclxuICAgIHNldFVwUmV2aXZlQ29sbGlzaW9uKCkge1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQub3ZlcmxhcCh0aGlzLnBsYXllcnMuZ2V0KCdwbGF5ZXIxJykuc3ByaXRlLCB0aGlzLnBsYXllcnMuZ2V0KCdwbGF5ZXIyJykuc3ByaXRlLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnBsYXllcnMuZ2V0KCdwbGF5ZXIxJykuaGVhbHRoIDw9IDAgJiYgdGhpcy5wbGF5ZXJzLmdldCgncGxheWVyMicpLmhlYWx0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucGxheWVycy5nZXQoJ3BsYXllcjEnKS5yZXZpdmUoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmICh0aGlzLnBsYXllcnMuZ2V0KCdwbGF5ZXIyJykuaGVhbHRoIDw9IDAgJiYgdGhpcy5wbGF5ZXJzLmdldCgncGxheWVyMScpLmhlYWx0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucGxheWVycy5nZXQoJ3BsYXllcjInKS5yZXZpdmUoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHNldFVwV29ybGRDb2xsaXNpb25zKCkge1xyXG4gICAgICAgIC8vU2V0IHVwIHBsYXRmb3JtcyBhbmQgY29sbGlzaW9uc1xyXG5cclxuICAgICAgICB0aGlzLnN1ZWxvMSA9IG5ldyBQbGF0Zm9ybSh0aGlzLCAnczEnLCAyNTAwLCA1OTAsIDUwMDAsIDQwLCAnc3VlbG8nKTtcclxuICAgICAgICB0aGlzLnBsYXQxID0gbmV3IFBsYXRmb3JtKHRoaXMsICdwMScsIDIwMCwgNDUwLCAyMDAsIDMwLCAncDEnKTtcclxuICAgICAgICB0aGlzLnBsYXQyID0gbmV3IFBsYXRmb3JtKHRoaXMsICdwMicsIDQ1MCwgMzAwLCAyMDAsIDMwLCAncDEnKTtcclxuICAgICAgICB0aGlzLnN1ZWxvMiA9IG5ldyBQbGF0Zm9ybSh0aGlzLCAnczInLCAxMjAwLCA1NTAsIDUwMCwgMjAwLCAncDInKTtcclxuICAgICAgICB0aGlzLmNvbDEgPSBuZXcgUGxhdGZvcm0odGhpcywgJ2MxJywgNzAwLCA0NTAsIDcwLCAzMDAsICdjMScpO1xyXG4gICAgICAgIHRoaXMuY29sMiA9IG5ldyBQbGF0Zm9ybSh0aGlzLCAnYzInLCAyMjAwLCA0NTAsIDcwLCA0MDAsICdjMScpO1xyXG4gICAgICAgIHRoaXMucGxhdDMgPSBuZXcgUGxhdGZvcm0odGhpcywgJ3AzJywgMTgwMCwgNDUwLCAxNTAsIDMwLCAncDEnKTtcclxuICAgICAgICB0aGlzLnBsYXQ0ID0gbmV3IFBsYXRmb3JtKHRoaXMsICdwNCcsIDE1MDAsIDMwMCwgMTUwLCAzMCwgJ3AxJyk7XHJcbiAgICAgICAgdGhpcy5wbGF0NSA9IG5ldyBQbGF0Zm9ybSh0aGlzLCAncDUnLCAyMDAwLCAyMDAsIDE1MCwgMzAsICdwMScpO1xyXG4gICAgICAgIHRoaXMuc3VlbG8zID0gbmV3IFBsYXRmb3JtKHRoaXMsICdzMycsIDIyMDAsIDU1MCwgMjMwLCAxMDAsICdwMicpO1xyXG4gICAgICAgIHRoaXMuc3VlbG80ID0gbmV3IFBsYXRmb3JtKHRoaXMsICdzNCcsIDI4MDAsIDUwMCwgNTUwLCAyNTAsICdwMicpO1xyXG4gICAgICAgIHRoaXMucGxhdDYgPSBuZXcgUGxhdGZvcm0odGhpcywgJ3A2JywgMzE1MCwgMjUwLCAxNTAsIDMwLCAncDEnKTtcclxuICAgICAgICB0aGlzLnBsYXQ3ID0gbmV3IFBsYXRmb3JtKHRoaXMsICdwNycsIDM1MDAsIDI1MCwgMTUwLCAzMCwgJ3AxJyk7XHJcbiAgICAgICAgdGhpcy5wbGF0OCA9IG5ldyBQbGF0Zm9ybSh0aGlzLCAncDgnLCAzMTUwLCA0NTAsIDE1MCwgMzAsICdwMScpO1xyXG4gICAgICAgIHRoaXMuc3VlbG81ID0gbmV3IFBsYXRmb3JtKHRoaXMsICdzNScsIDQwMDEsIDQ1MCwgMzUwLCAzNTAsICdwMicpO1xyXG5cclxuXHJcbiAgICAgICAgdGhpcy5wbGF0Zm9ybXMuc2V0KCdzMScsIHRoaXMuc3VlbG8xKTtcclxuICAgICAgICB0aGlzLnBsYXRmb3Jtcy5zZXQoJ3AxJywgdGhpcy5wbGF0MSk7XHJcbiAgICAgICAgdGhpcy5wbGF0Zm9ybXMuc2V0KCdwMicsIHRoaXMucGxhdDIpO1xyXG4gICAgICAgIHRoaXMucGxhdGZvcm1zLnNldCgnczInLCB0aGlzLnN1ZWxvMik7XHJcbiAgICAgICAgdGhpcy5wbGF0Zm9ybXMuc2V0KCdjMScsIHRoaXMuY29sMSk7XHJcbiAgICAgICAgdGhpcy5wbGF0Zm9ybXMuc2V0KCdjMicsIHRoaXMuY29sMik7XHJcbiAgICAgICAgdGhpcy5wbGF0Zm9ybXMuc2V0KCdwMycsIHRoaXMucGxhdDMpO1xyXG4gICAgICAgIHRoaXMucGxhdGZvcm1zLnNldCgncDQnLCB0aGlzLnBsYXQ0KTtcclxuICAgICAgICB0aGlzLnBsYXRmb3Jtcy5zZXQoJ3A1JywgdGhpcy5wbGF0NSk7XHJcbiAgICAgICAgdGhpcy5wbGF0Zm9ybXMuc2V0KCdzMycsIHRoaXMuc3VlbG8zKTtcclxuICAgICAgICB0aGlzLnBsYXRmb3Jtcy5zZXQoJ3M0JywgdGhpcy5zdWVsbzQpO1xyXG4gICAgICAgIHRoaXMucGxhdGZvcm1zLnNldCgnczUnLCB0aGlzLnN1ZWxvNSk7XHJcbiAgICAgICAgdGhpcy5wbGF0Zm9ybXMuc2V0KCdwNicsIHRoaXMucGxhdDYpO1xyXG4gICAgICAgIHRoaXMucGxhdGZvcm1zLnNldCgncDcnLCB0aGlzLnBsYXQ3KTtcclxuICAgICAgICB0aGlzLnBsYXRmb3Jtcy5zZXQoJ3A4JywgdGhpcy5wbGF0OCk7XHJcblxyXG4gICAgICAgIHRoaXMucGxhdGZvcm1zLmZvckVhY2gocCA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMucGxheWVycy5mb3JFYWNoKHBlcnNvbmFqZSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHBlcnNvbmFqZS5zcHJpdGUsIHAuc3ByaXRlKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHRoaXMuZW5lbWllcy5mb3JFYWNoKGVuZW1pZ28gPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcihlbmVtaWdvLnNwcml0ZSwgcC5zcHJpdGUpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5saWJyZXJpYSA9IG5ldyBQbGF0Zm9ybSh0aGlzLCAnbGliJywgNDAwMCwgMjA4LCAxMDAsIDE1MCwgJ2xpYicpO1xyXG4gICAgICAgIHRoaXMubGlicmVyaWEuc3ByaXRlLnNldERlcHRoKDIpO1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQub3ZlcmxhcCh0aGlzLmxpYnJlcmlhLnNwcml0ZSwgdGhpcy5hcnRodXIuc3ByaXRlLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RvcCgpO1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdFbmRTY2VuZScpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHNldFVwRW5lbXlDb2xsaXNpb25zKCkge1xyXG4gICAgICAgIHRoaXMuZW5lbWllcy5mb3JFYWNoKChlbmVteSkgPT4ge1xyXG5cclxuICAgICAgICAgICAgLy8gRW1lbnkgaGl0cyBcclxuICAgICAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcihlbmVteS5zcHJpdGUsIHRoaXMucGxheWVycy5nZXQoJ3BsYXllcjEnKS5zcHJpdGUsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChlbmVteSAmJiB0aGlzLnBsYXllcnMuZ2V0KCdwbGF5ZXIxJykuaGVhbHRoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGxheWVycy5nZXQoJ3BsYXllcjEnKS5nZXRIaXQoNTApO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2hlY2tQbGF5ZXJTdGF0dXMoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKGVuZW15LnNwcml0ZSwgdGhpcy5wbGF5ZXJzLmdldCgncGxheWVyMicpLnNwcml0ZSwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKGVuZW15ICYmIHRoaXMucGxheWVycy5nZXQoJ3BsYXllcjInKS5oZWFsdGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wbGF5ZXJzLmdldCgncGxheWVyMicpLmdldEhpdCg1MCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jaGVja1BsYXllclN0YXR1cygpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIC8vIFBsYXllciBsaWdodHMgZW5lbXlcclxuICAgICAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5vdmVybGFwKGVuZW15LnNwcml0ZSwgdGhpcy5hcnRodXIubGlnaHQuY29sbGlkZXJDaXJjbGUsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmFydGh1ci5saWdodC5pc09uICYmIGVuZW15KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZW5lbXkuc2V0V2Vha2VuZWQodHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50aW1lLmRlbGF5ZWRDYWxsKDQwMDAsICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVuZW15KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmVteS5zZXRXZWFrZW5lZChmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAvLyBQbGF5ZXIgYXR0YWNrcyBlbmVteVxyXG4gICAgICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLm92ZXJsYXAoZW5lbXkuc3ByaXRlLCB0aGlzLnBsYXllcnMuZ2V0KCdwbGF5ZXIyJykuYXR0YWNrSGl0Ym94LCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZW5lbXk/LndlYWtlbmVkICYmIHRoaXMucGxheWVycy5nZXQoJ3BsYXllcjInKS5pc0F0dGFja2luZykge1xyXG4gICAgICAgICAgICAgICAgICAgIGVuZW15LmRpZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGVuZW15LmlzRGVhZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgZW5lbXkgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBjaGVja1BsYXllclN0YXR1cygpIHtcclxuICAgICAgICBpZiAodGhpcy5wbGF5ZXJzLmdldCgncGxheWVyMScpLmhlYWx0aCA8PSAwICYmIHRoaXMucGxheWVycy5nZXQoJ3BsYXllcjInKS5oZWFsdGggPD0gMCkge1xyXG4gICAgICAgICAgICBjbGllbnREYXRhTWFuYWdlci51cGRhdGVDbGllbnREZWF0aHMoY2xpZW50RGF0YU1hbmFnZXIuZGVhdGhzICsgMSk7XHJcbiAgICAgICAgICAgIGNsaWVudERhdGFNYW5hZ2VyLnVwZGF0ZUNsaWVudERhdGEoeyBkZWF0aHM6IGNsaWVudERhdGFNYW5hZ2VyLmRlYXRocyB9KTtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5zdG9wKCk7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ0dhbWVTY2VuZScpO1xyXG5cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlKCkge1xyXG4gICAgICAgIHRoaXMuZm9uZG8udGlsZVBvc2l0aW9uWCA9IHRoaXMuY2FtZXJhcy5tYWluLnNjcm9sbFggKiAwLjI7XHJcblxyXG4gICAgICAgIHRoaXMuY2FtZXJhLnVwZGF0ZSgpO1xyXG4gICAgICAgIHRoaXMuaW5wdXRNYW5hZ2VyLnVwZGF0ZSgpO1xyXG5cclxuICAgICAgICB0aGlzLmFydGh1ci5saWdodC51cGRhdGUoKTtcclxuXHJcbiAgICAgICAgdGhpcy5lbmVtaWVzLmZvckVhY2goKGVuZW15KSA9PiB7XHJcbiAgICAgICAgICAgIGlmICghZW5lbXkgfHwgZW5lbXkuaXNEZWFkKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmVuZW1pZXMuZGVsZXRlKGVuZW15LmlkKTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbmVteS51cGRhdGUoKTtcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG5cclxuICAgIC8vLy8vLy8vLy8vLy8vLy8vLyBSRUQgLy8vLy8vLy8vLy8vLy9cclxuICAgIG9uQ29ubmVjdGlvbkxvc3QoKSB7XHJcbiAgICAgICAgdGhpcy5zY2VuZS5wYXVzZSgpO1xyXG4gICAgICAgIHRoaXMuc2NlbmUubGF1bmNoKCdDb25uZWN0aW9uTG9zdFNjZW5lJywgeyBwcmV2aW91c1NjZW5lOiAnR2FtZVNjZW5lJyB9KTtcclxuICAgIH1cclxuXHJcbn0iLCJpbXBvcnQgUGhhc2VyIGZyb20gJ3BoYXNlcic7XHJcblxyXG5leHBvcnQgY2xhc3MgUGF1c2VTY2VuZSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcignUGF1c2VTY2VuZScpO1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZShkYXRhKSB7XHJcblxyXG4gICAgICAgIHRoaXMuaW5wdXQua2V5Ym9hcmQub24oJ2tleWRvd24tRVNDJywgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnVucGF1c2UoZGF0YS5vcmlnaW5hbFNjZW5lKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5hZGQucmVjdGFuZ2xlKDQwMCwgMzAwLCA4MDAsIDYwMCwgMHgwMDAwMDAsIDAuNyk7XHJcblxyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoNDAwLCAxMDAsICdNZW7DuiBkZSBwYXVzYScsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICc0OHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjM2UyNjA2ZmYnLFxyXG4gICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjZmZmZmZmJ1xyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICBjb25zdCBwbGF5QnRuID0gdGhpcy5hZGQudGV4dCg0MDAsIDI1MCwgJ0NvbnRpbnVhcicsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICcyNHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjM2UyNjA2ZmYnLFxyXG4gICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjZmZmZmZmJyxcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcm92ZXInLCAoKSA9PiBwbGF5QnRuLnNldFN0eWxlKHsgZmlsbDogJyMwMDAwMDAzNycgfSkpXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcm91dCcsICgpID0+IHBsYXlCdG4uc2V0U3R5bGUoeyBmaWxsOiAnIzAwMDAwMCcgfSkpXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnVucGF1c2UoZGF0YS5vcmlnaW5hbFNjZW5lKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vYm90b24gZGUgc29uaWRvXHJcbiAgICAgICAgY29uc3Qgdm9sdW1lVGV4dCA9IHRoaXMuc291bmQubXV0ZSA/ICdBY3RpdmFyIFNvbmlkbycgOiAnRGVzYWN0aXZhciBTb25pZG8nO1xyXG4gICAgICAgIGNvbnN0IHZvbHVtZUJ0biA9IHRoaXMuYWRkLnRleHQoNDAwLCA0MDAsIHZvbHVtZVRleHQsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICcyNHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjM2UyNjA2ZmYnLFxyXG4gICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjZmZmZmZmJyxcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSlcclxuICAgICAgICAub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4gdm9sdW1lQnRuLnNldFN0eWxlKHsgZmlsbDogJyMwMDAwMDAzNycgfSkpXHJcbiAgICAgICAgLm9uKCdwb2ludGVyb3V0JywgKCkgPT4gdm9sdW1lQnRuLnNldFN0eWxlKHsgZmlsbDogJyMwMDAwMDAnIH0pKVxyXG4gICAgICAgIC5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuc291bmQubXV0ZSA9ICF0aGlzLnNvdW5kLm11dGU7XHJcbiAgICAgICAgICAgIHZvbHVtZUJ0bi5zZXRUZXh0KHRoaXMuc291bmQubXV0ZSA/ICdBY3RpdmFyIFNvbmlkbycgOiAnRGVzYWN0aXZhciBTb25pZG8nKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgY29uc3QgZXhpdEJ0biA9IHRoaXMuYWRkLnRleHQoNDAwLCA1NTAsICdWb2x2ZXIgYWwgTWVudScsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICcyNHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjM2UyNjA2ZmYnLFxyXG4gICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjZmZmZmZmJyxcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcm92ZXInLCAoKSA9PiBleGl0QnRuLnNldFN0eWxlKHsgZmlsbDogJyMwMDAwMDAzNycgfSkpXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcm91dCcsICgpID0+IGV4aXRCdG4uc2V0U3R5bGUoeyBmaWxsOiAnIzAwMDAwMCcgfSkpXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmV4aXRUb01lbnUoZGF0YS5vcmlnaW5hbFNjZW5lKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgdW5wYXVzZShvcmlnaW5hbFNjZW5lKSB7XHJcbiAgICAgICAgdGhpcy5zY2VuZS5zdG9wKCk7XHJcbiAgICAgICAgdGhpcy5zY2VuZS5yZXN1bWUob3JpZ2luYWxTY2VuZSk7XHJcbiAgICB9XHJcblxyXG4gICAgZXhpdFRvTWVudShvcmlnaW5hbFNjZW5lKSB7XHJcbiAgICAgICAgdGhpcy5zY2VuZS5zdG9wKG9yaWdpbmFsU2NlbmUpO1xyXG4gICAgICAgIHRoaXMuc291bmQuc3RvcEFsbCgpO1xyXG4gICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ01lbnVTY2VuZScpO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IFBoYXNlciBmcm9tIFwicGhhc2VyXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgQ3JlZGl0c1NjZW5lIGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCdDcmVkaXRzU2NlbmUnKVxyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZSgpIHtcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLmFkZC50ZXh0KDQwMCwgMTAwLCAnSnVlZ28gZGVzYXJyb2xsYWRvIHBvcjpcXG5cXG5DbGF1ZGlhIFBvcmN1bmE6IEludGVyZmFjZXMgeSBhcnRlIFxcbkphdmllciBSdWliYWw6IFByb2dyYW1hY2nDs24gXFxuT3NjYXIgUm9kcmlndWV6OiBBcnRlIHkgZGlzZcOxbyBcXG5NYXJjb3MgTWF0dXRlczogUHJvZ3JhbWFjacOzbiBcXG5GZXJuYW5kbyBQaW46IFNvbmlkbycsXHJcbiAgICAgICAgeyAgIGZvbnRTaXplOiAnMjRweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmZmZmZmZmJyxcclxuICAgICAgICAgICAgYWxpZ246ICdjZW50ZXInLFxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICBjb25zdCByZXR1cm5CdG4gPSB0aGlzLmFkZC50ZXh0KDYwMCwgNTAwLCAnUmV0dXJuJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzI0cHgnLCBcclxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmZmYnLFxyXG4gICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjMDAwMDAwZmYnLFxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgLnNldEludGVyYWN0aXZlKHt1c2VIYW5kQ3Vyc29yOiB0cnVlfSlcclxuICAgICAgICAub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4gcmV0dXJuQnRuLnNldFN0eWxlKHtiYWNrZ3JvdW5kQ29sb3I6ICcjNzM3MzczZmYnfSkpXHJcbiAgICAgICAgLm9uKCdwb2ludGVyb3V0JywgKCkgPT4gcmV0dXJuQnRuLnNldFN0eWxlKHtiYWNrZ3JvdW5kQ29sb3I6ICcjMDAwMDAwZmYnfSkpXHJcbiAgICAgICAgLm9uKCdwb2ludGVyZG93bicsICgpID0+e1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdNZW51U2NlbmUnKTtcclxuICAgICAgICB9KTtcclxuXHJcblxyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgQW5pbWF0b3IgfSBmcm9tIFwiLi4vQ29tcG9uZW50cy9BbmltYXRvclwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFB1cHBldCB7XHJcblxyXG4gICAgY29uc3RydWN0b3Ioc2NlbmUsIGlkLCB4UG9zLCB5UG9zLCBzcHJpdGVTaGVldCA9IG51bGwsIGlzUGxheWVyKSB7XHJcbiAgICAgICAgdGhpcy5pZCA9IGlkO1xyXG4gICAgICAgIHRoaXMuc2NlbmUgPSBzY2VuZTtcclxuICAgICAgICB0aGlzLnhQb3MgPSB4UG9zO1xyXG4gICAgICAgIHRoaXMueVBvcyA9IHlQb3M7XHJcbiAgICAgICAgdGhpcy5jdXJyZW50QW5pbSA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5pc1BsYXllciA9IGlzUGxheWVyO1xyXG4gICAgICAgIHRoaXMuYW5pbWF0b3IgPSBuZXcgQW5pbWF0b3Ioc2NlbmUsIHNwcml0ZVNoZWV0KTtcclxuICAgIH1cclxuXHJcbiAgICBwcmVsb2FkKHdpZHRoLCBoZWlnaHQpIHtcclxuICAgICAgICB0aGlzLmFuaW1hdG9yLnByZWxvYWQod2lkdGgsIGhlaWdodCk7XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlKCkge1xyXG4gICAgICAgIC8vIENyZWFyIHNwcml0ZSBzaW4gZsOtc2ljYXNcclxuICAgICAgICB0aGlzLnNwcml0ZSA9IHRoaXMuYW5pbWF0b3IuY3JlYXRlU3ByaXRlKHRoaXMueFBvcywgdGhpcy55UG9zKTtcclxuXHJcbiAgICAgICAgLy8gQ3JlYXIgYW5pbWFjaW9uZXMgaWd1YWwgcXVlIFBsYXllclxyXG4gICAgICAgIGlmICh0aGlzLmlzUGxheWVyKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYW5pbWF0b3IuY3JlYXRlQW5pbWF0aW9uKGBpZGxlLSR7dGhpcy5pZH1gLCAwLCAzLCA0KTtcclxuICAgICAgICAgICAgdGhpcy5hbmltYXRvci5jcmVhdGVBbmltYXRpb24oYHdhbGstJHt0aGlzLmlkfWAsIDQsIDcsIDUpO1xyXG4gICAgICAgICAgICB0aGlzLmFuaW1hdG9yLmNyZWF0ZUFuaW1hdGlvbihganVtcC0ke3RoaXMuaWR9YCwgOCwgOCwgNCwgMCk7XHJcbiAgICAgICAgICAgIHRoaXMuYW5pbWF0b3IuY3JlYXRlQW5pbWF0aW9uKGBhaXItJHt0aGlzLmlkfWAsIDksIDEwLCAxLCAwKTtcclxuICAgICAgICAgICAgdGhpcy5hbmltYXRvci5jcmVhdGVBbmltYXRpb24oYGZhbGwtJHt0aGlzLmlkfWAsIDEwLCAxMCwgMSwgMCk7XHJcbiAgICAgICAgICAgIHRoaXMuYW5pbWF0b3IuY3JlYXRlQW5pbWF0aW9uKGBhdHRhY2stJHt0aGlzLmlkfWAsIDEyLCAxMywgMiwgMCk7XHJcbiAgICAgICAgICAgIHRoaXMuc3ByaXRlLnNldFNjYWxlKDAuMjMpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuYW5pbWF0b3IuY3JlYXRlQW5pbWF0aW9uKGBpZGxlLSR7dGhpcy5pZH1gLCAwLCAyLCA1KTtcclxuICAgICAgICAgICAgdGhpcy5hbmltYXRvci5jcmVhdGVBbmltYXRpb24oYGlkbGUtd2hpdGUtJHt0aGlzLmlkfWAsIDMsIDUsIDUpO1xyXG4gICAgICAgICAgICB0aGlzLmFuaW1hdG9yLmNyZWF0ZUFuaW1hdGlvbihgYmxhY2stdG8td2hpdGUtJHt0aGlzLmlkfWAsIDYsIDgsIDgsIDApO1xyXG4gICAgICAgICAgICB0aGlzLmFuaW1hdG9yLmNyZWF0ZUFuaW1hdGlvbihgd2hpdGUtdG8tYmxhY2stJHt0aGlzLmlkfWAsIDYsIDgsIDgsIDApO1xyXG4gICAgICAgICAgICB0aGlzLmFuaW1hdG9yLmNyZWF0ZUFuaW1hdGlvbihgZGllLSR7dGhpcy5pZH1gLCA5LCAxMSwgOCwgMCk7XHJcbiAgICAgICAgICAgIHRoaXMuc3ByaXRlLnNldFNjYWxlKDAuMzUpO1xyXG4gICAgICAgIH1cclxuXHJcblxyXG5cclxuICAgICAgICB0aGlzLnNwcml0ZS5zZXREZXB0aCgyMDApO1xyXG5cclxuICAgICAgICAvLyBBbmltYWNpw7NuIHBvciBkZWZlY3RvXHJcbiAgICAgICAgdGhpcy5zcHJpdGUucGxheShgaWRsZS0ke3RoaXMuaWR9YCk7XHJcbiAgICB9XHJcblxyXG4gICAgcGxheUFuaW0oa2V5KSB7XHJcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudEFuaW0gIT09IGtleSkge1xyXG4gICAgICAgICAgICB0aGlzLnNwcml0ZS5wbGF5KGtleSwgdHJ1ZSk7XHJcbiAgICAgICAgICAgIHRoaXMuY3VycmVudEFuaW0gPSBrZXk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIFNpIHF1aWVyZXMgcXVlIGhhZ2EgdW4gYnVjbGUgZGUgYW5pbWFjaW9uZXMgYXV0b23DoXRpY2FtZW50ZTpcclxuICAgIGxvb3BBbmltYXRpb25MaXN0KGFuaW1zLCBkZWxheSA9IDEwMDApIHtcclxuICAgICAgICBsZXQgaW5kZXggPSAwO1xyXG4gICAgICAgIHRoaXMuc2NlbmUudGltZS5hZGRFdmVudCh7XHJcbiAgICAgICAgICAgIGRlbGF5LFxyXG4gICAgICAgICAgICBsb29wOiB0cnVlLFxyXG4gICAgICAgICAgICBjYWxsYmFjazogKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wbGF5QW5pbShhbmltc1tpbmRleF0pO1xyXG4gICAgICAgICAgICAgICAgaW5kZXggPSAoaW5kZXggKyAxKSAlIGFuaW1zLmxlbmd0aDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IFBoYXNlciBmcm9tIFwicGhhc2VyXCI7XHJcbmltcG9ydCB7IFB1cHBldCB9IGZyb20gXCIuLi9lbnRpdGllcy9QdXBwZXQuanNcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBJbnRyb1NjZW5lIGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCdJbnRyb1NjZW5lJylcclxuICAgIH1cclxuXHJcbiAgICBpbml0KCkge1xyXG4gICAgICAgIHRoaXMuYXJ0aHVyMSA9IG5ldyBQdXBwZXQodGhpcywgXCJjYTFcIiwgMTMwLCAxMjAsIFwic3ByaXRlc2hlZXQtYXJ0aHVyXCIsIHRydWUpO1xyXG4gICAgICAgIHRoaXMuYXJ0aHVyMiA9IG5ldyBQdXBwZXQodGhpcywgXCJjYTJcIiwgMzQwLCAxMjAsIFwic3ByaXRlc2hlZXQtYXJ0aHVyXCIsIHRydWUpO1xyXG4gICAgICAgIHRoaXMuYXJ0aHVyMyA9IG5ldyBQdXBwZXQodGhpcywgXCJjYTNcIiwgNTAwLCAxMjAsIFwic3ByaXRlc2hlZXQtYXJ0aHVyXCIsIHRydWUpO1xyXG4gICAgICAgIHRoaXMuYXJ0aHVyNCA9IG5ldyBQdXBwZXQodGhpcywgXCJjYTRcIiwgNjUwLCAxMjAsIFwic3ByaXRlc2hlZXQtYXJ0aHVyXCIsIHRydWUpO1xyXG5cclxuICAgICAgICB0aGlzLmx1Y3kxID0gbmV3IFB1cHBldCh0aGlzLCBcImNsMVwiLCAxMzAsIDM3MCwgXCJzcHJpdGVzaGVldC1sdWN5XCIsIHRydWUpO1xyXG4gICAgICAgIHRoaXMubHVjeTIgPSBuZXcgUHVwcGV0KHRoaXMsIFwiY2wyXCIsIDM0MCwgMzcwLCBcInNwcml0ZXNoZWV0LWx1Y3lcIiwgdHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5sdWN5MyA9IG5ldyBQdXBwZXQodGhpcywgXCJjbDNcIiwgNTAwLCAzNzAsIFwic3ByaXRlc2hlZXQtbHVjeVwiLCB0cnVlKTtcclxuICAgICAgICB0aGlzLmx1Y3k0ID0gbmV3IFB1cHBldCh0aGlzLCBcImNsNFwiLCA2NTAsIDM3MCwgXCJzcHJpdGVzaGVldC1sdWN5XCIsIHRydWUpO1xyXG5cclxuICAgICAgICB0aGlzLnB1cHBldHMxID0gW3RoaXMuYXJ0aHVyMSwgdGhpcy5hcnRodXIyLCB0aGlzLmFydGh1cjMsIHRoaXMuYXJ0aHVyNCwgdGhpcy5sdWN5MSwgdGhpcy5sdWN5MiwgdGhpcy5sdWN5MywgdGhpcy5sdWN5NF07XHJcblxyXG4gICAgICAgIHRoaXMuZW5lbXkxID0gbmV3IFB1cHBldCh0aGlzLCBcImVuZW15MVwiLCAzMDAsIDkwLCBcInNwcml0ZXNoZWV0LWVuZW1pZ29cIiwgZmFsc2UpO1xyXG4gICAgICAgIHRoaXMuZW5lbXkyID0gbmV3IFB1cHBldCh0aGlzLCBcImVuZW15MlwiLCA2MDAsIDkwLCBcInNwcml0ZXNoZWV0LWVuZW1pZ29cIiwgZmFsc2UpO1xyXG4gICAgICAgIHRoaXMuZW5lbXkzID0gbmV3IFB1cHBldCh0aGlzLCBcImVuZW15M1wiLCAzMDAsIDM0MCwgXCJzcHJpdGVzaGVldC1lbmVtaWdvXCIsIGZhbHNlKTtcclxuICAgICAgICB0aGlzLmVuZW15NCA9IG5ldyBQdXBwZXQodGhpcywgXCJlbmVteTRcIiwgNjAwLCAzNDAsIFwic3ByaXRlc2hlZXQtZW5lbWlnb1wiLCBmYWxzZSk7XHJcblxyXG4gICAgICAgIHRoaXMucHVwcGV0czIgPSBbdGhpcy5lbmVteTEsIHRoaXMuZW5lbXkyLCB0aGlzLmVuZW15MywgdGhpcy5lbmVteTRdO1xyXG4gICAgfVxyXG5cclxuICAgIHByZWxvYWQoKSB7XHJcblxyXG5cclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2ludHJvJywgJ2Fzc2V0cy9wMWVudHJhbmRvLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnaW50cm8yJywgJ2Fzc2V0cy9wMXlwMi5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2NvbnRyb2xzJywgJ2Fzc2V0cy9pbHVzdHJhY2lvbk1lY2FuaWNhcy5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2NvbWJhdCcsICdhc3NldHMvaWx1c3RyYWNpb25Db21iYXRlLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnbWFuc2lvbicsICdhc3NldHMvbWFuc2lvbi5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2x1Y3lQZWVraW5nJywgJ2Fzc2V0cy9sdWN5UGVla2luZy5wbmcnKTtcclxuXHJcbiAgICAgICAgdGhpcy5wdXBwZXRzMS5mb3JFYWNoKHB1cHBldCA9PiBwdXBwZXQucHJlbG9hZCg2MDAsIDgwMCkpO1xyXG4gICAgICAgIHRoaXMucHVwcGV0czIuZm9yRWFjaChwdXBwZXQgPT4gcHVwcGV0LnByZWxvYWQoNjAwLCA4MDApKTtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGUoKSB7XHJcbiAgICAgICAgdGhpcy5pbnRyb1RleHQgPSBbXHJcbiAgICAgICAgICAgIFwiMTk1MywgQmlybWluZ2hhbSwgSW5nbGF0ZXJyYSwgXFxuaGFjZSAyNyBhw7FvcyBsYSBmYW1pbGlhIEZlbHRvbiBmdWUgbWlzdGVyaW9zYW1lbnRlIFxcbmFzZXNpbmFkYSxcXG4gbmFkaWUgc2UgaGEgYXRyZXZpZG8gYSBlbnRyYXIgZW4gc3UgbWFuc2nDs24uXCIsXHJcbiAgICAgICAgICAgIFwiSGFzdGEgaG95LiBcXG4gICAgICAgICAgIFxcbkFydGh1ciwgZGlzcHVlc3RvIGEgcmVzb2x2ZXIgZWwgY2Fzb1xcbiBzZSBhZGVudHJhIGVuIGxhIHNvbWJyw61hIG1hbnNpw7NuLlwiLFxyXG4gICAgICAgICAgICBcIlBlcm8gbm8gZXN0w6Egc29sby5cXG5BbGdvIGxlIG9ic2VydmEgZGVzZGUgbGFzIHNvbWJyYXMuLi5cXG5PIG3DoXMgYmllbixcXG5BbGd1aWVuLlwiLFxyXG4gICAgICAgICAgICBcIkxhIGZhbnRhc21hIHJlc3VsdMOzIHNlciBleHRyYcOxYW1lbnRlIGFtaWdhYmxlLFxcbk9mcmVjacOpbmRvc2UgY29tbyBndcOtYSB5IHByb3RlY3RvcmFcXG4gZW4gc3UgaW52ZXN0aWdhY8Otb24gcG9yIGxhIG1hbnNpw7NuLlwiLFxyXG4gICAgICAgICAgICBcIiBcIixcclxuICAgICAgICAgICAgXCIgXCJcclxuICAgICAgICBdO1xyXG4gICAgICAgIHRoaXMudGV4dEluZGV4ID0gMDtcclxuICAgICAgICB0aGlzLmluUHJvZ3Jlc3MgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmludHJvSW1hZ2UwID0gdGhpcy5hZGQuaW1hZ2UoNDAwLCAyMDAsICdtYW5zaW9uJyk7XHJcblxyXG4gICAgICAgIHRoaXMuaW50cm9JbWFnZTEgPSB0aGlzLmFkZC5pbWFnZSg0MDAsIDIwMCwgJ2ludHJvJyk7XHJcbiAgICAgICAgdGhpcy5pbnRyb0ltYWdlTCA9IHRoaXMuYWRkLmltYWdlKDQwMCwgMjAwLCAnbHVjeVBlZWtpbmcnKTtcclxuICAgICAgICB0aGlzLmludHJvSW1hZ2UyID0gdGhpcy5hZGQuaW1hZ2UoNDAwLCAyMDAsICdpbnRybzInKTtcclxuICAgICAgICB0aGlzLmNvbnRyb2xzSW1hZ2UgPSB0aGlzLmFkZC5pbWFnZSg0MDAsIDI3MCwgJ2NvbnRyb2xzJyk7XHJcbiAgICAgICAgdGhpcy5jb21iYXRJbWFnZSA9IHRoaXMuYWRkLmltYWdlKDQwMCwgMjcwLCAnY29tYmF0Jyk7XHJcbiAgICAgICAgdGhpcy5jb250cm9sc0ltYWdlLnNldFNjYWxlKDAuOSk7XHJcbiAgICAgICAgdGhpcy5jb21iYXRJbWFnZS5zZXRTY2FsZSgwLjkpO1xyXG4gICAgICAgIHRoaXMuY3V0c2NlbmVJbWFnZXMgPSBbdGhpcy5pbnRyb0ltYWdlMSwgdGhpcy5pbnRyb0ltYWdlTCwgdGhpcy5pbnRyb0ltYWdlMiwgdGhpcy5jb250cm9sc0ltYWdlLCB0aGlzLmNvbWJhdEltYWdlXTtcclxuICAgICAgICB0aGlzLmN1dHNjZW5lSW1hZ2VzLmZvckVhY2goaW1hZ2UgPT4gaW1hZ2Uuc2V0VmlzaWJsZShmYWxzZSkpO1xyXG5cclxuXHJcblxyXG4gICAgICAgIHRoaXMuYXJ0aHVyMS5jcmVhdGUoKTtcclxuICAgICAgICB0aGlzLmFydGh1cjEucGxheUFuaW0oYHdhbGstY2ExYCk7XHJcbiAgICAgICAgdGhpcy5hcnRodXIxLnNwcml0ZS5mbGlwWCA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5hcnRodXIyLmNyZWF0ZSgpO1xyXG4gICAgICAgIHRoaXMuYXJ0aHVyMi5wbGF5QW5pbShgd2Fsay1jYTJgKTtcclxuICAgICAgICB0aGlzLmFydGh1cjIuc3ByaXRlLmZsaXBYID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5hcnRodXIzLmNyZWF0ZSgpO1xyXG4gICAgICAgIHRoaXMuYXJ0aHVyMy5sb29wQW5pbWF0aW9uTGlzdChbYGp1bXAtY2EzYCwgYGFpci1jYTNgLCAnZmFsbC1jYTMnXSwgMzAwKTtcclxuICAgICAgICB0aGlzLmFydGh1cjQuY3JlYXRlKCk7XHJcbiAgICAgICAgdGhpcy5hcnRodXI0Lmxvb3BBbmltYXRpb25MaXN0KFtgaWRsZS1jYTRgLCBgYXR0YWNrLWNhNGBdLCA1MDApO1xyXG4gICAgICAgIHRoaXMubHVjeTEuY3JlYXRlKCk7XHJcbiAgICAgICAgdGhpcy5sdWN5MS5wbGF5QW5pbShgd2Fsay1jbDFgKTtcclxuICAgICAgICB0aGlzLmx1Y3kxLnNwcml0ZS5mbGlwWCA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5sdWN5Mi5jcmVhdGUoKTtcclxuICAgICAgICB0aGlzLmx1Y3kyLnBsYXlBbmltKGB3YWxrLWNsMmApO1xyXG4gICAgICAgIHRoaXMubHVjeTIuc3ByaXRlLmZsaXBYID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5sdWN5My5jcmVhdGUoKTtcclxuICAgICAgICB0aGlzLmx1Y3kzLmxvb3BBbmltYXRpb25MaXN0KFtganVtcC1jbDNgLCBgYWlyLWNsM2AsICdmYWxsLWNsMyddLCAzMDApO1xyXG4gICAgICAgIHRoaXMubHVjeTQuY3JlYXRlKCk7XHJcbiAgICAgICAgdGhpcy5sdWN5NC5sb29wQW5pbWF0aW9uTGlzdChbYGlkbGUtY2w0YCwgYGF0dGFjay1jbDRgXSwgNTAwKTtcclxuXHJcbiAgICAgICAgdGhpcy5wdXBwZXRzMS5mb3JFYWNoKHB1cHBldCA9PiBwdXBwZXQuc3ByaXRlLnNldFZpc2libGUoZmFsc2UpKTtcclxuXHJcbiAgICAgICAgdGhpcy5lbmVteTEuY3JlYXRlKCk7XHJcbiAgICAgICAgdGhpcy5lbmVteTEucGxheUFuaW0oYGlkbGUtZW5lbXkxYCk7XHJcbiAgICAgICAgdGhpcy5lbmVteTIuY3JlYXRlKCk7XHJcbiAgICAgICAgdGhpcy5lbmVteTIucGxheUFuaW0oYGlkbGUtd2hpdGUtZW5lbXkyYCk7XHJcbiAgICAgICAgdGhpcy5lbmVteTMuY3JlYXRlKCk7XHJcbiAgICAgICAgdGhpcy5lbmVteTMucGxheUFuaW0oYGlkbGUtd2hpdGUtZW5lbXkzYCk7XHJcbiAgICAgICAgdGhpcy5lbmVteTQuY3JlYXRlKCk7XHJcbiAgICAgICAgdGhpcy5lbmVteTQubG9vcEFuaW1hdGlvbkxpc3QoW2B3aGl0ZS10by1ibGFjay1lbmVteTRgLCBgZGllLWVuZW15NGBdLCA1MDApO1xyXG5cclxuICAgICAgICB0aGlzLnB1cHBldHMyLmZvckVhY2gocHVwcGV0ID0+IHB1cHBldC5zcHJpdGUuc2V0VmlzaWJsZShmYWxzZSkpO1xyXG5cclxuXHJcbiAgICAgICAgY29uc3QgbmV4dEJ0biA9IHRoaXMuYWRkLnRleHQoNzAwLCA1NTAsICdTaWd1aWVudGUnLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMjBweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmZmZmZmZmJyxcclxuICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAnIzAwMDAwMDAwJyxcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcm92ZXInLCAoKSA9PiBuZXh0QnRuLnNldFN0eWxlKHsgYmFja2dyb3VuZENvbG9yOiAnIzczNzM3M2ZmJyB9KSlcclxuICAgICAgICAgICAgLm9uKCdwb2ludGVyb3V0JywgKCkgPT4gbmV4dEJ0bi5zZXRTdHlsZSh7IGJhY2tncm91bmRDb2xvcjogJyMwMDAwMDBmZicgfSkpXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuaW5Qcm9ncmVzcykgeyB0aGlzLm5leHRUZXh0KCk7IH1cclxuICAgICAgICAgICAgICAgIHN3aXRjaCAodGhpcy50ZXh0SW5kZXgpIHtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaW50cm9JbWFnZTAuc2V0VmlzaWJsZShmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaW50cm9JbWFnZTEuc2V0VmlzaWJsZSh0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pbnRyb0ltYWdlMS5zZXRWaXNpYmxlKGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pbnRyb0ltYWdlTC5zZXRWaXNpYmxlKHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAzOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmludHJvSW1hZ2VMLnNldFZpc2libGUoZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmludHJvSW1hZ2UyLnNldFZpc2libGUodHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaW50cm9JbWFnZTIuc2V0VmlzaWJsZShmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29udHJvbHNJbWFnZS5zZXRWaXNpYmxlKHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnB1cHBldHMxLmZvckVhY2gocHVwcGV0ID0+IHB1cHBldC5zcHJpdGUuc2V0VmlzaWJsZSh0cnVlKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDU6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29udHJvbHNJbWFnZS5zZXRWaXNpYmxlKGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb21iYXRJbWFnZS5zZXRWaXNpYmxlKHRydWUpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wdXBwZXRzMS5mb3JFYWNoKHB1cHBldCA9PiBwdXBwZXQuc3ByaXRlLnNldFZpc2libGUoZmFsc2UpKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYXJ0aHVyNC5zcHJpdGUuc2V0VmlzaWJsZSh0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hcnRodXI0LnNwcml0ZS54ID0gMTUwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFydGh1cjQuc3ByaXRlLnkgPSAxMDA7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmx1Y3k0LnNwcml0ZS5zZXRWaXNpYmxlKHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmx1Y3k0LnNwcml0ZS54ID0gMTUwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmx1Y3k0LnNwcml0ZS55ID0gMzMwO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wdXBwZXRzMi5mb3JFYWNoKHB1cHBldCA9PiBwdXBwZXQuc3ByaXRlLnNldFZpc2libGUodHJ1ZSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXRzY2VuZUltYWdlcy5mb3JFYWNoKGltYWdlID0+IGltYWdlLnNldFZpc2libGUoZmFsc2UpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9IC8vU2UgcG9kcmlhIGhhY2VyIGNvbiB1biBhcnJheVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLnRleHQgPSB0aGlzLmFkZC50ZXh0KDQwMCwgNDYwLCAnJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzI0cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmZmZmZicsXHJcbiAgICAgICAgICAgIGFsaWduOiAnY2VudGVyJyxcclxuXHJcblxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICBjb25zdCBza2lwQnRuID0gdGhpcy5hZGQudGV4dCgxMDAsIDU1MCwgJ1NhbHRhcicsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICcyMHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmZmYnLFxyXG4gICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjMDAwMDAwMDAnLFxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSlcclxuICAgICAgICAgICAgLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IHNraXBCdG4uc2V0U3R5bGUoeyBiYWNrZ3JvdW5kQ29sb3I6ICcjNzM3MzczZmYnIH0pKVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiBza2lwQnRuLnNldFN0eWxlKHsgYmFja2dyb3VuZENvbG9yOiAnIzAwMDAwMGZmJyB9KSlcclxuICAgICAgICAgICAgLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ0dhbWVTY2VuZScpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5zaG93VGV4dCgpO1xyXG4gICAgfVxyXG5cclxuICAgIHNob3dUZXh0KCkge1xyXG4gICAgICAgIGlmICh0aGlzLnRleHRJbmRleCA8IHRoaXMuaW50cm9UZXh0Lmxlbmd0aCkge1xyXG4gICAgICAgICAgICB0aGlzLnRleHRJbih0aGlzLmludHJvVGV4dFt0aGlzLnRleHRJbmRleF0pO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ0dhbWVTY2VuZScpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB0ZXh0SW4odGV4dCkge1xyXG4gICAgICAgIHRoaXMuaW5Qcm9ncmVzcyA9IHRydWU7XHJcbiAgICAgICAgbGV0IGluZGV4ID0gMDtcclxuICAgICAgICBjb25zdCBzcGVlZCA9IDc1OyAvLyBWZWxvY2lkYWQgZGUgZXNjcml0dXJhIGVuIG1zXHJcblxyXG4gICAgICAgIGNvbnN0IHdyaXRlVGV4dCA9ICgpID0+IHtcclxuICAgICAgICAgICAgaWYgKGluZGV4IDwgdGV4dC5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMudGV4dC5zZXRUZXh0KHRleHQuc3Vic3RyaW5nKDAsIGluZGV4ICsgMSkpO1xyXG4gICAgICAgICAgICAgICAgaW5kZXgrKztcclxuICAgICAgICAgICAgICAgIHRoaXMudGltZS5kZWxheWVkQ2FsbChzcGVlZCwgd3JpdGVUZXh0KTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuaW5Qcm9ncmVzcyA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgd3JpdGVUZXh0KCk7XHJcbiAgICB9XHJcbiAgICBuZXh0VGV4dCgpIHtcclxuICAgICAgICB0aGlzLnRleHRJbmRleCsrO1xyXG4gICAgICAgIHRoaXMuc2hvd1RleHQoKTtcclxuICAgIH1cclxufSIsImltcG9ydCBQaGFzZXIgZnJvbSBcInBoYXNlclwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEVuZFNjZW5lIGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCdFbmRTY2VuZScpXHJcbiAgICB9XHJcblxyXG4gICAgcHJlbG9hZCgpIHtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3AxJywgJ2Fzc2V0cy9wMXAyZm90by5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3AyJywgJ2Fzc2V0cy9wMXAyUGFydGlkby5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3AzJywgJ2Fzc2V0cy9wMXAyeWZhbnRhc21hLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgncDQnLCAnYXNzZXRzL3AxcDJlU0NBUEFORE8ucG5nJyk7XHJcblxyXG5cclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGUoKSB7XHJcbiAgICAgICAgdGhpcy5pbnRyb1RleHQgPSBbXHJcbiAgICAgICAgICAgIFwiQXJ0aHVyIHkgTHVjeSBoYWxsYW4gdW5hIHZpZWphIGZvdG8gZW50cmUgbG9zIFxcbiBwb2x2b3JpZW50b3MgbGlicm9zIGRlIGxhIGVzdGFudGVyw61hLlwiLFxyXG4gICAgICAgICAgICBcIkRlIHByb250bywgdG9kbyBlbmNhamEgZW4gbGEgbWVudGUgZGUgQXJ0aHVyLlxcblN1IG9ic2VzacOzbiBzaW4gc2VudGlkbyBjb24gZWwgY2Fzb1xcbiB5IGxhIGNvbmV4acOzbiBjb24gTHVjeS4uLlxcbmVsbGEgZXMuLi5cIixcclxuICAgICAgICAgICAgXCJTaW4gZW1iYXJnbywgbm8gaGF5IHRpZW1wbyBwYXJhIHJlZmxleGlvbmVzLlwiLFxyXG4gICAgICAgICAgICBcIkRlYmVuIGh1aXIuXCIsXHJcbiAgICAgICAgICAgIF07XHJcbiAgICAgICAgdGhpcy50ZXh0SW5kZXggPSAwO1xyXG4gICAgICAgIHRoaXMuaW5Qcm9ncmVzcyA9IGZhbHNlO1xyXG5cclxuICAgICAgICB0aGlzLmVuZEltYWdlMSA9IHRoaXMuYWRkLmltYWdlKDQwMCwgMjAwLCAncDEnKTtcclxuICAgICAgICB0aGlzLmVuZEltYWdlMiA9IHRoaXMuYWRkLmltYWdlKDQwMCwgMjAwLCAncDInKTtcclxuICAgICAgICB0aGlzLmVuZEltYWdlMyA9IHRoaXMuYWRkLmltYWdlKDQwMCwgMjAwLCAncDMnKTtcclxuICAgICAgICB0aGlzLmVuZEltYWdlNCA9IHRoaXMuYWRkLmltYWdlKDQwMCwgMjAwLCAncDQnKTtcclxuICAgICAgICB0aGlzLmVuZEltYWdlcyA9IFt0aGlzLmVuZEltYWdlMiwgdGhpcy5lbmRJbWFnZTMsIHRoaXMuZW5kSW1hZ2U0XTtcclxuICAgICAgICB0aGlzLmVuZEltYWdlcy5mb3JFYWNoKGltYWdlID0+IGltYWdlLnNldFZpc2libGUoZmFsc2UpKTtcclxuXHJcbiAgICAgICAgY29uc3QgbmV4dEJ0biA9IHRoaXMuYWRkLnRleHQoNzAwLCA1NTAsICdTaWd1aWVudGUnLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMjBweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmZmZmZmZmJyxcclxuICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAnIzAwMDAwMGZmJyxcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcm92ZXInLCAoKSA9PiBuZXh0QnRuLnNldFN0eWxlKHsgYmFja2dyb3VuZENvbG9yOiAnIzczNzM3M2ZmJyB9KSlcclxuICAgICAgICAgICAgLm9uKCdwb2ludGVyb3V0JywgKCkgPT4gbmV4dEJ0bi5zZXRTdHlsZSh7IGJhY2tncm91bmRDb2xvcjogJyMwMDAwMDBmZicgfSkpXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuaW5Qcm9ncmVzcykgeyB0aGlzLm5leHRUZXh0KCk7IH1cclxuICAgICAgICAgICAgICAgIHN3aXRjaCAodGhpcy50ZXh0SW5kZXgpIHtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZW5kSW1hZ2UxLnNldFZpc2libGUoZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVuZEltYWdlMi5zZXRWaXNpYmxlKHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVuZEltYWdlMi5zZXRWaXNpYmxlKGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbmRJbWFnZTMuc2V0VmlzaWJsZSh0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbmRJbWFnZTMuc2V0VmlzaWJsZShmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZW5kSW1hZ2U0LnNldFZpc2libGUodHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZW5kSW1hZ2U0LnNldFZpc2libGUoZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMudGV4dG8gPSB0aGlzLmFkZC50ZXh0KDQwMCwgNDYwLCAnJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzI0cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmZmZmZicsXHJcbiAgICAgICAgICAgIGFsaWduOiAnY2VudGVyJyxcclxuXHJcblxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICBjb25zdCBza2lwQnRuID0gdGhpcy5hZGQudGV4dCgxMDAsIDU1MCwgJ1NhbHRhcicsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICcyMHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmZmYnLFxyXG4gICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjMDAwMDAwMDAnLFxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSlcclxuICAgICAgICAgICAgLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IHNraXBCdG4uc2V0U3R5bGUoeyBiYWNrZ3JvdW5kQ29sb3I6ICcjNzM3MzczZmYnIH0pKVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiBza2lwQnRuLnNldFN0eWxlKHsgYmFja2dyb3VuZENvbG9yOiAnIzAwMDAwMGZmJyB9KSlcclxuICAgICAgICAgICAgLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ0dhbWVTY2VuZTInKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuc2hvd1RleHQoKTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgc2hvd1RleHQoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMudGV4dEluZGV4IDwgdGhpcy5pbnRyb1RleHQubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIHRoaXMudGV4dEluKHRoaXMuaW50cm9UZXh0W3RoaXMudGV4dEluZGV4XSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5zdGFydCgnR2FtZVNjZW5lMicpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB0ZXh0SW4odGV4dCkge1xyXG4gICAgICAgIHRoaXMuaW5Qcm9ncmVzcyA9IHRydWU7XHJcbiAgICAgICAgbGV0IGlkeCA9IDA7XHJcbiAgICAgICAgY29uc3Qgc3BlZWQgPSA3NTsgLy8gc3BlZWQgb2Ygd3JpdGluZyBpbiBtc1xyXG5cclxuICAgICAgICBjb25zdCB3cml0ZUxldHRlciA9ICgpID0+IHtcclxuICAgICAgICAgICAgaWYgKGlkeCA8IHRleHQubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnRleHRvLnNldFRleHQodGV4dC5zdWJzdHJpbmcoMCwgaWR4ICsgMSkpO1xyXG4gICAgICAgICAgICAgICAgaWR4Kys7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnRpbWUuZGVsYXllZENhbGwoc3BlZWQsIHdyaXRlTGV0dGVyKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuaW5Qcm9ncmVzcyA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgd3JpdGVMZXR0ZXIoKTtcclxuICAgIH1cclxuICAgIG5leHRUZXh0KCkge1xyXG4gICAgICAgIHRoaXMudGV4dEluZGV4Kys7XHJcbiAgICAgICAgdGhpcy5zaG93VGV4dCgpO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IFBoYXNlciBmcm9tIFwicGhhc2VyXCI7XHJcbmltcG9ydCB7IElucHV0TWFuYWdlciB9IGZyb20gXCIuLi9oYW5kbGVycy9JbnB1dE1hbmFnZXIuanNcIjtcclxuaW1wb3J0IHsgRW5lbXkgfSBmcm9tIFwiLi4vZW50aXRpZXMvRW5lbXkuanNcIjtcclxuaW1wb3J0IHsgQ29tbWFuZFByb2Nlc3NvciB9IGZyb20gXCIuLi9jb21tYW5kLXBhdHRlcm4vQ29tbWFuZFByb2Nlc3Nvci5qc1wiO1xyXG5pbXBvcnQgeyBDYW1lcmEgfSBmcm9tIFwiLi4vQ29tcG9uZW50cy9DYW1lcmEuanNcIjtcclxuaW1wb3J0IHsgUGxhdGZvcm0gfSBmcm9tIFwiLi4vZW50aXRpZXMvUGxhdGZvcm0uanNcIjtcclxuaW1wb3J0IHsgTHVjeSB9IGZyb20gXCIuLi9lbnRpdGllcy9MdWN5LmpzXCI7XHJcbmltcG9ydCB7IEFydGh1ciB9IGZyb20gXCIuLi9lbnRpdGllcy9BcnRodXIuanNcIjtcclxuXHJcblxyXG5leHBvcnQgY2xhc3MgR2FtZVNjZW5lMiBleHRlbmRzIFBoYXNlci5TY2VuZSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcignR2FtZVNjZW5lMicpXHJcbiAgICB9XHJcblxyXG4gICAgcHJlbG9hZCgpIHtcclxuICAgICAgICB0aGlzLmFydGh1ci5wcmVsb2FkKDYwMCwgODAwKTtcclxuICAgICAgICB0aGlzLmx1Y3kucHJlbG9hZCg2MDAsIDgwMCk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdhbWJpZW50JywgJ2Fzc2V0cy9zb3VuZC9hbWJpZW50LXRoZW1lLm1wMycpO1xyXG5cclxuXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdmb25kbycsICdhc3NldHMvRm9uZG9Ib3Jpem9udGFsLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgncDEnLCAnYXNzZXRzL3Byb3BzL3BsYXRhZm9ybWExLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnc3VlbG8nLCAnYXNzZXRzL3Byb3BzL3N1ZWxvLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgncDInLCAnYXNzZXRzL3Byb3BzL3BsYXRhZm9ybWEyLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYzEnLCAnYXNzZXRzL3Byb3BzL2NvbHVtbmExLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnbGliJywgJ2Fzc2V0cy9wcm9wcy9saWJyZXJpYS5wbmcnKTtcclxuXHJcbiAgICAgICAgdGhpcy5lbmVtaWVzLmZvckVhY2goZW5lbXkgPT4gZW5lbXkucHJlbG9hZCgpKTtcclxuICAgIH1cclxuXHJcbiAgICBpbml0KCkge1xyXG4gICAgICAgIHRoaXMuc291bmQuc3RvcEFsbCgpO1xyXG4gICAgICAgIHRoaXMuY29tbWFuZFByb2Nlc3NvciA9IG5ldyBDb21tYW5kUHJvY2Vzc29yKCk7XHJcbiAgICAgICAgdGhpcy5wbGF5ZXJzID0gbmV3IE1hcCgpO1xyXG4gICAgICAgIHRoaXMuZW5lbWllcyA9IG5ldyBNYXAoKTtcclxuICAgICAgICB0aGlzLnBsYXRmb3JtcyA9IG5ldyBNYXAoKTtcclxuICAgICAgICB0aGlzLmlzUGF1c2VkID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5pbnB1dE1hbmFnZXIgPSBuZXcgSW5wdXRNYW5hZ2VyKHRoaXMsIHRoaXMuc2NlbmUsIHRoaXMuaW5wdXQsIHRoaXMuY29tbWFuZFByb2Nlc3Nvcik7XHJcbiAgICAgICAgdGhpcy5hcnRodXIgPSBuZXcgQXJ0aHVyKHRoaXMsICdwbGF5ZXIxJywgNjAwLCAxMDAsIDUwMCwgJ3Nwcml0ZXNoZWV0LWFydGh1cicpO1xyXG4gICAgICAgIHRoaXMubHVjeSA9IG5ldyBMdWN5KHRoaXMsICdwbGF5ZXIyJywgNDUwLCAzMDAsIDUwMCwgJ3Nwcml0ZXNoZWV0LWx1Y3knKTtcclxuXHJcbiAgICAgICAgLyp0aGlzLmVuZW15MSA9IG5ldyBFbmVteSh0aGlzLCAnZW5lbXkxJywgNDAwLCAxMDAsIHRoaXMucGxheWVycyk7XHJcbiAgICAgICAgdGhpcy5lbmVteTIgPSBuZXcgRW5lbXkodGhpcywgJ2VuZW15MicsIDEyMDAsIDEwMCwgdGhpcy5wbGF5ZXJzKTtcclxuICAgICAgICB0aGlzLmVuZW15MyA9IG5ldyBFbmVteSh0aGlzLCAnZW5lbXkzJywgMjAwMCwgMTAwLCB0aGlzLnBsYXllcnMpO1xyXG4gICAgICAgIHRoaXMuZW5lbXk0ID0gbmV3IEVuZW15KHRoaXMsICdlbmVteTQnLCAyODAwLCAxMDAsIHRoaXMucGxheWVycyk7XHJcbiAgICAgICAgdGhpcy5lbmVteTUgPSBuZXcgRW5lbXkodGhpcywgJ2VuZW15NScsIDM1MDAsIDEwMCwgdGhpcy5wbGF5ZXJzKTsqL1xyXG5cclxuXHJcbiAgICAgICAgdGhpcy5jYW1lcmEgPSBuZXcgQ2FtZXJhKHRoaXMsIHRoaXMucGxheWVycyk7XHJcblxyXG4gICAgICAgIC8qdGhpcy5lbmVtaWVzLnNldCh0aGlzLmVuZW15MS5pZCwgdGhpcy5lbmVteTEpO1xyXG4gICAgICAgIHRoaXMuZW5lbWllcy5zZXQodGhpcy5lbmVteTIuaWQsIHRoaXMuZW5lbXkyKTtcclxuICAgICAgICB0aGlzLmVuZW1pZXMuc2V0KHRoaXMuZW5lbXkzLmlkLCB0aGlzLmVuZW15Myk7XHJcbiAgICAgICAgdGhpcy5lbmVtaWVzLnNldCh0aGlzLmVuZW15NC5pZCwgdGhpcy5lbmVteTQpO1xyXG4gICAgICAgIHRoaXMuZW5lbWllcy5zZXQodGhpcy5lbmVteTUuaWQsIHRoaXMuZW5lbXk1KTsqL1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZSgpIHtcclxuICAgICAgICAvLyBNdXNpY1xyXG4gICAgICAgIHRoaXMubXVzaWMgPSB0aGlzLnNvdW5kLmFkZCgnYW1iaWVudCcpO1xyXG4gICAgICAgIHRoaXMubXVzaWMucGxheSgpO1xyXG4gICAgICAgIHRoaXMubXVzaWMuc2V0Vm9sdW1lKDAuMjUpO1xyXG5cclxuICAgICAgICAvLyBCYWNrZ3JvdW5kXHJcbiAgICAgICAgdGhpcy5mb25kbyA9IHRoaXMuYWRkLnRpbGVTcHJpdGUoMCwgMCwgODAwMCwgMjAwMCwgJ2ZvbmRvJylcclxuICAgICAgICAgICAgLnNldE9yaWdpbigwLCAwKVxyXG4gICAgICAgICAgICAuc2V0U2Nyb2xsRmFjdG9yKDAuMilcclxuICAgICAgICAgICAgLnNldFNjYWxlKDAuMyk7XHJcblxyXG4gICAgICAgIC8vQ3JlYXRlIHRoZSBwbGF5ZXJzIFxyXG4gICAgICAgIHRoaXMuYXJ0aHVyLmNyZWF0ZSgpO1xyXG4gICAgICAgIHRoaXMubHVjeS5jcmVhdGUoKTtcclxuXHJcbiAgICAgICAgLy8gU2V0IHVwIGlucHV0IGFuZCBwbGF5ZXJzXHJcbiAgICAgICAgdGhpcy5wbGF5ZXJzLnNldCgncGxheWVyMScsIHRoaXMuYXJ0aHVyKTtcclxuICAgICAgICB0aGlzLnBsYXllcnMuc2V0KCdwbGF5ZXIyJywgdGhpcy5sdWN5KTtcclxuXHJcbiAgICAgICAgdGhpcy5pbnB1dE1hbmFnZXIucGxheWVycyA9IHRoaXMucGxheWVycztcclxuXHJcbiAgICAgICAgLy8gU2V0IHVwIGVuZW1pZXNcclxuICAgICAgICB0aGlzLmVuZW1pZXMuZm9yRWFjaCgoZW5lbXkpID0+IHtcclxuICAgICAgICAgICAgZW5lbXkuY3JlYXRlKCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuc2V0VXBXb3JsZENvbGxpc2lvbnMoKTtcclxuICAgICAgICB0aGlzLnNldFVwRW5lbXlDb2xsaXNpb25zKCk7XHJcbiAgICAgICAgdGhpcy5zZXRVcFJldml2ZUNvbGxpc2lvbigpO1xyXG5cclxuICAgICAgICB0aGlzLnBoeXNpY3Mud29ybGQuc2V0Qm91bmRzKDAsIDAsIDQxNzUsIDYwMCk7XHJcbiAgICAgICAgdGhpcy5jYW1lcmEuY2FtZXJhLnNldEJvdW5kcygwLCAwLCA0MTc1LCA2MDApO1xyXG5cclxuICAgICAgICB0aGlzLmNhbWVyYS5jYW1lcmEuc2V0TGVycCgwLjEsIDAuMSk7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHNldFVwUmV2aXZlQ29sbGlzaW9uKCkge1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQub3ZlcmxhcCh0aGlzLnBsYXllcnMuZ2V0KCdwbGF5ZXIxJykuc3ByaXRlLCB0aGlzLnBsYXllcnMuZ2V0KCdwbGF5ZXIyJykuc3ByaXRlLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnBsYXllcnMuZ2V0KCdwbGF5ZXIxJykuaGVhbHRoIDw9IDAgJiYgdGhpcy5wbGF5ZXJzLmdldCgncGxheWVyMicpLmhlYWx0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucGxheWVycy5nZXQoJ3BsYXllcjEnKS5yZXZpdmUoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmICh0aGlzLnBsYXllcnMuZ2V0KCdwbGF5ZXIyJykuaGVhbHRoIDw9IDAgJiYgdGhpcy5wbGF5ZXJzLmdldCgncGxheWVyMScpLmhlYWx0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucGxheWVycy5nZXQoJ3BsYXllcjInKS5yZXZpdmUoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHNldFVwV29ybGRDb2xsaXNpb25zKCkge1xyXG4gICAgICAgIC8vU2V0IHVwIHBsYXRmb3JtcyBhbmQgY29sbGlzaW9uc1xyXG5cclxuICAgICAgICB0aGlzLnN1ZWxvMSA9IG5ldyBQbGF0Zm9ybSh0aGlzLCAnczEnLCAyNTAwLCA1OTAsIDUwMDAsIDQwLCAnc3VlbG8nKTtcclxuICAgICAgICAvKnRoaXMucGxhdDEgPSBuZXcgUGxhdGZvcm0odGhpcywgJ3AxJywgMjAwLCA0NTAsIDIwMCwgMzAsICdwMScpO1xyXG4gICAgICAgIHRoaXMucGxhdDIgPSBuZXcgUGxhdGZvcm0odGhpcywgJ3AyJywgNDUwLCAzMDAsIDIwMCwgMzAsICdwMScpO1xyXG4gICAgICAgIHRoaXMuc3VlbG8yID0gbmV3IFBsYXRmb3JtKHRoaXMsICdzMicsIDEyMDAsIDU1MCwgNTAwLCAyMDAsICdwMicpO1xyXG4gICAgICAgIHRoaXMuY29sMSA9IG5ldyBQbGF0Zm9ybSh0aGlzLCAnYzEnLCA3MDAsIDQ1MCwgNzAsIDMwMCwgJ2MxJyk7XHJcbiAgICAgICAgdGhpcy5jb2wyID0gbmV3IFBsYXRmb3JtKHRoaXMsICdjMicsIDIyMDAsIDQ1MCwgNzAsIDQwMCwgJ2MxJyk7XHJcbiAgICAgICAgdGhpcy5wbGF0MyA9IG5ldyBQbGF0Zm9ybSh0aGlzLCAncDMnLCAxODAwLCA0NTAsIDE1MCwgMzAsICdwMScpO1xyXG4gICAgICAgIHRoaXMucGxhdDQgPSBuZXcgUGxhdGZvcm0odGhpcywgJ3A0JywgMTUwMCwgMzAwLCAxNTAsIDMwLCAncDEnKTtcclxuICAgICAgICB0aGlzLnBsYXQ1ID0gbmV3IFBsYXRmb3JtKHRoaXMsICdwNScsIDIwMDAsIDIwMCwgMTUwLCAzMCwgJ3AxJyk7XHJcbiAgICAgICAgdGhpcy5zdWVsbzMgPSBuZXcgUGxhdGZvcm0odGhpcywgJ3MzJywgMjIwMCwgNTUwLCAyMzAsIDEwMCwgJ3AyJyk7XHJcbiAgICAgICAgdGhpcy5zdWVsbzQgPSBuZXcgUGxhdGZvcm0odGhpcywgJ3M0JywgMjgwMCwgNTAwLCA1NTAsIDI1MCwgJ3AyJyk7XHJcbiAgICAgICAgdGhpcy5wbGF0NiA9IG5ldyBQbGF0Zm9ybSh0aGlzLCAncDYnLCAzMTUwLCAyNTAsIDE1MCwgMzAsICdwMScpO1xyXG4gICAgICAgIHRoaXMucGxhdDcgPSBuZXcgUGxhdGZvcm0odGhpcywgJ3A3JywgMzUwMCwgMjUwLCAxNTAsIDMwLCAncDEnKTtcclxuICAgICAgICB0aGlzLnBsYXQ4ID0gbmV3IFBsYXRmb3JtKHRoaXMsICdwOCcsIDMxNTAsIDQ1MCwgMTUwLCAzMCwgJ3AxJyk7XHJcbiAgICAgICAgdGhpcy5zdWVsbzUgPSBuZXcgUGxhdGZvcm0odGhpcywgJ3M1JywgNDAwMSwgNDUwLCAzNTAsIDM1MCwgJ3AyJyk7Ki9cclxuXHJcblxyXG4gICAgICAgIHRoaXMucGxhdGZvcm1zLnNldCgnczEnLCB0aGlzLnN1ZWxvMSk7XHJcbiAgICAgICAgLyp0aGlzLnBsYXRmb3Jtcy5zZXQoJ3AxJywgdGhpcy5wbGF0MSk7XHJcbiAgICAgICAgdGhpcy5wbGF0Zm9ybXMuc2V0KCdwMicsIHRoaXMucGxhdDIpO1xyXG4gICAgICAgIHRoaXMucGxhdGZvcm1zLnNldCgnczInLCB0aGlzLnN1ZWxvMik7XHJcbiAgICAgICAgdGhpcy5wbGF0Zm9ybXMuc2V0KCdjMScsIHRoaXMuY29sMSk7XHJcbiAgICAgICAgdGhpcy5wbGF0Zm9ybXMuc2V0KCdjMicsIHRoaXMuY29sMik7XHJcbiAgICAgICAgdGhpcy5wbGF0Zm9ybXMuc2V0KCdwMycsIHRoaXMucGxhdDMpO1xyXG4gICAgICAgIHRoaXMucGxhdGZvcm1zLnNldCgncDQnLCB0aGlzLnBsYXQ0KTtcclxuICAgICAgICB0aGlzLnBsYXRmb3Jtcy5zZXQoJ3A1JywgdGhpcy5wbGF0NSk7XHJcbiAgICAgICAgdGhpcy5wbGF0Zm9ybXMuc2V0KCdzMycsIHRoaXMuc3VlbG8zKTtcclxuICAgICAgICB0aGlzLnBsYXRmb3Jtcy5zZXQoJ3M0JywgdGhpcy5zdWVsbzQpO1xyXG4gICAgICAgIHRoaXMucGxhdGZvcm1zLnNldCgnczUnLCB0aGlzLnN1ZWxvNSk7XHJcbiAgICAgICAgdGhpcy5wbGF0Zm9ybXMuc2V0KCdwNicsIHRoaXMucGxhdDYpO1xyXG4gICAgICAgIHRoaXMucGxhdGZvcm1zLnNldCgncDcnLCB0aGlzLnBsYXQ3KTtcclxuICAgICAgICB0aGlzLnBsYXRmb3Jtcy5zZXQoJ3A4JywgdGhpcy5wbGF0OCk7Ki9cclxuXHJcbiAgICAgICAgdGhpcy5wbGF0Zm9ybXMuZm9yRWFjaChwID0+IHtcclxuICAgICAgICAgICAgdGhpcy5wbGF5ZXJzLmZvckVhY2gocGVyc29uYWplID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMucGh5c2ljcy5hZGQuY29sbGlkZXIocGVyc29uYWplLnNwcml0ZSwgcC5zcHJpdGUpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdGhpcy5lbmVtaWVzLmZvckVhY2goZW5lbWlnbyA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKGVuZW1pZ28uc3ByaXRlLCBwLnNwcml0ZSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvKnRoaXMubGlicmVyaWEgPSBuZXcgUGxhdGZvcm0odGhpcywgJ2xpYicsIDQwMDAsIDIwOCwgMTAwLCAxNTAsICdsaWInKTtcclxuICAgICAgICB0aGlzLmxpYnJlcmlhLnNwcml0ZS5zZXREZXB0aCgyKTtcclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLm92ZXJsYXAodGhpcy5saWJyZXJpYS5zcHJpdGUsIHRoaXMuYXJ0aHVyLnNwcml0ZSwgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnN0b3AoKTtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5zdGFydCgnRW5kU2NlbmUnKTtcclxuICAgICAgICB9KTsqL1xyXG4gICAgfVxyXG5cclxuICAgIHNldFVwRW5lbXlDb2xsaXNpb25zKCkge1xyXG4gICAgICAgIHRoaXMuZW5lbWllcy5mb3JFYWNoKChlbmVteSkgPT4ge1xyXG5cclxuICAgICAgICAgICAgLy8gRW1lbnkgaGl0cyBcclxuICAgICAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcihlbmVteS5zcHJpdGUsIHRoaXMucGxheWVycy5nZXQoJ3BsYXllcjEnKS5zcHJpdGUsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChlbmVteSAmJiB0aGlzLnBsYXllcnMuZ2V0KCdwbGF5ZXIxJykuaGVhbHRoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGxheWVycy5nZXQoJ3BsYXllcjEnKS5nZXRIaXQoNTApO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2hlY2tQbGF5ZXJTdGF0dXMoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKGVuZW15LnNwcml0ZSwgdGhpcy5wbGF5ZXJzLmdldCgncGxheWVyMicpLnNwcml0ZSwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKGVuZW15ICYmIHRoaXMucGxheWVycy5nZXQoJ3BsYXllcjInKS5oZWFsdGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wbGF5ZXJzLmdldCgncGxheWVyMicpLmdldEhpdCg1MCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jaGVja1BsYXllclN0YXR1cygpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIC8vIFBsYXllciBsaWdodHMgZW5lbXlcclxuICAgICAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5vdmVybGFwKGVuZW15LnNwcml0ZSwgdGhpcy5hcnRodXIubGlnaHQuY29sbGlkZXJDaXJjbGUsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmFydGh1ci5saWdodC5pc09uICYmIGVuZW15KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZW5lbXkuc2V0V2Vha2VuZWQodHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50aW1lLmRlbGF5ZWRDYWxsKDQwMDAsICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVuZW15KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmVteS5zZXRXZWFrZW5lZChmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAvLyBQbGF5ZXIgYXR0YWNrcyBlbmVteVxyXG4gICAgICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLm92ZXJsYXAoZW5lbXkuc3ByaXRlLCB0aGlzLnBsYXllcnMuZ2V0KCdwbGF5ZXIyJykuYXR0YWNrSGl0Ym94LCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZW5lbXk/LndlYWtlbmVkICYmIHRoaXMucGxheWVycy5nZXQoJ3BsYXllcjInKS5pc0F0dGFja2luZykge1xyXG4gICAgICAgICAgICAgICAgICAgIGVuZW15LmRpZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGVuZW15LmlzRGVhZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgZW5lbXkgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBjaGVja1BsYXllclN0YXR1cygpIHtcclxuICAgICAgICBpZiAodGhpcy5wbGF5ZXJzLmdldCgncGxheWVyMScpLmhlYWx0aCA8PSAwICYmIHRoaXMucGxheWVycy5nZXQoJ3BsYXllcjInKS5oZWFsdGggPD0gMCkge1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnN0b3AoKTtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5zdGFydCgnR2FtZVNjZW5lJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZSgpIHtcclxuICAgICAgICB0aGlzLmZvbmRvLnRpbGVQb3NpdGlvblggPSB0aGlzLmNhbWVyYXMubWFpbi5zY3JvbGxYICogMC4yO1xyXG5cclxuICAgICAgICB0aGlzLmNhbWVyYS51cGRhdGUoKTtcclxuICAgICAgICB0aGlzLmlucHV0TWFuYWdlci51cGRhdGUoKTtcclxuXHJcbiAgICAgICAgdGhpcy5hcnRodXIubGlnaHQudXBkYXRlKCk7XHJcblxyXG4gICAgICAgIHRoaXMuZW5lbWllcy5mb3JFYWNoKChlbmVteSkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIWVuZW15IHx8IGVuZW15LmlzRGVhZCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5lbmVtaWVzLmRlbGV0ZShlbmVteS5pZCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZW5lbXkudXBkYXRlKCk7XHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuXHJcblxyXG59IiwiaW1wb3J0IFBoYXNlciBmcm9tICdwaGFzZXInO1xyXG5pbXBvcnQgeyBjb25uZWN0aW9uTWFuYWdlciB9IGZyb20gJy4uL3NlcnZpY2VzL0Nvbm5lY3Rpb25NYW5hZ2VyJztcclxuXHJcbi8qKlxyXG4gKiBFc2NlbmEgcXVlIHNlIG11ZXN0cmEgY3VhbmRvIHNlIHBpZXJkZSBsYSBjb25leGnDs24gY29uIGVsIHNlcnZpZG9yXHJcbiAqIFBhdXNhIGVsIHJlc3RvIGRlIGVzY2VuYXMgeSBjb21wcnVlYmEgY29udGludWFtZW50ZSBoYXN0YSBxdWUgc2UgcmVzdGFibGV6Y2FcclxuICovXHJcbmV4cG9ydCBjbGFzcyBDb25uZWN0aW9uTG9zdFNjZW5lIGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCdDb25uZWN0aW9uTG9zdFNjZW5lJyk7XHJcbiAgICAgICAgdGhpcy5yZWNvbm5lY3RDaGVja0ludGVydmFsID0gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICBpbml0KGRhdGEpIHtcclxuICAgICAgICAvLyBHdWFyZGFyIGxhIGVzY2VuYSBxdWUgZXN0YWJhIGFjdGl2YSBjdWFuZG8gc2UgcGVyZGnDsyBsYSBjb25leGnDs25cclxuICAgICAgICB0aGlzLnByZXZpb3VzU2NlbmUgPSBkYXRhLnByZXZpb3VzU2NlbmU7XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlKCkge1xyXG4gICAgICAgIC8vIEZvbmRvIHNlbWktdHJhbnNwYXJlbnRlXHJcbiAgICAgICAgdGhpcy5hZGQucmVjdGFuZ2xlKDQwMCwgMzAwLCA4MDAsIDYwMCwgMHgwMDAwMDAsIDAuOCk7XHJcblxyXG4gICAgICAgIC8vIFTDrXR1bG9cclxuICAgICAgICB0aGlzLmFkZC50ZXh0KDQwMCwgMjAwLCAnQ09ORVhJw5NOIFBFUkRJREEnLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnNDhweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmMDAwMCcsXHJcbiAgICAgICAgICAgIGZvbnRTdHlsZTogJ2JvbGQnXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIC8vIE1lbnNhamVcclxuICAgICAgICB0aGlzLnN0YXR1c1RleHQgPSB0aGlzLmFkZC50ZXh0KDQwMCwgMzAwLCAnSW50ZW50YW5kbyByZWNvbmVjdGFyLi4uJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzI0cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmMDAnXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIC8vIENvbnRhZG9yIGRlIGludGVudG9zXHJcbiAgICAgICAgdGhpcy5hdHRlbXB0Q291bnQgPSAwO1xyXG4gICAgICAgIHRoaXMuYXR0ZW1wdFRleHQgPSB0aGlzLmFkZC50ZXh0KDQwMCwgMzUwLCAnSW50ZW50b3M6IDAnLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMThweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmZmZmZidcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgLy8gSW5kaWNhZG9yIHBhcnBhZGVhbnRlXHJcbiAgICAgICAgdGhpcy5kb3RDb3VudCA9IDA7XHJcbiAgICAgICAgdGhpcy50aW1lLmFkZEV2ZW50KHtcclxuICAgICAgICAgICAgZGVsYXk6IDIwMDAsXHJcbiAgICAgICAgICAgIGNhbGxiYWNrOiAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRvdENvdW50ID0gKHRoaXMuZG90Q291bnQgKyAxKSAlIDQ7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBkb3RzID0gJy4nLnJlcGVhdCh0aGlzLmRvdENvdW50KTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc3RhdHVzVGV4dC5zZXRUZXh0KGBJbnRlbnRhbmRvIHJlY29uZWN0YXIke2RvdHN9YCk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGxvb3A6IHRydWVcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gTGlzdGVuZXIgcGFyYSBjYW1iaW9zIGRlIGNvbmV4acOzblxyXG4gICAgICAgIHRoaXMuY29ubmVjdGlvbkxpc3RlbmVyID0gKGRhdGEpID0+IHtcclxuICAgICAgICAgICAgaWYgKGRhdGEuY29ubmVjdGVkKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm9uUmVjb25uZWN0ZWQoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgY29ubmVjdGlvbk1hbmFnZXIuYWRkTGlzdGVuZXIodGhpcy5jb25uZWN0aW9uTGlzdGVuZXIpO1xyXG5cclxuICAgICAgICAvLyBJbnRlbnRhciByZWNvbmVjdGFyIGNhZGEgMiBzZWd1bmRvc1xyXG4gICAgICAgIHRoaXMucmVjb25uZWN0Q2hlY2tJbnRlcnZhbCA9IHNldEludGVydmFsKCgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5hdHRlbXB0UmVjb25uZWN0KCk7XHJcbiAgICAgICAgfSwgMjAwMCk7XHJcblxyXG4gICAgICAgIC8vIFByaW1lciBpbnRlbnRvIGlubWVkaWF0b1xyXG4gICAgICAgIHRoaXMuYXR0ZW1wdFJlY29ubmVjdCgpO1xyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIGF0dGVtcHRSZWNvbm5lY3QoKSB7XHJcbiAgICAgICAgdGhpcy5hdHRlbXB0Q291bnQrKztcclxuICAgICAgICBpZiAodGhpcy5hdHRlbXB0Q291bnQgPiAzMCkge1xyXG4gICAgICAgICAgICB0aGlzLnN0YXR1c1RleHQuc2V0VGV4dCgnTm8gc2UgcHVkbyBlc3RhYmxlY2VyIGxhIGNvbmV4acOzbicpO1xyXG4gICAgICAgICAgICB0aGlzLnN0YXR1c1RleHQuc2V0Q29sb3IoJyNmZjAwMDAnKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmF0dGVtcHRUZXh0LnNldFRleHQoYEludGVudG9zOiAke3RoaXMuYXR0ZW1wdENvdW50fWApO1xyXG4gICAgICAgIGF3YWl0IGNvbm5lY3Rpb25NYW5hZ2VyLmNoZWNrQ29ubmVjdGlvbigpO1xyXG4gICAgfVxyXG5cclxuICAgIG9uUmVjb25uZWN0ZWQoKSB7XHJcbiAgICAgICAgLy8gTGltcGlhciBpbnRlcnZhbFxyXG4gICAgICAgIGlmICh0aGlzLnJlY29ubmVjdENoZWNrSW50ZXJ2YWwpIHtcclxuICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLnJlY29ubmVjdENoZWNrSW50ZXJ2YWwpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gUmVtb3ZlciBsaXN0ZW5lclxyXG4gICAgICAgIGNvbm5lY3Rpb25NYW5hZ2VyLnJlbW92ZUxpc3RlbmVyKHRoaXMuY29ubmVjdGlvbkxpc3RlbmVyKTtcclxuXHJcbiAgICAgICAgLy8gTWVuc2FqZSBkZSDDqXhpdG9cclxuICAgICAgICB0aGlzLnN0YXR1c1RleHQuc2V0VGV4dCgnwqFDb25leGnDs24gcmVzdGFibGVjaWRhIScpO1xyXG4gICAgICAgIHRoaXMuc3RhdHVzVGV4dC5zZXRDb2xvcignIzAwZmYwMCcpO1xyXG5cclxuICAgICAgICAvLyBWb2x2ZXIgYSBsYSBlc2NlbmEgYW50ZXJpb3JcclxuICAgICAgICB0aGlzLnRpbWUuZGVsYXllZENhbGwoMTAwMCwgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnN0b3AoKTtcclxuICAgICAgICAgICAgaWYgKHRoaXMucHJldmlvdXNTY2VuZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5yZXN1bWUodGhpcy5wcmV2aW91c1NjZW5lKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHNodXRkb3duKCkge1xyXG4gICAgICAgIC8vIExpbXBpYXIgZWwgaW50ZXJ2YWwgYWwgY2VycmFyIGxhIGVzY2VuYVxyXG4gICAgICAgIGlmICh0aGlzLnJlY29ubmVjdENoZWNrSW50ZXJ2YWwpIHtcclxuICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLnJlY29ubmVjdENoZWNrSW50ZXJ2YWwpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBSZW1vdmVyIGVsIGxpc3RlbmVyXHJcbiAgICAgICAgaWYgKHRoaXMuY29ubmVjdGlvbkxpc3RlbmVyKSB7XHJcbiAgICAgICAgICAgIGNvbm5lY3Rpb25NYW5hZ2VyLnJlbW92ZUxpc3RlbmVyKHRoaXMuY29ubmVjdGlvbkxpc3RlbmVyKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IFBoYXNlciBmcm9tIFwicGhhc2VyXCI7XHJcbmltcG9ydCB7IGNsaWVudERhdGFNYW5hZ2VyIH0gZnJvbSBcIi4uL3NlcnZpY2VzL2NsaWVudERhdGFNYW5hZ2VyXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgTG9naW5TY2VuZSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcignTG9naW5TY2VuZScpXHJcbiAgICB9XHJcblxyXG4gICAgcHJlbG9hZCgpIHtcclxuICAgICAgICB0aGlzLmxvYWQuaHRtbCgnbG9naW4nLCAnYXNzZXRzL2h0bWwvZm9ybS5odG1sJyk7XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlKCkge1xyXG4gICAgICAgIGNvbnN0IHRleHQgPSB0aGlzLmFkZC50ZXh0KDQwMCwgNTIsICdMb2dpbicsIHsgZm9udFNpemU6ICczMnB4JywgZmlsbDogJyNmZmYnIH0pO1xyXG5cclxuICAgICAgICBjb25zdCBlbGVtZW50ID0gdGhpcy5hZGQuZG9tKDQwMCwgMzAwKS5jcmVhdGVGcm9tQ2FjaGUoJ2xvZ2luJyk7XHJcblxyXG4gICAgICAgIGVsZW1lbnQuc2V0UGVyc3BlY3RpdmUoODAwKTtcclxuXHJcbiAgICAgICAgZWxlbWVudC5hZGRMaXN0ZW5lcignY2xpY2snKTtcclxuXHJcbiAgICAgICAgY29uc3Qgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgZWxlbWVudC5vbignY2xpY2snLCBhc3luYyAoZXZlbnQpID0+IHtcclxuXHJcbiAgICAgICAgICAgIGlmIChldmVudC50YXJnZXQubmFtZSA9PT0gJ2xvZ2luQnV0dG9uJykge1xyXG5cclxuICAgICAgICAgICAgICAgIGNvbnN0IGlucHV0VXNlcm5hbWUgPSBlbGVtZW50LmdldENoaWxkQnlOYW1lKCd1c2VybmFtZScpLnZhbHVlO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vICBIYXZlIHRoZXkgZW50ZXJlZCBhbnl0aGluZz9cclxuICAgICAgICAgICAgICAgIGlmIChpbnB1dFVzZXJuYW1lICE9PSAnJykge1xyXG4gICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1RyeWluZyB0byBsb2cgaW4nKTtcclxuICAgICAgICAgICAgICAgICAgICAvL1BPU1Qgb24gL2FwaS91c2Vyc1xyXG4gICAgICAgICAgICAgICAgICAgIGNsaWVudERhdGFNYW5hZ2VyLm5hbWUgPSBpbnB1dFVzZXJuYW1lO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGxvZ2dlZEluID0gYXdhaXQgY2xpZW50RGF0YU1hbmFnZXIucG9zdExvZ2luKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGxvZ2dlZEluID09PSAyMDEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gIFR1cm4gb2ZmIHRoZSBjbGljayBldmVudHNcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5yZW1vdmVMaXN0ZW5lcignY2xpY2snKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dC5zZXRUZXh0KCdMb2dpbiBzdWNjZXNzZnVsJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ01lbnVTY2VuZScpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQuc2V0VGV4dCgnTG9naW4gZmFpbGVkJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIH1cclxuXHJcbn1cclxuIiwiLyoqXHJcbiAqIExvYmJ5IFNjZW5lIC0gV2FpdGluZyBmb3IgbXVsdGlwbGF5ZXIgbWF0Y2htYWtpbmdcclxuICovXHJcbmV4cG9ydCBjbGFzcyBNYXRjaE1ha2luZ1NjZW5lIGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcclxuICBjb25zdHJ1Y3RvcigpIHtcclxuICAgIHN1cGVyKCdNYXRjaE1ha2luZ1NjZW5lJyk7XHJcbiAgICB0aGlzLndzID0gbnVsbDtcclxuICB9XHJcblxyXG4gIGNyZWF0ZSgpIHtcclxuICAgIGNvbnN0IHdpZHRoID0gdGhpcy5jYW1lcmFzLm1haW4ud2lkdGg7XHJcbiAgICBjb25zdCBoZWlnaHQgPSB0aGlzLmNhbWVyYXMubWFpbi5oZWlnaHQ7XHJcblxyXG4gICAgLy8gVGl0bGVcclxuICAgIHRoaXMuYWRkLnRleHQod2lkdGggLyAyLCAxMDAsICdPbmxpbmUgTXVsdGlwbGF5ZXInLCB7XHJcbiAgICAgIGZvbnRTaXplOiAnNDhweCcsXHJcbiAgICAgIGNvbG9yOiAnI2ZmZmZmZmZmJ1xyXG4gICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgLy8gU3RhdHVzIHRleHRcclxuICAgIHRoaXMuc3RhdHVzVGV4dCA9IHRoaXMuYWRkLnRleHQod2lkdGggLyAyLCBoZWlnaHQgLyAyIC0gNTAsICdDb25uZWN0aW5nIHRvIHNlcnZlci4uLicsIHtcclxuICAgICAgZm9udFNpemU6ICcyNHB4JyxcclxuICAgICAgY29sb3I6ICcjZmZmZmZmZmYnXHJcbiAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAvLyBQbGF5ZXIgY291bnQgdGV4dFxyXG4gICAgdGhpcy5wbGF5ZXJDb3VudFRleHQgPSB0aGlzLmFkZC50ZXh0KHdpZHRoIC8gMiwgaGVpZ2h0IC8gMiArIDIwLCAnJywge1xyXG4gICAgICBmb250U2l6ZTogJzIwcHgnLFxyXG4gICAgICBjb2xvcjogJyNmZmZmZmZmZidcclxuICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgIC8vIENhbmNlbCBidXR0b25cclxuICAgIGNvbnN0IGNhbmNlbEJ1dHRvbiA9IHRoaXMuYWRkLnRleHQod2lkdGggLyAyLCBoZWlnaHQgLSAxMDAsICdDYW5jZWwnLCB7XHJcbiAgICAgIGZvbnRTaXplOiAnMjRweCcsXHJcbiAgICAgIGNvbG9yOiAnI2ZmNjY2NmZmZicsXHJcbiAgICAgIHBhZGRpbmc6IHsgeDogMjAsIHk6IDEwIH1cclxuICAgIH0pLnNldE9yaWdpbigwLjUpLnNldEludGVyYWN0aXZlKCk7XHJcblxyXG4gICAgY2FuY2VsQnV0dG9uLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IHtcclxuICAgICAgY2FuY2VsQnV0dG9uLnNldENvbG9yKCcjZmYwMDAwZmYnKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGNhbmNlbEJ1dHRvbi5vbigncG9pbnRlcm91dCcsICgpID0+IHtcclxuICAgICAgY2FuY2VsQnV0dG9uLnNldENvbG9yKCcjZmY2NjY2ZmYnKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGNhbmNlbEJ1dHRvbi5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgIHRoaXMubGVhdmVRdWV1ZSgpO1xyXG4gICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdNZW51U2NlbmUnKTtcclxuICAgIH0pO1xyXG5cclxuICAgIC8vIENvbm5lY3QgdG8gV2ViU29ja2V0IHNlcnZlclxyXG4gICAgdGhpcy5jb25uZWN0VG9TZXJ2ZXIoKTtcclxuICB9XHJcblxyXG4gIGNvbm5lY3RUb1NlcnZlcigpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgIC8vIENvbm5lY3QgdG8gV2ViU29ja2V0IHNlcnZlciAoc2FtZSBob3N0IGFzIHdlYiBzZXJ2ZXIpXHJcbiAgICAgIGNvbnN0IHdzVXJsID0gYHdzOi8vJHt3aW5kb3cubG9jYXRpb24uaG9zdH1gO1xyXG5cclxuICAgICAgdGhpcy53cyA9IG5ldyBXZWJTb2NrZXQod3NVcmwpO1xyXG5cclxuICAgICAgdGhpcy53cy5vbm9wZW4gPSAoKSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ0Nvbm5lY3RlZCB0byBXZWJTb2NrZXQgc2VydmVyJyk7XHJcbiAgICAgICAgdGhpcy5zdGF0dXNUZXh0LnNldFRleHQoJ1dhaXRpbmcgZm9yIG9wcG9uZW50Li4uJyk7XHJcblxyXG4gICAgICAgIC8vIEpvaW4gbWF0Y2htYWtpbmcgcXVldWVcclxuICAgICAgICB0aGlzLndzLnNlbmQoSlNPTi5zdHJpbmdpZnkoeyB0eXBlOiAnam9pblF1ZXVlJyB9KSk7XHJcbiAgICAgIH07XHJcblxyXG4gICAgICB0aGlzLndzLm9ubWVzc2FnZSA9IChldmVudCkgPT4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICBjb25zdCBkYXRhID0gSlNPTi5wYXJzZShldmVudC5kYXRhKTtcclxuICAgICAgICAgIHRoaXMuaGFuZGxlU2VydmVyTWVzc2FnZShkYXRhKTtcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgcGFyc2luZyBzZXJ2ZXIgbWVzc2FnZTonLCBlcnJvcik7XHJcbiAgICAgICAgfVxyXG4gICAgICB9O1xyXG5cclxuICAgICAgdGhpcy53cy5vbmVycm9yID0gKGVycm9yKSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcignV2ViU29ja2V0IGVycm9yOicsIGVycm9yKTtcclxuICAgICAgICB0aGlzLnN0YXR1c1RleHQuc2V0VGV4dCgnQ29ubmVjdGlvbiBlcnJvciEnKTtcclxuICAgICAgICB0aGlzLnN0YXR1c1RleHQuc2V0Q29sb3IoJyNmZjAwMDBmZicpO1xyXG4gICAgICB9O1xyXG5cclxuICAgICAgdGhpcy53cy5vbmNsb3NlID0gKCkgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdXZWJTb2NrZXQgY29ubmVjdGlvbiBjbG9zZWQnKTtcclxuICAgICAgICBpZiAodGhpcy5zY2VuZS5pc0FjdGl2ZSgnTG9iYnlTY2VuZScpKSB7XHJcbiAgICAgICAgICB0aGlzLnN0YXR1c1RleHQuc2V0VGV4dCgnQ29ubmVjdGlvbiBsb3N0IScpO1xyXG4gICAgICAgICAgdGhpcy5zdGF0dXNUZXh0LnNldENvbG9yKCcjZmYwMDAwZmYnKTtcclxuICAgICAgICB9XHJcbiAgICAgIH07XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBjb25uZWN0aW5nIHRvIHNlcnZlcjonLCBlcnJvcik7XHJcbiAgICAgIHRoaXMuc3RhdHVzVGV4dC5zZXRUZXh0KCdGYWlsZWQgdG8gY29ubmVjdCEnKTtcclxuICAgICAgdGhpcy5zdGF0dXNUZXh0LnNldENvbG9yKCcjZmYwMDAwZmYnKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGhhbmRsZVNlcnZlck1lc3NhZ2UoZGF0YSkge1xyXG4gICAgc3dpdGNoIChkYXRhLnR5cGUpIHtcclxuICAgICAgY2FzZSAncXVldWVTdGF0dXMnOlxyXG4gICAgICAgIHRoaXMucGxheWVyQ291bnRUZXh0LnNldFRleHQoYFBsYXllcnMgaW4gcXVldWU6ICR7ZGF0YS5wb3NpdGlvbn0vMmApO1xyXG4gICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgY2FzZSAnZ2FtZVN0YXJ0JzpcclxuICAgICAgICBjb25zb2xlLmxvZygnR2FtZSBzdGFydGluZyEnLCBkYXRhKTtcclxuICAgICAgICAvLyBTdG9yZSBnYW1lIGRhdGEgYW5kIHRyYW5zaXRpb24gdG8gbXVsdGlwbGF5ZXIgZ2FtZSBzY2VuZVxyXG4gICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ011bHRpcGxheWVyU2NlbmUnLCB7XHJcbiAgICAgICAgICB3czogdGhpcy53cyxcclxuICAgICAgICAgIHBsYXllclJvbGU6IGRhdGEucm9sZSxcclxuICAgICAgICAgIHJvb21JZDogZGF0YS5yb29tSWQsXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICBkZWZhdWx0OlxyXG4gICAgICAgIGNvbnNvbGUubG9nKCdVbmtub3duIG1lc3NhZ2UgdHlwZTonLCBkYXRhLnR5cGUpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgbGVhdmVRdWV1ZSgpIHtcclxuICAgIGlmICh0aGlzLndzICYmIHRoaXMud3MucmVhZHlTdGF0ZSA9PT0gV2ViU29ja2V0Lk9QRU4pIHtcclxuICAgICAgdGhpcy53cy5zZW5kKEpTT04uc3RyaW5naWZ5KHsgdHlwZTogJ2xlYXZlUXVldWUnIH0pKTtcclxuICAgICAgdGhpcy53cy5jbG9zZSgpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgc2h1dGRvd24oKSB7XHJcbiAgICB0aGlzLmxlYXZlUXVldWUoKTtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IFBoYXNlciBmcm9tICdwaGFzZXInO1xyXG5pbXBvcnQgeyBPcHRpb25zU2NlbmUgfSBmcm9tICcuL3NjZW5lL09wdGlvbnNTY2VuZS5qcyc7XHJcbmltcG9ydCB7IE1lbnVTY2VuZSB9IGZyb20gJy4vc2NlbmUvTWVudVNjZW5lLmpzJztcclxuaW1wb3J0IHsgR2FtZVNjZW5lIH0gZnJvbSAnLi9zY2VuZS9HYW1lU2NlbmUuanMnO1xyXG5pbXBvcnQgeyBQYXVzZVNjZW5lIH0gZnJvbSAnLi9zY2VuZS9QYXVzZVNjZW5lLmpzJztcclxuaW1wb3J0IHsgQ3JlZGl0c1NjZW5lIH0gZnJvbSAnLi9zY2VuZS9DcmVkaXRzU2NlbmUuanMnO1xyXG5pbXBvcnQgeyBJbnRyb1NjZW5lIH0gZnJvbSAnLi9zY2VuZS9JbnRyb1NjZW5lLmpzJztcclxuaW1wb3J0IHsgRW5kU2NlbmUgfSBmcm9tICcuL3NjZW5lL0VuZFNjZW5lLmpzJztcclxuaW1wb3J0IHsgR2FtZVNjZW5lMiB9IGZyb20gJy4vc2NlbmUvR2FtZVNjZW5lMi5qcyc7XHJcbmltcG9ydCB7IENvbm5lY3Rpb25Mb3N0U2NlbmUgfSBmcm9tICcuL3NjZW5lL0Nvbm5lY3Rpb25Mb3N0U2NlbmUuanMnO1xyXG5pbXBvcnQgeyBMb2dpblNjZW5lIH0gZnJvbSAnLi9zY2VuZS9Mb2dpblNjZW5lLmpzJztcclxuaW1wb3J0IHsgTWF0Y2hNYWtpbmdTY2VuZSB9IGZyb20gJy4vc2NlbmUvTWF0Y2hNYWtpbmdTY2VuZS5qcyc7XHJcbmltcG9ydCB7TXVsdGlwbGF5ZXJTY2VuZX0gZnJvbSAnLi9zY2VuZS9NdWx0aXBsYXllclNjZW5lLmpzJztcclxuXHJcbmNvbnN0IGNvbmZpZyA9IHtcclxuICAgIHR5cGU6IFBoYXNlci5BVVRPLFxyXG4gICAgd2lkdGg6IDgwMCwgLy8gQW5jaG8gZGUgbGEgdmVudGFuYVxyXG4gICAgaGVpZ2h0OiA2MDAsIC8vIEFsdG8gZGUgbGEgdmVudGFuYVxyXG4gICAgcGFyZW50OiAnZ2FtZS1jb250YWluZXInLFxyXG5cclxuICAgIHBoeXNpY3M6IHtcclxuICAgICAgICBkZWZhdWx0OiAnYXJjYWRlJyxcclxuICAgICAgICBhcmNhZGU6IHtcclxuICAgICAgICAgICAgZ3Jhdml0eTogeyB4OiAwLCB5OiAxIH0sXHJcbiAgICAgICAgICAgIGRlYnVnOiB0cnVlLFxyXG4gICAgICAgICAgICBkZWJ1Z1Nob3dCb2R5OiBmYWxzZSxcclxuICAgICAgICAgICAgZGVidWdTaG93U3RhdGljQm9keTogZmFsc2UsXHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIGRvbToge1xyXG4gICAgICAgIGNyZWF0ZUNvbnRhaW5lcjogdHJ1ZVxyXG4gICAgfSxcclxuXHJcbi8vIExvZ2luU2NlbmUgcG9uZXIgY29tbyBlc2NlbmEgaW5pY2lhbCwgYWhvcmEgZXN0YSBxdWl0YWRvIHBxIGVzIHVuIGNvw7Fhem8gcGFyYSBoYWNlciBwcnVlYmFzXHJcbiAgICBzY2VuZTogW01lbnVTY2VuZSwgTWF0Y2hNYWtpbmdTY2VuZSwgQ3JlZGl0c1NjZW5lLCBPcHRpb25zU2NlbmUsIEludHJvU2NlbmUsIEdhbWVTY2VuZSwgTXVsdGlwbGF5ZXJTY2VuZSwgUGF1c2VTY2VuZSwgRW5kU2NlbmUsIEdhbWVTY2VuZTIsIENvbm5lY3Rpb25Mb3N0U2NlbmVdLFxyXG4gICAgYmFja2dyb3VuZENvbG9yOiAnIzM2MDI0NmZmJ1xyXG59XHJcblxyXG5jb25zdCBnYW1lID0gbmV3IFBoYXNlci5HYW1lKGNvbmZpZyk7XHJcblxyXG4iLCJpbXBvcnQgeyBHYW1lU2NlbmUgfSBmcm9tIFwiLi9HYW1lU2NlbmUuanNcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBNdWx0aXBsYXllclNjZW5lIGV4dGVuZHMgR2FtZVNjZW5lIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCdNdWx0aXBsYXllclNjZW5lJyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJlbG9hZCgpIHtcclxuICAgICAgICBzdXBlci5wcmVsb2FkKCk7XHJcbiAgICB9XHJcblxyXG4gICAgaW5pdChkYXRhKSB7XHJcbiAgICAgICAgc3VwZXIuaW5pdCgpO1xyXG4gICAgICAgIHRoaXMud3MgPSBkYXRhLndzO1xyXG4gICAgICAgIHRoaXMucGxheWVyUm9sZSA9IGRhdGEucGxheWVyUm9sZTsgLy8gJ3BsYXllcjEnIG9yICdwbGF5ZXIyJ1xyXG4gICAgICAgIHRoaXMucm9vbUlkID0gZGF0YS5yb29tSWQ7XHJcbiAgICAgICAgdGhpcy5sb2NhbFBsYXllciA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5yZW1vdGVQbGF5ZXIgPSBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZSgpIHtcclxuICAgICAgICBzdXBlci5jcmVhdGUoKTtcclxuICAgICAgICB0aGlzLnNldFVwUGxheWVycygpO1xyXG5cclxuICAgICAgICAvLyBDb25maWd1cmFyIElucHV0TWFuYWdlciBwYXJhIG11bHRpcGxheWVyXHJcbiAgICAgICAgdGhpcy5pbnB1dE1hbmFnZXIuc2V0V2ViU29ja2V0KHRoaXMud3MpO1xyXG4gICAgICAgIHRoaXMuaW5wdXRNYW5hZ2VyLnNldFBsYXllclJvbGUodGhpcy5wbGF5ZXJSb2xlKTtcclxuICAgICAgICB0aGlzLmlucHV0TWFuYWdlci5zZXRVcElucHV0cygpO1xyXG5cclxuICAgICAgICB0aGlzLnNldHVwV2ViU29ja2V0TGlzdGVuZXJzKCk7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIHVwZGF0ZSgpIHtcclxuICAgICAgICBzdXBlci51cGRhdGUoKTtcclxuICAgIH1cclxuXHJcbiAgICAvLy8vLy8vLy8vLy8vLy8vLy8gUkVEIENPTiBXRUJTT0NLRVQgLy8vLy8vLy8vLy8vLy9cclxuXHJcbiAgICBzZXRVcFBsYXllcnMoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMucGxheWVyUm9sZSA9PT0gJ3BsYXllcjEnKSB7XHJcbiAgICAgICAgICAgIHRoaXMubG9jYWxQbGF5ZXIgPSB0aGlzLmFydGh1cjtcclxuICAgICAgICAgICAgdGhpcy5yZW1vdGVQbGF5ZXIgPSB0aGlzLmx1Y3k7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5sb2NhbFBsYXllciA9IHRoaXMubHVjeTtcclxuICAgICAgICAgICAgdGhpcy5yZW1vdGVQbGF5ZXIgPSB0aGlzLmFydGh1cjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgc2V0dXBXZWJTb2NrZXRMaXN0ZW5lcnMoKSB7XHJcbiAgICAgICAgdGhpcy53cy5vbm1lc3NhZ2UgPSAoZXZlbnQpID0+IHtcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBKU09OLnBhcnNlKGV2ZW50LmRhdGEpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVTZXJ2ZXJNZXNzYWdlKGRhdGEpO1xyXG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgcGFyc2luZyBzZXJ2ZXIgbWVzc2FnZTonLCBlcnJvcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB0aGlzLndzLm9uY2xvc2UgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdXZWJTb2NrZXQgY29ubmVjdGlvbiBjbG9zZWQnKTtcclxuICAgICAgICAgICAgdGhpcy5oYW5kbGVEaXNjb25uZWN0aW9uKCk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdGhpcy53cy5vbmVycm9yID0gKGVycm9yKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1dlYlNvY2tldCBlcnJvcjonLCBlcnJvcik7XHJcbiAgICAgICAgICAgIHRoaXMuaGFuZGxlRGlzY29ubmVjdGlvbigpO1xyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgaGFuZGxlU2VydmVyTWVzc2FnZShkYXRhKSB7XHJcbiAgICAgICAgc3dpdGNoIChkYXRhLnR5cGUpIHtcclxuICAgICAgICAgICAgY2FzZSAnUGxheWVyTW92bWVudElucHV0Q29tbWFuZCc6XHJcbiAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKCdNdWx0aXBsYXllclNjZW5lIHJlY2VpdmVkIG1zZzonLCBkYXRhKTtcclxuICAgICAgICAgICAgICAgIC8vIFJlbW90ZSBwbGF5ZXIgbW92bWVudFxyXG4gICAgICAgICAgICAgICAgdGhpcy5pbnB1dE1hbmFnZXIudXBkYXRlUmVtb3RlUGxheWVyUG9zaXRpb24oZGF0YSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgIGNhc2UgJ1BsYXllckF0dGFja0NvbW1hbmQnOlxyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ011bHRpcGxheWVyU2NlbmUgcmVjZWl2ZWQgbXNnOicsIGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgLy8gUmVtb3RlIHBsYXllciBhdHRhY2tzXHJcbiAgICAgICAgICAgICAgICB0aGlzLmlucHV0TWFuYWdlci51cGRhdGVSZW1vdGVQbGF5ZXJBdHRhY2soZGF0YSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgIGNhc2UgJ2dhbWVPdmVyJzpcclxuICAgICAgICAgICAgICAgIC8vIFRPRE86IGltcGxlbWVudGFyXHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgIGNhc2UgJ3BsYXllckRpc2Nvbm5lY3RlZCc6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZURpc2Nvbm5lY3Rpb24oKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdVbmtub3duIG1lc3NhZ2UgdHlwZTonLCBkYXRhLnR5cGUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBoYW5kbGVEaXNjb25uZWN0aW9uKCkge1xyXG4gICAgICAgIHRoaXMuZ2FtZUVuZGVkID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLnBoeXNpY3MucGF1c2UoKTtcclxuXHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCg0MDAsIDI1MCwgJ1BhcnRuZXIgRGlzY29ubmVjdGVkJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzQ4cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZjAwMDAnXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIHRoaXMuY3JlYXRlTWVudUJ1dHRvbigpO1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZU1lbnVCdXR0b24oKSB7XHJcbiAgICAgICAgY29uc3QgbWVudUJ0biA9IHRoaXMuYWRkLnRleHQoNDAwLCA0MDAsICdSZXR1cm4gdG8gTWFpbiBNZW51Jywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzMycHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmZmYnLFxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSlcclxuICAgICAgICAgICAgLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IG1lbnVCdG4uc2V0Q29sb3IoJyNjY2NjY2MnKSlcclxuICAgICAgICAgICAgLm9uKCdwb2ludGVyb3V0JywgKCkgPT4gbWVudUJ0bi5zZXRDb2xvcignI2ZmZmZmZicpKVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMud3MgJiYgdGhpcy53cy5yZWFkeVN0YXRlID09PSBXZWJTb2NrZXQuT1BFTikge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMud3MuY2xvc2UoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ01lbnVTY2VuZScpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBzaHV0ZG93bigpIHtcclxuICAgICAgICBpZiAodGhpcy53cyAmJiB0aGlzLndzLnJlYWR5U3RhdGUgPT09IFdlYlNvY2tldC5PUEVOKSB7XHJcbiAgICAgICAgICAgIHRoaXMud3MuY2xvc2UoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iXSwibmFtZXMiOlsiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZSIsImdldHRlciIsIl9fZXNNb2R1bGUiLCJkIiwiYSIsImV4cG9ydHMiLCJkZWZpbml0aW9uIiwia2V5IiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsIm9iaiIsInByb3AiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJQaGFzZXIiLCJPcHRpb25zU2NlbmUiLCJjb25zdHJ1Y3RvciIsInN1cGVyIiwicHJlbG9hZCIsInRoaXMiLCJsb2FkIiwiaW1hZ2UiLCJjcmVhdGUiLCJkYXRhIiwiYWRkIiwicmVjdGFuZ2xlIiwic2V0T3JpZ2luIiwidGV4dCIsImZvbnRTaXplIiwiY29sb3IiLCJmb250U3R5bGUiLCJ2b2x1bWVUZXh0Iiwic291bmQiLCJtdXRlIiwidm9sdW1lQnRuIiwiYmFja2dyb3VuZENvbG9yIiwicGFkZGluZyIsIngiLCJ5Iiwic2V0SW50ZXJhY3RpdmUiLCJ1c2VIYW5kQ3Vyc29yIiwib24iLCJzZXRTdHlsZSIsInNldFRleHQiLCJiYWNrQnRuIiwic2NlbmUiLCJzdG9wIiwicmVzdW1lIiwib3JpZ2luYWxTY2VuZSIsImNvbm5lY3Rpb25NYW5hZ2VyIiwiY29ubmVjdGVkQ291bnQiLCJpc0Nvbm5lY3RlZCIsImxhc3RDaGVja1RpbWUiLCJjaGVja0ludGVydmFsIiwibGlzdGVuZXJzIiwic2Vzc2lvbklkIiwiZ2VuZXJhdGVTZXNzaW9uSWQiLCJpbnRlcnZhbElkIiwic3RhcnRQb2xsaW5nIiwiRGF0ZSIsIm5vdyIsIk1hdGgiLCJyYW5kb20iLCJ0b1N0cmluZyIsInN1YnN0ciIsImNoZWNrQ29ubmVjdGlvbiIsInJlc3BvbnNlIiwiZmV0Y2giLCJtZXRob2QiLCJoZWFkZXJzIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJvayIsImpzb24iLCJjb25uZWN0ZWQiLCJub3RpZnlMaXN0ZW5lcnMiLCJjb3VudCIsInN1Y2Nlc3MiLCJoYW5kbGVEaXNjb25uZWN0aW9uIiwiZXJyb3IiLCJjb25zb2xlIiwiYWRkTGlzdGVuZXIiLCJjYWxsYmFjayIsInB1c2giLCJyZW1vdmVMaXN0ZW5lciIsImluZGV4IiwiaW5kZXhPZiIsInNwbGljZSIsImZvckVhY2giLCJsaXN0ZW5lciIsImdldFN0YXR1cyIsInNldEludGVydmFsIiwic3RvcFBvbGxpbmciLCJjbGVhckludGVydmFsIiwiY2xpZW50RGF0YU1hbmFnZXIiLCJpZCIsInVuZGVmaW5lZCIsIm5hbWUiLCJkZWF0aHMiLCJ1cGRhdGVDbGllbnREYXRhIiwidXBkYXRlcyIsImdldENsaWVudERlYXRocyIsIkVycm9yIiwidXBkYXRlQ2xpZW50RGVhdGhzIiwicG9zdExvZ2luIiwic3RhdHVzIiwiTWVudVNjZW5lIiwiYXVkaW8iLCJzdGFydEJ1dHRvbiIsIm9wZW5NaW5pTWVudSIsImNyZWRpdHNCdXR0b24iLCJzdGFydCIsIm9wdGlvbnNCdXR0b24iLCJsYXVuY2giLCJleGl0QnV0dG9uIiwiZ2FtZSIsImRlc3Ryb3kiLCJ3aW5kb3ciLCJjbG9zZSIsImJ1dHRvbnMiLCJtdXNpYyIsInBsYXkiLCJzZXRWb2x1bWUiLCJjb25uZWN0aW9uVGV4dCIsImNvbm5lY3Rpb25MaXN0ZW5lciIsInVwZGF0ZUNvbm5lY3Rpb25EaXNwbGF5Iiwib25saW5lQnRuIiwiYnRuIiwicmVtb3ZlSW50ZXJhY3RpdmUiLCJiZyIsInNldERlcHRoIiwibHZsMSIsImNsb3NlTWluaU1lbnUiLCJsdmwyIiwicmV0dXJuQnRuIiwiZWxlbWVudHMiLCJlIiwiaXNBY3RpdmUiLCJzZXRDb2xvciIsInNodXRkb3duIiwiQ29tbWFuZCIsImV4ZWN1dGUiLCJzZXJpYWxpemUiLCJnZXRFbnRpdHkiLCJQbGF5ZXJNb3ZtZW50SW5wdXRDb21tYW5kIiwicGxheWVyIiwiYWN0aW9uIiwianVtcCIsImlkbGUiLCJob3Jpem9udGFsTW92ZSIsInR5cGUiLCJwbGF5ZXJJZCIsIlBsYXllckF0dGFja0NvbW1hbmQiLCJhdHRhY2siLCJDb21tYW5kUHJvY2Vzc29yIiwicGxheWVycyIsIk1hcCIsInByb2Nlc3MiLCJjb21tYW5kIiwicmVjZWl2ZUNvbW1hbmQiLCJkZXNlcmlhbGl6ZSIsIndhcm4iLCJJbnB1dE1hbmFnZXIiLCJzY2VuZU1hbmFnZXIiLCJpbnB1dCIsImNvbW1hbmRQcm9jZXNzb3IiLCJwbGF5ZXJSb2xlIiwid3MiLCJpbnB1dHNNYXBwaW5nIiwiaXNQYXVzZWQiLCJzZXRVcElucHV0cyIsInNldFVwUmVtb3RlSW5wdXRzIiwic2V0VXBMb2NhbElucHV0cyIsInNldFdlYlNvY2tldCIsInNldFBsYXllclJvbGUiLCJyb2xlIiwia2V5Ym9hcmQiLCJwYXVzZSIsImxlZnRLZXkiLCJyaWdodEtleSIsInVwS2V5IiwiZG93bktleSIsImF0dGFja0tleSIsIm1hcCIsImNvbmZpZyIsImxlZnRLZXlPYmoiLCJhZGRLZXkiLCJLZXlib2FyZCIsIktleUNvZGVzIiwicmlnaHRLZXlPYmoiLCJ1cEtleU9iaiIsImRvd25LZXlPYmoiLCJhdHRhY2tLZXlPYmoiLCJJbnB1dENvbmZpZyIsInVwZGF0ZSIsIm1hcHBpbmciLCJsb2NhbENvbW1hbmQiLCJpc0Rvd24iLCJzZW5kTWVzc2FnZSIsImF0dGFja0NvbW1hbmQiLCJtZXNzYWdlIiwicmVhZHlTdGF0ZSIsIldlYlNvY2tldCIsIk9QRU4iLCJsb2ciLCJzZW5kIiwidXBkYXRlUmVtb3RlUGxheWVyUG9zaXRpb24iLCJ1cGRhdGVSZW1vdGVQbGF5ZXJBdHRhY2siLCJBbmltYXRvciIsImFuaW1hdGlvblNwcml0ZXNoZWV0IiwiZnJhbWVXaWR0aCIsImZyYW1lSGVpZ2h0Iiwic3ByaXRlc2hlZXQiLCJjcmVhdGVBbmltYXRpb24iLCJzdGFydEZyYW1lIiwiZW5kRnJhbWUiLCJmcmFtZVJhdGUiLCJyZXBlYXQiLCJhbmltcyIsImZyYW1lcyIsImdlbmVyYXRlRnJhbWVOdW1iZXJzIiwiZW5kIiwiYXNzaWduU3ByaXRlVG9QbGF5ZXIiLCJwaHlzaWNzIiwic3ByaXRlIiwiY3JlYXRlU3ByaXRlIiwiRW5lbXkiLCJiYXNlSGVpZ2h0IiwiYmFzZVdpZHRoIiwiYmFzZVNwZWVkIiwiaXNEZWFkIiwid2Vha2VuZWQiLCJhbmltYXRvciIsImFuaW0iLCJzZXRDb2xsaWRlV29ybGRCb3VuZHMiLCJhbGxvd0dyYXZpdHkiLCJzZXRHcmF2aXR5WSIsInNldFNjYWxlIiwic2V0U2l6ZSIsIndpZHRoIiwiaGVpZ2h0IiwiZW5lbXlNb3ZlbWVudCIsInBpY2tQbGF5ZXIiLCJmbGlwWCIsImFicyIsIm1vdmVUb09iamVjdCIsImhlYWx0aCIsImRpZSIsInNldFZlbG9jaXR5Iiwic2V0V2Vha2VuZWQiLCJ2YWx1ZSIsIkNhbWVyYSIsImNhbWVyYSIsImNhbWVyYXMiLCJtYWluIiwiY2FtTGVmdCIsInNjcm9sbFgiLCJjYW1SaWdodCIsIm1hcmdpbiIsIkNsYW1wIiwibWlkWCIsInRhcmdldExlZnQiLCJ0YXJnZXRSaWdodCIsImFydGh1ckluc2lkZUFmdGVyTW92ZSIsImx1Y3lJbnNpZGVBZnRlck1vdmUiLCJyb3VuZCIsIkxpbmVhciIsIlBsYXRmb3JtIiwidGV4dHVyZUtleSIsInNldERpc3BsYXlTaXplIiwiZXhpc3RpbmciLCJnIiwiZ3JhcGhpY3MiLCJmaWxsU3R5bGUiLCJmaWxsUmVjdCIsInNldFVwQ29sbGlzaW9ucyIsIlBsYXllciIsImdyYXZpdHkiLCJ4UG9zIiwieVBvcyIsInNwcml0ZVNoZWV0IiwianVtcEZvcmNlIiwiaW52dWxuZXJhYmxlIiwiYXV0aG9yaXR5IiwibnVtRGVhdGhzIiwiY3VycmVudERpcmVjdGlvbiIsImN1cnJlbnRBbmltIiwib25GbG9vciIsInBsYXlBbmltIiwic2V0T2Zmc2V0IiwiZGlyZWN0aW9uIiwic2V0VmVsb2NpdHlYIiwiY2FuSnVtcCIsInNldFZlbG9jaXR5WSIsImdldEhpdCIsImRhbWFnZSIsInNldFRpbnQiLCJjaGVja0FsaXZlIiwiaXNBdHRhY2tpbmciLCJ0aW1lIiwiZGVsYXllZENhbGwiLCJjbGVhclRpbnQiLCJyZXZpdmUiLCJ1cGRhdGVEZWF0aHMiLCJMdWN5IiwiYXR0YWNrSGl0Ym94Iiwic2V0VmlzaWJsZSIsInNldEltbW92YWJsZSIsInNldFBvc2l0aW9uIiwidXBkYXRlSGl0Ym94Iiwib2Zmc2V0WCIsIkxpZ2h0IiwicmFkaXVzIiwiaXNPbiIsImNhblBlcmZvcm0iLCJjb2xsaWRlckNpcmNsZSIsImNpcmNsZSIsInNldENpcmNsZSIsInNldEFsbG93R3Jhdml0eSIsImNsZWFyIiwiZmlsbENpcmNsZSIsInBlcmZvcm0iLCJBcnRodXIiLCJsaWdodCIsIkdhbWVTY2VuZSIsImFydGh1ciIsImx1Y3kiLCJlbmVtaWVzIiwiZW5lbXkiLCJpbml0Iiwic3RvcEFsbCIsInBsYXRmb3JtcyIsImlucHV0TWFuYWdlciIsImVuZW15MSIsImVuZW15MiIsImVuZW15MyIsImVuZW15NCIsImVuZW15NSIsInNldCIsImZvbmRvIiwidGlsZVNwcml0ZSIsInNldFNjcm9sbEZhY3RvciIsInNldFVwV29ybGRDb2xsaXNpb25zIiwic2V0VXBFbmVteUNvbGxpc2lvbnMiLCJzZXRVcFJldml2ZUNvbGxpc2lvbiIsIndvcmxkIiwic2V0Qm91bmRzIiwic2V0TGVycCIsIm9uQ29ubmVjdGlvbkxvc3QiLCJvdmVybGFwIiwic3VlbG8xIiwicGxhdDEiLCJwbGF0MiIsInN1ZWxvMiIsImNvbDEiLCJjb2wyIiwicGxhdDMiLCJwbGF0NCIsInBsYXQ1Iiwic3VlbG8zIiwic3VlbG80IiwicGxhdDYiLCJwbGF0NyIsInBsYXQ4Iiwic3VlbG81IiwicCIsInBlcnNvbmFqZSIsImNvbGxpZGVyIiwiZW5lbWlnbyIsImxpYnJlcmlhIiwiY2hlY2tQbGF5ZXJTdGF0dXMiLCJ0aWxlUG9zaXRpb25YIiwiZGVsZXRlIiwicHJldmlvdXNTY2VuZSIsIlBhdXNlU2NlbmUiLCJ1bnBhdXNlIiwicGxheUJ0biIsImZpbGwiLCJleGl0QnRuIiwiZXhpdFRvTWVudSIsIkNyZWRpdHNTY2VuZSIsImFsaWduIiwiUHVwcGV0IiwiaXNQbGF5ZXIiLCJsb29wQW5pbWF0aW9uTGlzdCIsImRlbGF5IiwiYWRkRXZlbnQiLCJsb29wIiwibGVuZ3RoIiwiSW50cm9TY2VuZSIsImFydGh1cjEiLCJhcnRodXIyIiwiYXJ0aHVyMyIsImFydGh1cjQiLCJsdWN5MSIsImx1Y3kyIiwibHVjeTMiLCJsdWN5NCIsInB1cHBldHMxIiwicHVwcGV0czIiLCJwdXBwZXQiLCJpbnRyb1RleHQiLCJ0ZXh0SW5kZXgiLCJpblByb2dyZXNzIiwiaW50cm9JbWFnZTAiLCJpbnRyb0ltYWdlMSIsImludHJvSW1hZ2VMIiwiaW50cm9JbWFnZTIiLCJjb250cm9sc0ltYWdlIiwiY29tYmF0SW1hZ2UiLCJjdXRzY2VuZUltYWdlcyIsIm5leHRCdG4iLCJuZXh0VGV4dCIsInNraXBCdG4iLCJzaG93VGV4dCIsInRleHRJbiIsIndyaXRlVGV4dCIsInN1YnN0cmluZyIsIkVuZFNjZW5lIiwiZW5kSW1hZ2UxIiwiZW5kSW1hZ2UyIiwiZW5kSW1hZ2UzIiwiZW5kSW1hZ2U0IiwiZW5kSW1hZ2VzIiwidGV4dG8iLCJpZHgiLCJ3cml0ZUxldHRlciIsIkdhbWVTY2VuZTIiLCJDb25uZWN0aW9uTG9zdFNjZW5lIiwicmVjb25uZWN0Q2hlY2tJbnRlcnZhbCIsInN0YXR1c1RleHQiLCJhdHRlbXB0Q291bnQiLCJhdHRlbXB0VGV4dCIsImRvdENvdW50IiwiZG90cyIsIm9uUmVjb25uZWN0ZWQiLCJhdHRlbXB0UmVjb25uZWN0IiwiTWF0Y2hNYWtpbmdTY2VuZSIsIlNjZW5lIiwicGxheWVyQ291bnRUZXh0IiwiY2FuY2VsQnV0dG9uIiwibGVhdmVRdWV1ZSIsImNvbm5lY3RUb1NlcnZlciIsIndzVXJsIiwibG9jYXRpb24iLCJob3N0Iiwib25vcGVuIiwib25tZXNzYWdlIiwiZXZlbnQiLCJwYXJzZSIsImhhbmRsZVNlcnZlck1lc3NhZ2UiLCJvbmVycm9yIiwib25jbG9zZSIsInBvc2l0aW9uIiwicm9vbUlkIiwicGFyZW50IiwiZGVmYXVsdCIsImFyY2FkZSIsImRlYnVnIiwiZGVidWdTaG93Qm9keSIsImRlYnVnU2hvd1N0YXRpY0JvZHkiLCJkb20iLCJjcmVhdGVDb250YWluZXIiLCJsb2NhbFBsYXllciIsInJlbW90ZVBsYXllciIsInNldFVwUGxheWVycyIsInNldHVwV2ViU29ja2V0TGlzdGVuZXJzIiwiZ2FtZUVuZGVkIiwiY3JlYXRlTWVudUJ1dHRvbiIsIm1lbnVCdG4iXSwic291cmNlUm9vdCI6IiJ9