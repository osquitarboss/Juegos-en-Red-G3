(()=>{"use strict";var e={n:t=>{var s=t&&t.__esModule?()=>t.default:()=>t;return e.d(s,{a:s}),s},d:(t,s)=>{for(var i in s)e.o(s,i)&&!e.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:s[i]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const t=Phaser;var s=e.n(t);class i extends s().Scene{constructor(){super("OptionsScene")}preload(){this.load.image("background","assets/menu-inicio-fondo.png")}create(e){this.add.rectangle(400,300,800,600,0).setOrigin(.5),this.add.text(400,100,"Opciones",{fontSize:"48px",color:"#ffffffff",fontStyle:"bold"}).setOrigin(.5);const t=this.sound.mute?"Activar Sonido":"Desactivar Sonido",s=this.add.text(400,300,t,{fontSize:"32px",color:"#ffffffff",backgroundColor:"#000000ff",padding:{x:20,y:10}}).setOrigin(.5).setInteractive({useHandCursor:!0});s.on("pointerover",()=>s.setStyle({backgroundColor:"#737373ff"})).on("pointerout",()=>s.setStyle({backgroundColor:"#000000ff"})).on("pointerdown",()=>{this.sound.mute=!this.sound.mute,s.setText(this.sound.mute?"Activar Sonido":"Desactivar Sonido")});const i=this.add.text(400,500,"Volver",{fontSize:"32px",color:"#ffffffff",backgroundColor:"#000000ff",padding:{x:20,y:10}}).setOrigin(.5).setInteractive({useHandCursor:!0});i.on("pointerover",()=>i.setStyle({backgroundColor:"#737373ff"})).on("pointerout",()=>i.setStyle({backgroundColor:"#000000ff"})).on("pointerdown",()=>{this.scene.stop(),this.scene.resume(e.originalScene)})}}const a=new class{constructor(){this.connectedCount=0,this.isConnected=!1,this.lastCheckTime=0,this.checkInterval=2e3,this.listeners=[],this.sessionId=this.generateSessionId(),this.intervalId=null,this.startPolling()}generateSessionId(){return`session_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}async checkConnection(){try{const e=await fetch("/api/connected",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sessionId:this.sessionId})});if(e.ok){const t=await e.json();return this.connectedCount=t.connected,this.isConnected=!0,this.lastCheckTime=Date.now(),this.notifyListeners({connected:!0,count:this.connectedCount}),{connected:this.connectedCount,success:!0}}return this.handleDisconnection(),{connected:0,success:!1}}catch(e){return console.error("Error checking connection:",e),this.handleDisconnection(),{connected:0,success:!1}}}handleDisconnection(){this.isConnected=!1,this.connectedCount=0,this.notifyListeners({connected:!1,count:0})}addListener(e){this.listeners.push(e)}removeListener(e){const t=this.listeners.indexOf(e);t>-1&&this.listeners.splice(t,1)}notifyListeners(e){this.listeners.forEach(t=>t(e))}getStatus(){return{isConnected:this.isConnected,connectedCount:this.connectedCount,lastCheckTime:this.lastCheckTime}}startPolling(){this.intervalId||(this.checkConnection(),this.intervalId=setInterval(()=>{this.checkConnection()},this.checkInterval))}stopPolling(){this.intervalId&&(clearInterval(this.intervalId),this.intervalId=null)}};let n=new class{constructor(){this.id=void 0,this.name=void 0,this.deaths=0}async updateClientData(e){const t=await fetch(`/api/users/${this.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});return await t.json()}async getClientDeaths(){try{const e=await fetch(`/api/users/${this.id}`);if(!e.ok)throw new Error("Network response was not ok");return(await e.json()).deaths}catch(e){throw console.error("ClientDataManager error:",e),e}}async updateClientDeaths(e){this.deaths=e}async postLogin(){const e=await fetch("/api/users",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:this.id,name:this.name,deaths:this.deaths})});if(e.ok){const t=await e.json();this.id=t.id,this.deaths=t.deaths}return e.status}};class r extends s().Scene{constructor(){super("MenuScene")}preload(){this.load.audio("music","assets/sound/menu-theme.mp3"),this.load.image("background","assets/menus/menuSinLetras.png"),this.load.image("id1","assets/menus/BotonTitulo.png"),this.load.image("id2","assets/menus/BotonLocalPlay.png"),this.load.image("id3","assets/menus/BotonCreditos.png"),this.load.image("id4","assets/menus/BotonOpciones.png"),this.load.image("id5","assets/menus/BotonSalir.png"),this.load.image("menu","assets/menus/libretaNivelesConSombra.png"),this.load.image("n1","assets/menus/BotonNivel1.png"),this.load.image("n2","assets/menus/BotonNivel2.png"),this.load.image("return","assets/menus/BotonVolver.png")}create(){this.add.image(400,300,"background").setOrigin(.5),this.add.image(85,34,"id1").setOrigin(0),this.startButton=this.add.image(196,238,"id2").setOrigin(0).setInteractive({useHandCursor:!0}).on("pointerdown",()=>{this.openMiniMenu()}),this.creditsButton=this.add.image(241,307,"id3").setOrigin(0).setInteractive({useHandCursor:!0}).on("pointerdown",()=>{this.scene.start("CreditsScene")}),this.optionsButton=this.add.image(245,377,"id4").setOrigin(0).setInteractive({useHandCursor:!0}).on("pointerdown",()=>{this.scene.launch("OptionsScene",{originalScene:"MenuScene"})}),this.exitButton=this.add.image(276,451,"id5").setOrigin(0).setInteractive({useHandCursor:!0}).on("pointerdown",()=>{this.game.destroy(!0),window.close()}),this.buttons=[this.startButton,this.creditsButton,this.optionsButton,this.exitButton],this.music=this.sound.add("music"),this.music.play(),this.music.setVolume(0),this.connectionText=this.add.text(400,550,"Servidor: Comprobando...",{fontSize:"18px",color:"#ffff00"}).setOrigin(.5),this.connectionListener=e=>{this.updateConnectionDisplay(e)},a.addListener(this.connectionListener),this.onlineBtn=this.add.text(500,300,"Jugar Online",{fontSize:"18px",color:"#ffff00"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerover",()=>this.onlineBtn.setStyle({backgroundColor:"#737373ff"})).on("pointerout",()=>this.onlineBtn.setStyle({backgroundColor:"#000000ff"})).on("pointerdown",()=>{this.scene.start("MatchMakingScene")})}openMiniMenu(){this.buttons.forEach(e=>e.removeInteractive());const e=this.add.image(400,300,"menu").setDepth(10),t=this.add.image(350,230,"n1").setDepth(11).setInteractive({useHandCursor:!0}).on("pointerdown",()=>{this.closeMiniMenu([e,t,s,i]),this.scene.start("IntroScene")}),s=this.add.image(350,310,"n2").setDepth(11).setInteractive({useHandCursor:!0}).on("pointerdown",()=>{this.closeMiniMenu([e,t,s,i]),this.scene.start("EndScene")}),i=this.add.image(320,400,"return").setDepth(11).setInteractive({useHandCursor:!0}).on("pointerdown",()=>{this.closeMiniMenu([e,t,s,i])})}closeMiniMenu(e){e.forEach(e=>e.destroy()),this.buttons.forEach(e=>e.setInteractive({useHandCursor:!0}))}updateConnectionDisplay(e){if(this.connectionText&&this.scene&&this.scene.isActive("MenuScene"))try{e.connected?(this.connectionText.setText(`Servidor: ${e.count} usuario(s) conectado(s)`),this.connectionText.setColor("#00ff00")):(this.connectionText.setText("Servidor: Desconectado"),this.connectionText.setColor("#ff0000"))}catch(e){console.error("[MenuScene] Error updating connection display:",e)}}shutdown(){this.connectionListener&&a.removeListener(this.connectionListener)}}class o{execute(){}serialize(){return{}}getEntity(){return null}}class h extends o{constructor(e,t){super(),this.player=e,this.action=t}execute(){const e=this.player;"up"===this.action&&e.jump(),"left"!==this.action&&"right"!==this.action?"idle"===this.action&&e.idle():e.horizontalMove(this.action)}serialize(){return{type:"PlayerMovmentInputCommand",playerId:this.player.id,action:this.action,x:this.player.sprite.x,y:this.player.sprite.y}}getEntity(){return this.player}}class l extends o{constructor(e){super(),this.player=e}execute(){this.player.attack()}serialize(){return{type:"PlayerAttackCommand",playerId:this.player.id}}getEntity(){return this.player}}class c{constructor(){this.players=new Map}process(e){e.execute()}receiveCommand(e){this.players.get(e.playerId);const t=this.deserialize(e);t&&t.execute()}deserialize(e){const t=this.players.get(e.playerId);switch(e.type){case"PlayerMovmentInputCommand":return t?(void 0!==e.x&&void 0!==e.y&&t.sprite&&(Math.abs(t.sprite.x-e.x)>5||Math.abs(t.sprite.y-e.y)>5)&&t.sprite.setPosition(e.x,e.y),new h(t,e.action)):(console.warn(`Player not found for ID: ${e.playerId}`),null);case"PlayerAttackCommand":return t?new l(t):(console.warn(`Player not found for ID: ${e.playerId}`),null);default:return console.warn("Comando desconocido:",e.type),null}}}class p{constructor(e,t,s,i,a=null,n=null){this.commandProcessor=new c,this.scene=e,this.sceneManager=t,this.input=s,this.commandProcessor=i,this.players=new Map,this.inputsMapping=[],this.isPaused=!1,this.localPlayerRole=a,this.ws=n,this.setUpInputs()}setUpInputs(){this.players=this.scene.players,null===this.localPlayerRole?this.setUpLocalInputs():this.setUpRemoteInputs(this.localPlayerRole)}setWebSocket(e){this.ws=e}setLocalPlayerRole(e){this.localPlayerRole=e}setUpLocalInputs(){this.input.keyboard.on("keydown-ESC",()=>{this.pause()}),this.inputsMapping=[{playerId:"player1",leftKey:"A",rightKey:"D",upKey:"W",downKey:"S",attackKey:"F"},{playerId:"player2",leftKey:"LEFT",rightKey:"RIGHT",upKey:"UP",downKey:"DOWN",attackKey:"ENTER"}],this.inputsMapping=this.inputsMapping.map(e=>({playerId:e.playerId,leftKeyObj:this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes[e.leftKey]),rightKeyObj:this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes[e.rightKey]),upKeyObj:this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes[e.upKey]),downKeyObj:this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes[e.downKey]),attackKeyObj:this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes[e.attackKey])}))}setUpRemoteInputs(e){this.input.keyboard.on("keydown-ESC",()=>{this.pause()});const t=[{playerId:this.localPlayerRole,leftKey:"A",rightKey:"D",upKey:"W",downKey:"S",attackKey:"F"}];this.inputsMapping=t,this.inputsMapping=this.inputsMapping.map(e=>({playerId:e.playerId,leftKeyObj:this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes[e.leftKey]),rightKeyObj:this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes[e.rightKey]),upKeyObj:this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes[e.upKey]),downKeyObj:this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes[e.downKey]),attackKeyObj:this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes[e.attackKey])}))}pause(){this.sceneManager.launch("PauseScene",{originalScene:"GameScene"}),this.sceneManager.pause("GameScene"),this.isPaused=!0}update(){this.inputsMapping.forEach(e=>{let t=this.players.get(e.playerId);t.id=e.playerId;let s=new o;if(s=e.upKeyObj.isDown?new h(t,"up"):e.leftKeyObj.isDown?new h(t,"left"):e.rightKeyObj.isDown?new h(t,"right"):new h(t,"idle"),this.commandProcessor.process(s),this.sendMessage(s.serialize()),e.attackKeyObj.isDown){let e=new l(t);this.commandProcessor.process(e),this.sendMessage(e.serialize())}})}sendMessage(e){this.ws&&this.ws.readyState===WebSocket.OPEN?(console.log("Sending message:",e),this.ws.send(JSON.stringify(e))):console.warn("WebSocket is not open. Message not sent:",e)}updateRemotePlayerPosition(e){"PlayerMovmentInputCommand"===e.type&&this.commandProcessor.receiveCommand(e)}updateRemotePlayerAttack(e){"PlayerAttackCommand"===e.type&&(console.log("MultiplayerScene received in input manager msg:",e),this.commandProcessor.receiveCommand(e))}}class d{constructor(e,t){this.scene=e,this.animationSpritesheet=t}preload(e,t){this.scene.load.spritesheet(this.animationSpritesheet,`assets/sprites/${this.animationSpritesheet}.png`,{frameWidth:e,frameHeight:t})}createAnimation(e,t,s,i,a=-1){this.scene.anims.create({key:e,frames:this.scene.anims.generateFrameNumbers(this.animationSpritesheet,{start:t,end:s}),frameRate:i,repeat:a})}assignSpriteToPlayer(e,t){return this.scene.physics.add.sprite(e,t,this.animationSpritesheet)}createSprite(e,t){return this.scene.add.sprite(e,t,this.animationSpritesheet)}}class u{constructor(e,t,s,i,a){this.scene=e,this.x=s,this.y=i,this.players=a,this.id=t,this.baseHeight=.33,this.baseWidth=.33,this.baseSpeed=100,this.isDead=!1,this.weakened=!1,this.chasingPlayerId=null,this.animator=new d(this.scene,"spritesheet-enemigo-reescalado-mitad")}preload(){this.animator.preload(300,400)}create(){this.sprite=this.animator.assignSpriteToPlayer(this.x,this.y),this.animator.createAnimation(`idle-black-${this.id}`,0,2,5),this.animator.createAnimation(`idle-white-${this.id}`,3,5,5),this.animator.createAnimation(`black-to-white-${this.id}`,6,8,8,0),this.animator.createAnimation(`white-to-black-${this.id}`,6,8,8,0),this.animator.createAnimation(`die-${this.id}`,9,11,8,0),this.sprite.on("animationcomplete",e=>{e.key===`die-${this.id}`&&this.sprite.destroy()}),this.sprite.setCollideWorldBounds(!0),this.sprite.body.allowGravity=!1,this.sprite.body.setGravityY(500),this.sprite.setDepth(10),this.sprite.setScale(this.baseWidth,this.baseHeight),this.sprite.body.setSize(this.sprite.width-150,this.sprite.height-135),this.sprite.anims.play(`idle-black-${this.id}`)}enemyMovement(){this.pickPlayer();const e=this.players.get(this.chasingPlayerId).sprite.x-this.sprite.x,t=this.players.get(this.chasingPlayerId).sprite.y-this.sprite.y,s=Math.sqrt(e*e+t*t);this.sprite.flipX=this.players.get(this.chasingPlayerId).sprite.x<this.sprite.x,this.weakened||Math.abs(this.players.get(this.chasingPlayerId).sprite.x-this.sprite.x)>500||Math.abs(this.players.get(this.chasingPlayerId).sprite.y-this.sprite.y)>500?this.baseSpeed=0:this.baseSpeed=100,s>25&&this.baseSpeed>0?(this.movementVector={x:e/s,y:t/s},this.sprite.setVelocityX(this.movementVector.x*this.baseSpeed),this.sprite.setVelocityY(this.movementVector.y*this.baseSpeed)):(this.movementVector={x:0,y:0},this.sprite.setVelocity(0))}receiveEnemyMovment(e,t,s,i){const a=this.players.get(t);a&&a.sprite&&(this.sprite.flipX=a.sprite.x<this.sprite.x,this.weakened||Math.abs(a.sprite.x-this.sprite.x)>500||Math.abs(a.sprite.y-this.sprite.y)>500?this.baseSpeed=0:this.baseSpeed=100,void 0!==s&&void 0!==i&&(Math.abs(this.sprite.x-s)>10||Math.abs(this.sprite.y-i)>10)&&this.sprite.setPosition(s,i),this.movementVector=e,this.sprite.setVelocityX(this.movementVector.x*this.baseSpeed),this.sprite.setVelocityY(this.movementVector.y*this.baseSpeed))}pickPlayer(){const e=this.players.get("player1"),t=this.players.get("player2");if(!(e&&t&&e.sprite&&t.sprite))return;this.chasingPlayerId=Math.abs(e.sprite.x-this.sprite.x)>Math.abs(t.sprite.x-this.sprite.x)?"player2":"player1";const s=this.players.get(this.chasingPlayerId);s&&s.health<=0&&("player1"===this.chasingPlayerId?this.chasingPlayerId="player2":this.chasingPlayerId="player1")}die(){this.sprite.setVelocity(0),this.sprite.anims.play(`die-${this.id}`)}setWeakened(e){this.weakened=e,e?(this.sprite.anims.play(`black-to-white-${this.id}`),this.sprite.on("animationcomplete",e=>{e.key===`black-to-white-${this.id}`&&this.sprite.anims.play(`idle-white-${this.id}`)})):this.sprite.anims.play(`idle-black-${this.id}`)}update(){this.isDead||this.enemyMovement()}}class y{constructor(e,t){this.scene=e,this.players=t,this.camera=this.scene.cameras.main,this.camLeft=this.camera.scrollX,this.camRight=this.camera.scrollX+this.camera.width,this.margin=20}update(){this.camLeft=this.camera.scrollX,this.camRight=this.camera.scrollX+this.camera.width,this.players.get("player1").sprite.x=s().Math.Clamp(this.players.get("player1").sprite.x,this.camLeft+this.margin,this.camRight-this.margin),this.players.get("player2").sprite.x=s().Math.Clamp(this.players.get("player2").sprite.x,this.camLeft+this.margin,this.camRight-this.margin);const e=(this.players.get("player1").sprite.x+this.players.get("player2").sprite.x)/2,t=e-.5*this.camera.width,i=e+.5*this.camera.width,a=this.players.get("player1").sprite.x>t+this.margin&&this.players.get("player1").sprite.x<i-this.margin,n=this.players.get("player2").sprite.x>t+this.margin&&this.players.get("player2").sprite.x<i-this.margin;a&&n&&(this.camera.scrollX=Math.round(s().Math.Linear(this.camera.scrollX,e-this.camera.width/2,.1)))}}class m{constructor(e,t,s,i,a,n,r){this.scene=e,this.id=t,this.sprite=e.add.image(s,i,r),this.sprite.setOrigin(.5,.5),this.sprite.setDepth(10),this.sprite.setDisplaySize(a,n),e.physics.add.existing(this.sprite,!0),this.sprite.body.setSize(a,n),this.g=e.add.graphics(),this.g.fillStyle(0,0),this.g.fillRect(s-a/2,i-n/2,a-10,n-10),this.g.setDepth(0),this.setUpCollisions()}setUpCollisions(){this.scene.physics.add.existing(this.g,!0)}}class g{constructor(e,t,s,i,a,r=null){this.id=t,this.scene=e,this.gravity=s,this.baseHeight=.33,this.baseWidth=.33,this.baseSpeed=300,this.jumpForce=450,this.health=100,this.invulnerable=!1,this.xPos=i,this.yPos=a,this.isDead=!1,this.numDeaths=n.deaths,this.currentDirection="idle",this.currentAnim=null,this.animator=new d(this.scene,r)}preload(e,t){this.animator.preload(e,t)}create(){this.sprite=this.animator.assignSpriteToPlayer(this.xPos,this.yPos),this.animator.createAnimation(`idle-${this.id}`,0,3,4),this.animator.createAnimation(`walk-${this.id}`,4,7,5),this.animator.createAnimation(`jump-${this.id}`,8,8,4,0),this.animator.createAnimation(`air-${this.id}`,9,10,1,0),this.animator.createAnimation(`fall-${this.id}`,10,10,1,0),this.animator.createAnimation(`attack-${this.id}`,12,13,2,0),this.sprite.on("animationcomplete",e=>{e.key===`jump-${this.id}`&&(this.sprite.body.onFloor()||this.playAnim(`air-${this.id}`))}),this.sprite.on("animationupdate",e=>{e.key===`air-${this.id}`&&this.sprite.body.onFloor()&&this.playAnim(`fall-${this.id}`)}),this.sprite.setScale(this.baseWidth,this.baseHeight),this.sprite.setCollideWorldBounds(!0),this.sprite.body.allowGravity=!0,this.sprite.body.setGravityY(this.gravity),this.sprite.body.setSize(this.sprite.width-160,this.sprite.height-140),this.sprite.body.setOffset(75,135),this.sprite.setDepth(5),this.sprite.play(`idle-${this.id}`)}playAnim(e){this.currentAnim!==e&&(this.sprite.play(e,!0),this.currentAnim=e)}horizontalMove(e){this.health<=0||(this.currentDirection=e,this.sprite.flipX="left"===e,this.sprite.setVelocityX("left"===e?-this.baseSpeed:this.baseSpeed),this.sprite.body.onFloor()&&this.currentAnim!==`jump-${this.id}`&&this.currentAnim!==`attack-${this.id}`&&this.playAnim(`walk-${this.id}`))}jump(){this.canJump()&&(this.sprite.setVelocityY(-this.jumpForce),this.playAnim(`jump-${this.id}`))}idle(){this.sprite.setVelocityX(0),this.sprite.body.onFloor()&&this.currentAnim!==`jump-${this.id}`&&this.currentAnim!==`fall-${this.id}`&&this.currentAnim!==`attack-${this.id}`&&!this.isDead&&(this.playAnim(`idle-${this.id}`),this.currentDirection="idle")}getHit(e){if(!this.invulnerable){if(this.health-=e,this.invulnerable=!0,this.sprite.setTint(8421504),!this.checkAlive())return this.health=0,this.baseSpeed=0,this.sprite.setTint(0),this.sprite.anims.pause(),this.invulnerable=!1,this.isDead=!0,this.isAttacking=!1,this.numDeaths++,this.updateDeaths(),void n.updateClientDeaths(this.numDeaths);this.scene.time.delayedCall(2e3,()=>{this.invulnerable=!1})}}revive(){this.health=100,this.baseSpeed=300,this.isDead=!1,this.invulnerable=!1,this.sprite.clearTint(),this.sprite.anims.resume(),this.invulnerable=!0,this.isAttacking=!1,this.playAnim(`idle-${this.id}`),this.scene.time.delayedCall(1e3,()=>{this.invulnerable=!1})}checkAlive(){return this.health>0}canJump(){return this.sprite.body.onFloor()&&this.checkAlive()}attack(){}async updateDeaths(){await n.updateClientData({deaths:this.numDeaths})}}class f extends g{constructor(e,t,s,i,a,n=null){super(e,t,s,i,a,n),this.attackHitbox=null}create(){super.create(),this.attackHitbox=this.scene.physics.add.sprite(0,0,null).setSize(50,20).setVisible(!1).setImmovable(!0),this.isAttacking=!1,this.sprite.on("animationcomplete",e=>{e.key===`attack-${this.id}`&&(this.isAttacking=!1,this.playAnim(`idle-${this.id}`),this.attackHitbox.setPosition(-100,-100))}),this.sprite.on("animationupdate",e=>{e.key===`attack-${this.id}`&&this.updateHitbox()})}getHit(e){super.getHit(e),this.isAttacking=!1}updateHitbox(){const e=this.sprite.flipX?-20:20;this.attackHitbox.setPosition(this.sprite.x+e,this.sprite.y)}attack(){this.isAttacking||(this.updateHitbox(),this.isAttacking=!0,this.sprite.setVelocityX(0),this.playAnim(`attack-${this.id}`))}}class b{constructor(e,t,s,i,a){this.id=t,this.scene=e,this.player=s,this.radius=i,this.color=a,this.isOn=!1,this.canPerform=!0,this.colliderCircle=null}create(){this.colliderCircle=this.scene.add.circle(this.player.sprite.x,this.player.sprite.y,this.radius),this.scene.physics.add.existing(this.colliderCircle),this.colliderCircle.body.setCircle(this.radius),this.colliderCircle.body.setAllowGravity(!1),this.colliderCircle.body.setImmovable(!0),this.graphics=this.scene.add.graphics()}update(){const e=this.player.sprite.x,t=this.player.sprite.y;this.colliderCircle.setPosition(e,t),this.isOn?(this.graphics.clear(),this.graphics.fillStyle(this.color,.5),this.graphics.fillCircle(e,t,this.radius),this.graphics.setDepth(10)):this.graphics.clear()}perform(){this.canPerform&&(this.canPerform=!1,this.isOn=!0,this.scene.time.delayedCall(1e3,()=>{this.isOn=!1,this.graphics.clear()}),this.scene.time.delayedCall(3e3,()=>{this.canPerform=!0}))}destroy(){this.graphics.destroy(),this.colliderCircle.destroy()}}class S extends g{constructor(e,t,s,i,a,n=null){super(e,t,s,i,a,n),this.light=new b(this.scene,"light1",this,75,16777215),this.isAttacking=!1}create(){super.create(),this.light.create(),this.sprite.on("animationupdate",e=>{e.key===`attack-${this.id}`&&(this.light.update(),this.isAttacking=!0)}),this.sprite.on("animationcomplete",e=>{e.key===`attack-${this.id}`&&(this.isAttacking=!1,this.playAnim(`idle-${this.id}`))})}revive(){super.revive(),this.light.canPerform=!0}attack(){!this.isAttacking&&this.light.canPerform&&(this.light.perform(),this.playAnim(`attack-${this.id}`))}}class x extends s().Scene{constructor(e="GameScene"){super(e)}preload(){this.arthur.preload(300,400),this.lucy.preload(300,400),this.load.audio("ambient","assets/sound/ambient-theme.mp3"),this.load.image("fondo","assets/FondoHorizontal.png"),this.load.image("p1","assets/props/plataforma1.png"),this.load.image("suelo","assets/props/suelo.png"),this.load.image("p2","assets/props/plataforma2.png"),this.load.image("c1","assets/props/columna1.png"),this.load.image("lib","assets/props/libreria.png"),this.enemies.forEach(e=>e.preload())}init(){this.sound.stopAll(),this.commandProcessor=new c,this.players=new Map,this.enemies=new Map,this.platforms=new Map,this.isPaused=!1,this.inputManager=new p(this,this.scene,this.input,this.commandProcessor),this.arthur=new S(this,"player1",600,100,500,"spritesheet-arthur-reescalado-mitad"),this.lucy=new f(this,"player2",450,300,500,"spritesheet-lucy-reescalado-mitad"),this.enemy1=new u(this,"enemy1",400,100,this.players),this.enemy2=new u(this,"enemy2",1200,100,this.players),this.enemy3=new u(this,"enemy3",2e3,100,this.players),this.enemy4=new u(this,"enemy4",2800,100,this.players),this.enemy5=new u(this,"enemy5",3500,100,this.players),this.camera=new y(this,this.players),this.enemies.set(this.enemy1.id,this.enemy1),this.enemies.set(this.enemy2.id,this.enemy2),this.enemies.set(this.enemy3.id,this.enemy3),this.enemies.set(this.enemy4.id,this.enemy4),this.enemies.set(this.enemy5.id,this.enemy5)}create(){this.music=this.sound.add("ambient"),this.music.play(),this.music.setVolume(.25),this.fondo=this.add.tileSprite(0,0,8e3,2e3,"fondo").setOrigin(0,0).setScrollFactor(.2).setScale(.3),this.arthur.create(),this.lucy.create(),this.players.set("player1",this.arthur),this.players.set("player2",this.lucy),this.inputManager.players=this.players,this.commandProcessor.players=this.players,this.enemies.forEach(e=>{e.create()}),this.setUpWorldCollisions(),this.setUpEnemyCollisions(),this.setUpReviveCollision(),this.setUpLibraryCollision(),this.physics.world.setBounds(0,0,4175,600),this.camera.camera.setBounds(0,0,4175,600),this.camera.camera.setLerp(.1,.1),this.connectionListener=e=>{!e.connected&&this.scene.isActive()&&this.onConnectionLost()},a.addListener(this.connectionListener)}setUpReviveCollision(){this.physics.add.overlap(this.players.get("player1").sprite,this.players.get("player2").sprite,()=>{this.players.get("player1").health<=0&&this.players.get("player2").health>0?this.players.get("player1").revive():this.players.get("player2").health<=0&&this.players.get("player1").health>0&&this.players.get("player2").revive()})}setUpWorldCollisions(){this.suelo1=new m(this,"s1",2500,590,5e3,40,"suelo"),this.plat1=new m(this,"p1",200,450,200,30,"p1"),this.plat2=new m(this,"p2",450,300,200,30,"p1"),this.suelo2=new m(this,"s2",1200,550,500,200,"p2"),this.col1=new m(this,"c1",700,450,70,300,"c1"),this.col2=new m(this,"c2",2200,450,70,400,"c1"),this.plat3=new m(this,"p3",1800,450,150,30,"p1"),this.plat4=new m(this,"p4",1500,300,150,30,"p1"),this.plat5=new m(this,"p5",2e3,200,150,30,"p1"),this.suelo3=new m(this,"s3",2200,550,230,100,"p2"),this.suelo4=new m(this,"s4",2800,500,550,250,"p2"),this.plat6=new m(this,"p6",3150,250,150,30,"p1"),this.plat7=new m(this,"p7",3500,250,150,30,"p1"),this.plat8=new m(this,"p8",3150,450,150,30,"p1"),this.suelo5=new m(this,"s5",4001,450,350,350,"p2"),this.platforms.set("s1",this.suelo1),this.platforms.set("p1",this.plat1),this.platforms.set("p2",this.plat2),this.platforms.set("s2",this.suelo2),this.platforms.set("c1",this.col1),this.platforms.set("c2",this.col2),this.platforms.set("p3",this.plat3),this.platforms.set("p4",this.plat4),this.platforms.set("p5",this.plat5),this.platforms.set("s3",this.suelo3),this.platforms.set("s4",this.suelo4),this.platforms.set("s5",this.suelo5),this.platforms.set("p6",this.plat6),this.platforms.set("p7",this.plat7),this.platforms.set("p8",this.plat8),this.platforms.forEach(e=>{this.players.forEach(t=>{this.physics.add.collider(t.sprite,e.sprite)}),this.enemies.forEach(t=>{this.physics.add.collider(t.sprite,e.sprite)})})}setUpLibraryCollision(){this.libreria=new m(this,"lib",4e3,208,100,150,"lib"),this.libreria.sprite.setDepth(2),this.physics.add.overlap(this.libreria.sprite,this.arthur.sprite,()=>{this.scene.stop(),this.scene.start("EndScene")}),this.physics.add.overlap(this.libreria.sprite,this.lucy.sprite,()=>{this.scene.stop(),this.scene.start("EndScene")})}setUpEnemyCollisions(){this.enemies.forEach(e=>{this.physics.add.collider(e.sprite,this.players.get("player1").sprite,()=>{e&&this.players.get("player1").health>0&&(this.players.get("player1").getHit(50),this.checkPlayerStatus())}),this.physics.add.collider(e.sprite,this.players.get("player2").sprite,()=>{e&&this.players.get("player2").health>0&&(this.players.get("player2").getHit(50),this.checkPlayerStatus())}),this.physics.add.overlap(e.sprite,this.arthur.light.colliderCircle,()=>{this.arthur.light.isOn&&e&&(e.setWeakened(!0),this.time.delayedCall(4e3,()=>{e&&e.setWeakened(!1)}))}),this.physics.add.overlap(e.sprite,this.players.get("player2").attackHitbox,()=>{e?.weakened&&this.players.get("player2").isAttacking&&(e.die(),e.isDead=!0,e=null)})})}checkPlayerStatus(){this.players.get("player1").health<=0&&this.players.get("player2").health<=0&&(n.updateClientDeaths(n.deaths+1),this.scene.stop(),this.scene.start("GameScene"))}update(){this.fondo.tilePositionX=.2*this.cameras.main.scrollX,this.camera.update(),this.inputManager.update(),this.arthur.light.update(),this.enemies.forEach(e=>{e&&!e.isDead?e.update():this.enemies.delete(e.id)})}onConnectionLost(){this.scene.pause(),this.scene.launch("ConnectionLostScene",{previousScene:"GameScene"})}}class k extends s().Scene{constructor(){super("PauseScene")}create(e){this.input.keyboard.on("keydown-ESC",()=>{this.unpause(e.originalScene)}),this.add.rectangle(400,300,800,600,0,.7),this.add.text(400,100,"Menú de pausa",{fontSize:"48px",color:"#3e2606ff",backgroundColor:"#ffffff"}).setOrigin(.5);const t=this.add.text(400,250,"Continuar",{fontSize:"24px",color:"#3e2606ff",backgroundColor:"#ffffff"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerover",()=>t.setStyle({fill:"#00000037"})).on("pointerout",()=>t.setStyle({fill:"#000000"})).on("pointerdown",()=>{this.unpause(e.originalScene)}),s=this.sound.mute?"Activar Sonido":"Desactivar Sonido",i=this.add.text(400,400,s,{fontSize:"24px",color:"#3e2606ff",backgroundColor:"#ffffff"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerover",()=>i.setStyle({fill:"#00000037"})).on("pointerout",()=>i.setStyle({fill:"#000000"})).on("pointerdown",()=>{this.sound.mute=!this.sound.mute,i.setText(this.sound.mute?"Activar Sonido":"Desactivar Sonido")}),a=this.add.text(400,550,"Volver al Menu",{fontSize:"24px",color:"#3e2606ff",backgroundColor:"#ffffff"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerover",()=>a.setStyle({fill:"#00000037"})).on("pointerout",()=>a.setStyle({fill:"#000000"})).on("pointerdown",()=>{this.exitToMenu(e.originalScene)})}unpause(e){this.scene.stop(),this.scene.resume(e)}exitToMenu(e){this.scene.stop(e),this.sound.stopAll(),this.scene.start("MenuScene")}}class w extends s().Scene{constructor(){super("CreditsScene")}create(){this.add.text(400,100,"Juego desarrollado por:\n\nClaudia Porcuna: Interfaces y arte \nJavier Ruibal: Programación \nOscar Rodriguez: Arte y diseño \nMarcos Matutes: Programación \nFernando Pin: Sonido",{fontSize:"24px",color:"#ffffffff",align:"center"}).setOrigin(.5);const e=this.add.text(600,500,"Return",{fontSize:"24px",color:"#ffffffff",backgroundColor:"#000000ff"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerover",()=>e.setStyle({backgroundColor:"#737373ff"})).on("pointerout",()=>e.setStyle({backgroundColor:"#000000ff"})).on("pointerdown",()=>{this.scene.start("MenuScene")})}}class v{constructor(e,t,s,i,a=null,n){this.id=t,this.scene=e,this.xPos=s,this.yPos=i,this.currentAnim=null,this.isPlayer=n,this.animator=new d(e,a)}preload(e,t){this.animator.preload(e,t)}create(){this.sprite=this.animator.createSprite(this.xPos,this.yPos),this.isPlayer?(this.animator.createAnimation(`idle-${this.id}`,0,3,4),this.animator.createAnimation(`walk-${this.id}`,4,7,5),this.animator.createAnimation(`jump-${this.id}`,8,8,4,0),this.animator.createAnimation(`air-${this.id}`,9,10,1,0),this.animator.createAnimation(`fall-${this.id}`,10,10,1,0),this.animator.createAnimation(`attack-${this.id}`,12,13,2,0),this.sprite.setScale(.23)):(this.animator.createAnimation(`idle-${this.id}`,0,2,5),this.animator.createAnimation(`idle-white-${this.id}`,3,5,5),this.animator.createAnimation(`black-to-white-${this.id}`,6,8,8,0),this.animator.createAnimation(`white-to-black-${this.id}`,6,8,8,0),this.animator.createAnimation(`die-${this.id}`,9,11,8,0),this.sprite.setScale(.35)),this.sprite.setDepth(200),this.sprite.play(`idle-${this.id}`)}playAnim(e){this.currentAnim!==e&&(this.sprite.play(e,!0),this.currentAnim=e)}loopAnimationList(e,t=1e3){let s=0;this.scene.time.addEvent({delay:t,loop:!0,callback:()=>{this.playAnim(e[s]),s=(s+1)%e.length}})}}class C extends s().Scene{constructor(){super("IntroScene")}init(){this.arthur1=new v(this,"ca1",130,120,"spritesheet-arthur-reescalado-mitad",!0),this.arthur2=new v(this,"ca2",340,120,"spritesheet-arthur-reescalado-mitad",!0),this.arthur3=new v(this,"ca3",500,120,"spritesheet-arthur-reescalado-mitad",!0),this.arthur4=new v(this,"ca4",650,120,"spritesheet-arthur-reescalado-mitad",!0),this.lucy1=new v(this,"cl1",130,370,"spritesheet-lucy-reescalado-mitad",!0),this.lucy2=new v(this,"cl2",340,370,"spritesheet-lucy-reescalado-mitad",!0),this.lucy3=new v(this,"cl3",500,370,"spritesheet-lucy-reescalado-mitad",!0),this.lucy4=new v(this,"cl4",650,370,"spritesheet-lucy-reescalado-mitad",!0),this.puppets1=[this.arthur1,this.arthur2,this.arthur3,this.arthur4,this.lucy1,this.lucy2,this.lucy3,this.lucy4],this.enemy1=new v(this,"enemy1",300,90,"spritesheet-enemigo-reescalado-mitad",!1),this.enemy2=new v(this,"enemy2",600,90,"spritesheet-enemigo-reescalado-mitad",!1),this.enemy3=new v(this,"enemy3",300,340,"spritesheet-enemigo-reescalado-mitad",!1),this.enemy4=new v(this,"enemy4",600,340,"spritesheet-enemigo-reescalado-mitad",!1),this.puppets2=[this.enemy1,this.enemy2,this.enemy3,this.enemy4]}preload(){this.load.image("intro","assets/p1entrando.png"),this.load.image("intro2","assets/p1yp2.png"),this.load.image("controls","assets/ilustracionMecanicas.png"),this.load.image("combat","assets/ilustracionCombate.png"),this.load.image("mansion","assets/mansion.png"),this.load.image("lucyPeeking","assets/lucyPeeking.png"),this.puppets1.forEach(e=>e.preload(300,400)),this.puppets2.forEach(e=>e.preload(300,400))}create(){this.introText=["1953, Birmingham, Inglaterra, \nhace 27 años la familia Felton fue misteriosamente \nasesinada,\n nadie se ha atrevido a entrar en su mansión.","Hasta hoy. \n           \nArthur, dispuesto a resolver el caso\n se adentra en la sombría mansión.","Pero no está solo.\nAlgo le observa desde las sombras...\nO más bien,\nAlguien.","La fantasma resultó ser extrañamente amigable,\nOfreciéndose como guía y protectora\n en su investigacíon por la mansión."," "," "],this.textIndex=0,this.inProgress=!1,this.introImage0=this.add.image(400,200,"mansion"),this.introImage1=this.add.image(400,200,"intro"),this.introImageL=this.add.image(400,200,"lucyPeeking"),this.introImage2=this.add.image(400,200,"intro2"),this.controlsImage=this.add.image(400,270,"controls"),this.combatImage=this.add.image(400,270,"combat"),this.controlsImage.setScale(.9),this.combatImage.setScale(.9),this.cutsceneImages=[this.introImage1,this.introImageL,this.introImage2,this.controlsImage,this.combatImage],this.cutsceneImages.forEach(e=>e.setVisible(!1)),this.arthur1.create(),this.arthur1.playAnim("walk-ca1"),this.arthur1.sprite.flipX=!0,this.arthur2.create(),this.arthur2.playAnim("walk-ca2"),this.arthur2.sprite.flipX=!1,this.arthur3.create(),this.arthur3.loopAnimationList(["jump-ca3","air-ca3","fall-ca3"],300),this.arthur4.create(),this.arthur4.loopAnimationList(["idle-ca4","attack-ca4"],500),this.lucy1.create(),this.lucy1.playAnim("walk-cl1"),this.lucy1.sprite.flipX=!0,this.lucy2.create(),this.lucy2.playAnim("walk-cl2"),this.lucy2.sprite.flipX=!1,this.lucy3.create(),this.lucy3.loopAnimationList(["jump-cl3","air-cl3","fall-cl3"],300),this.lucy4.create(),this.lucy4.loopAnimationList(["idle-cl4","attack-cl4"],500),this.puppets1.forEach(e=>e.sprite.setVisible(!1)),this.enemy1.create(),this.enemy1.playAnim("idle-enemy1"),this.enemy2.create(),this.enemy2.playAnim("idle-white-enemy2"),this.enemy3.create(),this.enemy3.playAnim("idle-white-enemy3"),this.enemy4.create(),this.enemy4.loopAnimationList(["white-to-black-enemy4","die-enemy4"],500),this.puppets2.forEach(e=>e.sprite.setVisible(!1));const e=this.add.text(700,550,"Siguiente",{fontSize:"20px",color:"#ffffffff",backgroundColor:"#00000000"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerover",()=>e.setStyle({backgroundColor:"#737373ff"})).on("pointerout",()=>e.setStyle({backgroundColor:"#000000ff"})).on("pointerdown",()=>{switch(this.inProgress||this.nextText(),this.textIndex){case 1:this.introImage0.setVisible(!1),this.introImage1.setVisible(!0);break;case 2:this.introImage1.setVisible(!1),this.introImageL.setVisible(!0);break;case 3:this.introImageL.setVisible(!1),this.introImage2.setVisible(!0);break;case 4:this.introImage2.setVisible(!1),this.controlsImage.setVisible(!0),this.puppets1.forEach(e=>e.sprite.setVisible(!0));break;case 5:this.controlsImage.setVisible(!1),this.combatImage.setVisible(!0),this.puppets1.forEach(e=>e.sprite.setVisible(!1)),this.arthur4.sprite.setVisible(!0),this.arthur4.sprite.x=150,this.arthur4.sprite.y=100,this.lucy4.sprite.setVisible(!0),this.lucy4.sprite.x=150,this.lucy4.sprite.y=330,this.puppets2.forEach(e=>e.sprite.setVisible(!0));break;default:this.cutsceneImages.forEach(e=>e.setVisible(!1))}});this.text=this.add.text(400,460,"",{fontSize:"24px",color:"#ffffffff",align:"center"}).setOrigin(.5);const t=this.add.text(100,550,"Saltar",{fontSize:"20px",color:"#ffffffff",backgroundColor:"#00000000"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerover",()=>t.setStyle({backgroundColor:"#737373ff"})).on("pointerout",()=>t.setStyle({backgroundColor:"#000000ff"})).on("pointerdown",()=>{this.scene.start("GameScene")});this.showText()}showText(){this.textIndex<this.introText.length?this.textIn(this.introText[this.textIndex]):this.scene.start("GameScene")}textIn(e){this.inProgress=!0;let t=0;const s=()=>{t<e.length?(this.text.setText(e.substring(0,t+1)),t++,this.time.delayedCall(75,s)):this.inProgress=!1};s()}nextText(){this.textIndex++,this.showText()}}class I extends s().Scene{constructor(){super("EndScene")}preload(){this.load.image("p1","assets/p1p2foto.png"),this.load.image("p2","assets/p1p2Partido.png"),this.load.image("p3","assets/p1p2yfantasma.png"),this.load.image("p4","assets/p1p2eSCAPANDO.png")}create(){this.introText=["Arthur y Lucy hallan una vieja foto entre los \n polvorientos libros de la estantería.","De pronto, todo encaja en la mente de Arthur.\nSu obsesión sin sentido con el caso\n y la conexión con Lucy...\nella es...","Sin embargo, no hay tiempo para reflexiones.","Deben huir."],this.textIndex=0,this.inProgress=!1,this.endImage1=this.add.image(400,200,"p1"),this.endImage2=this.add.image(400,200,"p2"),this.endImage3=this.add.image(400,200,"p3"),this.endImage4=this.add.image(400,200,"p4"),this.endImages=[this.endImage2,this.endImage3,this.endImage4],this.endImages.forEach(e=>e.setVisible(!1));const e=this.add.text(700,550,"Siguiente",{fontSize:"20px",color:"#ffffffff",backgroundColor:"#000000ff"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerover",()=>e.setStyle({backgroundColor:"#737373ff"})).on("pointerout",()=>e.setStyle({backgroundColor:"#000000ff"})).on("pointerdown",()=>{switch(this.inProgress?this.game.events.emit("RequestScoreBoard"):this.nextText(),this.textIndex){case 1:this.endImage1.setVisible(!1),this.endImage2.setVisible(!0);break;case 2:this.endImage2.setVisible(!1),this.endImage3.setVisible(!0);break;case 3:this.endImage3.setVisible(!1),this.endImage4.setVisible(!0);break;case 4:this.endImage4.setVisible(!1)}});this.texto=this.add.text(400,460,"",{fontSize:"24px",color:"#ffffffff",align:"center"}).setOrigin(.5);const t=this.add.text(100,550,"Saltar",{fontSize:"20px",color:"#ffffffff",backgroundColor:"#00000000"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerover",()=>t.setStyle({backgroundColor:"#737373ff"})).on("pointerout",()=>t.setStyle({backgroundColor:"#000000ff"})).on("pointerdown",()=>{this.scene.start("ScoreBoardScene")});this.showText()}showText(){this.textIndex<this.introText.length?this.textIn(this.introText[this.textIndex]):this.scene.start("ScoreBoardScene")}textIn(e){this.inProgress=!0;let t=0;const s=()=>{t<e.length?(this.texto.setText(e.substring(0,t+1)),t++,this.time.delayedCall(75,s)):this.inProgress=!1};s()}nextText(){this.textIndex++,this.showText()}}class P extends s().Scene{constructor(){super("GameScene2")}preload(){this.arthur.preload(600,800),this.lucy.preload(600,800),this.load.audio("ambient","assets/sound/ambient-theme.mp3"),this.load.image("fondo","assets/FondoHorizontal.png"),this.load.image("p1","assets/props/plataforma1.png"),this.load.image("suelo","assets/props/suelo.png"),this.load.image("p2","assets/props/plataforma2.png"),this.load.image("c1","assets/props/columna1.png"),this.load.image("lib","assets/props/libreria.png"),this.enemies.forEach(e=>e.preload())}init(){this.sound.stopAll(),this.commandProcessor=new c,this.players=new Map,this.enemies=new Map,this.platforms=new Map,this.isPaused=!1,this.inputManager=new p(this,this.scene,this.input,this.commandProcessor),this.arthur=new S(this,"player1",600,100,500,"spritesheet-arthur"),this.lucy=new f(this,"player2",450,300,500,"spritesheet-lucy"),this.camera=new y(this,this.players)}create(){this.music=this.sound.add("ambient"),this.music.play(),this.music.setVolume(.25),this.fondo=this.add.tileSprite(0,0,8e3,2e3,"fondo").setOrigin(0,0).setScrollFactor(.2).setScale(.3),this.arthur.create(),this.lucy.create(),this.players.set("player1",this.arthur),this.players.set("player2",this.lucy),this.inputManager.players=this.players,this.enemies.forEach(e=>{e.create()}),this.setUpWorldCollisions(),this.setUpEnemyCollisions(),this.setUpReviveCollision(),this.physics.world.setBounds(0,0,4175,600),this.camera.camera.setBounds(0,0,4175,600),this.camera.camera.setLerp(.1,.1)}setUpReviveCollision(){this.physics.add.overlap(this.players.get("player1").sprite,this.players.get("player2").sprite,()=>{this.players.get("player1").health<=0&&this.players.get("player2").health>0?this.players.get("player1").revive():this.players.get("player2").health<=0&&this.players.get("player1").health>0&&this.players.get("player2").revive()})}setUpWorldCollisions(){this.suelo1=new m(this,"s1",2500,590,5e3,40,"suelo"),this.platforms.set("s1",this.suelo1),this.platforms.forEach(e=>{this.players.forEach(t=>{this.physics.add.collider(t.sprite,e.sprite)}),this.enemies.forEach(t=>{this.physics.add.collider(t.sprite,e.sprite)})})}setUpEnemyCollisions(){this.enemies.forEach(e=>{this.physics.add.collider(e.sprite,this.players.get("player1").sprite,()=>{e&&this.players.get("player1").health>0&&(this.players.get("player1").getHit(50),this.checkPlayerStatus())}),this.physics.add.collider(e.sprite,this.players.get("player2").sprite,()=>{e&&this.players.get("player2").health>0&&(this.players.get("player2").getHit(50),this.checkPlayerStatus())}),this.physics.add.overlap(e.sprite,this.arthur.light.colliderCircle,()=>{this.arthur.light.isOn&&e&&(e.setWeakened(!0),this.time.delayedCall(4e3,()=>{e&&e.setWeakened(!1)}))}),this.physics.add.overlap(e.sprite,this.players.get("player2").attackHitbox,()=>{e?.weakened&&this.players.get("player2").isAttacking&&(e.die(),e.isDead=!0,e=null)})})}checkPlayerStatus(){this.players.get("player1").health<=0&&this.players.get("player2").health<=0&&(this.scene.stop(),this.scene.start("GameScene"))}update(){this.fondo.tilePositionX=.2*this.cameras.main.scrollX,this.camera.update(),this.inputManager.update(),this.arthur.light.update(),this.enemies.forEach(e=>{e&&!e.isDead?e.update():this.enemies.delete(e.id)})}}class M extends s().Scene{constructor(){super("ConnectionLostScene"),this.reconnectCheckInterval=null}init(e){this.previousScene=e.previousScene}create(){this.add.rectangle(400,300,800,600,0,.8),this.add.text(400,200,"CONEXIÓN PERDIDA",{fontSize:"48px",color:"#ff0000",fontStyle:"bold"}).setOrigin(.5),this.statusText=this.add.text(400,300,"Intentando reconectar...",{fontSize:"24px",color:"#ffff00"}).setOrigin(.5),this.attemptCount=0,this.attemptText=this.add.text(400,350,"Intentos: 0",{fontSize:"18px",color:"#ffffff"}).setOrigin(.5),this.dotCount=0,this.time.addEvent({delay:2e3,callback:()=>{this.dotCount=(this.dotCount+1)%4;const e=".".repeat(this.dotCount);this.statusText.setText(`Intentando reconectar${e}`)},loop:!0}),this.connectionListener=e=>{e.connected&&this.onReconnected()},a.addListener(this.connectionListener),this.reconnectCheckInterval=setInterval(()=>{this.attemptReconnect()},2e3),this.attemptReconnect()}async attemptReconnect(){if(this.attemptCount++,this.attemptCount>30)return this.statusText.setText("No se pudo establecer la conexión"),void this.statusText.setColor("#ff0000");this.attemptText.setText(`Intentos: ${this.attemptCount}`),await a.checkConnection()}onReconnected(){this.reconnectCheckInterval&&clearInterval(this.reconnectCheckInterval),a.removeListener(this.connectionListener),this.statusText.setText("¡Conexión restablecida!"),this.statusText.setColor("#00ff00"),this.time.delayedCall(1e3,()=>{this.scene.stop(),this.previousScene&&this.scene.resume(this.previousScene)})}shutdown(){this.reconnectCheckInterval&&clearInterval(this.reconnectCheckInterval),this.connectionListener&&a.removeListener(this.connectionListener)}}class A extends s().Scene{constructor(){super("LoginScene")}preload(){this.load.html("login","assets/html/form.html")}create(){const e=this.add.text(400,52,"Login",{fontSize:"32px",fill:"#fff"}),t=this.add.dom(400,300).createFromCache("login");t.setPerspective(800),t.addListener("click"),t.on("click",async s=>{if(s.preventDefault(),"loginButton"===s.target.name){const s=t.getChildByName("username").value;console.log(s),""!==s&&(console.log("Trying to log in"),n.name=s,201===await n.postLogin()?(t.removeListener("click"),e.setText("Login successful"),this.scene.start("MenuScene")):e.setText("Login failed"))}})}}class O extends Phaser.Scene{constructor(){super("MatchMakingScene"),this.ws=null}preload(){this.load.image("matchMaking","assets/menus/pantalla-matchmaking.jpg")}create(){const e=this.cameras.main.width,t=this.cameras.main.height;this.add.image(e/2,t/2,"matchMaking").setOrigin(.5),this.statusText=this.add.text(e/2,t/2-50,"Conectando...",{fontFamily:"LinLibertine",fontSize:"24px",color:"#ffffffff",backgroundColor:"#000000ff"}).setOrigin(.5),this.playerCountText=this.add.text(e/2,t/2+20,"",{fontFamily:"LinLibertine",fontSize:"20px",color:"#ffffffff",backgroundColor:"#000000ff"}).setOrigin(.5);const s=this.add.text(e/2,t-100,"Cancel",{fontFamily:"LinLibertine",fontSize:"24px",color:"#ff6666ff",backgroundColor:"#000000ff",padding:{x:20,y:10}}).setOrigin(.5).setInteractive();s.on("pointerover",()=>{s.setColor("#ff0000ff")}),s.on("pointerout",()=>{s.setColor("#ff6666ff")}),s.on("pointerdown",()=>{this.leaveQueue(),this.scene.start("MenuScene")}),this.connectToServer()}connectToServer(){try{const e=`ws://${window.location.host}`;this.ws=new WebSocket(e),this.ws.onopen=()=>{console.log("Connecting to WebSocket server"),this.statusText.setText("Esperando oponente..."),this.ws.send(JSON.stringify({type:"joinQueue"}))},this.ws.onmessage=e=>{try{const t=JSON.parse(e.data);this.handleServerMessage(t)}catch(e){console.error("Error parsing server message:",e)}},this.ws.onerror=e=>{console.error("Error de WebSocket:",e),this.statusText.setText("Error de WebSocket!"),this.statusText.setColor("#ff0000ff")},this.ws.onclose=()=>{console.log("WebSocket connection closed"),this.scene.isActive("LobbyScene")&&(this.statusText.setText("Conexión perdida!"),this.statusText.setColor("#ff0000ff"))}}catch(e){console.error("Error connecting to server:",e),this.statusText.setText("Error al conectar!"),this.statusText.setColor("#ff0000ff")}}handleServerMessage(e){switch(e.type){case"queueStatus":this.playerCountText.setText(`Jugadores en cola: ${e.position}/2`);break;case"gameStart":console.log("Game starting!",e),this.scene.start("MultiplayerScene",{ws:this.ws,playerRole:e.role,roomId:e.roomId});break;default:console.log("Unknown message type:",e.type)}}leaveQueue(){this.ws&&this.ws.readyState===WebSocket.OPEN&&(this.ws.send(JSON.stringify({type:"leaveQueue"})),this.ws.close())}shutdown(){this.leaveQueue()}}class T extends s().Scene{constructor(){super("ScoreBoardScene")}preload(){this.load.image("p1","assets/p1p2eSCAPANDO.png")}create(e){this.add.image(400,200,"p1"),this.add.text(400,100,"SCOREBOARD",{fontSize:"48px",color:"#ffff00",fontFamily:"LinLibertine"}).setOrigin(.5),this.deathsText=this.add.text(400,200,"Muertes: Cargando... ",{fontSize:"18px",color:"#ffff00"}).setOrigin(.5),n.getClientDeaths().then(e=>{console.log("Received deaths:",e),null!=e?this.deathsText.setText("Muertes: "+e):this.deathsText.setText("Muertes: Error")}).catch(e=>{console.error("Error fetching deaths:",e),this.deathsText.setText("Muertes: Error")})}}const D={type:s().AUTO,width:800,height:600,parent:"game-container",physics:{default:"arcade",arcade:{gravity:{x:0,y:1},debug:!0,debugShowBody:!0,debugShowStaticBody:!1}},dom:{createContainer:!0},scene:[A,r,O,w,i,C,x,class extends x{constructor(){super("MultiplayerScene"),this.loaded=!1}preload(){super.preload()}init(e){super.init(),this.ws=e.ws,this.playerRole=e.playerRole,this.roomId=e.roomId,this.localPlayer=null,this.remotePlayer=null,this.clientDataManager=n,this.setupWebSocketListeners()}create(){this.setUpPlayers(),super.create(),this.inputManager.setWebSocket(this.ws),this.inputManager.setLocalPlayerRole(this.playerRole),this.inputManager.setUpInputs(),this.game.events.on("RequestScoreBoard",()=>{this.sendMessage({type:"RequestScoreBoard"})}),this.sendMessage({type:"Loaded"})}update(){this.loaded&&(this.fondo.tilePositionX=.2*this.cameras.main.scrollX,this.camera.update(),this.inputManager.update(),this.arthur.light.update(),"player"===this.playerRole&&this.enemies.forEach(e=>{e&&!e.isDead?(e.update(),this.sendMessage({type:"EnemyMovment",enemyId:e.id,movementVector:e.movementVector,chasingPlayerId:e.chasingPlayerId,x:e.sprite.x,y:e.sprite.y})):this.enemies.delete(e.id)}))}setUpPlayers(){"player1"===this.playerRole?(this.localPlayer=this.arthur,this.remotePlayer=this.lucy):(this.localPlayer=this.lucy,this.remotePlayer=this.arthur),console.log("Local player:",this.localPlayer),console.log("Remote player:",this.remotePlayer)}setupWebSocketListeners(){this.ws.onmessage=e=>{try{const t=JSON.parse(e.data);this.handleServerMessage(t)}catch(e){console.error("Error parsing server message:",e)}},this.ws.onclose=()=>{console.log("WebSocket connection closed"),this.handleDisconnection()},this.ws.onerror=e=>{console.error("WebSocket error:",e),this.handleDisconnection()}}handleServerMessage(e){switch(e.type){case"PlayerMovmentInputCommand":this.inputManager.updateRemotePlayerPosition(e);break;case"PlayerAttackCommand":console.log("MultiplayerScene received msg:",e),this.inputManager.updateRemotePlayerAttack(e);break;case"PlayerHit":console.log("MultiplayerScene received msg:",e),this.updateRemotePlayerHit(e);break;case"EnemyMovment":this.recieveEnemyMovment(e);break;case"playerDisconnected":this.handleDisconnection();break;case"Loaded":this.loaded=!0;break;case"PlayerDied":case"PlayerDied":this.players[e.playerId].deaths++;break;case"GameOver":this.handleGameOver();break;case"PlayersWin":this.scene.stop(),this.scene.start("EndScene");break;case"ScoreBoard":this.scene.stop(),this.scene.start("ScoreBoardScene",{scoreboard:e.data});break;case"Restart":this.handleRestart();break;default:console.log("Unknown message type:",e.type)}}recieveEnemyMovment(e){this.enemies.forEach(t=>{t.id===e.enemyId&&t.receiveEnemyMovment(e.movementVector,e.chasingPlayerId,e.x,e.y)})}setUpEnemyCollisions(){this.enemies.forEach(e=>{this.physics.add.overlap(e.sprite,this.localPlayer.sprite,()=>{if(e&&this.localPlayer.health>0){let e=50;this.localPlayer.getHit(e),this.checkPlayerStatus(),this.sendMessage({type:"PlayerHit",damage:e,playerId:this.playerRole})}}),this.physics.add.overlap(e.sprite,this.remotePlayer.sprite),this.physics.add.overlap(e.sprite,this.arthur.light.colliderCircle,()=>{this.arthur.light.isOn&&e&&(e.setWeakened(!0),this.time.delayedCall(4e3,()=>{e&&e.setWeakened(!1)}))}),this.physics.add.overlap(e.sprite,this.lucy.attackHitbox,()=>{e?.weakened&&this.lucy.isAttacking&&(e.die(),e.isDead=!0,e=null)})})}setUpLibraryCollision(){this.libreria=new m(this,"lib",4e3,208,100,150,"lib"),this.libreria.sprite.setDepth(2),this.physics.add.overlap(this.libreria.sprite,this.localPlayer.sprite,()=>{this.sendMessage({type:"PlayersWin"}),this.scene.stop(),this.scene.start("EndScene")})}updateRemotePlayerHit(e){this.players.get(e.playerId).getHit(e.damage),this.checkPlayerStatus()}checkPlayerStatus(){this.players.forEach(async(e,t)=>{if(e.health<=0&&!e.isDead){e.isDead=!0;let s=await this.clientDataManager.getClientDeaths();await this.clientDataManager.updateClientDeaths(s+1),this.sendMessage({type:"PlayerDied",playerId:t})}}),this.players.get("player1").health<=0&&this.players.get("player2").health<=0&&this.sendMessage({type:"GameOver"})}handleDisconnection(){this.gameEnded=!0,this.physics.pause(),this.add.text(400,250,"Partner Disconnected",{fontSize:"48px",color:"#ff0000"}).setOrigin(.5).setScrollFactor(0),this.createMenuButton()}handleGameOver(){this.gameEnded=!0,this.physics.pause(),this.add.text(400,250,"Game Over",{fontSize:"48px",color:"#ff0000"}).setOrigin(.5).setScrollFactor(0),this.createMenuButton(),this.createRetryButton()}createRetryButton(){const e=this.add.text(400,350,"Retry",{fontSize:"32px",color:"#ffffff"}).setOrigin(.5).setScrollFactor(0).setInteractive({useHandCursor:!0}).on("pointerover",()=>e.setColor("#cccccc")).on("pointerout",()=>e.setColor("#ffffff")).on("pointerdown",()=>{this.ws&&this.ws.readyState===WebSocket.OPEN&&this.sendMessage({type:"Restart"})})}createMenuButton(){const e=this.add.text(400,400,"Return to Main Menu",{fontSize:"32px",color:"#ffffff"}).setOrigin(.5).setScrollFactor(0).setInteractive({useHandCursor:!0}).on("pointerover",()=>e.setColor("#cccccc")).on("pointerout",()=>e.setColor("#ffffff")).on("pointerdown",()=>{this.ws&&this.ws.readyState===WebSocket.OPEN&&(this.sendMessage({type:"PlayerDisconnected"}),this.ws.close()),this.scene.start("MenuScene")})}handleRestart(){this.scene.start("MultiplayerScene")}sendMessage(e){this.ws&&this.ws.readyState===WebSocket.OPEN&&this.ws.send(JSON.stringify(e))}shutdown(){this.ws&&this.ws.readyState===WebSocket.OPEN&&this.ws.close()}},k,I,P,M,T],backgroundColor:"#360246ff"};new(s().Game)(D)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUd1QyxLQUFLM0ksS0FBS0MsVUFBVWpELEdBRXBDLENBRUEsUUFBQXFILEdBQ1F6SCxLQUFLd0osSUFBTXhKLEtBQUt3SixHQUFHbUMsYUFBZUMsVUFBVUMsTUFDNUM3TCxLQUFLd0osR0FBR3BELE9BRWhCLEdEcFZzSDJRLEVBQVk0QyxFQUFVVyxFQUFZQyxFQUFxQnNDLEdBQzdLN2IsZ0JBQWlCLGFBR1IsSUFBSSxVQUFZeUosRSIsInNvdXJjZXMiOlsid2VicGFjazovL2JtY29uZmlkZW5jaWFsL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL2JtY29uZmlkZW5jaWFsL3dlYnBhY2svcnVudGltZS9jb21wYXQgZ2V0IGRlZmF1bHQgZXhwb3J0Iiwid2VicGFjazovL2JtY29uZmlkZW5jaWFsL3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly9ibWNvbmZpZGVuY2lhbC93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL2JtY29uZmlkZW5jaWFsL2V4dGVybmFsIHZhciBcIlBoYXNlclwiIiwid2VicGFjazovL2JtY29uZmlkZW5jaWFsLy4vc3JjL2NsaWVudC9zY2VuZS9PcHRpb25zU2NlbmUuanMiLCJ3ZWJwYWNrOi8vYm1jb25maWRlbmNpYWwvLi9zcmMvY2xpZW50L3NlcnZpY2VzL0Nvbm5lY3Rpb25NYW5hZ2VyLmpzIiwid2VicGFjazovL2JtY29uZmlkZW5jaWFsLy4vc3JjL2NsaWVudC9zZXJ2aWNlcy9jbGllbnREYXRhTWFuYWdlci5qcyIsIndlYnBhY2s6Ly9ibWNvbmZpZGVuY2lhbC8uL3NyYy9jbGllbnQvc2NlbmUvTWVudVNjZW5lLmpzIiwid2VicGFjazovL2JtY29uZmlkZW5jaWFsLy4vc3JjL2NsaWVudC9jb21tYW5kLXBhdHRlcm4vQ29tbWFuZC5qcyIsIndlYnBhY2s6Ly9ibWNvbmZpZGVuY2lhbC8uL3NyYy9jbGllbnQvY29tbWFuZC1wYXR0ZXJuL1BsYXllck1vdm1lbnRJbnB1dENvbW1hbmQuanMiLCJ3ZWJwYWNrOi8vYm1jb25maWRlbmNpYWwvLi9zcmMvY2xpZW50L2NvbW1hbmQtcGF0dGVybi9QbGF5ZXJBdHRhY2tDb21tYW5kLmpzIiwid2VicGFjazovL2JtY29uZmlkZW5jaWFsLy4vc3JjL2NsaWVudC9jb21tYW5kLXBhdHRlcm4vQ29tbWFuZFByb2Nlc3Nvci5qcyIsIndlYnBhY2s6Ly9ibWNvbmZpZGVuY2lhbC8uL3NyYy9jbGllbnQvaGFuZGxlcnMvSW5wdXRNYW5hZ2VyLmpzIiwid2VicGFjazovL2JtY29uZmlkZW5jaWFsLy4vc3JjL2NsaWVudC9jb21wb25lbnRzL0FuaW1hdG9yLmpzIiwid2VicGFjazovL2JtY29uZmlkZW5jaWFsLy4vc3JjL2NsaWVudC9lbnRpdGllcy9FbmVteS5qcyIsIndlYnBhY2s6Ly9ibWNvbmZpZGVuY2lhbC8uL3NyYy9jbGllbnQvY29tcG9uZW50cy9DYW1lcmEuanMiLCJ3ZWJwYWNrOi8vYm1jb25maWRlbmNpYWwvLi9zcmMvY2xpZW50L2VudGl0aWVzL1BsYXRmb3JtLmpzIiwid2VicGFjazovL2JtY29uZmlkZW5jaWFsLy4vc3JjL2NsaWVudC9lbnRpdGllcy9QbGF5ZXIuanMiLCJ3ZWJwYWNrOi8vYm1jb25maWRlbmNpYWwvLi9zcmMvY2xpZW50L2VudGl0aWVzL0x1Y3kuanMiLCJ3ZWJwYWNrOi8vYm1jb25maWRlbmNpYWwvLi9zcmMvY2xpZW50L2VudGl0aWVzL0xpZ2h0LmpzIiwid2VicGFjazovL2JtY29uZmlkZW5jaWFsLy4vc3JjL2NsaWVudC9lbnRpdGllcy9BcnRodXIuanMiLCJ3ZWJwYWNrOi8vYm1jb25maWRlbmNpYWwvLi9zcmMvY2xpZW50L3NjZW5lL0dhbWVTY2VuZS5qcyIsIndlYnBhY2s6Ly9ibWNvbmZpZGVuY2lhbC8uL3NyYy9jbGllbnQvc2NlbmUvUGF1c2VTY2VuZS5qcyIsIndlYnBhY2s6Ly9ibWNvbmZpZGVuY2lhbC8uL3NyYy9jbGllbnQvc2NlbmUvQ3JlZGl0c1NjZW5lLmpzIiwid2VicGFjazovL2JtY29uZmlkZW5jaWFsLy4vc3JjL2NsaWVudC9lbnRpdGllcy9QdXBwZXQuanMiLCJ3ZWJwYWNrOi8vYm1jb25maWRlbmNpYWwvLi9zcmMvY2xpZW50L3NjZW5lL0ludHJvU2NlbmUuanMiLCJ3ZWJwYWNrOi8vYm1jb25maWRlbmNpYWwvLi9zcmMvY2xpZW50L3NjZW5lL0VuZFNjZW5lLmpzIiwid2VicGFjazovL2JtY29uZmlkZW5jaWFsLy4vc3JjL2NsaWVudC9zY2VuZS9HYW1lU2NlbmUyLmpzIiwid2VicGFjazovL2JtY29uZmlkZW5jaWFsLy4vc3JjL2NsaWVudC9zY2VuZS9Db25uZWN0aW9uTG9zdFNjZW5lLmpzIiwid2VicGFjazovL2JtY29uZmlkZW5jaWFsLy4vc3JjL2NsaWVudC9zY2VuZS9Mb2dpblNjZW5lLmpzIiwid2VicGFjazovL2JtY29uZmlkZW5jaWFsLy4vc3JjL2NsaWVudC9zY2VuZS9NYXRjaE1ha2luZ1NjZW5lLmpzIiwid2VicGFjazovL2JtY29uZmlkZW5jaWFsLy4vc3JjL2NsaWVudC9zY2VuZS9TY29yZUJvYXJkU2NlbmUuanMiLCJ3ZWJwYWNrOi8vYm1jb25maWRlbmNpYWwvLi9zcmMvY2xpZW50L21haW4uanMiLCJ3ZWJwYWNrOi8vYm1jb25maWRlbmNpYWwvLi9zcmMvY2xpZW50L3NjZW5lL011bHRpcGxheWVyU2NlbmUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gVGhlIHJlcXVpcmUgc2NvcGVcbnZhciBfX3dlYnBhY2tfcmVxdWlyZV9fID0ge307XG5cbiIsIi8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSAobW9kdWxlKSA9PiB7XG5cdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuXHRcdCgpID0+IChtb2R1bGVbJ2RlZmF1bHQnXSkgOlxuXHRcdCgpID0+IChtb2R1bGUpO1xuXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCB7IGE6IGdldHRlciB9KTtcblx0cmV0dXJuIGdldHRlcjtcbn07IiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gKG9iaiwgcHJvcCkgPT4gKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApKSIsImNvbnN0IF9fV0VCUEFDS19OQU1FU1BBQ0VfT0JKRUNUX18gPSBQaGFzZXI7IiwiaW1wb3J0IFBoYXNlciBmcm9tIFwicGhhc2VyXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgT3B0aW9uc1NjZW5lIGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCdPcHRpb25zU2NlbmUnKTtcclxuICAgIH1cclxuXHJcbiAgICBwcmVsb2FkKCkge1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYmFja2dyb3VuZCcsICdhc3NldHMvbWVudS1pbmljaW8tZm9uZG8ucG5nJyk7XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlKGRhdGEpIHtcclxuICAgICAgICAvL1BhbmVsIG9zY3Vyb1xyXG4gICAgICAgIHRoaXMuYWRkLnJlY3RhbmdsZSg0MDAsIDMwMCwgODAwLCA2MDAsIDB4MDAwMDAwKS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgLy8gVGl0bGVcclxuICAgICAgICB0aGlzLmFkZC50ZXh0KDQwMCwgMTAwLCAnT3BjaW9uZXMnLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnNDhweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmZmZmZmZmJyxcclxuICAgICAgICAgICAgZm9udFN0eWxlOiAnYm9sZCdcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgLy9ib3RvbiBkZSBzb25pZG9cclxuICAgICAgICBjb25zdCB2b2x1bWVUZXh0ID0gdGhpcy5zb3VuZC5tdXRlID8gJ0FjdGl2YXIgU29uaWRvJyA6ICdEZXNhY3RpdmFyIFNvbmlkbyc7XHJcbiAgICAgICAgY29uc3Qgdm9sdW1lQnRuID0gdGhpcy5hZGQudGV4dCg0MDAsIDMwMCwgdm9sdW1lVGV4dCwge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzMycHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmZmZmZicsXHJcbiAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogJyMwMDAwMDBmZicsXHJcbiAgICAgICAgICAgIHBhZGRpbmc6IHsgeDogMjAsIHk6IDEwIH1cclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pO1xyXG5cclxuICAgICAgICB2b2x1bWVCdG4ub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4gdm9sdW1lQnRuLnNldFN0eWxlKHsgYmFja2dyb3VuZENvbG9yOiAnIzczNzM3M2ZmJyB9KSlcclxuICAgICAgICAgICAgLm9uKCdwb2ludGVyb3V0JywgKCkgPT4gdm9sdW1lQnRuLnNldFN0eWxlKHsgYmFja2dyb3VuZENvbG9yOiAnIzAwMDAwMGZmJyB9KSlcclxuICAgICAgICAgICAgLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc291bmQubXV0ZSA9ICF0aGlzLnNvdW5kLm11dGU7XHJcbiAgICAgICAgICAgICAgICB2b2x1bWVCdG4uc2V0VGV4dCh0aGlzLnNvdW5kLm11dGUgPyAnQWN0aXZhciBTb25pZG8nIDogJ0Rlc2FjdGl2YXIgU29uaWRvJyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvL2JvdG9uIGRlIHZvbHZlclxyXG4gICAgICAgIGNvbnN0IGJhY2tCdG4gPSB0aGlzLmFkZC50ZXh0KDQwMCwgNTAwLCAnVm9sdmVyJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzMycHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmZmZmZicsXHJcbiAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogJyMwMDAwMDBmZicsXHJcbiAgICAgICAgICAgIHBhZGRpbmc6IHsgeDogMjAsIHk6IDEwIH1cclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pO1xyXG5cclxuICAgICAgICBiYWNrQnRuLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IGJhY2tCdG4uc2V0U3R5bGUoeyBiYWNrZ3JvdW5kQ29sb3I6ICcjNzM3MzczZmYnIH0pKVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiBiYWNrQnRuLnNldFN0eWxlKHsgYmFja2dyb3VuZENvbG9yOiAnIzAwMDAwMGZmJyB9KSlcclxuICAgICAgICAgICAgLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RvcCgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5yZXN1bWUoZGF0YS5vcmlnaW5hbFNjZW5lKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuIiwiLyoqXHJcbiAqIFNlcnZpY2lvIHBhcmEgZ2VzdGlvbmFyIGxhIGNvbmV4acOzbiBjb24gZWwgc2Vydmlkb3JcclxuICogTWFuZWphIGVsIHBvbGxpbmcgYWwgZW5kcG9pbnQgL2FwaS9jb25uZWN0ZWQgeSBkZXRlY3RhIHDDqXJkaWRhcyBkZSBjb25leGnDs25cclxuICovXHJcbmV4cG9ydCBjbGFzcyBDb25uZWN0aW9uTWFuYWdlciB7XHJcbiAgY29uc3RydWN0b3IoKSB7XHJcbiAgICB0aGlzLmNvbm5lY3RlZENvdW50ID0gMDtcclxuICAgIHRoaXMuaXNDb25uZWN0ZWQgPSBmYWxzZTtcclxuICAgIHRoaXMubGFzdENoZWNrVGltZSA9IDA7XHJcbiAgICB0aGlzLmNoZWNrSW50ZXJ2YWwgPSAyMDAwOyAvLyBDb21wcm9iYXIgY2FkYSAyIHNlZ3VuZG9zXHJcbiAgICB0aGlzLmxpc3RlbmVycyA9IFtdO1xyXG4gICAgdGhpcy5zZXNzaW9uSWQgPSB0aGlzLmdlbmVyYXRlU2Vzc2lvbklkKCk7XHJcbiAgICB0aGlzLmludGVydmFsSWQgPSBudWxsO1xyXG5cclxuICAgIC8vIEluaWNpYXIgZWwgcG9sbGluZyBhdXRvbcOhdGljb1xyXG4gICAgdGhpcy5zdGFydFBvbGxpbmcoKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEdlbmVyYXIgdW4gSUQgw7puaWNvIGRlIHNlc2nDs24gcGFyYSBlc3RlIGNsaWVudGVcclxuICAgKiBAcmV0dXJucyB7c3RyaW5nfVxyXG4gICAqL1xyXG4gIGdlbmVyYXRlU2Vzc2lvbklkKCkge1xyXG4gICAgcmV0dXJuIGBzZXNzaW9uXyR7RGF0ZS5ub3coKX1fJHtNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHIoMiwgOSl9YDtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIENvbXByb2JhciBjb25leGnDs24gY29uIGVsIHNlcnZpZG9yXHJcbiAgICogQHJldHVybnMge1Byb21pc2U8e2Nvbm5lY3RlZDogbnVtYmVyLCBzdWNjZXNzOiBib29sZWFufT59XHJcbiAgICovXHJcbiAgYXN5bmMgY2hlY2tDb25uZWN0aW9uKCkge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnL2FwaS9jb25uZWN0ZWQnLCB7XHJcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXHJcbiAgICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgICAgc2Vzc2lvbklkOiB0aGlzLnNlc3Npb25JZFxyXG4gICAgICAgIH0pXHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgaWYgKHJlc3BvbnNlLm9rKSB7XHJcbiAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcclxuICAgICAgICB0aGlzLmNvbm5lY3RlZENvdW50ID0gZGF0YS5jb25uZWN0ZWQ7XHJcbiAgICAgICAgdGhpcy5pc0Nvbm5lY3RlZCA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5sYXN0Q2hlY2tUaW1lID0gRGF0ZS5ub3coKTtcclxuXHJcbiAgICAgICAgLy8gTm90aWZpY2FyIGEgbG9zIGxpc3RlbmVyc1xyXG4gICAgICAgIHRoaXMubm90aWZ5TGlzdGVuZXJzKHsgY29ubmVjdGVkOiB0cnVlLCBjb3VudDogdGhpcy5jb25uZWN0ZWRDb3VudCB9KTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHsgY29ubmVjdGVkOiB0aGlzLmNvbm5lY3RlZENvdW50LCBzdWNjZXNzOiB0cnVlIH07XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdGhpcy5oYW5kbGVEaXNjb25uZWN0aW9uKCk7XHJcbiAgICAgICAgcmV0dXJuIHsgY29ubmVjdGVkOiAwLCBzdWNjZXNzOiBmYWxzZSB9O1xyXG4gICAgICB9XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBjaGVja2luZyBjb25uZWN0aW9uOicsIGVycm9yKTtcclxuICAgICAgdGhpcy5oYW5kbGVEaXNjb25uZWN0aW9uKCk7XHJcbiAgICAgIHJldHVybiB7IGNvbm5lY3RlZDogMCwgc3VjY2VzczogZmFsc2UgfTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIE1hbmVqYXIgZGVzY29uZXhpw7NuXHJcbiAgICovXHJcbiAgaGFuZGxlRGlzY29ubmVjdGlvbigpIHtcclxuICAgIHRoaXMuaXNDb25uZWN0ZWQgPSBmYWxzZTtcclxuICAgIHRoaXMuY29ubmVjdGVkQ291bnQgPSAwO1xyXG4gICAgdGhpcy5ub3RpZnlMaXN0ZW5lcnMoeyBjb25uZWN0ZWQ6IGZhbHNlLCBjb3VudDogMCB9KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFJlZ2lzdHJhciB1biBsaXN0ZW5lciBwYXJhIGNhbWJpb3MgZGUgY29uZXhpw7NuXHJcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgLSBGdW5jacOzbiBxdWUgc2UgbGxhbWFyw6EgY3VhbmRvIGNhbWJpZSBlbCBlc3RhZG9cclxuICAgKi9cclxuICBhZGRMaXN0ZW5lcihjYWxsYmFjaykge1xyXG4gICAgdGhpcy5saXN0ZW5lcnMucHVzaChjYWxsYmFjayk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBFbGltaW5hciB1biBsaXN0ZW5lclxyXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIC0gRnVuY2nDs24gYSBlbGltaW5hclxyXG4gICAqL1xyXG4gIHJlbW92ZUxpc3RlbmVyKGNhbGxiYWNrKSB7XHJcbiAgICBjb25zdCBpbmRleCA9IHRoaXMubGlzdGVuZXJzLmluZGV4T2YoY2FsbGJhY2spO1xyXG4gICAgaWYgKGluZGV4ID4gLTEpIHtcclxuICAgICAgdGhpcy5saXN0ZW5lcnMuc3BsaWNlKGluZGV4LCAxKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIE5vdGlmaWNhciBhIHRvZG9zIGxvcyBsaXN0ZW5lcnNcclxuICAgKiBAcGFyYW0ge09iamVjdH0gZGF0YSAtIERhdG9zIGRlbCBlc3RhZG8gZGUgY29uZXhpw7NuXHJcbiAgICovXHJcbiAgbm90aWZ5TGlzdGVuZXJzKGRhdGEpIHtcclxuICAgIHRoaXMubGlzdGVuZXJzLmZvckVhY2gobGlzdGVuZXIgPT4gbGlzdGVuZXIoZGF0YSkpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogT2J0ZW5lciBlbCBlc3RhZG8gYWN0dWFsIGRlIGNvbmV4acOzblxyXG4gICAqIEByZXR1cm5zIHtPYmplY3R9XHJcbiAgICovXHJcbiAgZ2V0U3RhdHVzKCkge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgaXNDb25uZWN0ZWQ6IHRoaXMuaXNDb25uZWN0ZWQsXHJcbiAgICAgIGNvbm5lY3RlZENvdW50OiB0aGlzLmNvbm5lY3RlZENvdW50LFxyXG4gICAgICBsYXN0Q2hlY2tUaW1lOiB0aGlzLmxhc3RDaGVja1RpbWVcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBJbmljaWFyIGVsIHBvbGxpbmcgYXV0b23DoXRpY28gZGUgY29uZXhpw7NuXHJcbiAgICovXHJcbiAgc3RhcnRQb2xsaW5nKCkge1xyXG4gICAgaWYgKHRoaXMuaW50ZXJ2YWxJZCkge1xyXG4gICAgICByZXR1cm47IC8vIFlhIGVzdMOhIGNvcnJpZW5kb1xyXG4gICAgfVxyXG5cclxuICAgIC8vIENvbXByb2JhciBpbm1lZGlhdGFtZW50ZVxyXG4gICAgdGhpcy5jaGVja0Nvbm5lY3Rpb24oKTtcclxuXHJcbiAgICAvLyBMdWVnbyBjb21wcm9iYXIgY2FkYSBYIHNlZ3VuZG9zXHJcbiAgICB0aGlzLmludGVydmFsSWQgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XHJcbiAgICAgIHRoaXMuY2hlY2tDb25uZWN0aW9uKCk7XHJcbiAgICB9LCB0aGlzLmNoZWNrSW50ZXJ2YWwpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogRGV0ZW5lciBlbCBwb2xsaW5nIGF1dG9tw6F0aWNvXHJcbiAgICovXHJcbiAgc3RvcFBvbGxpbmcoKSB7XHJcbiAgICBpZiAodGhpcy5pbnRlcnZhbElkKSB7XHJcbiAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5pbnRlcnZhbElkKTtcclxuICAgICAgdGhpcy5pbnRlcnZhbElkID0gbnVsbDtcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbi8vIENyZWFyIGluc3RhbmNpYSBzaW5nbGV0b25cclxuZXhwb3J0IGNvbnN0IGNvbm5lY3Rpb25NYW5hZ2VyID0gbmV3IENvbm5lY3Rpb25NYW5hZ2VyKCk7XHJcbiIsImV4cG9ydCBjbGFzcyBDbGllbnREYXRhTWFuYWdlciB7XHJcbiAgICBcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMuaWQgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgdGhpcy5uYW1lID0gdW5kZWZpbmVkO1xyXG4gICAgICAgIHRoaXMuZGVhdGhzID0gMDtcclxuICAgIH1cclxuXHJcbiAgICBhc3luYyB1cGRhdGVDbGllbnREYXRhKHVwZGF0ZXMpIHtcclxuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAvYXBpL3VzZXJzLyR7dGhpcy5pZH1gLCB7XHJcbiAgICAgICAgICAgIG1ldGhvZDogJ1BVVCcsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbidcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkodXBkYXRlcylcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgcmV0dXJuIGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcclxuICAgIH1cclxuXHJcbiAgICBhc3luYyBnZXRDbGllbnREZWF0aHMoKSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgL2FwaS91c2Vycy8ke3RoaXMuaWR9YCk7XHJcbiAgICAgICAgICAgIGlmICghcmVzcG9uc2Uub2spIHRocm93IG5ldyBFcnJvcignTmV0d29yayByZXNwb25zZSB3YXMgbm90IG9rJyk7XHJcbiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XHJcbiAgICAgICAgICAgIHJldHVybiBkYXRhLmRlYXRocztcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdDbGllbnREYXRhTWFuYWdlciBlcnJvcjonLCBlcnJvcik7XHJcbiAgICAgICAgICAgIHRocm93IGVycm9yO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBhc3luYyB1cGRhdGVDbGllbnREZWF0aHMoZGVhdGhzKSB7XHJcbiAgICAgICAgdGhpcy5kZWF0aHMgPSBkZWF0aHM7XHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgcG9zdExvZ2luKCkge1xyXG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYC9hcGkvdXNlcnNgLCB7XHJcbiAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICAgICAgICAgIGlkOiB0aGlzLmlkLFxyXG4gICAgICAgICAgICAgICAgbmFtZTogdGhpcy5uYW1lLFxyXG4gICAgICAgICAgICAgICAgZGVhdGhzOiB0aGlzLmRlYXRoc1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGlmIChyZXNwb25zZS5vaykge1xyXG4gICAgICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xyXG4gICAgICAgICAgICB0aGlzLmlkID0gZGF0YS5pZDtcclxuICAgICAgICAgICAgdGhpcy5kZWF0aHMgPSBkYXRhLmRlYXRocztcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cztcclxuICAgIH1cclxuXHJcbn1cclxuXHJcbi8vU2luZ2xldG9uXHJcbmV4cG9ydCBsZXQgY2xpZW50RGF0YU1hbmFnZXIgPSBuZXcgQ2xpZW50RGF0YU1hbmFnZXIoKTsiLCJpbXBvcnQgUGhhc2VyIGZyb20gXCJwaGFzZXJcIjtcclxuaW1wb3J0IHsgY29ubmVjdGlvbk1hbmFnZXIgfSBmcm9tIFwiLi4vc2VydmljZXMvQ29ubmVjdGlvbk1hbmFnZXIuanNcIjtcclxuaW1wb3J0IHsgY2xpZW50RGF0YU1hbmFnZXIgfSBmcm9tIFwiLi4vc2VydmljZXMvY2xpZW50RGF0YU1hbmFnZXIuanNcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBNZW51U2NlbmUgZXh0ZW5kcyBQaGFzZXIuU2NlbmUge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoJ01lbnVTY2VuZScpXHJcbiAgICB9XHJcblxyXG5cclxuICAgIHByZWxvYWQoKSB7XHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdtdXNpYycsICdhc3NldHMvc291bmQvbWVudS10aGVtZS5tcDMnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JhY2tncm91bmQnLCAnYXNzZXRzL21lbnVzL21lbnVTaW5MZXRyYXMucG5nJyk7XHJcblxyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnaWQxJywgJ2Fzc2V0cy9tZW51cy9Cb3RvblRpdHVsby5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2lkMicsICdhc3NldHMvbWVudXMvQm90b25Mb2NhbFBsYXkucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdpZDMnLCAnYXNzZXRzL21lbnVzL0JvdG9uQ3JlZGl0b3MucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdpZDQnLCAnYXNzZXRzL21lbnVzL0JvdG9uT3BjaW9uZXMucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdpZDUnLCAnYXNzZXRzL21lbnVzL0JvdG9uU2FsaXIucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdtZW51JywgJ2Fzc2V0cy9tZW51cy9saWJyZXRhTml2ZWxlc0NvblNvbWJyYS5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ24xJywgJ2Fzc2V0cy9tZW51cy9Cb3Rvbk5pdmVsMS5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ24yJywgJ2Fzc2V0cy9tZW51cy9Cb3Rvbk5pdmVsMi5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3JldHVybicsICdhc3NldHMvbWVudXMvQm90b25Wb2x2ZXIucG5nJyk7XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlKCkge1xyXG4gICAgICAgIHRoaXMuYWRkLmltYWdlKDQwMCwgMzAwLCAnYmFja2dyb3VuZCcpLlxyXG4gICAgICAgICAgICBzZXRPcmlnaW4oMC41KTtcclxuICAgICAgICB0aGlzLmFkZC5pbWFnZSg4NSwgMzQsICdpZDEnKS5cclxuICAgICAgICAgICAgc2V0T3JpZ2luKDApO1xyXG5cclxuICAgICAgICB0aGlzLnN0YXJ0QnV0dG9uID0gdGhpcy5hZGQuaW1hZ2UoMTk2LCAyMzgsICdpZDInKS5cclxuICAgICAgICAgICAgc2V0T3JpZ2luKDApLlxyXG4gICAgICAgICAgICBzZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSkuXHJcbiAgICAgICAgICAgIG9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMub3Blbk1pbmlNZW51KCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLmNyZWRpdHNCdXR0b24gPSB0aGlzLmFkZC5pbWFnZSgyNDEsIDMwNywgJ2lkMycpLlxyXG4gICAgICAgICAgICBzZXRPcmlnaW4oMCkuXHJcbiAgICAgICAgICAgIHNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KS5cclxuICAgICAgICAgICAgb24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5zdGFydCgnQ3JlZGl0c1NjZW5lJyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLm9wdGlvbnNCdXR0b24gPSB0aGlzLmFkZC5pbWFnZSgyNDUsIDM3NywgJ2lkNCcpLlxyXG4gICAgICAgICAgICBzZXRPcmlnaW4oMCkuXHJcbiAgICAgICAgICAgIHNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KS5cclxuICAgICAgICAgICAgb24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5sYXVuY2goJ09wdGlvbnNTY2VuZScsIHsgb3JpZ2luYWxTY2VuZTogJ01lbnVTY2VuZScgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLmV4aXRCdXR0b24gPSB0aGlzLmFkZC5pbWFnZSgyNzYsIDQ1MSwgJ2lkNScpLlxyXG4gICAgICAgICAgICBzZXRPcmlnaW4oMCkuXHJcbiAgICAgICAgICAgIHNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KS5cclxuICAgICAgICAgICAgb24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5nYW1lLmRlc3Ryb3kodHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICB3aW5kb3cuY2xvc2UoKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG5cclxuXHJcbiAgICAgICAgdGhpcy5idXR0b25zID0gW3RoaXMuc3RhcnRCdXR0b24sIHRoaXMuY3JlZGl0c0J1dHRvbiwgdGhpcy5vcHRpb25zQnV0dG9uLCB0aGlzLmV4aXRCdXR0b25dO1xyXG4gICAgICAgIHRoaXMubXVzaWMgPSB0aGlzLnNvdW5kLmFkZCgnbXVzaWMnKTtcclxuICAgICAgICB0aGlzLm11c2ljLnBsYXkoKTtcclxuICAgICAgICB0aGlzLm11c2ljLnNldFZvbHVtZSgwKTtcclxuXHJcblxyXG4gICAgICAgIC8qY29uc3QgbG9jYWxCdG4gPSB0aGlzLmFkZC50ZXh0KDYwMCwgMTAwLCAnSnVlZ28gTG9jYWwnLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMjRweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmZmZmZmZmJyxcclxuICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAnIzAwMDAwMGZmJyxcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcm92ZXInLCAoKSA9PiBsb2NhbEJ0bi5zZXRTdHlsZSh7IGJhY2tncm91bmRDb2xvcjogJyM3MzczNzNmZicgfSkpXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcm91dCcsICgpID0+IGxvY2FsQnRuLnNldFN0eWxlKHsgYmFja2dyb3VuZENvbG9yOiAnIzAwMDAwMGZmJyB9KSlcclxuICAgICAgICAgICAgLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ0ludHJvU2NlbmUnKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGNvbnN0IGNyZWRpdHNCdG4gPSB0aGlzLmFkZC50ZXh0KDYwMCwgMzAwLCAnQ3LDqWRpdG9zJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzI0cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmZmZmZicsXHJcbiAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogJyMwMDAwMDBmZicsXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4gY3JlZGl0c0J0bi5zZXRTdHlsZSh7IGJhY2tncm91bmRDb2xvcjogJyM3MzczNzNmZicgfSkpXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcm91dCcsICgpID0+IGNyZWRpdHNCdG4uc2V0U3R5bGUoeyBiYWNrZ3JvdW5kQ29sb3I6ICcjMDAwMDAwZmYnIH0pKVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tdXNpYy5zdG9wKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdDcmVkaXRzU2NlbmUnKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGNvbnN0IG9wdGlvbnNCdG4gPSB0aGlzLmFkZC50ZXh0KDYwMCwgMjAwLCAnT3BjaW9uZXMnLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMjRweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmZmZmZmZmJyxcclxuICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAnIzAwMDAwMGZmJyxcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcm92ZXInLCAoKSA9PiBvcHRpb25zQnRuLnNldFN0eWxlKHsgYmFja2dyb3VuZENvbG9yOiAnIzczNzM3M2ZmJyB9KSlcclxuICAgICAgICAgICAgLm9uKCdwb2ludGVyb3V0JywgKCkgPT4gb3B0aW9uc0J0bi5zZXRTdHlsZSh7IGJhY2tncm91bmRDb2xvcjogJyMwMDAwMDBmZicgfSkpXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLmxhdW5jaCgnT3B0aW9uc1NjZW5lJywgeyBvcmlnaW5hbFNjZW5lOiBcIk1lbnVTY2VuZVwiIH0pO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgY29uc3QgZXhpdEJ0biA9IHRoaXMuYWRkLnRleHQoNjAwLCA0MDAsICdTYWxpcicsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICcyNHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmZmYnLFxyXG4gICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjMDAwMDAwZmYnLFxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSlcclxuICAgICAgICAgICAgLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IGV4aXRCdG4uc2V0U3R5bGUoeyBiYWNrZ3JvdW5kQ29sb3I6ICcjNzM3MzczZmYnIH0pKVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiBleGl0QnRuLnNldFN0eWxlKHsgYmFja2dyb3VuZENvbG9yOiAnIzAwMDAwMGZmJyB9KSlcclxuICAgICAgICAgICAgLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZ2FtZS5kZXN0cm95KHRydWUpO1xyXG4gICAgICAgICAgICAgICAgd2luZG93LmNsb3NlKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICovXHJcbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLyBBUEkgUkVTVCAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcbiAgICAgICAgLy8gSW5kaWNhZG9yIGRlIGNvbmV4acOzbiBhbCBzZXJ2aWRvclxyXG4gICAgICAgIHRoaXMuY29ubmVjdGlvblRleHQgPSB0aGlzLmFkZC50ZXh0KDQwMCwgNTUwLCAnU2Vydmlkb3I6IENvbXByb2JhbmRvLi4uJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzE4cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmMDAnXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIC8vIExpc3RlbmVyIHBhcmEgY2FtYmlvcyBkZSBjb25leGnDs25cclxuICAgICAgICB0aGlzLmNvbm5lY3Rpb25MaXN0ZW5lciA9IChkYXRhKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMudXBkYXRlQ29ubmVjdGlvbkRpc3BsYXkoZGF0YSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBjb25uZWN0aW9uTWFuYWdlci5hZGRMaXN0ZW5lcih0aGlzLmNvbm5lY3Rpb25MaXN0ZW5lcik7XHJcblxyXG4gICAgICAgIC8vIFRleHRvIGRlIG11ZXJ0ZXNcclxuICAgICAgICAvLyB0aGlzLmRlYXRoc1RleHQgPSB0aGlzLmFkZC50ZXh0KDQwMCwgNTAwLCAnTXVlcnRlczogQ2FyZ2FuZG8uLi4gJywge1xyXG4gICAgICAgIC8vICAgICBmb250U2l6ZTogJzE4cHgnLFxyXG4gICAgICAgIC8vICAgICBjb2xvcjogJyNmZmZmMDAnXHJcbiAgICAgICAgLy8gfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIC8vIGNsaWVudERhdGFNYW5hZ2VyLmdldENsaWVudERlYXRocygpLnRoZW4oZGVhdGhzID0+IHtcclxuICAgICAgICAvLyAgICAgY29uc29sZS5sb2coJ1JlY2VpdmVkIGRlYXRoczonLCBkZWF0aHMpOyBcclxuICAgICAgICAvLyAgICAgaWYgKGRlYXRocyAhPT0gbnVsbCAmJiBkZWF0aHMgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgIC8vICAgICAgICAgdGhpcy5kZWF0aHNUZXh0LnNldFRleHQoJ011ZXJ0ZXM6ICcgKyBkZWF0aHMpO1xyXG4gICAgICAgIC8vICAgICB9IGVsc2Uge1xyXG4gICAgICAgIC8vICAgICAgICAgdGhpcy5kZWF0aHNUZXh0LnNldFRleHQoJ011ZXJ0ZXM6IEVycm9yJyk7XHJcbiAgICAgICAgLy8gICAgIH1cclxuICAgICAgICAvLyB9KS5jYXRjaChlcnJvciA9PiB7XHJcbiAgICAgICAgLy8gICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIGRlYXRoczonLCBlcnJvcik7XHJcbiAgICAgICAgLy8gICAgIHRoaXMuZGVhdGhzVGV4dC5zZXRUZXh0KCdNdWVydGVzOiBFcnJvcicpO1xyXG4gICAgICAgIC8vIH0pO1xyXG5cclxuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8gV2ViU29ja2V0IC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcbiAgICAgICAgdGhpcy5vbmxpbmVCdG4gPSB0aGlzLmFkZC50ZXh0KDUwMCwgMzAwLCAnSnVnYXIgT25saW5lJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzE4cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmMDAnXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4gdGhpcy5vbmxpbmVCdG4uc2V0U3R5bGUoeyBiYWNrZ3JvdW5kQ29sb3I6ICcjNzM3MzczZmYnIH0pKVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiB0aGlzLm9ubGluZUJ0bi5zZXRTdHlsZSh7IGJhY2tncm91bmRDb2xvcjogJyMwMDAwMDBmZicgfSkpXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdNYXRjaE1ha2luZ1NjZW5lJyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLy8vLy8vLy8vV2ViU29ja2V0Ly8vLy8vLy8vL1xyXG4gICAgfVxyXG5cclxuXHJcblxyXG4gICAgb3Blbk1pbmlNZW51KCkge1xyXG5cclxuICAgICAgICAvL0Rlc2FjdGl2YXIgdG9kb3MgbG9zIGJvdG9uZXMgZGUgYWJham8gZGVsIG1lbsO6XHJcbiAgICAgICAgdGhpcy5idXR0b25zLmZvckVhY2goYnRuID0+IGJ0bi5yZW1vdmVJbnRlcmFjdGl2ZSgpKTtcclxuXHJcbiAgICAgICAgLy8gRm9uZG8gZGVsIG1lbsO6XHJcbiAgICAgICAgY29uc3QgYmcgPSB0aGlzLmFkZC5pbWFnZSg0MDAsIDMwMCwgJ21lbnUnKVxyXG4gICAgICAgICAgICAuc2V0RGVwdGgoMTApO1xyXG5cclxuICAgICAgICAvLyBCb3TDs24gTml2ZWwgMVxyXG4gICAgICAgIGNvbnN0IGx2bDEgPSB0aGlzLmFkZC5pbWFnZSgzNTAsIDIzMCwgJ24xJylcclxuICAgICAgICAgICAgLnNldERlcHRoKDExKVxyXG4gICAgICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNsb3NlTWluaU1lbnUoW2JnLCBsdmwxLCBsdmwyLCByZXR1cm5CdG5dKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ0ludHJvU2NlbmUnKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIEJvdMOzbiBOaXZlbCAyXHJcbiAgICAgICAgY29uc3QgbHZsMiA9IHRoaXMuYWRkLmltYWdlKDM1MCwgMzEwLCAnbjInKVxyXG4gICAgICAgICAgICAuc2V0RGVwdGgoMTEpXHJcbiAgICAgICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSlcclxuICAgICAgICAgICAgLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2xvc2VNaW5pTWVudShbYmcsIGx2bDEsIGx2bDIsIHJldHVybkJ0bl0pO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5zdGFydCgnRW5kU2NlbmUnKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGNvbnN0IHJldHVybkJ0biA9IHRoaXMuYWRkLmltYWdlKDMyMCwgNDAwLCAncmV0dXJuJylcclxuICAgICAgICAgICAgLnNldERlcHRoKDExKVxyXG4gICAgICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNsb3NlTWluaU1lbnUoW2JnLCBsdmwxLCBsdmwyLCByZXR1cm5CdG5dKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgY2xvc2VNaW5pTWVudShlbGVtZW50cykge1xyXG5cclxuICAgICAgICAvLyBFbGltaW5hciBsb3MgZWxlbWVudG9zIGRlbCBtaW5pbWVudVxyXG4gICAgICAgIGVsZW1lbnRzLmZvckVhY2goZSA9PiBlLmRlc3Ryb3koKSk7XHJcblxyXG4gICAgICAgIC8vIOKclO+4jyBSZWFjdGl2YXIgbG9zIGJvdG9uZXMgZGUgbGEgZXNjZW5hXHJcbiAgICAgICAgdGhpcy5idXR0b25zLmZvckVhY2goYnRuID0+IGJ0bi5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSkpO1xyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZUNvbm5lY3Rpb25EaXNwbGF5KGRhdGEpIHtcclxuICAgICAgICAvLyBTb2xvIGFjdHVhbGl6YXIgc2kgZWwgdGV4dG8gZXhpc3RlIChsYSBlc2NlbmEgZXN0w6EgY3JlYWRhKVxyXG4gICAgICAgIGlmICghdGhpcy5jb25uZWN0aW9uVGV4dCB8fCAhdGhpcy5zY2VuZSB8fCAhdGhpcy5zY2VuZS5pc0FjdGl2ZSgnTWVudVNjZW5lJykpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgaWYgKGRhdGEuY29ubmVjdGVkKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbm5lY3Rpb25UZXh0LnNldFRleHQoYFNlcnZpZG9yOiAke2RhdGEuY291bnR9IHVzdWFyaW8ocykgY29uZWN0YWRvKHMpYCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbm5lY3Rpb25UZXh0LnNldENvbG9yKCcjMDBmZjAwJyk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbm5lY3Rpb25UZXh0LnNldFRleHQoJ1NlcnZpZG9yOiBEZXNjb25lY3RhZG8nKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuY29ubmVjdGlvblRleHQuc2V0Q29sb3IoJyNmZjAwMDAnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tNZW51U2NlbmVdIEVycm9yIHVwZGF0aW5nIGNvbm5lY3Rpb24gZGlzcGxheTonLCBlcnJvcik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHNodXRkb3duKCkge1xyXG4gICAgICAgIC8vIFJlbW92ZXIgZWwgbGlzdGVuZXJcclxuICAgICAgICBpZiAodGhpcy5jb25uZWN0aW9uTGlzdGVuZXIpIHtcclxuICAgICAgICAgICAgY29ubmVjdGlvbk1hbmFnZXIucmVtb3ZlTGlzdGVuZXIodGhpcy5jb25uZWN0aW9uTGlzdGVuZXIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcblxyXG59IiwiZXhwb3J0IGNsYXNzIENvbW1hbmQge1xyXG4gICAgZXhlY3V0ZSgpIHtcclxuICAgICAgICAvLyBJbXBsZW1lbnRhciBlbiBzdWJjbGFzZXNcclxuICAgICAgICAvLyBFamVjdXRhIGxhIGFjY2nDs24gZW4gZWwganVlZ29cclxuICAgIH1cclxuICAgIFxyXG4gICAgc2VyaWFsaXplKCkge1xyXG4gICAgICAgIC8vIENvbnZlcnRpciBhIEpTT04gcGFyYSBlbnZpYXIgcG9yIHJlZFxyXG4gICAgICAgIHJldHVybiB7fTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgZ2V0RW50aXR5KCkge1xyXG4gICAgICAgIC8vIFJldG9ybmEgbGEgZW50aWRhZCBhc29jaWFkYVxyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgQ29tbWFuZCB9IGZyb20gJy4vQ29tbWFuZC5qcyc7XHJcblxyXG5leHBvcnQgY2xhc3MgUGxheWVyTW92bWVudElucHV0Q29tbWFuZCBleHRlbmRzIENvbW1hbmQge1xyXG4gICAgY29uc3RydWN0b3IocGxheWVyLCBhY3Rpb24pIHtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgICAgIHRoaXMucGxheWVyID0gcGxheWVyO1xyXG4gICAgICAgIHRoaXMuYWN0aW9uID0gYWN0aW9uOyAvLyAnbGVmdCcsICdyaWdodCcsICd1cCdcclxuICAgIH1cclxuXHJcbiAgICBleGVjdXRlKCkge1xyXG5cclxuICAgICAgICBjb25zdCBwbGF5ZXIgPSB0aGlzLnBsYXllcjtcclxuXHJcbiAgICAgICAgLy8gXHJcbiAgICAgICAgaWYgKHRoaXMuYWN0aW9uID09PSAndXAnKSB7XHJcbiAgICAgICAgICAgIHBsYXllci5qdW1wKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBcclxuICAgICAgICBpZiAodGhpcy5hY3Rpb24gPT09ICdsZWZ0JyB8fCB0aGlzLmFjdGlvbiA9PT0gJ3JpZ2h0Jykge1xyXG4gICAgICAgICAgICBwbGF5ZXIuaG9yaXpvbnRhbE1vdmUodGhpcy5hY3Rpb24pO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBcclxuICAgICAgICBpZiAodGhpcy5hY3Rpb24gPT09ICdpZGxlJykge1xyXG4gICAgICAgICAgICBwbGF5ZXIuaWRsZSgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG5cclxuICAgIHNlcmlhbGl6ZSgpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICB0eXBlOiAnUGxheWVyTW92bWVudElucHV0Q29tbWFuZCcsXHJcbiAgICAgICAgICAgIHBsYXllcklkOiB0aGlzLnBsYXllci5pZCxcclxuICAgICAgICAgICAgYWN0aW9uOiB0aGlzLmFjdGlvbixcclxuICAgICAgICAgICAgeDogdGhpcy5wbGF5ZXIuc3ByaXRlLngsXHJcbiAgICAgICAgICAgIHk6IHRoaXMucGxheWVyLnNwcml0ZS55XHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRFbnRpdHkoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucGxheWVyO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgQ29tbWFuZCB9IGZyb20gXCIuL0NvbW1hbmQuanNcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBQbGF5ZXJBdHRhY2tDb21tYW5kIGV4dGVuZHMgQ29tbWFuZCB7XHJcbiAgICBjb25zdHJ1Y3RvcihwbGF5ZXIpIHtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgICAgIHRoaXMucGxheWVyID0gcGxheWVyO1xyXG4gICAgfVxyXG5cclxuICAgIGV4ZWN1dGUoKSB7XHJcbiAgICAgICAgdGhpcy5wbGF5ZXIuYXR0YWNrKCk7XHJcbiAgICB9XHJcblxyXG4gICAgc2VyaWFsaXplKCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHR5cGU6ICdQbGF5ZXJBdHRhY2tDb21tYW5kJyxcclxuICAgICAgICAgICAgcGxheWVySWQ6IHRoaXMucGxheWVyLmlkLFxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0RW50aXR5KCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnBsYXllcjtcclxuICAgIH1cclxufSIsImltcG9ydCB7IFBsYXllckF0dGFja0NvbW1hbmQgfSBmcm9tICcuL1BsYXllckF0dGFja0NvbW1hbmQuanMnO1xyXG5pbXBvcnQgeyBQbGF5ZXJNb3ZtZW50SW5wdXRDb21tYW5kIH0gZnJvbSAnLi9QbGF5ZXJNb3ZtZW50SW5wdXRDb21tYW5kLmpzJztcclxuZXhwb3J0IGNsYXNzIENvbW1hbmRQcm9jZXNzb3Ige1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5wbGF5ZXJzID0gbmV3IE1hcCgpO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBwcm9jZXNzKGNvbW1hbmQpIHtcclxuICAgICAgICBjb21tYW5kLmV4ZWN1dGUoKTsgLy8gUmVzcHVlc3RhIGlubWVkaWF0YVxyXG4gICAgfVxyXG5cclxuICAgIHJlY2VpdmVDb21tYW5kKGRhdGEpIHtcclxuICAgICAgICBjb25zdCBwbGF5ZXIgPSB0aGlzLnBsYXllcnMuZ2V0KGRhdGEucGxheWVySWQpO1xyXG5cclxuICAgICAgICBjb25zdCBjb21tYW5kID0gdGhpcy5kZXNlcmlhbGl6ZShkYXRhKTtcclxuICAgICAgICBpZiAoY29tbWFuZCkge1xyXG4gICAgICAgICAgICBjb21tYW5kLmV4ZWN1dGUoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvLy8gSW1wbGVtZW50YXIgZGVzZXJpYWxpemFjaW9uIGRlIGNvbWFuZG9zIGNvbiBsYXMgZGlmZXJlbnRlcyBhY2Npb25lcyBkZSBsb3MgaW5wdXRzXHJcbiAgICBkZXNlcmlhbGl6ZShkYXRhKSB7XHJcbiAgICAgICAgLy8gT2J0ZW5lciBsYSBpbnN0YW5jaWEgcmVhbCBkZWwganVnYWRvciB1c2FuZG8gZWwgSURcclxuICAgICAgICBjb25zdCBwbGF5ZXIgPSB0aGlzLnBsYXllcnMuZ2V0KGRhdGEucGxheWVySWQpO1xyXG4gICAgICAgIHN3aXRjaCAoZGF0YS50eXBlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgJ1BsYXllck1vdm1lbnRJbnB1dENvbW1hbmQnOlxyXG4gICAgICAgICAgICAgICAgaWYgKCFwbGF5ZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oYFBsYXllciBub3QgZm91bmQgZm9yIElEOiAke2RhdGEucGxheWVySWR9YCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyBTeW5jIGFic29sdXRlIHBvc2l0aW9uIHRvIGZpeCBkcmlmdFxyXG4gICAgICAgICAgICAgICAgaWYgKGRhdGEueCAhPT0gdW5kZWZpbmVkICYmIGRhdGEueSAhPT0gdW5kZWZpbmVkICYmIHBsYXllci5zcHJpdGUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoTWF0aC5hYnMocGxheWVyLnNwcml0ZS54IC0gZGF0YS54KSA+IDUgfHwgTWF0aC5hYnMocGxheWVyLnNwcml0ZS55IC0gZGF0YS55KSA+IDUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGxheWVyLnNwcml0ZS5zZXRQb3NpdGlvbihkYXRhLngsIGRhdGEueSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBQbGF5ZXJNb3ZtZW50SW5wdXRDb21tYW5kKHBsYXllciwgZGF0YS5hY3Rpb24pO1xyXG4gICAgICAgICAgICBjYXNlICdQbGF5ZXJBdHRhY2tDb21tYW5kJzpcclxuICAgICAgICAgICAgICAgIGlmICghcGxheWVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKGBQbGF5ZXIgbm90IGZvdW5kIGZvciBJRDogJHtkYXRhLnBsYXllcklkfWApO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBQbGF5ZXJBdHRhY2tDb21tYW5kKHBsYXllcik7XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ0NvbWFuZG8gZGVzY29ub2NpZG86JywgZGF0YS50eXBlKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsImltcG9ydCB7IENvbW1hbmQgfSBmcm9tICcuLi9jb21tYW5kLXBhdHRlcm4vQ29tbWFuZCc7XHJcbmltcG9ydCB7IFBsYXllck1vdm1lbnRJbnB1dENvbW1hbmQgfSBmcm9tICcuLi9jb21tYW5kLXBhdHRlcm4vUGxheWVyTW92bWVudElucHV0Q29tbWFuZCc7XHJcbmltcG9ydCB7IENvbW1hbmRQcm9jZXNzb3IgfSBmcm9tICcuLi9jb21tYW5kLXBhdHRlcm4vQ29tbWFuZFByb2Nlc3Nvcic7XHJcbmltcG9ydCBQaGFzZXIgZnJvbSAncGhhc2VyJztcclxuaW1wb3J0IHsgUGxheWVyQXR0YWNrQ29tbWFuZCB9IGZyb20gJy4uL2NvbW1hbmQtcGF0dGVybi9QbGF5ZXJBdHRhY2tDb21tYW5kJztcclxuXHJcbmV4cG9ydCBjbGFzcyBJbnB1dE1hbmFnZXIge1xyXG4gICAgLy8gQ2xhc2UgcXVlIG1hbmVqYSBsb3MgaW5wdXRzIGRlbCBqdWdhZG9yIHkgbG9zIGVudmlhIGFsIGNvbW1hbmQgcHJvY2Vzc29yIFxyXG4gICAgY29uc3RydWN0b3Ioc2NlbmUsIHNjZW5lTWFuYWdlciwgaW5wdXQsIGNvbW1hbmRQcm9jZXNzb3IsIGxvY2FsUGxheWVyUm9sZSA9IG51bGwsIHdzID0gbnVsbCkge1xyXG4gICAgICAgIHRoaXMuY29tbWFuZFByb2Nlc3NvciA9IG5ldyBDb21tYW5kUHJvY2Vzc29yKCk7XHJcbiAgICAgICAgdGhpcy5zY2VuZSA9IHNjZW5lO1xyXG4gICAgICAgIHRoaXMuc2NlbmVNYW5hZ2VyID0gc2NlbmVNYW5hZ2VyO1xyXG4gICAgICAgIHRoaXMuaW5wdXQgPSBpbnB1dDtcclxuICAgICAgICB0aGlzLmNvbW1hbmRQcm9jZXNzb3IgPSBjb21tYW5kUHJvY2Vzc29yO1xyXG4gICAgICAgIHRoaXMucGxheWVycyA9IG5ldyBNYXAoKTtcclxuICAgICAgICB0aGlzLmlucHV0c01hcHBpbmcgPSBbXTtcclxuICAgICAgICB0aGlzLmlzUGF1c2VkID0gZmFsc2U7XHJcblxyXG4gICAgICAgIC8vLy8vLy8vLy8vIElOUFVUIE1BTkFHRVIgQ09OIFdFQlNPQ0tFVCAvLy8vLy8vLy8vL1xyXG4gICAgICAgIHRoaXMubG9jYWxQbGF5ZXJSb2xlID0gbG9jYWxQbGF5ZXJSb2xlO1xyXG4gICAgICAgIHRoaXMud3MgPSB3cztcclxuICAgICAgICB0aGlzLnNldFVwSW5wdXRzKCk7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0VXBJbnB1dHMoKSB7XHJcbiAgICAgICAgdGhpcy5wbGF5ZXJzID0gdGhpcy5zY2VuZS5wbGF5ZXJzO1xyXG4gICAgICAgIGlmICh0aGlzLmxvY2FsUGxheWVyUm9sZSA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICB0aGlzLnNldFVwTG9jYWxJbnB1dHMoKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLnNldFVwUmVtb3RlSW5wdXRzKHRoaXMubG9jYWxQbGF5ZXJSb2xlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgc2V0V2ViU29ja2V0KHdzKSB7XHJcbiAgICAgICAgdGhpcy53cyA9IHdzO1xyXG4gICAgfVxyXG5cclxuICAgIHNldExvY2FsUGxheWVyUm9sZShyb2xlKSB7XHJcbiAgICAgICAgdGhpcy5sb2NhbFBsYXllclJvbGUgPSByb2xlO1xyXG4gICAgfVxyXG5cclxuICAgIHNldFVwTG9jYWxJbnB1dHMoKSB7XHJcblxyXG4gICAgICAgIHRoaXMuaW5wdXQua2V5Ym9hcmQub24oJ2tleWRvd24tRVNDJywgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnBhdXNlKCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGNvbnN0IElucHV0Q29uZmlnID0gW1xyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBwbGF5ZXJJZDogJ3BsYXllcjEnLFxyXG4gICAgICAgICAgICAgICAgbGVmdEtleTogJ0EnLFxyXG4gICAgICAgICAgICAgICAgcmlnaHRLZXk6ICdEJyxcclxuICAgICAgICAgICAgICAgIHVwS2V5OiAnVycsXHJcbiAgICAgICAgICAgICAgICBkb3duS2V5OiAnUycsXHJcbiAgICAgICAgICAgICAgICBhdHRhY2tLZXk6ICdGJ1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBwbGF5ZXJJZDogJ3BsYXllcjInLFxyXG4gICAgICAgICAgICAgICAgbGVmdEtleTogJ0xFRlQnLFxyXG4gICAgICAgICAgICAgICAgcmlnaHRLZXk6ICdSSUdIVCcsXHJcbiAgICAgICAgICAgICAgICB1cEtleTogJ1VQJyxcclxuICAgICAgICAgICAgICAgIGRvd25LZXk6ICdET1dOJyxcclxuICAgICAgICAgICAgICAgIGF0dGFja0tleTogJ0VOVEVSJ1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgXTtcclxuXHJcbiAgICAgICAgdGhpcy5pbnB1dHNNYXBwaW5nID0gSW5wdXRDb25maWc7XHJcbiAgICAgICAgdGhpcy5pbnB1dHNNYXBwaW5nID0gdGhpcy5pbnB1dHNNYXBwaW5nLm1hcChjb25maWcgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgcGxheWVySWQ6IGNvbmZpZy5wbGF5ZXJJZCxcclxuICAgICAgICAgICAgICAgIGxlZnRLZXlPYmo6IHRoaXMuaW5wdXQua2V5Ym9hcmQuYWRkS2V5KFBoYXNlci5JbnB1dC5LZXlib2FyZC5LZXlDb2Rlc1tjb25maWcubGVmdEtleV0pLFxyXG4gICAgICAgICAgICAgICAgcmlnaHRLZXlPYmo6IHRoaXMuaW5wdXQua2V5Ym9hcmQuYWRkS2V5KFBoYXNlci5JbnB1dC5LZXlib2FyZC5LZXlDb2Rlc1tjb25maWcucmlnaHRLZXldKSxcclxuICAgICAgICAgICAgICAgIHVwS2V5T2JqOiB0aGlzLmlucHV0LmtleWJvYXJkLmFkZEtleShQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuS2V5Q29kZXNbY29uZmlnLnVwS2V5XSksXHJcbiAgICAgICAgICAgICAgICBkb3duS2V5T2JqOiB0aGlzLmlucHV0LmtleWJvYXJkLmFkZEtleShQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuS2V5Q29kZXNbY29uZmlnLmRvd25LZXldKSxcclxuICAgICAgICAgICAgICAgIGF0dGFja0tleU9iajogdGhpcy5pbnB1dC5rZXlib2FyZC5hZGRLZXkoUGhhc2VyLklucHV0LktleWJvYXJkLktleUNvZGVzW2NvbmZpZy5hdHRhY2tLZXldKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0VXBSZW1vdGVJbnB1dHMocGxheWVyUm9sZSkge1xyXG5cclxuICAgICAgICB0aGlzLmlucHV0LmtleWJvYXJkLm9uKCdrZXlkb3duLUVTQycsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5wYXVzZSgpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuXHJcbiAgICAgICAgY29uc3QgSW5wdXRDb25maWcgPSBbXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHBsYXllcklkOiB0aGlzLmxvY2FsUGxheWVyUm9sZSxcclxuICAgICAgICAgICAgICAgIGxlZnRLZXk6ICdBJyxcclxuICAgICAgICAgICAgICAgIHJpZ2h0S2V5OiAnRCcsXHJcbiAgICAgICAgICAgICAgICB1cEtleTogJ1cnLFxyXG4gICAgICAgICAgICAgICAgZG93bktleTogJ1MnLFxyXG4gICAgICAgICAgICAgICAgYXR0YWNrS2V5OiAnRidcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIF07XHJcblxyXG4gICAgICAgIHRoaXMuaW5wdXRzTWFwcGluZyA9IElucHV0Q29uZmlnO1xyXG4gICAgICAgIHRoaXMuaW5wdXRzTWFwcGluZyA9IHRoaXMuaW5wdXRzTWFwcGluZy5tYXAoY29uZmlnID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgIHBsYXllcklkOiBjb25maWcucGxheWVySWQsXHJcbiAgICAgICAgICAgICAgICBsZWZ0S2V5T2JqOiB0aGlzLmlucHV0LmtleWJvYXJkLmFkZEtleShQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuS2V5Q29kZXNbY29uZmlnLmxlZnRLZXldKSxcclxuICAgICAgICAgICAgICAgIHJpZ2h0S2V5T2JqOiB0aGlzLmlucHV0LmtleWJvYXJkLmFkZEtleShQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuS2V5Q29kZXNbY29uZmlnLnJpZ2h0S2V5XSksXHJcbiAgICAgICAgICAgICAgICB1cEtleU9iajogdGhpcy5pbnB1dC5rZXlib2FyZC5hZGRLZXkoUGhhc2VyLklucHV0LktleWJvYXJkLktleUNvZGVzW2NvbmZpZy51cEtleV0pLFxyXG4gICAgICAgICAgICAgICAgZG93bktleU9iajogdGhpcy5pbnB1dC5rZXlib2FyZC5hZGRLZXkoUGhhc2VyLklucHV0LktleWJvYXJkLktleUNvZGVzW2NvbmZpZy5kb3duS2V5XSksXHJcbiAgICAgICAgICAgICAgICBhdHRhY2tLZXlPYmo6IHRoaXMuaW5wdXQua2V5Ym9hcmQuYWRkS2V5KFBoYXNlci5JbnB1dC5LZXlib2FyZC5LZXlDb2Rlc1tjb25maWcuYXR0YWNrS2V5XSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHBhdXNlKCkge1xyXG4gICAgICAgIHRoaXMuc2NlbmVNYW5hZ2VyLmxhdW5jaCgnUGF1c2VTY2VuZScsIHsgb3JpZ2luYWxTY2VuZTogJ0dhbWVTY2VuZScgfSk7XHJcbiAgICAgICAgdGhpcy5zY2VuZU1hbmFnZXIucGF1c2UoJ0dhbWVTY2VuZScpO1xyXG4gICAgICAgIHRoaXMuaXNQYXVzZWQgPSB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZSgpIHtcclxuXHJcbiAgICAgICAgdGhpcy5pbnB1dHNNYXBwaW5nLmZvckVhY2gobWFwcGluZyA9PiB7XHJcbiAgICAgICAgICAgIGxldCBwbGF5ZXIgPSB0aGlzLnBsYXllcnMuZ2V0KG1hcHBpbmcucGxheWVySWQpO1xyXG4gICAgICAgICAgICBwbGF5ZXIuaWQgPSBtYXBwaW5nLnBsYXllcklkO1xyXG5cclxuICAgICAgICAgICAgbGV0IGxvY2FsQ29tbWFuZCA9IG5ldyBDb21tYW5kKCk7XHJcblxyXG4gICAgICAgICAgICAvLyBTQUxUT1xyXG4gICAgICAgICAgICBpZiAobWFwcGluZy51cEtleU9iai5pc0Rvd24pIHtcclxuICAgICAgICAgICAgICAgIGxvY2FsQ29tbWFuZCA9IG5ldyBQbGF5ZXJNb3ZtZW50SW5wdXRDb21tYW5kKHBsYXllciwgJ3VwJyk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIE1PVklNSUVOVE9cclxuICAgICAgICAgICAgZWxzZSBpZiAobWFwcGluZy5sZWZ0S2V5T2JqLmlzRG93bikge1xyXG4gICAgICAgICAgICAgICAgbG9jYWxDb21tYW5kID0gbmV3IFBsYXllck1vdm1lbnRJbnB1dENvbW1hbmQocGxheWVyLCAnbGVmdCcpO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKG1hcHBpbmcucmlnaHRLZXlPYmouaXNEb3duKSB7XHJcbiAgICAgICAgICAgICAgICBsb2NhbENvbW1hbmQgPSBuZXcgUGxheWVyTW92bWVudElucHV0Q29tbWFuZChwbGF5ZXIsICdyaWdodCcpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgbG9jYWxDb21tYW5kID0gbmV3IFBsYXllck1vdm1lbnRJbnB1dENvbW1hbmQocGxheWVyLCAnaWRsZScpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLmNvbW1hbmRQcm9jZXNzb3IucHJvY2Vzcyhsb2NhbENvbW1hbmQpO1xyXG4gICAgICAgICAgICB0aGlzLnNlbmRNZXNzYWdlKGxvY2FsQ29tbWFuZC5zZXJpYWxpemUoKSk7XHJcblxyXG4gICAgICAgICAgICBpZiAobWFwcGluZy5hdHRhY2tLZXlPYmouaXNEb3duKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgYXR0YWNrQ29tbWFuZCA9IG5ldyBQbGF5ZXJBdHRhY2tDb21tYW5kKHBsYXllcik7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbW1hbmRQcm9jZXNzb3IucHJvY2VzcyhhdHRhY2tDb21tYW5kKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2VuZE1lc3NhZ2UoYXR0YWNrQ29tbWFuZC5zZXJpYWxpemUoKSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHNlbmRNZXNzYWdlKG1lc3NhZ2UpIHtcclxuICAgICAgICBpZiAodGhpcy53cyAmJiB0aGlzLndzLnJlYWR5U3RhdGUgPT09IFdlYlNvY2tldC5PUEVOKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdTZW5kaW5nIG1lc3NhZ2U6JywgbWVzc2FnZSk7XHJcbiAgICAgICAgICAgIHRoaXMud3Muc2VuZChKU09OLnN0cmluZ2lmeShtZXNzYWdlKSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgY29uc29sZS53YXJuKCdXZWJTb2NrZXQgaXMgbm90IG9wZW4uIE1lc3NhZ2Ugbm90IHNlbnQ6JywgbWVzc2FnZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZVJlbW90ZVBsYXllclBvc2l0aW9uKGRhdGEpIHtcclxuICAgICAgICBpZiAoZGF0YS50eXBlID09PSAnUGxheWVyTW92bWVudElucHV0Q29tbWFuZCcpIHtcclxuICAgICAgICAgICAgLy9jb25zb2xlLmxvZygnTXVsdGlwbGF5ZXJTY2VuZSByZWNlaXZlZCBpbiBpbnB1dCBtYW5hZ2VyIG1zZzonLCBkYXRhKTtcclxuICAgICAgICAgICAgdGhpcy5jb21tYW5kUHJvY2Vzc29yLnJlY2VpdmVDb21tYW5kKGRhdGEpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGVSZW1vdGVQbGF5ZXJBdHRhY2soZGF0YSkge1xyXG4gICAgICAgIGlmIChkYXRhLnR5cGUgPT09ICdQbGF5ZXJBdHRhY2tDb21tYW5kJykge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnTXVsdGlwbGF5ZXJTY2VuZSByZWNlaXZlZCBpbiBpbnB1dCBtYW5hZ2VyIG1zZzonLCBkYXRhKTtcclxuICAgICAgICAgICAgdGhpcy5jb21tYW5kUHJvY2Vzc29yLnJlY2VpdmVDb21tYW5kKGRhdGEpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbn0iLCJleHBvcnQgY2xhc3MgQW5pbWF0b3Ige1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHNjZW5lLCBhbmltYXRpb25TcHJpdGVzaGVldCkge1xyXG4gICAgICAgIHRoaXMuc2NlbmUgPSBzY2VuZTtcclxuICAgICAgICB0aGlzLmFuaW1hdGlvblNwcml0ZXNoZWV0ID0gYW5pbWF0aW9uU3ByaXRlc2hlZXQ7XHJcbiAgICB9XHJcblxyXG4vLyBNdXkgaW1wb3J0YW50ZSBsbGFtYXIgYSBlc3RhIGZ1bmNpw7NuIGVuIGVsIHByZWxvYWQgZGUgbGEgZXNjZW5hXHJcbiAgICBwcmVsb2FkKGZyYW1lV2lkdGgsIGZyYW1lSGVpZ2h0KSB7XHJcbiAgICAgICAgdGhpcy5zY2VuZS5sb2FkLnNwcml0ZXNoZWV0KHRoaXMuYW5pbWF0aW9uU3ByaXRlc2hlZXQsIFxyXG4gICAgICAgICAgICBgYXNzZXRzL3Nwcml0ZXMvJHt0aGlzLmFuaW1hdGlvblNwcml0ZXNoZWV0fS5wbmdgLCBcclxuICAgICAgICAgICAgeyBmcmFtZVdpZHRoOiBmcmFtZVdpZHRoLCBmcmFtZUhlaWdodDogZnJhbWVIZWlnaHQgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlQW5pbWF0aW9uKGtleSwgc3RhcnRGcmFtZSwgZW5kRnJhbWUsIGZyYW1lUmF0ZSwgcmVwZWF0ID0gLTEpIHtcclxuICAgICAgICB0aGlzLnNjZW5lLmFuaW1zLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgIGtleToga2V5LFxyXG4gICAgICAgICAgICBmcmFtZXM6IHRoaXMuc2NlbmUuYW5pbXMuZ2VuZXJhdGVGcmFtZU51bWJlcnModGhpcy5hbmltYXRpb25TcHJpdGVzaGVldCwgeyBzdGFydDogc3RhcnRGcmFtZSwgZW5kOiBlbmRGcmFtZSB9KSxcclxuICAgICAgICAgICAgZnJhbWVSYXRlOiBmcmFtZVJhdGUsICAvLyBQb25lciBtYXMgbyBtZW5vcyAxNiBvIGFzw61cclxuICAgICAgICAgICAgcmVwZWF0OiByZXBlYXRcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBhc3NpZ25TcHJpdGVUb1BsYXllcih4LCB5KSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc2NlbmUucGh5c2ljcy5hZGQuc3ByaXRlKHgsIHksIHRoaXMuYW5pbWF0aW9uU3ByaXRlc2hlZXQpO1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZVNwcml0ZSh4LCB5KSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc2NlbmUuYWRkLnNwcml0ZSh4LCB5LCB0aGlzLmFuaW1hdGlvblNwcml0ZXNoZWV0KTtcclxuICAgIH1cclxuICAgIFxyXG59IiwiaW1wb3J0IHsgQW5pbWF0b3IgfSBmcm9tIFwiLi4vY29tcG9uZW50cy9BbmltYXRvclwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEVuZW15IHtcclxuICAgIGNvbnN0cnVjdG9yKHNjZW5lLCBpZCwgeCwgeSwgcGxheWVycykge1xyXG4gICAgICAgIHRoaXMuc2NlbmUgPSBzY2VuZTtcclxuICAgICAgICB0aGlzLnggPSB4O1xyXG4gICAgICAgIHRoaXMueSA9IHk7XHJcbiAgICAgICAgdGhpcy5wbGF5ZXJzID0gcGxheWVycztcclxuICAgICAgICB0aGlzLmlkID0gaWQ7XHJcbiAgICAgICAgdGhpcy5iYXNlSGVpZ2h0ID0gMC4zMztcclxuICAgICAgICB0aGlzLmJhc2VXaWR0aCA9IDAuMzM7XHJcbiAgICAgICAgdGhpcy5iYXNlU3BlZWQgPSAxMDA7XHJcbiAgICAgICAgdGhpcy5pc0RlYWQgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgdGhpcy53ZWFrZW5lZCA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuY2hhc2luZ1BsYXllcklkID0gbnVsbDtcclxuXHJcbiAgICAgICAgdGhpcy5hbmltYXRvciA9IG5ldyBBbmltYXRvcih0aGlzLnNjZW5lLCAnc3ByaXRlc2hlZXQtZW5lbWlnby1yZWVzY2FsYWRvLW1pdGFkJyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJlbG9hZCgpIHtcclxuICAgICAgICB0aGlzLmFuaW1hdG9yLnByZWxvYWQoMzAwLCA0MDApO1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZSgpIHtcclxuXHJcbiAgICAgICAgdGhpcy5zcHJpdGUgPSB0aGlzLmFuaW1hdG9yLmFzc2lnblNwcml0ZVRvUGxheWVyKHRoaXMueCwgdGhpcy55KTtcclxuICAgICAgICB0aGlzLmFuaW1hdG9yLmNyZWF0ZUFuaW1hdGlvbihgaWRsZS1ibGFjay0ke3RoaXMuaWR9YCwgMCwgMiwgNSk7XHJcbiAgICAgICAgdGhpcy5hbmltYXRvci5jcmVhdGVBbmltYXRpb24oYGlkbGUtd2hpdGUtJHt0aGlzLmlkfWAsIDMsIDUsIDUpO1xyXG4gICAgICAgIHRoaXMuYW5pbWF0b3IuY3JlYXRlQW5pbWF0aW9uKGBibGFjay10by13aGl0ZS0ke3RoaXMuaWR9YCwgNiwgOCwgOCwgMCk7XHJcbiAgICAgICAgdGhpcy5hbmltYXRvci5jcmVhdGVBbmltYXRpb24oYHdoaXRlLXRvLWJsYWNrLSR7dGhpcy5pZH1gLCA2LCA4LCA4LCAwKTtcclxuICAgICAgICB0aGlzLmFuaW1hdG9yLmNyZWF0ZUFuaW1hdGlvbihgZGllLSR7dGhpcy5pZH1gLCA5LCAxMSwgOCwgMCk7XHJcblxyXG4gICAgICAgIHRoaXMuc3ByaXRlLm9uKFwiYW5pbWF0aW9uY29tcGxldGVcIiwgKGFuaW0pID0+IHtcclxuICAgICAgICAgICAgaWYgKGFuaW0ua2V5ID09PSBgZGllLSR7dGhpcy5pZH1gKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNwcml0ZS5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5zcHJpdGUuc2V0Q29sbGlkZVdvcmxkQm91bmRzKHRydWUpO1xyXG4gICAgICAgIHRoaXMuc3ByaXRlLmJvZHkuYWxsb3dHcmF2aXR5ID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5zcHJpdGUuYm9keS5zZXRHcmF2aXR5WSg1MDApO1xyXG4gICAgICAgIHRoaXMuc3ByaXRlLnNldERlcHRoKDEwKTtcclxuICAgICAgICB0aGlzLnNwcml0ZS5zZXRTY2FsZSh0aGlzLmJhc2VXaWR0aCwgdGhpcy5iYXNlSGVpZ2h0KTtcclxuICAgICAgICB0aGlzLnNwcml0ZS5ib2R5LnNldFNpemUodGhpcy5zcHJpdGUud2lkdGggLSAxNTAsIHRoaXMuc3ByaXRlLmhlaWdodCAtIDEzNSk7XHJcblxyXG4gICAgICAgIHRoaXMuc3ByaXRlLmFuaW1zLnBsYXkoYGlkbGUtYmxhY2stJHt0aGlzLmlkfWApO1xyXG4gICAgfVxyXG4gICAgZW5lbXlNb3ZlbWVudCgpIHtcclxuICAgICAgICB0aGlzLnBpY2tQbGF5ZXIoKTtcclxuXHJcbiAgICAgICAgLy8gT2J0ZW5lbW9zIGxhIGRpcmVjY2nDs24gaGFjaWEgZWwganVnYWRvclxyXG4gICAgICAgIGNvbnN0IGR4ID0gdGhpcy5wbGF5ZXJzLmdldCh0aGlzLmNoYXNpbmdQbGF5ZXJJZCkuc3ByaXRlLnggLSB0aGlzLnNwcml0ZS54O1xyXG4gICAgICAgIGNvbnN0IGR5ID0gdGhpcy5wbGF5ZXJzLmdldCh0aGlzLmNoYXNpbmdQbGF5ZXJJZCkuc3ByaXRlLnkgLSB0aGlzLnNwcml0ZS55O1xyXG4gICAgICAgIGNvbnN0IGRpc3RhbmNlID0gTWF0aC5zcXJ0KGR4ICogZHggKyBkeSAqIGR5KTtcclxuXHJcbiAgICAgICAgLy8gbW92ZSB0b3dhcmRzIHRoZSBwbGF5ZXJcclxuICAgICAgICB0aGlzLnNwcml0ZS5mbGlwWCA9IHRoaXMucGxheWVycy5nZXQodGhpcy5jaGFzaW5nUGxheWVySWQpLnNwcml0ZS54IDwgdGhpcy5zcHJpdGUueDtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMud2Vha2VuZWQgfHwgTWF0aC5hYnModGhpcy5wbGF5ZXJzLmdldCh0aGlzLmNoYXNpbmdQbGF5ZXJJZCkuc3ByaXRlLnggLSB0aGlzLnNwcml0ZS54KSA+IDUwMCB8fCBNYXRoLmFicyh0aGlzLnBsYXllcnMuZ2V0KHRoaXMuY2hhc2luZ1BsYXllcklkKS5zcHJpdGUueSAtIHRoaXMuc3ByaXRlLnkpID4gNTAwKSB7IC8vIENoZWNrIGlmIHRoZSBwbGF5ZXIgaXMgdG9vIGZhciBhd2F5XHJcbiAgICAgICAgICAgIHRoaXMuYmFzZVNwZWVkID0gMDtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmJhc2VTcGVlZCA9IDEwMDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIENhbGN1bGFtb3MgZWwgdmVjdG9yIG5vcm1hbGl6YWRvIHkgYXBsaWNhbW9zIHZlbG9jaWRhZFxyXG4gICAgICAgIGlmIChkaXN0YW5jZSA+IDI1ICYmIHRoaXMuYmFzZVNwZWVkID4gMCkge1xyXG4gICAgICAgICAgICB0aGlzLm1vdmVtZW50VmVjdG9yID0ge1xyXG4gICAgICAgICAgICAgICAgeDogZHggLyBkaXN0YW5jZSxcclxuICAgICAgICAgICAgICAgIHk6IGR5IC8gZGlzdGFuY2VcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgdGhpcy5zcHJpdGUuc2V0VmVsb2NpdHlYKHRoaXMubW92ZW1lbnRWZWN0b3IueCAqIHRoaXMuYmFzZVNwZWVkKTtcclxuICAgICAgICAgICAgdGhpcy5zcHJpdGUuc2V0VmVsb2NpdHlZKHRoaXMubW92ZW1lbnRWZWN0b3IueSAqIHRoaXMuYmFzZVNwZWVkKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLm1vdmVtZW50VmVjdG9yID0geyB4OiAwLCB5OiAwIH07XHJcbiAgICAgICAgICAgIHRoaXMuc3ByaXRlLnNldFZlbG9jaXR5KDApO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG4gICAgcmVjZWl2ZUVuZW15TW92bWVudChtb3ZlbWVudFZlY3RvciwgcGxheWVySWQsIHgsIHkpIHtcclxuICAgICAgICBjb25zdCB0YXJnZXRQbGF5ZXIgPSB0aGlzLnBsYXllcnMuZ2V0KHBsYXllcklkKTtcclxuICAgICAgICBpZiAoIXRhcmdldFBsYXllciB8fCAhdGFyZ2V0UGxheWVyLnNwcml0ZSkgcmV0dXJuO1xyXG5cclxuICAgICAgICB0aGlzLnNwcml0ZS5mbGlwWCA9IHRhcmdldFBsYXllci5zcHJpdGUueCA8IHRoaXMuc3ByaXRlLng7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLndlYWtlbmVkIHx8IE1hdGguYWJzKHRhcmdldFBsYXllci5zcHJpdGUueCAtIHRoaXMuc3ByaXRlLngpID4gNTAwIHx8IE1hdGguYWJzKHRhcmdldFBsYXllci5zcHJpdGUueSAtIHRoaXMuc3ByaXRlLnkpID4gNTAwKSB7IC8vIENoZWNrIGlmIHRoZSBwbGF5ZXIgaXMgdG9vIGZhciBhd2F5XHJcbiAgICAgICAgICAgIHRoaXMuYmFzZVNwZWVkID0gMDtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmJhc2VTcGVlZCA9IDEwMDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFN5bmMgbG9jYWwgcG9zaXRpb24gd2l0aCBob3N0IHBvc2l0aW9uIHRvIGZpeCBkcmlmdFxyXG4gICAgICAgIGlmICh4ICE9PSB1bmRlZmluZWQgJiYgeSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIGlmIChNYXRoLmFicyh0aGlzLnNwcml0ZS54IC0geCkgPiAxMCB8fCBNYXRoLmFicyh0aGlzLnNwcml0ZS55IC0geSkgPiAxMCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zcHJpdGUuc2V0UG9zaXRpb24oeCwgeSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMubW92ZW1lbnRWZWN0b3IgPSBtb3ZlbWVudFZlY3RvcjtcclxuICAgICAgICB0aGlzLnNwcml0ZS5zZXRWZWxvY2l0eVgodGhpcy5tb3ZlbWVudFZlY3Rvci54ICogdGhpcy5iYXNlU3BlZWQpO1xyXG4gICAgICAgIHRoaXMuc3ByaXRlLnNldFZlbG9jaXR5WSh0aGlzLm1vdmVtZW50VmVjdG9yLnkgKiB0aGlzLmJhc2VTcGVlZCk7XHJcbiAgICB9XHJcblxyXG4gICAgcGlja1BsYXllcigpIHtcclxuICAgICAgICBjb25zdCBwMSA9IHRoaXMucGxheWVycy5nZXQoJ3BsYXllcjEnKTtcclxuICAgICAgICBjb25zdCBwMiA9IHRoaXMucGxheWVycy5nZXQoJ3BsYXllcjInKTtcclxuXHJcbiAgICAgICAgaWYgKCFwMSB8fCAhcDIgfHwgIXAxLnNwcml0ZSB8fCAhcDIuc3ByaXRlKSByZXR1cm47IC8vIFZhbGlkYWNpw7NuIGRlIHNlZ3VyaWRhZFxyXG5cclxuICAgICAgICB0aGlzLmNoYXNpbmdQbGF5ZXJJZCA9IChNYXRoLmFicyhwMS5zcHJpdGUueCAtIHRoaXMuc3ByaXRlLngpKSA+IChNYXRoLmFicyhwMi5zcHJpdGUueCAtIHRoaXMuc3ByaXRlLngpKSA/ICdwbGF5ZXIyJyA6ICdwbGF5ZXIxJztcclxuXHJcbiAgICAgICAgY29uc3QgdGFyZ2V0ID0gdGhpcy5wbGF5ZXJzLmdldCh0aGlzLmNoYXNpbmdQbGF5ZXJJZCk7XHJcbiAgICAgICAgaWYgKHRhcmdldCAmJiB0YXJnZXQuaGVhbHRoIDw9IDApIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuY2hhc2luZ1BsYXllcklkID09PSAncGxheWVyMScpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2hhc2luZ1BsYXllcklkID0gJ3BsYXllcjInO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jaGFzaW5nUGxheWVySWQgPSAncGxheWVyMSc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZGllKCkge1xyXG4gICAgICAgIHRoaXMuc3ByaXRlLnNldFZlbG9jaXR5KDApO1xyXG4gICAgICAgIHRoaXMuc3ByaXRlLmFuaW1zLnBsYXkoYGRpZS0ke3RoaXMuaWR9YCk7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIHNldFdlYWtlbmVkKHZhbHVlKSB7XHJcbiAgICAgICAgdGhpcy53ZWFrZW5lZCA9IHZhbHVlO1xyXG4gICAgICAgIGlmICh2YWx1ZSkge1xyXG4gICAgICAgICAgICB0aGlzLnNwcml0ZS5hbmltcy5wbGF5KGBibGFjay10by13aGl0ZS0ke3RoaXMuaWR9YCk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnNwcml0ZS5vbihcImFuaW1hdGlvbmNvbXBsZXRlXCIsIChhbmltKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoYW5pbS5rZXkgPT09IGBibGFjay10by13aGl0ZS0ke3RoaXMuaWR9YCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3ByaXRlLmFuaW1zLnBsYXkoYGlkbGUtd2hpdGUtJHt0aGlzLmlkfWApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG5cclxuICAgICAgICAgICAgdGhpcy5zcHJpdGUuYW5pbXMucGxheShgaWRsZS1ibGFjay0ke3RoaXMuaWR9YCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGUoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNEZWFkKSByZXR1cm47XHJcbiAgICAgICAgdGhpcy5lbmVteU1vdmVtZW50KCk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgUGhhc2VyIGZyb20gJ3BoYXNlcic7XHJcbmV4cG9ydCBjbGFzcyBDYW1lcmEge1xyXG4gICAgY29uc3RydWN0b3Ioc2NlbmUsIHBsYXllcnMpIHtcclxuICAgICAgICB0aGlzLnNjZW5lID0gc2NlbmU7XHJcbiAgICAgICAgdGhpcy5wbGF5ZXJzID0gcGxheWVycztcclxuICAgICAgICB0aGlzLmNhbWVyYSA9IHRoaXMuc2NlbmUuY2FtZXJhcy5tYWluO1xyXG5cclxuICAgICAgICB0aGlzLmNhbUxlZnQgPSB0aGlzLmNhbWVyYS5zY3JvbGxYO1xyXG4gICAgICAgIHRoaXMuY2FtUmlnaHQgPSB0aGlzLmNhbWVyYS5zY3JvbGxYICsgdGhpcy5jYW1lcmEud2lkdGg7XHJcbiAgICAgICAgdGhpcy5tYXJnaW4gPSAyMDtcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGUoKSB7XHJcbiAgICAgICAgdGhpcy5jYW1MZWZ0ID0gdGhpcy5jYW1lcmEuc2Nyb2xsWDtcclxuICAgICAgICB0aGlzLmNhbVJpZ2h0ID0gdGhpcy5jYW1lcmEuc2Nyb2xsWCArIHRoaXMuY2FtZXJhLndpZHRoO1xyXG5cclxuICAgICAgICB0aGlzLnBsYXllcnMuZ2V0KCdwbGF5ZXIxJykuc3ByaXRlLnggPSBQaGFzZXIuTWF0aC5DbGFtcCh0aGlzLnBsYXllcnMuZ2V0KCdwbGF5ZXIxJykuc3ByaXRlLngsIHRoaXMuY2FtTGVmdCArIHRoaXMubWFyZ2luLCB0aGlzLmNhbVJpZ2h0IC0gdGhpcy5tYXJnaW4pO1xyXG4gICAgICAgIHRoaXMucGxheWVycy5nZXQoJ3BsYXllcjInKS5zcHJpdGUueCA9IFBoYXNlci5NYXRoLkNsYW1wKHRoaXMucGxheWVycy5nZXQoJ3BsYXllcjInKS5zcHJpdGUueCwgdGhpcy5jYW1MZWZ0ICsgdGhpcy5tYXJnaW4sIHRoaXMuY2FtUmlnaHQgLSB0aGlzLm1hcmdpbik7XHJcbiAgICAgICAgXHJcbiAgICAgICAgY29uc3QgbWlkWCA9ICh0aGlzLnBsYXllcnMuZ2V0KCdwbGF5ZXIxJykuc3ByaXRlLnggKyB0aGlzLnBsYXllcnMuZ2V0KCdwbGF5ZXIyJykuc3ByaXRlLngpIC8gMjtcclxuICAgICAgICBjb25zdCB0YXJnZXRMZWZ0ICA9IG1pZFggLSB0aGlzLmNhbWVyYS53aWR0aCAqIDAuNTtcclxuICAgICAgICBjb25zdCB0YXJnZXRSaWdodCA9IG1pZFggKyB0aGlzLmNhbWVyYS53aWR0aCAqIDAuNTtcclxuXHJcbiAgICAgICAgY29uc3QgYXJ0aHVySW5zaWRlQWZ0ZXJNb3ZlID0gXHJcbiAgICAgICAgICAgIHRoaXMucGxheWVycy5nZXQoJ3BsYXllcjEnKS5zcHJpdGUueCA+IHRhcmdldExlZnQgKyB0aGlzLm1hcmdpbiAmJlxyXG4gICAgICAgICAgICB0aGlzLnBsYXllcnMuZ2V0KCdwbGF5ZXIxJykuc3ByaXRlLnggPCB0YXJnZXRSaWdodCAtIHRoaXMubWFyZ2luO1xyXG5cclxuICAgICAgICBjb25zdCBsdWN5SW5zaWRlQWZ0ZXJNb3ZlID1cclxuICAgICAgICAgICAgdGhpcy5wbGF5ZXJzLmdldCgncGxheWVyMicpLnNwcml0ZS54ID4gdGFyZ2V0TGVmdCArIHRoaXMubWFyZ2luICYmXHJcbiAgICAgICAgICAgIHRoaXMucGxheWVycy5nZXQoJ3BsYXllcjInKS5zcHJpdGUueCA8IHRhcmdldFJpZ2h0IC0gdGhpcy5tYXJnaW47XHJcblxyXG4gICAgICAgIGlmIChhcnRodXJJbnNpZGVBZnRlck1vdmUgJiYgbHVjeUluc2lkZUFmdGVyTW92ZSkge1xyXG4gICAgICAgICAgICB0aGlzLmNhbWVyYS5zY3JvbGxYID0gTWF0aC5yb3VuZChcclxuICAgICAgICAgICAgICAgIFBoYXNlci5NYXRoLkxpbmVhcih0aGlzLmNhbWVyYS5zY3JvbGxYLCBtaWRYIC0gdGhpcy5jYW1lcmEud2lkdGgvMiwgMC4xKVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH1cclxuICAgIH0gICBcclxufSAgIiwiZXhwb3J0IGNsYXNzIFBsYXRmb3JtIHtcclxuICAgIGNvbnN0cnVjdG9yKHNjZW5lLCBpZCwgeCwgeSwgd2lkdGgsIGhlaWdodCwgdGV4dHVyZUtleSkge1xyXG4gICAgICAgIHRoaXMuc2NlbmUgPSBzY2VuZTtcclxuICAgICAgICB0aGlzLmlkID0gaWQ7XHJcblxyXG4gICAgICAgIHRoaXMuc3ByaXRlID0gc2NlbmUuYWRkLmltYWdlKHgsIHksIHRleHR1cmVLZXkpO1xyXG4gICAgICAgIHRoaXMuc3ByaXRlLnNldE9yaWdpbigwLjUsIDAuNSk7XHJcbiAgICAgICAgdGhpcy5zcHJpdGUuc2V0RGVwdGgoMTApO1xyXG4gICAgICAgIHRoaXMuc3ByaXRlLnNldERpc3BsYXlTaXplKHdpZHRoLCBoZWlnaHQpO1xyXG5cclxuICAgICAgICBzY2VuZS5waHlzaWNzLmFkZC5leGlzdGluZyh0aGlzLnNwcml0ZSwgdHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5zcHJpdGUuYm9keS5zZXRTaXplKHdpZHRoLCBoZWlnaHQpO1xyXG5cclxuICAgICAgICAvLyBEaWJ1am8gdmlzdWFsIHBhcmEgZGVwdXJhciBjb2xpc2nDs25cclxuICAgICAgICB0aGlzLmcgPSBzY2VuZS5hZGQuZ3JhcGhpY3MoKTtcclxuICAgICAgICB0aGlzLmcuZmlsbFN0eWxlKDB4MDAwMDAwLCAwLjApO1xyXG4gICAgICAgIHRoaXMuZy5maWxsUmVjdCh4IC0gd2lkdGgvMiwgeSAtIGhlaWdodC8yLCB3aWR0aCAtIDEwLCBoZWlnaHQgLSAxMCk7XHJcbiAgICAgICAgdGhpcy5nLnNldERlcHRoKDApO1xyXG5cclxuICAgICAgICB0aGlzLnNldFVwQ29sbGlzaW9ucygpO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBzZXRVcENvbGxpc2lvbnMoKXtcclxuICAgICAgICB0aGlzLnNjZW5lLnBoeXNpY3MuYWRkLmV4aXN0aW5nKHRoaXMuZywgdHJ1ZSk7XHJcbiAgICB9XHJcbn1cclxuXHJcbiAgICBcclxuIiwiaW1wb3J0IHsgQW5pbWF0b3IgfSBmcm9tIFwiLi4vY29tcG9uZW50cy9BbmltYXRvclwiO1xyXG5pbXBvcnQgeyBjbGllbnREYXRhTWFuYWdlciB9IGZyb20gXCIuLi9zZXJ2aWNlcy9jbGllbnREYXRhTWFuYWdlclwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFBsYXllciB7XHJcblxyXG4gICAgY29uc3RydWN0b3Ioc2NlbmUsIGlkLCBncmF2aXR5LCB4UG9zLCB5UG9zLCBzcHJpdGVTaGVldCA9IG51bGwpIHtcclxuICAgICAgICB0aGlzLmlkID0gaWQ7XHJcbiAgICAgICAgdGhpcy5zY2VuZSA9IHNjZW5lO1xyXG4gICAgICAgIHRoaXMuZ3Jhdml0eSA9IGdyYXZpdHk7XHJcbiAgICAgICAgdGhpcy5iYXNlSGVpZ2h0ID0gMC4zMztcclxuICAgICAgICB0aGlzLmJhc2VXaWR0aCA9IDAuMzM7XHJcbiAgICAgICAgdGhpcy5iYXNlU3BlZWQgPSAzMDA7XHJcbiAgICAgICAgdGhpcy5qdW1wRm9yY2UgPSA0NTA7XHJcbiAgICAgICAgdGhpcy5oZWFsdGggPSAxMDA7XHJcbiAgICAgICAgdGhpcy5pbnZ1bG5lcmFibGUgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnhQb3MgPSB4UG9zO1xyXG4gICAgICAgIHRoaXMueVBvcyA9IHlQb3M7XHJcbiAgICAgICAgdGhpcy5pc0RlYWQgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLm51bURlYXRocyA9IGNsaWVudERhdGFNYW5hZ2VyLmRlYXRocztcclxuXHJcbiAgICAgICAgdGhpcy5jdXJyZW50RGlyZWN0aW9uID0gJ2lkbGUnO1xyXG4gICAgICAgIHRoaXMuY3VycmVudEFuaW0gPSBudWxsO1xyXG5cclxuICAgICAgICB0aGlzLmFuaW1hdG9yID0gbmV3IEFuaW1hdG9yKHRoaXMuc2NlbmUsIHNwcml0ZVNoZWV0KVxyXG4gICAgfVxyXG5cclxuICAgIHByZWxvYWQod2lkdGgsIGhlaWdodCkge1xyXG4gICAgICAgIHRoaXMuYW5pbWF0b3IucHJlbG9hZCh3aWR0aCwgaGVpZ2h0KTtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGUoKSB7XHJcbiAgICAgICAgLy8gQ3JlYXIgbGFzIGFuaW1hY2lvbmVzIGRlbCBqdWdhZG9yIGFxdcOtXHJcbiAgICAgICAgdGhpcy5zcHJpdGUgPSB0aGlzLmFuaW1hdG9yLmFzc2lnblNwcml0ZVRvUGxheWVyKHRoaXMueFBvcywgdGhpcy55UG9zKTtcclxuICAgICAgICB0aGlzLmFuaW1hdG9yLmNyZWF0ZUFuaW1hdGlvbihgaWRsZS0ke3RoaXMuaWR9YCwgMCwgMywgNCk7XHJcbiAgICAgICAgdGhpcy5hbmltYXRvci5jcmVhdGVBbmltYXRpb24oYHdhbGstJHt0aGlzLmlkfWAsIDQsIDcsIDUpO1xyXG4gICAgICAgIHRoaXMuYW5pbWF0b3IuY3JlYXRlQW5pbWF0aW9uKGBqdW1wLSR7dGhpcy5pZH1gLCA4LCA4LCA0LCAwKTtcclxuICAgICAgICB0aGlzLmFuaW1hdG9yLmNyZWF0ZUFuaW1hdGlvbihgYWlyLSR7dGhpcy5pZH1gLCA5LCAxMCwgMSwgMCk7XHJcbiAgICAgICAgdGhpcy5hbmltYXRvci5jcmVhdGVBbmltYXRpb24oYGZhbGwtJHt0aGlzLmlkfWAsIDEwLCAxMCwgMSwgMCk7XHJcbiAgICAgICAgdGhpcy5hbmltYXRvci5jcmVhdGVBbmltYXRpb24oYGF0dGFjay0ke3RoaXMuaWR9YCwgMTIsIDEzLCAyLCAwKTtcclxuXHJcbiAgICAgICAgdGhpcy5zcHJpdGUub24oXCJhbmltYXRpb25jb21wbGV0ZVwiLCAoYW5pbSkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoYW5pbS5rZXkgPT09IGBqdW1wLSR7dGhpcy5pZH1gKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLnNwcml0ZS5ib2R5Lm9uRmxvb3IoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGxheUFuaW0oYGFpci0ke3RoaXMuaWR9YCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5zcHJpdGUub24oXCJhbmltYXRpb251cGRhdGVcIiwgKGFuaW0pID0+IHtcclxuICAgICAgICAgICAgaWYgKGFuaW0ua2V5ID09PSBgYWlyLSR7dGhpcy5pZH1gKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zcHJpdGUuYm9keS5vbkZsb29yKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBsYXlBbmltKGBmYWxsLSR7dGhpcy5pZH1gKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLnNwcml0ZS5zZXRTY2FsZSh0aGlzLmJhc2VXaWR0aCwgdGhpcy5iYXNlSGVpZ2h0KTtcclxuXHJcbiAgICAgICAgdGhpcy5zcHJpdGUuc2V0Q29sbGlkZVdvcmxkQm91bmRzKHRydWUpO1xyXG4gICAgICAgIHRoaXMuc3ByaXRlLmJvZHkuYWxsb3dHcmF2aXR5ID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLnNwcml0ZS5ib2R5LnNldEdyYXZpdHlZKHRoaXMuZ3Jhdml0eSk7XHJcbiAgICAgICAgdGhpcy5zcHJpdGUuYm9keS5zZXRTaXplKHRoaXMuc3ByaXRlLndpZHRoIC0gMTYwLCB0aGlzLnNwcml0ZS5oZWlnaHQgLSAxNDApO1xyXG4gICAgICAgIHRoaXMuc3ByaXRlLmJvZHkuc2V0T2Zmc2V0KDc1LCAxMzUpO1xyXG4gICAgICAgIHRoaXMuc3ByaXRlLnNldERlcHRoKDUpO1xyXG4gICAgICAgIHRoaXMuc3ByaXRlLnBsYXkoYGlkbGUtJHt0aGlzLmlkfWApO1xyXG4gICAgfVxyXG5cclxuICAgIHBsYXlBbmltKGtleSkge1xyXG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRBbmltICE9PSBrZXkpIHtcclxuICAgICAgICAgICAgdGhpcy5zcHJpdGUucGxheShrZXksIHRydWUpO1xyXG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRBbmltID0ga2V5O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBob3Jpem9udGFsTW92ZShkaXJlY3Rpb24pIHtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuaGVhbHRoIDw9IDApIHJldHVybjtcclxuICAgICAgICB0aGlzLmN1cnJlbnREaXJlY3Rpb24gPSBkaXJlY3Rpb247XHJcbiAgICAgICAgdGhpcy5zcHJpdGUuZmxpcFggPSAoZGlyZWN0aW9uID09PSAnbGVmdCcpO1xyXG5cclxuICAgICAgICAvLyBNb3ZlclxyXG4gICAgICAgIHRoaXMuc3ByaXRlLnNldFZlbG9jaXR5WChkaXJlY3Rpb24gPT09ICdsZWZ0JyA/IC10aGlzLmJhc2VTcGVlZCA6IHRoaXMuYmFzZVNwZWVkKTtcclxuXHJcblxyXG4gICAgICAgIGlmICh0aGlzLnNwcml0ZS5ib2R5Lm9uRmxvb3IoKSAmJiB0aGlzLmN1cnJlbnRBbmltICE9PSBganVtcC0ke3RoaXMuaWR9YCAmJiB0aGlzLmN1cnJlbnRBbmltICE9PSBgYXR0YWNrLSR7dGhpcy5pZH1gKSB7XHJcbiAgICAgICAgICAgIHRoaXMucGxheUFuaW0oYHdhbGstJHt0aGlzLmlkfWApO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBqdW1wKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmNhbkp1bXAoKSkge1xyXG4gICAgICAgICAgICB0aGlzLnNwcml0ZS5zZXRWZWxvY2l0eVkoLXRoaXMuanVtcEZvcmNlKTtcclxuICAgICAgICAgICAgdGhpcy5wbGF5QW5pbShganVtcC0ke3RoaXMuaWR9YCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuXHJcbiAgICBpZGxlKCkge1xyXG4gICAgICAgIHRoaXMuc3ByaXRlLnNldFZlbG9jaXR5WCgwKTtcclxuICAgICAgICAvLyBObyBwb25lciBpZGxlIHNpIGVzdMOhcyBlbiBlbCBhaXJlXHJcbiAgICAgICAgaWYgKHRoaXMuc3ByaXRlLmJvZHkub25GbG9vcigpICYmIHRoaXMuY3VycmVudEFuaW0gIT09IGBqdW1wLSR7dGhpcy5pZH1gICYmIHRoaXMuY3VycmVudEFuaW0gIT09IGBmYWxsLSR7dGhpcy5pZH1gICYmIHRoaXMuY3VycmVudEFuaW0gIT09IGBhdHRhY2stJHt0aGlzLmlkfWAgJiYgIXRoaXMuaXNEZWFkKSB7XHJcbiAgICAgICAgICAgIHRoaXMucGxheUFuaW0oYGlkbGUtJHt0aGlzLmlkfWApO1xyXG4gICAgICAgICAgICB0aGlzLmN1cnJlbnREaXJlY3Rpb24gPSAnaWRsZSc7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuXHJcbiAgICBnZXRIaXQoZGFtYWdlKSB7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmludnVsbmVyYWJsZSkgcmV0dXJuO1xyXG5cclxuICAgICAgICB0aGlzLmhlYWx0aCAtPSBkYW1hZ2U7XHJcbiAgICAgICAgdGhpcy5pbnZ1bG5lcmFibGUgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuc3ByaXRlLnNldFRpbnQoMHg4MDgwODApOyAgLy8gR3Jpc1xyXG5cclxuICAgICAgICBpZiAoIXRoaXMuY2hlY2tBbGl2ZSgpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaGVhbHRoID0gMDtcclxuICAgICAgICAgICAgdGhpcy5iYXNlU3BlZWQgPSAwO1xyXG4gICAgICAgICAgICB0aGlzLnNwcml0ZS5zZXRUaW50KDB4MDAwMDAwKTtcclxuICAgICAgICAgICAgdGhpcy5zcHJpdGUuYW5pbXMucGF1c2UoKTtcclxuICAgICAgICAgICAgdGhpcy5pbnZ1bG5lcmFibGUgPSBmYWxzZTtcclxuICAgICAgICAgICAgdGhpcy5pc0RlYWQgPSB0cnVlO1xyXG4gICAgICAgICAgICB0aGlzLmlzQXR0YWNraW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHRoaXMubnVtRGVhdGhzKys7XHJcbiAgICAgICAgICAgIHRoaXMudXBkYXRlRGVhdGhzKCk7XHJcbiAgICAgICAgICAgIGNsaWVudERhdGFNYW5hZ2VyLnVwZGF0ZUNsaWVudERlYXRocyh0aGlzLm51bURlYXRocyk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFZvbHZlciB2dWxuZXJhYmxlIHRyYXMgMiBzZWd1bmRvc1xyXG4gICAgICAgIHRoaXMuc2NlbmUudGltZS5kZWxheWVkQ2FsbCgyMDAwLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuaW52dWxuZXJhYmxlID0gZmFsc2U7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV2aXZlKCkge1xyXG4gICAgICAgIHRoaXMuaGVhbHRoID0gMTAwO1xyXG4gICAgICAgIHRoaXMuYmFzZVNwZWVkID0gMzAwO1xyXG4gICAgICAgIHRoaXMuaXNEZWFkID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5pbnZ1bG5lcmFibGUgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnNwcml0ZS5jbGVhclRpbnQoKTtcclxuICAgICAgICB0aGlzLnNwcml0ZS5hbmltcy5yZXN1bWUoKTtcclxuICAgICAgICB0aGlzLmludnVsbmVyYWJsZSA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5pc0F0dGFja2luZyA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMucGxheUFuaW0oYGlkbGUtJHt0aGlzLmlkfWApO1xyXG5cclxuICAgICAgICB0aGlzLnNjZW5lLnRpbWUuZGVsYXllZENhbGwoMTAwMCwgKCkgPT4geyB0aGlzLmludnVsbmVyYWJsZSA9IGZhbHNlIH0pXHJcbiAgICB9XHJcblxyXG4gICAgY2hlY2tBbGl2ZSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5oZWFsdGggPiAwO1xyXG4gICAgfVxyXG5cclxuICAgIGNhbkp1bXAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc3ByaXRlLmJvZHkub25GbG9vcigpICYmIHRoaXMuY2hlY2tBbGl2ZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIGF0dGFjaygpIHtcclxuICAgICAgICAvLyBJbXBsZW1lbnRhciBlbiBsYXMgY2xhc2VzIGhpamFzXHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgdXBkYXRlRGVhdGhzKCkge1xyXG4gICAgICAgIGF3YWl0IGNsaWVudERhdGFNYW5hZ2VyLnVwZGF0ZUNsaWVudERhdGEoeyBkZWF0aHM6IHRoaXMubnVtRGVhdGhzIH0pO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgUGxheWVyIH0gZnJvbSBcIi4vUGxheWVyXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgTHVjeSBleHRlbmRzIFBsYXllciB7XHJcbiAgICBjb25zdHJ1Y3RvcihzY2VuZSwgaWQsIGdyYXZpdHksIHhQb3MsIHlQb3MsIHNwcml0ZVNoZWV0ID0gbnVsbCkge1xyXG4gICAgICAgIHN1cGVyKHNjZW5lLCBpZCwgZ3Jhdml0eSwgeFBvcywgeVBvcywgc3ByaXRlU2hlZXQpO1xyXG4gICAgICAgIHRoaXMuYXR0YWNrSGl0Ym94ID0gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGUoKSB7XHJcbiAgICAgICAgc3VwZXIuY3JlYXRlKCk7XHJcbiAgICAgICAgdGhpcy5hdHRhY2tIaXRib3ggPSB0aGlzLnNjZW5lLnBoeXNpY3MuYWRkLnNwcml0ZSgwLCAwLCBudWxsKVxyXG4gICAgICAgICAgICAuc2V0U2l6ZSg1MCwgMjApXHJcbiAgICAgICAgICAgIC5zZXRWaXNpYmxlKGZhbHNlKVxyXG4gICAgICAgICAgICAuc2V0SW1tb3ZhYmxlKHRydWUpO1xyXG5cclxuICAgICAgICB0aGlzLmlzQXR0YWNraW5nID0gZmFsc2U7XHJcblxyXG5cclxuICAgICAgICB0aGlzLnNwcml0ZS5vbihcImFuaW1hdGlvbmNvbXBsZXRlXCIsIChhbmltKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChhbmltLmtleSA9PT0gYGF0dGFjay0ke3RoaXMuaWR9YCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pc0F0dGFja2luZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wbGF5QW5pbShgaWRsZS0ke3RoaXMuaWR9YCk7IC8vIG8gd2FsayBzaSB0ZSBtdWV2ZXNcclxuICAgICAgICAgICAgICAgIHRoaXMuYXR0YWNrSGl0Ym94LnNldFBvc2l0aW9uKC0xMDAsIC0xMDApOyAvLyBzYWNhciBlbCBoaXRib3ggZGUgbGEgcGFudGFsbGFcclxuXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5zcHJpdGUub24oXCJhbmltYXRpb251cGRhdGVcIiwgKGFuaW0pID0+IHtcclxuICAgICAgICAgICAgaWYgKGFuaW0ua2V5ID09PSBgYXR0YWNrLSR7dGhpcy5pZH1gKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUhpdGJveCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIEVuIGVsIGNyZWF0ZSBkZSBsYSBlc2NlbmEgY29uZmlndXJhciBsb3MgT1ZFUkxBUFMgY29uIGxvcyBlbmVtaWdvc1xyXG4gICAgfVxyXG5cclxuICAgIGdldEhpdChkYW1hZ2UpIHtcclxuICAgICAgICBzdXBlci5nZXRIaXQoZGFtYWdlKTtcclxuICAgICAgICB0aGlzLmlzQXR0YWNraW5nID0gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlSGl0Ym94KCkge1xyXG4gICAgICAgIGNvbnN0IG9mZnNldFggPSB0aGlzLnNwcml0ZS5mbGlwWCA/IC0yMCA6IDIwO1xyXG4gICAgICAgIHRoaXMuYXR0YWNrSGl0Ym94LnNldFBvc2l0aW9uKFxyXG4gICAgICAgICAgICB0aGlzLnNwcml0ZS54ICsgb2Zmc2V0WCxcclxuICAgICAgICAgICAgdGhpcy5zcHJpdGUueVxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgYXR0YWNrKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmlzQXR0YWNraW5nKSByZXR1cm47IC8vIGV2aXRhIHNwYW1lb1xyXG5cclxuICAgICAgICB0aGlzLnVwZGF0ZUhpdGJveCgpO1xyXG4gICAgICAgIHRoaXMuaXNBdHRhY2tpbmcgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuc3ByaXRlLnNldFZlbG9jaXR5WCgwKTsgLy8gb3BjaW9uYWxcclxuICAgICAgICB0aGlzLnBsYXlBbmltKGBhdHRhY2stJHt0aGlzLmlkfWApO1xyXG4gICAgfVxyXG59IiwiZXhwb3J0IGNsYXNzIExpZ2h0IHtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihzY2VuZSwgaWQsIHBsYXllciwgcmFkaXVzLCBjb2xvcikge1xyXG5cclxuICAgICAgICB0aGlzLmlkID0gaWQ7XHJcbiAgICAgICAgdGhpcy5zY2VuZSA9IHNjZW5lO1xyXG4gICAgICAgIHRoaXMucGxheWVyID0gcGxheWVyO1xyXG4gICAgICAgIHRoaXMucmFkaXVzID0gcmFkaXVzO1xyXG4gICAgICAgIHRoaXMuY29sb3IgPSBjb2xvcjtcclxuICAgICAgICB0aGlzLmlzT24gPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmNhblBlcmZvcm0gPSB0cnVlO1xyXG5cclxuICAgICAgICB0aGlzLmNvbGxpZGVyQ2lyY2xlID0gbnVsbDtcclxuICAgICAgICBcclxuICAgIH1cclxuICAgIGNyZWF0ZSgpIHtcclxuICAgICAgICAvLyBDw41SQ1VMTyBGw41TSUNPXHJcbiAgICAgICAgdGhpcy5jb2xsaWRlckNpcmNsZSA9IHRoaXMuc2NlbmUuYWRkLmNpcmNsZShcclxuICAgICAgICAgICAgdGhpcy5wbGF5ZXIuc3ByaXRlLngsXHJcbiAgICAgICAgICAgIHRoaXMucGxheWVyLnNwcml0ZS55LFxyXG4gICAgICAgICAgICB0aGlzLnJhZGl1c1xyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIHRoaXMuc2NlbmUucGh5c2ljcy5hZGQuZXhpc3RpbmcodGhpcy5jb2xsaWRlckNpcmNsZSk7XHJcbiAgICAgICAgdGhpcy5jb2xsaWRlckNpcmNsZS5ib2R5LnNldENpcmNsZSh0aGlzLnJhZGl1cyk7XHJcbiAgICAgICAgdGhpcy5jb2xsaWRlckNpcmNsZS5ib2R5LnNldEFsbG93R3Jhdml0eShmYWxzZSk7XHJcbiAgICAgICAgdGhpcy5jb2xsaWRlckNpcmNsZS5ib2R5LnNldEltbW92YWJsZSh0cnVlKTtcclxuXHJcbiAgICAgICAgLy8gR3LDoWZpY29zIHZpc3VhbGVzXHJcbiAgICAgICAgdGhpcy5ncmFwaGljcyA9IHRoaXMuc2NlbmUuYWRkLmdyYXBoaWNzKCk7XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlKCkge1xyXG5cclxuICAgICAgICAvLyBTZWd1aXIgYWwganVnYWRvclxyXG4gICAgICAgIGNvbnN0IHggPSB0aGlzLnBsYXllci5zcHJpdGUueDtcclxuICAgICAgICBjb25zdCB5ID0gdGhpcy5wbGF5ZXIuc3ByaXRlLnk7XHJcblxyXG4gICAgICAgIHRoaXMuY29sbGlkZXJDaXJjbGUuc2V0UG9zaXRpb24oeCwgeSk7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmlzT24pIHsgICBcclxuICAgICAgICAgICAgdGhpcy5ncmFwaGljcy5jbGVhcigpO1xyXG4gICAgICAgICAgICB0aGlzLmdyYXBoaWNzLmZpbGxTdHlsZSh0aGlzLmNvbG9yLCAwLjUpO1xyXG4gICAgICAgICAgICB0aGlzLmdyYXBoaWNzLmZpbGxDaXJjbGUoeCwgeSwgdGhpcy5yYWRpdXMpO1xyXG4gICAgICAgICAgICB0aGlzLmdyYXBoaWNzLnNldERlcHRoKDEwKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmdyYXBoaWNzLmNsZWFyKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHBlcmZvcm0oKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmNhblBlcmZvcm0pIHJldHVybjtcclxuXHJcbiAgICAgICAgdGhpcy5jYW5QZXJmb3JtID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5pc09uID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgdGhpcy5zY2VuZS50aW1lLmRlbGF5ZWRDYWxsKDEwMDAsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5pc09uID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHRoaXMuZ3JhcGhpY3MuY2xlYXIoKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5zY2VuZS50aW1lLmRlbGF5ZWRDYWxsKDMwMDAsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5jYW5QZXJmb3JtID0gdHJ1ZTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBkZXN0cm95KCkge1xyXG4gICAgICAgIHRoaXMuZ3JhcGhpY3MuZGVzdHJveSgpO1xyXG4gICAgICAgIHRoaXMuY29sbGlkZXJDaXJjbGUuZGVzdHJveSgpO1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCB7IFBsYXllciB9IGZyb20gXCIuL1BsYXllclwiO1xyXG5pbXBvcnQgeyBMaWdodCB9IGZyb20gXCIuL0xpZ2h0LmpzXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgQXJ0aHVyIGV4dGVuZHMgUGxheWVyIHtcclxuICAgIGNvbnN0cnVjdG9yKHNjZW5lLCBpZCwgZ3Jhdml0eSwgeFBvcywgeVBvcywgc3ByaXRlU2hlZXQgPSBudWxsKSB7XHJcbiAgICAgICAgc3VwZXIoc2NlbmUsIGlkLCBncmF2aXR5LCB4UG9zLCB5UG9zLCBzcHJpdGVTaGVldCk7XHJcblxyXG4gICAgICAgIHRoaXMubGlnaHQgPSBuZXcgTGlnaHQodGhpcy5zY2VuZSwgJ2xpZ2h0MScsIHRoaXMsIDc1LCAweGZmZmZmZilcclxuICAgICAgICB0aGlzLmlzQXR0YWNraW5nID0gZmFsc2U7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZSgpIHtcclxuICAgICAgICBzdXBlci5jcmVhdGUoKTtcclxuICAgICAgICB0aGlzLmxpZ2h0LmNyZWF0ZSgpO1xyXG5cclxuXHJcblxyXG4gICAgICAgIHRoaXMuc3ByaXRlLm9uKFwiYW5pbWF0aW9udXBkYXRlXCIsIChhbmltKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChhbmltLmtleSA9PT0gYGF0dGFjay0ke3RoaXMuaWR9YCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5saWdodC51cGRhdGUoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuaXNBdHRhY2tpbmcgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5zcHJpdGUub24oXCJhbmltYXRpb25jb21wbGV0ZVwiLCAoYW5pbSkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoYW5pbS5rZXkgPT09IGBhdHRhY2stJHt0aGlzLmlkfWApIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuaXNBdHRhY2tpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIHRoaXMucGxheUFuaW0oYGlkbGUtJHt0aGlzLmlkfWApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV2aXZlKCkge1xyXG4gICAgICAgIHN1cGVyLnJldml2ZSgpO1xyXG4gICAgICAgIHRoaXMubGlnaHQuY2FuUGVyZm9ybSA9IHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgYXR0YWNrKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmlzQXR0YWNraW5nIHx8ICF0aGlzLmxpZ2h0LmNhblBlcmZvcm0pIHJldHVybjtcclxuXHJcbiAgICAgICAgdGhpcy5saWdodC5wZXJmb3JtKCk7XHJcbiAgICAgICAgdGhpcy5wbGF5QW5pbShgYXR0YWNrLSR7dGhpcy5pZH1gKTtcclxuICAgIH1cclxufSIsImltcG9ydCBQaGFzZXIgZnJvbSBcInBoYXNlclwiO1xyXG5pbXBvcnQgeyBJbnB1dE1hbmFnZXIgfSBmcm9tIFwiLi4vaGFuZGxlcnMvSW5wdXRNYW5hZ2VyLmpzXCI7XHJcbmltcG9ydCB7IEVuZW15IH0gZnJvbSBcIi4uL2VudGl0aWVzL0VuZW15LmpzXCI7XHJcbmltcG9ydCB7IENvbW1hbmRQcm9jZXNzb3IgfSBmcm9tIFwiLi4vY29tbWFuZC1wYXR0ZXJuL0NvbW1hbmRQcm9jZXNzb3IuanNcIjtcclxuaW1wb3J0IHsgQ2FtZXJhIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvQ2FtZXJhLmpzXCI7XHJcbmltcG9ydCB7IFBsYXRmb3JtIH0gZnJvbSBcIi4uL2VudGl0aWVzL1BsYXRmb3JtLmpzXCI7XHJcbmltcG9ydCB7IEx1Y3kgfSBmcm9tIFwiLi4vZW50aXRpZXMvTHVjeS5qc1wiO1xyXG5pbXBvcnQgeyBBcnRodXIgfSBmcm9tIFwiLi4vZW50aXRpZXMvQXJ0aHVyLmpzXCI7XHJcbmltcG9ydCB7IGNvbm5lY3Rpb25NYW5hZ2VyIH0gZnJvbSBcIi4uL3NlcnZpY2VzL0Nvbm5lY3Rpb25NYW5hZ2VyLmpzXCI7XHJcbmltcG9ydCB7IGNsaWVudERhdGFNYW5hZ2VyIH0gZnJvbSBcIi4uL3NlcnZpY2VzL2NsaWVudERhdGFNYW5hZ2VyLmpzXCI7XHJcblxyXG5cclxuZXhwb3J0IGNsYXNzIEdhbWVTY2VuZSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XHJcbiAgICBjb25zdHJ1Y3RvcihuYW1lID0gJ0dhbWVTY2VuZScpIHtcclxuICAgICAgICBzdXBlcihuYW1lKVxyXG4gICAgfVxyXG5cclxuXHJcbiAgICBwcmVsb2FkKCkge1xyXG4gICAgICAgIHRoaXMuYXJ0aHVyLnByZWxvYWQoMzAwLCA0MDApO1xyXG4gICAgICAgIHRoaXMubHVjeS5wcmVsb2FkKDMwMCwgNDAwKTtcclxuICAgICAgICB0aGlzLmxvYWQuYXVkaW8oJ2FtYmllbnQnLCAnYXNzZXRzL3NvdW5kL2FtYmllbnQtdGhlbWUubXAzJyk7XHJcblxyXG5cclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2ZvbmRvJywgJ2Fzc2V0cy9Gb25kb0hvcml6b250YWwucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdwMScsICdhc3NldHMvcHJvcHMvcGxhdGFmb3JtYTEucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdzdWVsbycsICdhc3NldHMvcHJvcHMvc3VlbG8ucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdwMicsICdhc3NldHMvcHJvcHMvcGxhdGFmb3JtYTIucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdjMScsICdhc3NldHMvcHJvcHMvY29sdW1uYTEucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdsaWInLCAnYXNzZXRzL3Byb3BzL2xpYnJlcmlhLnBuZycpO1xyXG5cclxuICAgICAgICB0aGlzLmVuZW1pZXMuZm9yRWFjaChlbmVteSA9PiBlbmVteS5wcmVsb2FkKCkpO1xyXG4gICAgfVxyXG5cclxuICAgIGluaXQoKSB7XHJcbiAgICAgICAgdGhpcy5zb3VuZC5zdG9wQWxsKCk7XHJcbiAgICAgICAgdGhpcy5jb21tYW5kUHJvY2Vzc29yID0gbmV3IENvbW1hbmRQcm9jZXNzb3IoKTtcclxuICAgICAgICB0aGlzLnBsYXllcnMgPSBuZXcgTWFwKCk7XHJcbiAgICAgICAgdGhpcy5lbmVtaWVzID0gbmV3IE1hcCgpO1xyXG4gICAgICAgIHRoaXMucGxhdGZvcm1zID0gbmV3IE1hcCgpO1xyXG4gICAgICAgIHRoaXMuaXNQYXVzZWQgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmlucHV0TWFuYWdlciA9IG5ldyBJbnB1dE1hbmFnZXIodGhpcywgdGhpcy5zY2VuZSwgdGhpcy5pbnB1dCwgdGhpcy5jb21tYW5kUHJvY2Vzc29yKTtcclxuICAgICAgICB0aGlzLmFydGh1ciA9IG5ldyBBcnRodXIodGhpcywgJ3BsYXllcjEnLCA2MDAsIDEwMCwgNTAwLCAnc3ByaXRlc2hlZXQtYXJ0aHVyLXJlZXNjYWxhZG8tbWl0YWQnKTtcclxuICAgICAgICB0aGlzLmx1Y3kgPSBuZXcgTHVjeSh0aGlzLCAncGxheWVyMicsIDQ1MCwgMzAwLCA1MDAsICdzcHJpdGVzaGVldC1sdWN5LXJlZXNjYWxhZG8tbWl0YWQnKTtcclxuXHJcbiAgICAgICAgdGhpcy5lbmVteTEgPSBuZXcgRW5lbXkodGhpcywgJ2VuZW15MScsIDQwMCwgMTAwLCB0aGlzLnBsYXllcnMpO1xyXG4gICAgICAgIHRoaXMuZW5lbXkyID0gbmV3IEVuZW15KHRoaXMsICdlbmVteTInLCAxMjAwLCAxMDAsIHRoaXMucGxheWVycyk7XHJcbiAgICAgICAgdGhpcy5lbmVteTMgPSBuZXcgRW5lbXkodGhpcywgJ2VuZW15MycsIDIwMDAsIDEwMCwgdGhpcy5wbGF5ZXJzKTtcclxuICAgICAgICB0aGlzLmVuZW15NCA9IG5ldyBFbmVteSh0aGlzLCAnZW5lbXk0JywgMjgwMCwgMTAwLCB0aGlzLnBsYXllcnMpO1xyXG4gICAgICAgIHRoaXMuZW5lbXk1ID0gbmV3IEVuZW15KHRoaXMsICdlbmVteTUnLCAzNTAwLCAxMDAsIHRoaXMucGxheWVycyk7XHJcblxyXG5cclxuICAgICAgICB0aGlzLmNhbWVyYSA9IG5ldyBDYW1lcmEodGhpcywgdGhpcy5wbGF5ZXJzKTtcclxuXHJcbiAgICAgICAgdGhpcy5lbmVtaWVzLnNldCh0aGlzLmVuZW15MS5pZCwgdGhpcy5lbmVteTEpO1xyXG4gICAgICAgIHRoaXMuZW5lbWllcy5zZXQodGhpcy5lbmVteTIuaWQsIHRoaXMuZW5lbXkyKTtcclxuICAgICAgICB0aGlzLmVuZW1pZXMuc2V0KHRoaXMuZW5lbXkzLmlkLCB0aGlzLmVuZW15Myk7XHJcbiAgICAgICAgdGhpcy5lbmVtaWVzLnNldCh0aGlzLmVuZW15NC5pZCwgdGhpcy5lbmVteTQpO1xyXG4gICAgICAgIHRoaXMuZW5lbWllcy5zZXQodGhpcy5lbmVteTUuaWQsIHRoaXMuZW5lbXk1KTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlKCkge1xyXG4gICAgICAgIC8vIE11c2ljXHJcbiAgICAgICAgdGhpcy5tdXNpYyA9IHRoaXMuc291bmQuYWRkKCdhbWJpZW50Jyk7XHJcbiAgICAgICAgdGhpcy5tdXNpYy5wbGF5KCk7XHJcbiAgICAgICAgdGhpcy5tdXNpYy5zZXRWb2x1bWUoMC4yNSk7XHJcblxyXG4gICAgICAgIC8vIEJhY2tncm91bmRcclxuICAgICAgICB0aGlzLmZvbmRvID0gdGhpcy5hZGQudGlsZVNwcml0ZSgwLCAwLCA4MDAwLCAyMDAwLCAnZm9uZG8nKVxyXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDAsIDApXHJcbiAgICAgICAgICAgIC5zZXRTY3JvbGxGYWN0b3IoMC4yKVxyXG4gICAgICAgICAgICAuc2V0U2NhbGUoMC4zKTtcclxuXHJcbiAgICAgICAgLy9DcmVhdGUgdGhlIHBsYXllcnMgXHJcbiAgICAgICAgdGhpcy5hcnRodXIuY3JlYXRlKCk7XHJcbiAgICAgICAgdGhpcy5sdWN5LmNyZWF0ZSgpO1xyXG5cclxuICAgICAgICAvLyBTZXQgdXAgaW5wdXQgYW5kIHBsYXllcnNcclxuICAgICAgICB0aGlzLnBsYXllcnMuc2V0KCdwbGF5ZXIxJywgdGhpcy5hcnRodXIpO1xyXG4gICAgICAgIHRoaXMucGxheWVycy5zZXQoJ3BsYXllcjInLCB0aGlzLmx1Y3kpO1xyXG5cclxuICAgICAgICB0aGlzLmlucHV0TWFuYWdlci5wbGF5ZXJzID0gdGhpcy5wbGF5ZXJzO1xyXG4gICAgICAgIHRoaXMuY29tbWFuZFByb2Nlc3Nvci5wbGF5ZXJzID0gdGhpcy5wbGF5ZXJzO1xyXG5cclxuICAgICAgICAvLyBTZXQgdXAgZW5lbWllc1xyXG4gICAgICAgIHRoaXMuZW5lbWllcy5mb3JFYWNoKChlbmVteSkgPT4ge1xyXG4gICAgICAgICAgICBlbmVteS5jcmVhdGUoKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5zZXRVcFdvcmxkQ29sbGlzaW9ucygpO1xyXG4gICAgICAgIHRoaXMuc2V0VXBFbmVteUNvbGxpc2lvbnMoKTtcclxuICAgICAgICB0aGlzLnNldFVwUmV2aXZlQ29sbGlzaW9uKCk7XHJcbiAgICAgICAgdGhpcy5zZXRVcExpYnJhcnlDb2xsaXNpb24oKTtcclxuXHJcbiAgICAgICAgdGhpcy5waHlzaWNzLndvcmxkLnNldEJvdW5kcygwLCAwLCA0MTc1LCA2MDApO1xyXG4gICAgICAgIHRoaXMuY2FtZXJhLmNhbWVyYS5zZXRCb3VuZHMoMCwgMCwgNDE3NSwgNjAwKTtcclxuXHJcbiAgICAgICAgdGhpcy5jYW1lcmEuY2FtZXJhLnNldExlcnAoMC4xLCAwLjEpO1xyXG5cclxuICAgICAgICB0aGlzLmNvbm5lY3Rpb25MaXN0ZW5lciA9IChkYXRhKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICghZGF0YS5jb25uZWN0ZWQgJiYgdGhpcy5zY2VuZS5pc0FjdGl2ZSgpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm9uQ29ubmVjdGlvbkxvc3QoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgY29ubmVjdGlvbk1hbmFnZXIuYWRkTGlzdGVuZXIodGhpcy5jb25uZWN0aW9uTGlzdGVuZXIpO1xyXG4gICAgfVxyXG5cclxuICAgIHNldFVwUmV2aXZlQ29sbGlzaW9uKCkge1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQub3ZlcmxhcCh0aGlzLnBsYXllcnMuZ2V0KCdwbGF5ZXIxJykuc3ByaXRlLCB0aGlzLnBsYXllcnMuZ2V0KCdwbGF5ZXIyJykuc3ByaXRlLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnBsYXllcnMuZ2V0KCdwbGF5ZXIxJykuaGVhbHRoIDw9IDAgJiYgdGhpcy5wbGF5ZXJzLmdldCgncGxheWVyMicpLmhlYWx0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucGxheWVycy5nZXQoJ3BsYXllcjEnKS5yZXZpdmUoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmICh0aGlzLnBsYXllcnMuZ2V0KCdwbGF5ZXIyJykuaGVhbHRoIDw9IDAgJiYgdGhpcy5wbGF5ZXJzLmdldCgncGxheWVyMScpLmhlYWx0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucGxheWVycy5nZXQoJ3BsYXllcjInKS5yZXZpdmUoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHNldFVwV29ybGRDb2xsaXNpb25zKCkge1xyXG4gICAgICAgIC8vU2V0IHVwIHBsYXRmb3JtcyBhbmQgY29sbGlzaW9uc1xyXG5cclxuICAgICAgICB0aGlzLnN1ZWxvMSA9IG5ldyBQbGF0Zm9ybSh0aGlzLCAnczEnLCAyNTAwLCA1OTAsIDUwMDAsIDQwLCAnc3VlbG8nKTtcclxuICAgICAgICB0aGlzLnBsYXQxID0gbmV3IFBsYXRmb3JtKHRoaXMsICdwMScsIDIwMCwgNDUwLCAyMDAsIDMwLCAncDEnKTtcclxuICAgICAgICB0aGlzLnBsYXQyID0gbmV3IFBsYXRmb3JtKHRoaXMsICdwMicsIDQ1MCwgMzAwLCAyMDAsIDMwLCAncDEnKTtcclxuICAgICAgICB0aGlzLnN1ZWxvMiA9IG5ldyBQbGF0Zm9ybSh0aGlzLCAnczInLCAxMjAwLCA1NTAsIDUwMCwgMjAwLCAncDInKTtcclxuICAgICAgICB0aGlzLmNvbDEgPSBuZXcgUGxhdGZvcm0odGhpcywgJ2MxJywgNzAwLCA0NTAsIDcwLCAzMDAsICdjMScpO1xyXG4gICAgICAgIHRoaXMuY29sMiA9IG5ldyBQbGF0Zm9ybSh0aGlzLCAnYzInLCAyMjAwLCA0NTAsIDcwLCA0MDAsICdjMScpO1xyXG4gICAgICAgIHRoaXMucGxhdDMgPSBuZXcgUGxhdGZvcm0odGhpcywgJ3AzJywgMTgwMCwgNDUwLCAxNTAsIDMwLCAncDEnKTtcclxuICAgICAgICB0aGlzLnBsYXQ0ID0gbmV3IFBsYXRmb3JtKHRoaXMsICdwNCcsIDE1MDAsIDMwMCwgMTUwLCAzMCwgJ3AxJyk7XHJcbiAgICAgICAgdGhpcy5wbGF0NSA9IG5ldyBQbGF0Zm9ybSh0aGlzLCAncDUnLCAyMDAwLCAyMDAsIDE1MCwgMzAsICdwMScpO1xyXG4gICAgICAgIHRoaXMuc3VlbG8zID0gbmV3IFBsYXRmb3JtKHRoaXMsICdzMycsIDIyMDAsIDU1MCwgMjMwLCAxMDAsICdwMicpO1xyXG4gICAgICAgIHRoaXMuc3VlbG80ID0gbmV3IFBsYXRmb3JtKHRoaXMsICdzNCcsIDI4MDAsIDUwMCwgNTUwLCAyNTAsICdwMicpO1xyXG4gICAgICAgIHRoaXMucGxhdDYgPSBuZXcgUGxhdGZvcm0odGhpcywgJ3A2JywgMzE1MCwgMjUwLCAxNTAsIDMwLCAncDEnKTtcclxuICAgICAgICB0aGlzLnBsYXQ3ID0gbmV3IFBsYXRmb3JtKHRoaXMsICdwNycsIDM1MDAsIDI1MCwgMTUwLCAzMCwgJ3AxJyk7XHJcbiAgICAgICAgdGhpcy5wbGF0OCA9IG5ldyBQbGF0Zm9ybSh0aGlzLCAncDgnLCAzMTUwLCA0NTAsIDE1MCwgMzAsICdwMScpO1xyXG4gICAgICAgIHRoaXMuc3VlbG81ID0gbmV3IFBsYXRmb3JtKHRoaXMsICdzNScsIDQwMDEsIDQ1MCwgMzUwLCAzNTAsICdwMicpO1xyXG5cclxuXHJcbiAgICAgICAgdGhpcy5wbGF0Zm9ybXMuc2V0KCdzMScsIHRoaXMuc3VlbG8xKTtcclxuICAgICAgICB0aGlzLnBsYXRmb3Jtcy5zZXQoJ3AxJywgdGhpcy5wbGF0MSk7XHJcbiAgICAgICAgdGhpcy5wbGF0Zm9ybXMuc2V0KCdwMicsIHRoaXMucGxhdDIpO1xyXG4gICAgICAgIHRoaXMucGxhdGZvcm1zLnNldCgnczInLCB0aGlzLnN1ZWxvMik7XHJcbiAgICAgICAgdGhpcy5wbGF0Zm9ybXMuc2V0KCdjMScsIHRoaXMuY29sMSk7XHJcbiAgICAgICAgdGhpcy5wbGF0Zm9ybXMuc2V0KCdjMicsIHRoaXMuY29sMik7XHJcbiAgICAgICAgdGhpcy5wbGF0Zm9ybXMuc2V0KCdwMycsIHRoaXMucGxhdDMpO1xyXG4gICAgICAgIHRoaXMucGxhdGZvcm1zLnNldCgncDQnLCB0aGlzLnBsYXQ0KTtcclxuICAgICAgICB0aGlzLnBsYXRmb3Jtcy5zZXQoJ3A1JywgdGhpcy5wbGF0NSk7XHJcbiAgICAgICAgdGhpcy5wbGF0Zm9ybXMuc2V0KCdzMycsIHRoaXMuc3VlbG8zKTtcclxuICAgICAgICB0aGlzLnBsYXRmb3Jtcy5zZXQoJ3M0JywgdGhpcy5zdWVsbzQpO1xyXG4gICAgICAgIHRoaXMucGxhdGZvcm1zLnNldCgnczUnLCB0aGlzLnN1ZWxvNSk7XHJcbiAgICAgICAgdGhpcy5wbGF0Zm9ybXMuc2V0KCdwNicsIHRoaXMucGxhdDYpO1xyXG4gICAgICAgIHRoaXMucGxhdGZvcm1zLnNldCgncDcnLCB0aGlzLnBsYXQ3KTtcclxuICAgICAgICB0aGlzLnBsYXRmb3Jtcy5zZXQoJ3A4JywgdGhpcy5wbGF0OCk7XHJcblxyXG4gICAgICAgIHRoaXMucGxhdGZvcm1zLmZvckVhY2gocCA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMucGxheWVycy5mb3JFYWNoKHBlcnNvbmFqZSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHBlcnNvbmFqZS5zcHJpdGUsIHAuc3ByaXRlKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHRoaXMuZW5lbWllcy5mb3JFYWNoKGVuZW1pZ28gPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcihlbmVtaWdvLnNwcml0ZSwgcC5zcHJpdGUpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuXHJcblxyXG4gICAgfVxyXG5cclxuICAgIHNldFVwTGlicmFyeUNvbGxpc2lvbigpIHtcclxuICAgICAgICB0aGlzLmxpYnJlcmlhID0gbmV3IFBsYXRmb3JtKHRoaXMsICdsaWInLCA0MDAwLCAyMDgsIDEwMCwgMTUwLCAnbGliJyk7XHJcbiAgICAgICAgdGhpcy5saWJyZXJpYS5zcHJpdGUuc2V0RGVwdGgoMik7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5vdmVybGFwKHRoaXMubGlicmVyaWEuc3ByaXRlLCB0aGlzLmFydGh1ci5zcHJpdGUsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5zdG9wKCk7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ0VuZFNjZW5lJyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5vdmVybGFwKHRoaXMubGlicmVyaWEuc3ByaXRlLCB0aGlzLmx1Y3kuc3ByaXRlLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RvcCgpO1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdFbmRTY2VuZScpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHNldFVwRW5lbXlDb2xsaXNpb25zKCkge1xyXG4gICAgICAgIHRoaXMuZW5lbWllcy5mb3JFYWNoKChlbmVteSkgPT4ge1xyXG5cclxuICAgICAgICAgICAgLy8gRW1lbnkgaGl0cyBcclxuICAgICAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcihlbmVteS5zcHJpdGUsIHRoaXMucGxheWVycy5nZXQoJ3BsYXllcjEnKS5zcHJpdGUsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChlbmVteSAmJiB0aGlzLnBsYXllcnMuZ2V0KCdwbGF5ZXIxJykuaGVhbHRoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGxheWVycy5nZXQoJ3BsYXllcjEnKS5nZXRIaXQoNTApO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2hlY2tQbGF5ZXJTdGF0dXMoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKGVuZW15LnNwcml0ZSwgdGhpcy5wbGF5ZXJzLmdldCgncGxheWVyMicpLnNwcml0ZSwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKGVuZW15ICYmIHRoaXMucGxheWVycy5nZXQoJ3BsYXllcjInKS5oZWFsdGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wbGF5ZXJzLmdldCgncGxheWVyMicpLmdldEhpdCg1MCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jaGVja1BsYXllclN0YXR1cygpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIC8vIFBsYXllciBsaWdodHMgZW5lbXlcclxuICAgICAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5vdmVybGFwKGVuZW15LnNwcml0ZSwgdGhpcy5hcnRodXIubGlnaHQuY29sbGlkZXJDaXJjbGUsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmFydGh1ci5saWdodC5pc09uICYmIGVuZW15KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZW5lbXkuc2V0V2Vha2VuZWQodHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50aW1lLmRlbGF5ZWRDYWxsKDQwMDAsICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVuZW15KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmVteS5zZXRXZWFrZW5lZChmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAvLyBQbGF5ZXIgYXR0YWNrcyBlbmVteVxyXG4gICAgICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLm92ZXJsYXAoZW5lbXkuc3ByaXRlLCB0aGlzLnBsYXllcnMuZ2V0KCdwbGF5ZXIyJykuYXR0YWNrSGl0Ym94LCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZW5lbXk/LndlYWtlbmVkICYmIHRoaXMucGxheWVycy5nZXQoJ3BsYXllcjInKS5pc0F0dGFja2luZykge1xyXG4gICAgICAgICAgICAgICAgICAgIGVuZW15LmRpZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGVuZW15LmlzRGVhZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgZW5lbXkgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBjaGVja1BsYXllclN0YXR1cygpIHtcclxuICAgICAgICBpZiAodGhpcy5wbGF5ZXJzLmdldCgncGxheWVyMScpLmhlYWx0aCA8PSAwICYmIHRoaXMucGxheWVycy5nZXQoJ3BsYXllcjInKS5oZWFsdGggPD0gMCkge1xyXG4gICAgICAgICAgICBjbGllbnREYXRhTWFuYWdlci51cGRhdGVDbGllbnREZWF0aHMoY2xpZW50RGF0YU1hbmFnZXIuZGVhdGhzICsgMSk7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RvcCgpO1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdHYW1lU2NlbmUnKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlKCkge1xyXG4gICAgICAgIHRoaXMuZm9uZG8udGlsZVBvc2l0aW9uWCA9IHRoaXMuY2FtZXJhcy5tYWluLnNjcm9sbFggKiAwLjI7XHJcblxyXG4gICAgICAgIHRoaXMuY2FtZXJhLnVwZGF0ZSgpO1xyXG4gICAgICAgIHRoaXMuaW5wdXRNYW5hZ2VyLnVwZGF0ZSgpO1xyXG5cclxuICAgICAgICB0aGlzLmFydGh1ci5saWdodC51cGRhdGUoKTtcclxuXHJcbiAgICAgICAgdGhpcy5lbmVtaWVzLmZvckVhY2goKGVuZW15KSA9PiB7XHJcbiAgICAgICAgICAgIGlmICghZW5lbXkgfHwgZW5lbXkuaXNEZWFkKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmVuZW1pZXMuZGVsZXRlKGVuZW15LmlkKTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbmVteS51cGRhdGUoKTtcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG5cclxuICAgIC8vLy8vLy8vLy8vLy8vLy8vLyBSRUQgLy8vLy8vLy8vLy8vLy9cclxuICAgIG9uQ29ubmVjdGlvbkxvc3QoKSB7XHJcbiAgICAgICAgdGhpcy5zY2VuZS5wYXVzZSgpO1xyXG4gICAgICAgIHRoaXMuc2NlbmUubGF1bmNoKCdDb25uZWN0aW9uTG9zdFNjZW5lJywgeyBwcmV2aW91c1NjZW5lOiAnR2FtZVNjZW5lJyB9KTtcclxuICAgIH1cclxuXHJcbn0iLCJpbXBvcnQgUGhhc2VyIGZyb20gJ3BoYXNlcic7XHJcblxyXG5leHBvcnQgY2xhc3MgUGF1c2VTY2VuZSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcignUGF1c2VTY2VuZScpO1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZShkYXRhKSB7XHJcblxyXG4gICAgICAgIHRoaXMuaW5wdXQua2V5Ym9hcmQub24oJ2tleWRvd24tRVNDJywgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnVucGF1c2UoZGF0YS5vcmlnaW5hbFNjZW5lKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5hZGQucmVjdGFuZ2xlKDQwMCwgMzAwLCA4MDAsIDYwMCwgMHgwMDAwMDAsIDAuNyk7XHJcblxyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoNDAwLCAxMDAsICdNZW7DuiBkZSBwYXVzYScsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICc0OHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjM2UyNjA2ZmYnLFxyXG4gICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjZmZmZmZmJ1xyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICBjb25zdCBwbGF5QnRuID0gdGhpcy5hZGQudGV4dCg0MDAsIDI1MCwgJ0NvbnRpbnVhcicsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICcyNHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjM2UyNjA2ZmYnLFxyXG4gICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjZmZmZmZmJyxcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcm92ZXInLCAoKSA9PiBwbGF5QnRuLnNldFN0eWxlKHsgZmlsbDogJyMwMDAwMDAzNycgfSkpXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcm91dCcsICgpID0+IHBsYXlCdG4uc2V0U3R5bGUoeyBmaWxsOiAnIzAwMDAwMCcgfSkpXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnVucGF1c2UoZGF0YS5vcmlnaW5hbFNjZW5lKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vYm90b24gZGUgc29uaWRvXHJcbiAgICAgICAgY29uc3Qgdm9sdW1lVGV4dCA9IHRoaXMuc291bmQubXV0ZSA/ICdBY3RpdmFyIFNvbmlkbycgOiAnRGVzYWN0aXZhciBTb25pZG8nO1xyXG4gICAgICAgIGNvbnN0IHZvbHVtZUJ0biA9IHRoaXMuYWRkLnRleHQoNDAwLCA0MDAsIHZvbHVtZVRleHQsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICcyNHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjM2UyNjA2ZmYnLFxyXG4gICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjZmZmZmZmJyxcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSlcclxuICAgICAgICAub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4gdm9sdW1lQnRuLnNldFN0eWxlKHsgZmlsbDogJyMwMDAwMDAzNycgfSkpXHJcbiAgICAgICAgLm9uKCdwb2ludGVyb3V0JywgKCkgPT4gdm9sdW1lQnRuLnNldFN0eWxlKHsgZmlsbDogJyMwMDAwMDAnIH0pKVxyXG4gICAgICAgIC5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuc291bmQubXV0ZSA9ICF0aGlzLnNvdW5kLm11dGU7XHJcbiAgICAgICAgICAgIHZvbHVtZUJ0bi5zZXRUZXh0KHRoaXMuc291bmQubXV0ZSA/ICdBY3RpdmFyIFNvbmlkbycgOiAnRGVzYWN0aXZhciBTb25pZG8nKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgY29uc3QgZXhpdEJ0biA9IHRoaXMuYWRkLnRleHQoNDAwLCA1NTAsICdWb2x2ZXIgYWwgTWVudScsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICcyNHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjM2UyNjA2ZmYnLFxyXG4gICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjZmZmZmZmJyxcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcm92ZXInLCAoKSA9PiBleGl0QnRuLnNldFN0eWxlKHsgZmlsbDogJyMwMDAwMDAzNycgfSkpXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcm91dCcsICgpID0+IGV4aXRCdG4uc2V0U3R5bGUoeyBmaWxsOiAnIzAwMDAwMCcgfSkpXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmV4aXRUb01lbnUoZGF0YS5vcmlnaW5hbFNjZW5lKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgdW5wYXVzZShvcmlnaW5hbFNjZW5lKSB7XHJcbiAgICAgICAgdGhpcy5zY2VuZS5zdG9wKCk7XHJcbiAgICAgICAgdGhpcy5zY2VuZS5yZXN1bWUob3JpZ2luYWxTY2VuZSk7XHJcbiAgICB9XHJcblxyXG4gICAgZXhpdFRvTWVudShvcmlnaW5hbFNjZW5lKSB7XHJcbiAgICAgICAgdGhpcy5zY2VuZS5zdG9wKG9yaWdpbmFsU2NlbmUpO1xyXG4gICAgICAgIHRoaXMuc291bmQuc3RvcEFsbCgpO1xyXG4gICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ01lbnVTY2VuZScpO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IFBoYXNlciBmcm9tIFwicGhhc2VyXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgQ3JlZGl0c1NjZW5lIGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCdDcmVkaXRzU2NlbmUnKVxyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZSgpIHtcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLmFkZC50ZXh0KDQwMCwgMTAwLCAnSnVlZ28gZGVzYXJyb2xsYWRvIHBvcjpcXG5cXG5DbGF1ZGlhIFBvcmN1bmE6IEludGVyZmFjZXMgeSBhcnRlIFxcbkphdmllciBSdWliYWw6IFByb2dyYW1hY2nDs24gXFxuT3NjYXIgUm9kcmlndWV6OiBBcnRlIHkgZGlzZcOxbyBcXG5NYXJjb3MgTWF0dXRlczogUHJvZ3JhbWFjacOzbiBcXG5GZXJuYW5kbyBQaW46IFNvbmlkbycsXHJcbiAgICAgICAgeyAgIGZvbnRTaXplOiAnMjRweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmZmZmZmZmJyxcclxuICAgICAgICAgICAgYWxpZ246ICdjZW50ZXInLFxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICBjb25zdCByZXR1cm5CdG4gPSB0aGlzLmFkZC50ZXh0KDYwMCwgNTAwLCAnUmV0dXJuJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzI0cHgnLCBcclxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmZmYnLFxyXG4gICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjMDAwMDAwZmYnLFxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgLnNldEludGVyYWN0aXZlKHt1c2VIYW5kQ3Vyc29yOiB0cnVlfSlcclxuICAgICAgICAub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4gcmV0dXJuQnRuLnNldFN0eWxlKHtiYWNrZ3JvdW5kQ29sb3I6ICcjNzM3MzczZmYnfSkpXHJcbiAgICAgICAgLm9uKCdwb2ludGVyb3V0JywgKCkgPT4gcmV0dXJuQnRuLnNldFN0eWxlKHtiYWNrZ3JvdW5kQ29sb3I6ICcjMDAwMDAwZmYnfSkpXHJcbiAgICAgICAgLm9uKCdwb2ludGVyZG93bicsICgpID0+e1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdNZW51U2NlbmUnKTtcclxuICAgICAgICB9KTtcclxuXHJcblxyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgQW5pbWF0b3IgfSBmcm9tIFwiLi4vY29tcG9uZW50cy9BbmltYXRvclwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFB1cHBldCB7XHJcblxyXG4gICAgY29uc3RydWN0b3Ioc2NlbmUsIGlkLCB4UG9zLCB5UG9zLCBzcHJpdGVTaGVldCA9IG51bGwsIGlzUGxheWVyKSB7XHJcbiAgICAgICAgdGhpcy5pZCA9IGlkO1xyXG4gICAgICAgIHRoaXMuc2NlbmUgPSBzY2VuZTtcclxuICAgICAgICB0aGlzLnhQb3MgPSB4UG9zO1xyXG4gICAgICAgIHRoaXMueVBvcyA9IHlQb3M7XHJcbiAgICAgICAgdGhpcy5jdXJyZW50QW5pbSA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5pc1BsYXllciA9IGlzUGxheWVyO1xyXG4gICAgICAgIHRoaXMuYW5pbWF0b3IgPSBuZXcgQW5pbWF0b3Ioc2NlbmUsIHNwcml0ZVNoZWV0KTtcclxuICAgIH1cclxuXHJcbiAgICBwcmVsb2FkKHdpZHRoLCBoZWlnaHQpIHtcclxuICAgICAgICB0aGlzLmFuaW1hdG9yLnByZWxvYWQod2lkdGgsIGhlaWdodCk7XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlKCkge1xyXG4gICAgICAgIC8vIENyZWFyIHNwcml0ZSBzaW4gZsOtc2ljYXNcclxuICAgICAgICB0aGlzLnNwcml0ZSA9IHRoaXMuYW5pbWF0b3IuY3JlYXRlU3ByaXRlKHRoaXMueFBvcywgdGhpcy55UG9zKTtcclxuXHJcbiAgICAgICAgLy8gQ3JlYXIgYW5pbWFjaW9uZXMgaWd1YWwgcXVlIFBsYXllclxyXG4gICAgICAgIGlmICh0aGlzLmlzUGxheWVyKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYW5pbWF0b3IuY3JlYXRlQW5pbWF0aW9uKGBpZGxlLSR7dGhpcy5pZH1gLCAwLCAzLCA0KTtcclxuICAgICAgICAgICAgdGhpcy5hbmltYXRvci5jcmVhdGVBbmltYXRpb24oYHdhbGstJHt0aGlzLmlkfWAsIDQsIDcsIDUpO1xyXG4gICAgICAgICAgICB0aGlzLmFuaW1hdG9yLmNyZWF0ZUFuaW1hdGlvbihganVtcC0ke3RoaXMuaWR9YCwgOCwgOCwgNCwgMCk7XHJcbiAgICAgICAgICAgIHRoaXMuYW5pbWF0b3IuY3JlYXRlQW5pbWF0aW9uKGBhaXItJHt0aGlzLmlkfWAsIDksIDEwLCAxLCAwKTtcclxuICAgICAgICAgICAgdGhpcy5hbmltYXRvci5jcmVhdGVBbmltYXRpb24oYGZhbGwtJHt0aGlzLmlkfWAsIDEwLCAxMCwgMSwgMCk7XHJcbiAgICAgICAgICAgIHRoaXMuYW5pbWF0b3IuY3JlYXRlQW5pbWF0aW9uKGBhdHRhY2stJHt0aGlzLmlkfWAsIDEyLCAxMywgMiwgMCk7XHJcbiAgICAgICAgICAgIHRoaXMuc3ByaXRlLnNldFNjYWxlKDAuMjMpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuYW5pbWF0b3IuY3JlYXRlQW5pbWF0aW9uKGBpZGxlLSR7dGhpcy5pZH1gLCAwLCAyLCA1KTtcclxuICAgICAgICAgICAgdGhpcy5hbmltYXRvci5jcmVhdGVBbmltYXRpb24oYGlkbGUtd2hpdGUtJHt0aGlzLmlkfWAsIDMsIDUsIDUpO1xyXG4gICAgICAgICAgICB0aGlzLmFuaW1hdG9yLmNyZWF0ZUFuaW1hdGlvbihgYmxhY2stdG8td2hpdGUtJHt0aGlzLmlkfWAsIDYsIDgsIDgsIDApO1xyXG4gICAgICAgICAgICB0aGlzLmFuaW1hdG9yLmNyZWF0ZUFuaW1hdGlvbihgd2hpdGUtdG8tYmxhY2stJHt0aGlzLmlkfWAsIDYsIDgsIDgsIDApO1xyXG4gICAgICAgICAgICB0aGlzLmFuaW1hdG9yLmNyZWF0ZUFuaW1hdGlvbihgZGllLSR7dGhpcy5pZH1gLCA5LCAxMSwgOCwgMCk7XHJcbiAgICAgICAgICAgIHRoaXMuc3ByaXRlLnNldFNjYWxlKDAuMzUpO1xyXG4gICAgICAgIH1cclxuXHJcblxyXG5cclxuICAgICAgICB0aGlzLnNwcml0ZS5zZXREZXB0aCgyMDApO1xyXG5cclxuICAgICAgICAvLyBBbmltYWNpw7NuIHBvciBkZWZlY3RvXHJcbiAgICAgICAgdGhpcy5zcHJpdGUucGxheShgaWRsZS0ke3RoaXMuaWR9YCk7XHJcbiAgICB9XHJcblxyXG4gICAgcGxheUFuaW0oa2V5KSB7XHJcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudEFuaW0gIT09IGtleSkge1xyXG4gICAgICAgICAgICB0aGlzLnNwcml0ZS5wbGF5KGtleSwgdHJ1ZSk7XHJcbiAgICAgICAgICAgIHRoaXMuY3VycmVudEFuaW0gPSBrZXk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIFNpIHF1aWVyZXMgcXVlIGhhZ2EgdW4gYnVjbGUgZGUgYW5pbWFjaW9uZXMgYXV0b23DoXRpY2FtZW50ZTpcclxuICAgIGxvb3BBbmltYXRpb25MaXN0KGFuaW1zLCBkZWxheSA9IDEwMDApIHtcclxuICAgICAgICBsZXQgaW5kZXggPSAwO1xyXG4gICAgICAgIHRoaXMuc2NlbmUudGltZS5hZGRFdmVudCh7XHJcbiAgICAgICAgICAgIGRlbGF5LFxyXG4gICAgICAgICAgICBsb29wOiB0cnVlLFxyXG4gICAgICAgICAgICBjYWxsYmFjazogKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wbGF5QW5pbShhbmltc1tpbmRleF0pO1xyXG4gICAgICAgICAgICAgICAgaW5kZXggPSAoaW5kZXggKyAxKSAlIGFuaW1zLmxlbmd0aDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IFBoYXNlciBmcm9tIFwicGhhc2VyXCI7XHJcbmltcG9ydCB7IFB1cHBldCB9IGZyb20gXCIuLi9lbnRpdGllcy9QdXBwZXQuanNcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBJbnRyb1NjZW5lIGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCdJbnRyb1NjZW5lJylcclxuICAgIH1cclxuXHJcbiAgICBpbml0KCkge1xyXG4gICAgICAgIHRoaXMuYXJ0aHVyMSA9IG5ldyBQdXBwZXQodGhpcywgXCJjYTFcIiwgMTMwLCAxMjAsIFwic3ByaXRlc2hlZXQtYXJ0aHVyLXJlZXNjYWxhZG8tbWl0YWRcIiwgdHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5hcnRodXIyID0gbmV3IFB1cHBldCh0aGlzLCBcImNhMlwiLCAzNDAsIDEyMCwgXCJzcHJpdGVzaGVldC1hcnRodXItcmVlc2NhbGFkby1taXRhZFwiLCB0cnVlKTtcclxuICAgICAgICB0aGlzLmFydGh1cjMgPSBuZXcgUHVwcGV0KHRoaXMsIFwiY2EzXCIsIDUwMCwgMTIwLCBcInNwcml0ZXNoZWV0LWFydGh1ci1yZWVzY2FsYWRvLW1pdGFkXCIsIHRydWUpO1xyXG4gICAgICAgIHRoaXMuYXJ0aHVyNCA9IG5ldyBQdXBwZXQodGhpcywgXCJjYTRcIiwgNjUwLCAxMjAsIFwic3ByaXRlc2hlZXQtYXJ0aHVyLXJlZXNjYWxhZG8tbWl0YWRcIiwgdHJ1ZSk7XHJcblxyXG4gICAgICAgIHRoaXMubHVjeTEgPSBuZXcgUHVwcGV0KHRoaXMsIFwiY2wxXCIsIDEzMCwgMzcwLCBcInNwcml0ZXNoZWV0LWx1Y3ktcmVlc2NhbGFkby1taXRhZFwiLCB0cnVlKTtcclxuICAgICAgICB0aGlzLmx1Y3kyID0gbmV3IFB1cHBldCh0aGlzLCBcImNsMlwiLCAzNDAsIDM3MCwgXCJzcHJpdGVzaGVldC1sdWN5LXJlZXNjYWxhZG8tbWl0YWRcIiwgdHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5sdWN5MyA9IG5ldyBQdXBwZXQodGhpcywgXCJjbDNcIiwgNTAwLCAzNzAsIFwic3ByaXRlc2hlZXQtbHVjeS1yZWVzY2FsYWRvLW1pdGFkXCIsIHRydWUpO1xyXG4gICAgICAgIHRoaXMubHVjeTQgPSBuZXcgUHVwcGV0KHRoaXMsIFwiY2w0XCIsIDY1MCwgMzcwLCBcInNwcml0ZXNoZWV0LWx1Y3ktcmVlc2NhbGFkby1taXRhZFwiLCB0cnVlKTtcclxuXHJcbiAgICAgICAgdGhpcy5wdXBwZXRzMSA9IFt0aGlzLmFydGh1cjEsIHRoaXMuYXJ0aHVyMiwgdGhpcy5hcnRodXIzLCB0aGlzLmFydGh1cjQsIHRoaXMubHVjeTEsIHRoaXMubHVjeTIsIHRoaXMubHVjeTMsIHRoaXMubHVjeTRdO1xyXG5cclxuICAgICAgICB0aGlzLmVuZW15MSA9IG5ldyBQdXBwZXQodGhpcywgXCJlbmVteTFcIiwgMzAwLCA5MCwgXCJzcHJpdGVzaGVldC1lbmVtaWdvLXJlZXNjYWxhZG8tbWl0YWRcIiwgZmFsc2UpO1xyXG4gICAgICAgIHRoaXMuZW5lbXkyID0gbmV3IFB1cHBldCh0aGlzLCBcImVuZW15MlwiLCA2MDAsIDkwLCBcInNwcml0ZXNoZWV0LWVuZW1pZ28tcmVlc2NhbGFkby1taXRhZFwiLCBmYWxzZSk7XHJcbiAgICAgICAgdGhpcy5lbmVteTMgPSBuZXcgUHVwcGV0KHRoaXMsIFwiZW5lbXkzXCIsIDMwMCwgMzQwLCBcInNwcml0ZXNoZWV0LWVuZW1pZ28tcmVlc2NhbGFkby1taXRhZFwiLCBmYWxzZSk7XHJcbiAgICAgICAgdGhpcy5lbmVteTQgPSBuZXcgUHVwcGV0KHRoaXMsIFwiZW5lbXk0XCIsIDYwMCwgMzQwLCBcInNwcml0ZXNoZWV0LWVuZW1pZ28tcmVlc2NhbGFkby1taXRhZFwiLCBmYWxzZSk7XHJcblxyXG4gICAgICAgIHRoaXMucHVwcGV0czIgPSBbdGhpcy5lbmVteTEsIHRoaXMuZW5lbXkyLCB0aGlzLmVuZW15MywgdGhpcy5lbmVteTRdO1xyXG4gICAgfVxyXG5cclxuICAgIHByZWxvYWQoKSB7XHJcblxyXG5cclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2ludHJvJywgJ2Fzc2V0cy9wMWVudHJhbmRvLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnaW50cm8yJywgJ2Fzc2V0cy9wMXlwMi5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2NvbnRyb2xzJywgJ2Fzc2V0cy9pbHVzdHJhY2lvbk1lY2FuaWNhcy5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2NvbWJhdCcsICdhc3NldHMvaWx1c3RyYWNpb25Db21iYXRlLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnbWFuc2lvbicsICdhc3NldHMvbWFuc2lvbi5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2x1Y3lQZWVraW5nJywgJ2Fzc2V0cy9sdWN5UGVla2luZy5wbmcnKTtcclxuXHJcbiAgICAgICAgdGhpcy5wdXBwZXRzMS5mb3JFYWNoKHB1cHBldCA9PiBwdXBwZXQucHJlbG9hZCgzMDAsIDQwMCkpO1xyXG4gICAgICAgIHRoaXMucHVwcGV0czIuZm9yRWFjaChwdXBwZXQgPT4gcHVwcGV0LnByZWxvYWQoMzAwLCA0MDApKTtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGUoKSB7XHJcbiAgICAgICAgdGhpcy5pbnRyb1RleHQgPSBbXHJcbiAgICAgICAgICAgIFwiMTk1MywgQmlybWluZ2hhbSwgSW5nbGF0ZXJyYSwgXFxuaGFjZSAyNyBhw7FvcyBsYSBmYW1pbGlhIEZlbHRvbiBmdWUgbWlzdGVyaW9zYW1lbnRlIFxcbmFzZXNpbmFkYSxcXG4gbmFkaWUgc2UgaGEgYXRyZXZpZG8gYSBlbnRyYXIgZW4gc3UgbWFuc2nDs24uXCIsXHJcbiAgICAgICAgICAgIFwiSGFzdGEgaG95LiBcXG4gICAgICAgICAgIFxcbkFydGh1ciwgZGlzcHVlc3RvIGEgcmVzb2x2ZXIgZWwgY2Fzb1xcbiBzZSBhZGVudHJhIGVuIGxhIHNvbWJyw61hIG1hbnNpw7NuLlwiLFxyXG4gICAgICAgICAgICBcIlBlcm8gbm8gZXN0w6Egc29sby5cXG5BbGdvIGxlIG9ic2VydmEgZGVzZGUgbGFzIHNvbWJyYXMuLi5cXG5PIG3DoXMgYmllbixcXG5BbGd1aWVuLlwiLFxyXG4gICAgICAgICAgICBcIkxhIGZhbnRhc21hIHJlc3VsdMOzIHNlciBleHRyYcOxYW1lbnRlIGFtaWdhYmxlLFxcbk9mcmVjacOpbmRvc2UgY29tbyBndcOtYSB5IHByb3RlY3RvcmFcXG4gZW4gc3UgaW52ZXN0aWdhY8Otb24gcG9yIGxhIG1hbnNpw7NuLlwiLFxyXG4gICAgICAgICAgICBcIiBcIixcclxuICAgICAgICAgICAgXCIgXCJcclxuICAgICAgICBdO1xyXG4gICAgICAgIHRoaXMudGV4dEluZGV4ID0gMDtcclxuICAgICAgICB0aGlzLmluUHJvZ3Jlc3MgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmludHJvSW1hZ2UwID0gdGhpcy5hZGQuaW1hZ2UoNDAwLCAyMDAsICdtYW5zaW9uJyk7XHJcblxyXG4gICAgICAgIHRoaXMuaW50cm9JbWFnZTEgPSB0aGlzLmFkZC5pbWFnZSg0MDAsIDIwMCwgJ2ludHJvJyk7XHJcbiAgICAgICAgdGhpcy5pbnRyb0ltYWdlTCA9IHRoaXMuYWRkLmltYWdlKDQwMCwgMjAwLCAnbHVjeVBlZWtpbmcnKTtcclxuICAgICAgICB0aGlzLmludHJvSW1hZ2UyID0gdGhpcy5hZGQuaW1hZ2UoNDAwLCAyMDAsICdpbnRybzInKTtcclxuICAgICAgICB0aGlzLmNvbnRyb2xzSW1hZ2UgPSB0aGlzLmFkZC5pbWFnZSg0MDAsIDI3MCwgJ2NvbnRyb2xzJyk7XHJcbiAgICAgICAgdGhpcy5jb21iYXRJbWFnZSA9IHRoaXMuYWRkLmltYWdlKDQwMCwgMjcwLCAnY29tYmF0Jyk7XHJcbiAgICAgICAgdGhpcy5jb250cm9sc0ltYWdlLnNldFNjYWxlKDAuOSk7XHJcbiAgICAgICAgdGhpcy5jb21iYXRJbWFnZS5zZXRTY2FsZSgwLjkpO1xyXG4gICAgICAgIHRoaXMuY3V0c2NlbmVJbWFnZXMgPSBbdGhpcy5pbnRyb0ltYWdlMSwgdGhpcy5pbnRyb0ltYWdlTCwgdGhpcy5pbnRyb0ltYWdlMiwgdGhpcy5jb250cm9sc0ltYWdlLCB0aGlzLmNvbWJhdEltYWdlXTtcclxuICAgICAgICB0aGlzLmN1dHNjZW5lSW1hZ2VzLmZvckVhY2goaW1hZ2UgPT4gaW1hZ2Uuc2V0VmlzaWJsZShmYWxzZSkpO1xyXG5cclxuXHJcblxyXG4gICAgICAgIHRoaXMuYXJ0aHVyMS5jcmVhdGUoKTtcclxuICAgICAgICB0aGlzLmFydGh1cjEucGxheUFuaW0oYHdhbGstY2ExYCk7XHJcbiAgICAgICAgdGhpcy5hcnRodXIxLnNwcml0ZS5mbGlwWCA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5hcnRodXIyLmNyZWF0ZSgpO1xyXG4gICAgICAgIHRoaXMuYXJ0aHVyMi5wbGF5QW5pbShgd2Fsay1jYTJgKTtcclxuICAgICAgICB0aGlzLmFydGh1cjIuc3ByaXRlLmZsaXBYID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5hcnRodXIzLmNyZWF0ZSgpO1xyXG4gICAgICAgIHRoaXMuYXJ0aHVyMy5sb29wQW5pbWF0aW9uTGlzdChbYGp1bXAtY2EzYCwgYGFpci1jYTNgLCAnZmFsbC1jYTMnXSwgMzAwKTtcclxuICAgICAgICB0aGlzLmFydGh1cjQuY3JlYXRlKCk7XHJcbiAgICAgICAgdGhpcy5hcnRodXI0Lmxvb3BBbmltYXRpb25MaXN0KFtgaWRsZS1jYTRgLCBgYXR0YWNrLWNhNGBdLCA1MDApO1xyXG4gICAgICAgIHRoaXMubHVjeTEuY3JlYXRlKCk7XHJcbiAgICAgICAgdGhpcy5sdWN5MS5wbGF5QW5pbShgd2Fsay1jbDFgKTtcclxuICAgICAgICB0aGlzLmx1Y3kxLnNwcml0ZS5mbGlwWCA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5sdWN5Mi5jcmVhdGUoKTtcclxuICAgICAgICB0aGlzLmx1Y3kyLnBsYXlBbmltKGB3YWxrLWNsMmApO1xyXG4gICAgICAgIHRoaXMubHVjeTIuc3ByaXRlLmZsaXBYID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5sdWN5My5jcmVhdGUoKTtcclxuICAgICAgICB0aGlzLmx1Y3kzLmxvb3BBbmltYXRpb25MaXN0KFtganVtcC1jbDNgLCBgYWlyLWNsM2AsICdmYWxsLWNsMyddLCAzMDApO1xyXG4gICAgICAgIHRoaXMubHVjeTQuY3JlYXRlKCk7XHJcbiAgICAgICAgdGhpcy5sdWN5NC5sb29wQW5pbWF0aW9uTGlzdChbYGlkbGUtY2w0YCwgYGF0dGFjay1jbDRgXSwgNTAwKTtcclxuXHJcbiAgICAgICAgdGhpcy5wdXBwZXRzMS5mb3JFYWNoKHB1cHBldCA9PiBwdXBwZXQuc3ByaXRlLnNldFZpc2libGUoZmFsc2UpKTtcclxuXHJcbiAgICAgICAgdGhpcy5lbmVteTEuY3JlYXRlKCk7XHJcbiAgICAgICAgdGhpcy5lbmVteTEucGxheUFuaW0oYGlkbGUtZW5lbXkxYCk7XHJcbiAgICAgICAgdGhpcy5lbmVteTIuY3JlYXRlKCk7XHJcbiAgICAgICAgdGhpcy5lbmVteTIucGxheUFuaW0oYGlkbGUtd2hpdGUtZW5lbXkyYCk7XHJcbiAgICAgICAgdGhpcy5lbmVteTMuY3JlYXRlKCk7XHJcbiAgICAgICAgdGhpcy5lbmVteTMucGxheUFuaW0oYGlkbGUtd2hpdGUtZW5lbXkzYCk7XHJcbiAgICAgICAgdGhpcy5lbmVteTQuY3JlYXRlKCk7XHJcbiAgICAgICAgdGhpcy5lbmVteTQubG9vcEFuaW1hdGlvbkxpc3QoW2B3aGl0ZS10by1ibGFjay1lbmVteTRgLCBgZGllLWVuZW15NGBdLCA1MDApO1xyXG5cclxuICAgICAgICB0aGlzLnB1cHBldHMyLmZvckVhY2gocHVwcGV0ID0+IHB1cHBldC5zcHJpdGUuc2V0VmlzaWJsZShmYWxzZSkpO1xyXG5cclxuXHJcbiAgICAgICAgY29uc3QgbmV4dEJ0biA9IHRoaXMuYWRkLnRleHQoNzAwLCA1NTAsICdTaWd1aWVudGUnLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMjBweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmZmZmZmZmJyxcclxuICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAnIzAwMDAwMDAwJyxcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcm92ZXInLCAoKSA9PiBuZXh0QnRuLnNldFN0eWxlKHsgYmFja2dyb3VuZENvbG9yOiAnIzczNzM3M2ZmJyB9KSlcclxuICAgICAgICAgICAgLm9uKCdwb2ludGVyb3V0JywgKCkgPT4gbmV4dEJ0bi5zZXRTdHlsZSh7IGJhY2tncm91bmRDb2xvcjogJyMwMDAwMDBmZicgfSkpXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuaW5Qcm9ncmVzcykgeyB0aGlzLm5leHRUZXh0KCk7IH1cclxuICAgICAgICAgICAgICAgIHN3aXRjaCAodGhpcy50ZXh0SW5kZXgpIHtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaW50cm9JbWFnZTAuc2V0VmlzaWJsZShmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaW50cm9JbWFnZTEuc2V0VmlzaWJsZSh0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pbnRyb0ltYWdlMS5zZXRWaXNpYmxlKGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pbnRyb0ltYWdlTC5zZXRWaXNpYmxlKHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAzOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmludHJvSW1hZ2VMLnNldFZpc2libGUoZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmludHJvSW1hZ2UyLnNldFZpc2libGUodHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaW50cm9JbWFnZTIuc2V0VmlzaWJsZShmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29udHJvbHNJbWFnZS5zZXRWaXNpYmxlKHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnB1cHBldHMxLmZvckVhY2gocHVwcGV0ID0+IHB1cHBldC5zcHJpdGUuc2V0VmlzaWJsZSh0cnVlKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDU6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29udHJvbHNJbWFnZS5zZXRWaXNpYmxlKGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb21iYXRJbWFnZS5zZXRWaXNpYmxlKHRydWUpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wdXBwZXRzMS5mb3JFYWNoKHB1cHBldCA9PiBwdXBwZXQuc3ByaXRlLnNldFZpc2libGUoZmFsc2UpKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYXJ0aHVyNC5zcHJpdGUuc2V0VmlzaWJsZSh0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hcnRodXI0LnNwcml0ZS54ID0gMTUwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFydGh1cjQuc3ByaXRlLnkgPSAxMDA7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmx1Y3k0LnNwcml0ZS5zZXRWaXNpYmxlKHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmx1Y3k0LnNwcml0ZS54ID0gMTUwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmx1Y3k0LnNwcml0ZS55ID0gMzMwO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wdXBwZXRzMi5mb3JFYWNoKHB1cHBldCA9PiBwdXBwZXQuc3ByaXRlLnNldFZpc2libGUodHJ1ZSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXRzY2VuZUltYWdlcy5mb3JFYWNoKGltYWdlID0+IGltYWdlLnNldFZpc2libGUoZmFsc2UpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9IC8vU2UgcG9kcmlhIGhhY2VyIGNvbiB1biBhcnJheVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLnRleHQgPSB0aGlzLmFkZC50ZXh0KDQwMCwgNDYwLCAnJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzI0cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmZmZmZicsXHJcbiAgICAgICAgICAgIGFsaWduOiAnY2VudGVyJyxcclxuXHJcblxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICBjb25zdCBza2lwQnRuID0gdGhpcy5hZGQudGV4dCgxMDAsIDU1MCwgJ1NhbHRhcicsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICcyMHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmZmYnLFxyXG4gICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjMDAwMDAwMDAnLFxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSlcclxuICAgICAgICAgICAgLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IHNraXBCdG4uc2V0U3R5bGUoeyBiYWNrZ3JvdW5kQ29sb3I6ICcjNzM3MzczZmYnIH0pKVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiBza2lwQnRuLnNldFN0eWxlKHsgYmFja2dyb3VuZENvbG9yOiAnIzAwMDAwMGZmJyB9KSlcclxuICAgICAgICAgICAgLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ0dhbWVTY2VuZScpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5zaG93VGV4dCgpO1xyXG4gICAgfVxyXG5cclxuICAgIHNob3dUZXh0KCkge1xyXG4gICAgICAgIGlmICh0aGlzLnRleHRJbmRleCA8IHRoaXMuaW50cm9UZXh0Lmxlbmd0aCkge1xyXG4gICAgICAgICAgICB0aGlzLnRleHRJbih0aGlzLmludHJvVGV4dFt0aGlzLnRleHRJbmRleF0pO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ0dhbWVTY2VuZScpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB0ZXh0SW4odGV4dCkge1xyXG4gICAgICAgIHRoaXMuaW5Qcm9ncmVzcyA9IHRydWU7XHJcbiAgICAgICAgbGV0IGluZGV4ID0gMDtcclxuICAgICAgICBjb25zdCBzcGVlZCA9IDc1OyAvLyBWZWxvY2lkYWQgZGUgZXNjcml0dXJhIGVuIG1zXHJcblxyXG4gICAgICAgIGNvbnN0IHdyaXRlVGV4dCA9ICgpID0+IHtcclxuICAgICAgICAgICAgaWYgKGluZGV4IDwgdGV4dC5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMudGV4dC5zZXRUZXh0KHRleHQuc3Vic3RyaW5nKDAsIGluZGV4ICsgMSkpO1xyXG4gICAgICAgICAgICAgICAgaW5kZXgrKztcclxuICAgICAgICAgICAgICAgIHRoaXMudGltZS5kZWxheWVkQ2FsbChzcGVlZCwgd3JpdGVUZXh0KTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuaW5Qcm9ncmVzcyA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgd3JpdGVUZXh0KCk7XHJcbiAgICB9XHJcbiAgICBuZXh0VGV4dCgpIHtcclxuICAgICAgICB0aGlzLnRleHRJbmRleCsrO1xyXG4gICAgICAgIHRoaXMuc2hvd1RleHQoKTtcclxuICAgIH1cclxufSIsImltcG9ydCBQaGFzZXIgZnJvbSBcInBoYXNlclwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEVuZFNjZW5lIGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCdFbmRTY2VuZScpXHJcbiAgICB9XHJcblxyXG4gICAgcHJlbG9hZCgpIHtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3AxJywgJ2Fzc2V0cy9wMXAyZm90by5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3AyJywgJ2Fzc2V0cy9wMXAyUGFydGlkby5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3AzJywgJ2Fzc2V0cy9wMXAyeWZhbnRhc21hLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgncDQnLCAnYXNzZXRzL3AxcDJlU0NBUEFORE8ucG5nJyk7XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlKCkge1xyXG4gICAgICAgIHRoaXMuaW50cm9UZXh0ID0gW1xyXG4gICAgICAgICAgICBcIkFydGh1ciB5IEx1Y3kgaGFsbGFuIHVuYSB2aWVqYSBmb3RvIGVudHJlIGxvcyBcXG4gcG9sdm9yaWVudG9zIGxpYnJvcyBkZSBsYSBlc3RhbnRlcsOtYS5cIixcclxuICAgICAgICAgICAgXCJEZSBwcm9udG8sIHRvZG8gZW5jYWphIGVuIGxhIG1lbnRlIGRlIEFydGh1ci5cXG5TdSBvYnNlc2nDs24gc2luIHNlbnRpZG8gY29uIGVsIGNhc29cXG4geSBsYSBjb25leGnDs24gY29uIEx1Y3kuLi5cXG5lbGxhIGVzLi4uXCIsXHJcbiAgICAgICAgICAgIFwiU2luIGVtYmFyZ28sIG5vIGhheSB0aWVtcG8gcGFyYSByZWZsZXhpb25lcy5cIixcclxuICAgICAgICAgICAgXCJEZWJlbiBodWlyLlwiLFxyXG4gICAgICAgICAgICBdO1xyXG4gICAgICAgIHRoaXMudGV4dEluZGV4ID0gMDtcclxuICAgICAgICB0aGlzLmluUHJvZ3Jlc3MgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgdGhpcy5lbmRJbWFnZTEgPSB0aGlzLmFkZC5pbWFnZSg0MDAsIDIwMCwgJ3AxJyk7XHJcbiAgICAgICAgdGhpcy5lbmRJbWFnZTIgPSB0aGlzLmFkZC5pbWFnZSg0MDAsIDIwMCwgJ3AyJyk7XHJcbiAgICAgICAgdGhpcy5lbmRJbWFnZTMgPSB0aGlzLmFkZC5pbWFnZSg0MDAsIDIwMCwgJ3AzJyk7XHJcbiAgICAgICAgdGhpcy5lbmRJbWFnZTQgPSB0aGlzLmFkZC5pbWFnZSg0MDAsIDIwMCwgJ3A0Jyk7XHJcbiAgICAgICAgdGhpcy5lbmRJbWFnZXMgPSBbdGhpcy5lbmRJbWFnZTIsIHRoaXMuZW5kSW1hZ2UzLCB0aGlzLmVuZEltYWdlNF07XHJcbiAgICAgICAgdGhpcy5lbmRJbWFnZXMuZm9yRWFjaChpbWFnZSA9PiBpbWFnZS5zZXRWaXNpYmxlKGZhbHNlKSk7XHJcblxyXG4gICAgICAgIGNvbnN0IG5leHRCdG4gPSB0aGlzLmFkZC50ZXh0KDcwMCwgNTUwLCAnU2lndWllbnRlJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzIwcHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmZmZmZicsXHJcbiAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogJyMwMDAwMDBmZicsXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4gbmV4dEJ0bi5zZXRTdHlsZSh7IGJhY2tncm91bmRDb2xvcjogJyM3MzczNzNmZicgfSkpXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcm91dCcsICgpID0+IG5leHRCdG4uc2V0U3R5bGUoeyBiYWNrZ3JvdW5kQ29sb3I6ICcjMDAwMDAwZmYnIH0pKVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLmluUHJvZ3Jlc3MpIHsgXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5uZXh0VGV4dCgpOyBcclxuICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZ2FtZS5ldmVudHMuZW1pdCgnUmVxdWVzdFNjb3JlQm9hcmQnKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHN3aXRjaCAodGhpcy50ZXh0SW5kZXgpIHtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZW5kSW1hZ2UxLnNldFZpc2libGUoZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVuZEltYWdlMi5zZXRWaXNpYmxlKHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVuZEltYWdlMi5zZXRWaXNpYmxlKGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbmRJbWFnZTMuc2V0VmlzaWJsZSh0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbmRJbWFnZTMuc2V0VmlzaWJsZShmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZW5kSW1hZ2U0LnNldFZpc2libGUodHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZW5kSW1hZ2U0LnNldFZpc2libGUoZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy50ZXh0byA9IHRoaXMuYWRkLnRleHQoNDAwLCA0NjAsICcnLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMjRweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmZmZmZmZmJyxcclxuICAgICAgICAgICAgYWxpZ246ICdjZW50ZXInLFxyXG5cclxuXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIGNvbnN0IHNraXBCdG4gPSB0aGlzLmFkZC50ZXh0KDEwMCwgNTUwLCAnU2FsdGFyJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzIwcHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmZmZmZicsXHJcbiAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogJyMwMDAwMDAwMCcsXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4gc2tpcEJ0bi5zZXRTdHlsZSh7IGJhY2tncm91bmRDb2xvcjogJyM3MzczNzNmZicgfSkpXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcm91dCcsICgpID0+IHNraXBCdG4uc2V0U3R5bGUoeyBiYWNrZ3JvdW5kQ29sb3I6ICcjMDAwMDAwZmYnIH0pKVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5zdGFydCgnU2NvcmVCb2FyZFNjZW5lJyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLnNob3dUZXh0KCk7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHNob3dUZXh0KCkge1xyXG4gICAgICAgIGlmICh0aGlzLnRleHRJbmRleCA8IHRoaXMuaW50cm9UZXh0Lmxlbmd0aCkge1xyXG4gICAgICAgICAgICB0aGlzLnRleHRJbih0aGlzLmludHJvVGV4dFt0aGlzLnRleHRJbmRleF0pO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ1Njb3JlQm9hcmRTY2VuZScpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB0ZXh0SW4odGV4dCkge1xyXG4gICAgICAgIHRoaXMuaW5Qcm9ncmVzcyA9IHRydWU7XHJcbiAgICAgICAgbGV0IGlkeCA9IDA7XHJcbiAgICAgICAgY29uc3Qgc3BlZWQgPSA3NTsgLy8gc3BlZWQgb2Ygd3JpdGluZyBpbiBtc1xyXG5cclxuICAgICAgICBjb25zdCB3cml0ZUxldHRlciA9ICgpID0+IHtcclxuICAgICAgICAgICAgaWYgKGlkeCA8IHRleHQubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnRleHRvLnNldFRleHQodGV4dC5zdWJzdHJpbmcoMCwgaWR4ICsgMSkpO1xyXG4gICAgICAgICAgICAgICAgaWR4Kys7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnRpbWUuZGVsYXllZENhbGwoc3BlZWQsIHdyaXRlTGV0dGVyKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuaW5Qcm9ncmVzcyA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgd3JpdGVMZXR0ZXIoKTtcclxuICAgIH1cclxuICAgIG5leHRUZXh0KCkge1xyXG4gICAgICAgIHRoaXMudGV4dEluZGV4Kys7XHJcbiAgICAgICAgdGhpcy5zaG93VGV4dCgpO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IFBoYXNlciBmcm9tIFwicGhhc2VyXCI7XHJcbmltcG9ydCB7IElucHV0TWFuYWdlciB9IGZyb20gXCIuLi9oYW5kbGVycy9JbnB1dE1hbmFnZXIuanNcIjtcclxuaW1wb3J0IHsgRW5lbXkgfSBmcm9tIFwiLi4vZW50aXRpZXMvRW5lbXkuanNcIjtcclxuaW1wb3J0IHsgQ29tbWFuZFByb2Nlc3NvciB9IGZyb20gXCIuLi9jb21tYW5kLXBhdHRlcm4vQ29tbWFuZFByb2Nlc3Nvci5qc1wiO1xyXG5pbXBvcnQgeyBDYW1lcmEgfSBmcm9tIFwiLi4vY29tcG9uZW50cy9DYW1lcmEuanNcIjtcclxuaW1wb3J0IHsgUGxhdGZvcm0gfSBmcm9tIFwiLi4vZW50aXRpZXMvUGxhdGZvcm0uanNcIjtcclxuaW1wb3J0IHsgTHVjeSB9IGZyb20gXCIuLi9lbnRpdGllcy9MdWN5LmpzXCI7XHJcbmltcG9ydCB7IEFydGh1ciB9IGZyb20gXCIuLi9lbnRpdGllcy9BcnRodXIuanNcIjtcclxuXHJcblxyXG5leHBvcnQgY2xhc3MgR2FtZVNjZW5lMiBleHRlbmRzIFBoYXNlci5TY2VuZSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcignR2FtZVNjZW5lMicpXHJcbiAgICB9XHJcblxyXG4gICAgcHJlbG9hZCgpIHtcclxuICAgICAgICB0aGlzLmFydGh1ci5wcmVsb2FkKDYwMCwgODAwKTtcclxuICAgICAgICB0aGlzLmx1Y3kucHJlbG9hZCg2MDAsIDgwMCk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdhbWJpZW50JywgJ2Fzc2V0cy9zb3VuZC9hbWJpZW50LXRoZW1lLm1wMycpO1xyXG5cclxuXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdmb25kbycsICdhc3NldHMvRm9uZG9Ib3Jpem9udGFsLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgncDEnLCAnYXNzZXRzL3Byb3BzL3BsYXRhZm9ybWExLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnc3VlbG8nLCAnYXNzZXRzL3Byb3BzL3N1ZWxvLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgncDInLCAnYXNzZXRzL3Byb3BzL3BsYXRhZm9ybWEyLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYzEnLCAnYXNzZXRzL3Byb3BzL2NvbHVtbmExLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnbGliJywgJ2Fzc2V0cy9wcm9wcy9saWJyZXJpYS5wbmcnKTtcclxuXHJcbiAgICAgICAgdGhpcy5lbmVtaWVzLmZvckVhY2goZW5lbXkgPT4gZW5lbXkucHJlbG9hZCgpKTtcclxuICAgIH1cclxuXHJcbiAgICBpbml0KCkge1xyXG4gICAgICAgIHRoaXMuc291bmQuc3RvcEFsbCgpO1xyXG4gICAgICAgIHRoaXMuY29tbWFuZFByb2Nlc3NvciA9IG5ldyBDb21tYW5kUHJvY2Vzc29yKCk7XHJcbiAgICAgICAgdGhpcy5wbGF5ZXJzID0gbmV3IE1hcCgpO1xyXG4gICAgICAgIHRoaXMuZW5lbWllcyA9IG5ldyBNYXAoKTtcclxuICAgICAgICB0aGlzLnBsYXRmb3JtcyA9IG5ldyBNYXAoKTtcclxuICAgICAgICB0aGlzLmlzUGF1c2VkID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5pbnB1dE1hbmFnZXIgPSBuZXcgSW5wdXRNYW5hZ2VyKHRoaXMsIHRoaXMuc2NlbmUsIHRoaXMuaW5wdXQsIHRoaXMuY29tbWFuZFByb2Nlc3Nvcik7XHJcbiAgICAgICAgdGhpcy5hcnRodXIgPSBuZXcgQXJ0aHVyKHRoaXMsICdwbGF5ZXIxJywgNjAwLCAxMDAsIDUwMCwgJ3Nwcml0ZXNoZWV0LWFydGh1cicpO1xyXG4gICAgICAgIHRoaXMubHVjeSA9IG5ldyBMdWN5KHRoaXMsICdwbGF5ZXIyJywgNDUwLCAzMDAsIDUwMCwgJ3Nwcml0ZXNoZWV0LWx1Y3knKTtcclxuXHJcblxyXG4gICAgICAgIHRoaXMuY2FtZXJhID0gbmV3IENhbWVyYSh0aGlzLCB0aGlzLnBsYXllcnMpO1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZSgpIHtcclxuICAgICAgICAvLyBNdXNpY1xyXG4gICAgICAgIHRoaXMubXVzaWMgPSB0aGlzLnNvdW5kLmFkZCgnYW1iaWVudCcpO1xyXG4gICAgICAgIHRoaXMubXVzaWMucGxheSgpO1xyXG4gICAgICAgIHRoaXMubXVzaWMuc2V0Vm9sdW1lKDAuMjUpO1xyXG5cclxuICAgICAgICAvLyBCYWNrZ3JvdW5kXHJcbiAgICAgICAgdGhpcy5mb25kbyA9IHRoaXMuYWRkLnRpbGVTcHJpdGUoMCwgMCwgODAwMCwgMjAwMCwgJ2ZvbmRvJylcclxuICAgICAgICAgICAgLnNldE9yaWdpbigwLCAwKVxyXG4gICAgICAgICAgICAuc2V0U2Nyb2xsRmFjdG9yKDAuMilcclxuICAgICAgICAgICAgLnNldFNjYWxlKDAuMyk7XHJcblxyXG4gICAgICAgIC8vQ3JlYXRlIHRoZSBwbGF5ZXJzIFxyXG4gICAgICAgIHRoaXMuYXJ0aHVyLmNyZWF0ZSgpO1xyXG4gICAgICAgIHRoaXMubHVjeS5jcmVhdGUoKTtcclxuXHJcbiAgICAgICAgLy8gU2V0IHVwIGlucHV0IGFuZCBwbGF5ZXJzXHJcbiAgICAgICAgdGhpcy5wbGF5ZXJzLnNldCgncGxheWVyMScsIHRoaXMuYXJ0aHVyKTtcclxuICAgICAgICB0aGlzLnBsYXllcnMuc2V0KCdwbGF5ZXIyJywgdGhpcy5sdWN5KTtcclxuXHJcbiAgICAgICAgdGhpcy5pbnB1dE1hbmFnZXIucGxheWVycyA9IHRoaXMucGxheWVycztcclxuXHJcbiAgICAgICAgLy8gU2V0IHVwIGVuZW1pZXNcclxuICAgICAgICB0aGlzLmVuZW1pZXMuZm9yRWFjaCgoZW5lbXkpID0+IHtcclxuICAgICAgICAgICAgZW5lbXkuY3JlYXRlKCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuc2V0VXBXb3JsZENvbGxpc2lvbnMoKTtcclxuICAgICAgICB0aGlzLnNldFVwRW5lbXlDb2xsaXNpb25zKCk7XHJcbiAgICAgICAgdGhpcy5zZXRVcFJldml2ZUNvbGxpc2lvbigpO1xyXG5cclxuICAgICAgICB0aGlzLnBoeXNpY3Mud29ybGQuc2V0Qm91bmRzKDAsIDAsIDQxNzUsIDYwMCk7XHJcbiAgICAgICAgdGhpcy5jYW1lcmEuY2FtZXJhLnNldEJvdW5kcygwLCAwLCA0MTc1LCA2MDApO1xyXG5cclxuICAgICAgICB0aGlzLmNhbWVyYS5jYW1lcmEuc2V0TGVycCgwLjEsIDAuMSk7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHNldFVwUmV2aXZlQ29sbGlzaW9uKCkge1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQub3ZlcmxhcCh0aGlzLnBsYXllcnMuZ2V0KCdwbGF5ZXIxJykuc3ByaXRlLCB0aGlzLnBsYXllcnMuZ2V0KCdwbGF5ZXIyJykuc3ByaXRlLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnBsYXllcnMuZ2V0KCdwbGF5ZXIxJykuaGVhbHRoIDw9IDAgJiYgdGhpcy5wbGF5ZXJzLmdldCgncGxheWVyMicpLmhlYWx0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucGxheWVycy5nZXQoJ3BsYXllcjEnKS5yZXZpdmUoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmICh0aGlzLnBsYXllcnMuZ2V0KCdwbGF5ZXIyJykuaGVhbHRoIDw9IDAgJiYgdGhpcy5wbGF5ZXJzLmdldCgncGxheWVyMScpLmhlYWx0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucGxheWVycy5nZXQoJ3BsYXllcjInKS5yZXZpdmUoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHNldFVwV29ybGRDb2xsaXNpb25zKCkge1xyXG4gICAgICAgIC8vU2V0IHVwIHBsYXRmb3JtcyBhbmQgY29sbGlzaW9uc1xyXG5cclxuICAgICAgICB0aGlzLnN1ZWxvMSA9IG5ldyBQbGF0Zm9ybSh0aGlzLCAnczEnLCAyNTAwLCA1OTAsIDUwMDAsIDQwLCAnc3VlbG8nKTtcclxuICAgICAgICAvKnRoaXMucGxhdDEgPSBuZXcgUGxhdGZvcm0odGhpcywgJ3AxJywgMjAwLCA0NTAsIDIwMCwgMzAsICdwMScpO1xyXG4gICAgICAgIHRoaXMucGxhdDIgPSBuZXcgUGxhdGZvcm0odGhpcywgJ3AyJywgNDUwLCAzMDAsIDIwMCwgMzAsICdwMScpO1xyXG4gICAgICAgIHRoaXMuc3VlbG8yID0gbmV3IFBsYXRmb3JtKHRoaXMsICdzMicsIDEyMDAsIDU1MCwgNTAwLCAyMDAsICdwMicpO1xyXG4gICAgICAgIHRoaXMuY29sMSA9IG5ldyBQbGF0Zm9ybSh0aGlzLCAnYzEnLCA3MDAsIDQ1MCwgNzAsIDMwMCwgJ2MxJyk7XHJcbiAgICAgICAgdGhpcy5jb2wyID0gbmV3IFBsYXRmb3JtKHRoaXMsICdjMicsIDIyMDAsIDQ1MCwgNzAsIDQwMCwgJ2MxJyk7XHJcbiAgICAgICAgdGhpcy5wbGF0MyA9IG5ldyBQbGF0Zm9ybSh0aGlzLCAncDMnLCAxODAwLCA0NTAsIDE1MCwgMzAsICdwMScpO1xyXG4gICAgICAgIHRoaXMucGxhdDQgPSBuZXcgUGxhdGZvcm0odGhpcywgJ3A0JywgMTUwMCwgMzAwLCAxNTAsIDMwLCAncDEnKTtcclxuICAgICAgICB0aGlzLnBsYXQ1ID0gbmV3IFBsYXRmb3JtKHRoaXMsICdwNScsIDIwMDAsIDIwMCwgMTUwLCAzMCwgJ3AxJyk7XHJcbiAgICAgICAgdGhpcy5zdWVsbzMgPSBuZXcgUGxhdGZvcm0odGhpcywgJ3MzJywgMjIwMCwgNTUwLCAyMzAsIDEwMCwgJ3AyJyk7XHJcbiAgICAgICAgdGhpcy5zdWVsbzQgPSBuZXcgUGxhdGZvcm0odGhpcywgJ3M0JywgMjgwMCwgNTAwLCA1NTAsIDI1MCwgJ3AyJyk7XHJcbiAgICAgICAgdGhpcy5wbGF0NiA9IG5ldyBQbGF0Zm9ybSh0aGlzLCAncDYnLCAzMTUwLCAyNTAsIDE1MCwgMzAsICdwMScpO1xyXG4gICAgICAgIHRoaXMucGxhdDcgPSBuZXcgUGxhdGZvcm0odGhpcywgJ3A3JywgMzUwMCwgMjUwLCAxNTAsIDMwLCAncDEnKTtcclxuICAgICAgICB0aGlzLnBsYXQ4ID0gbmV3IFBsYXRmb3JtKHRoaXMsICdwOCcsIDMxNTAsIDQ1MCwgMTUwLCAzMCwgJ3AxJyk7XHJcbiAgICAgICAgdGhpcy5zdWVsbzUgPSBuZXcgUGxhdGZvcm0odGhpcywgJ3M1JywgNDAwMSwgNDUwLCAzNTAsIDM1MCwgJ3AyJyk7Ki9cclxuXHJcblxyXG4gICAgICAgIHRoaXMucGxhdGZvcm1zLnNldCgnczEnLCB0aGlzLnN1ZWxvMSk7XHJcbiAgICAgICAgLyp0aGlzLnBsYXRmb3Jtcy5zZXQoJ3AxJywgdGhpcy5wbGF0MSk7XHJcbiAgICAgICAgdGhpcy5wbGF0Zm9ybXMuc2V0KCdwMicsIHRoaXMucGxhdDIpO1xyXG4gICAgICAgIHRoaXMucGxhdGZvcm1zLnNldCgnczInLCB0aGlzLnN1ZWxvMik7XHJcbiAgICAgICAgdGhpcy5wbGF0Zm9ybXMuc2V0KCdjMScsIHRoaXMuY29sMSk7XHJcbiAgICAgICAgdGhpcy5wbGF0Zm9ybXMuc2V0KCdjMicsIHRoaXMuY29sMik7XHJcbiAgICAgICAgdGhpcy5wbGF0Zm9ybXMuc2V0KCdwMycsIHRoaXMucGxhdDMpO1xyXG4gICAgICAgIHRoaXMucGxhdGZvcm1zLnNldCgncDQnLCB0aGlzLnBsYXQ0KTtcclxuICAgICAgICB0aGlzLnBsYXRmb3Jtcy5zZXQoJ3A1JywgdGhpcy5wbGF0NSk7XHJcbiAgICAgICAgdGhpcy5wbGF0Zm9ybXMuc2V0KCdzMycsIHRoaXMuc3VlbG8zKTtcclxuICAgICAgICB0aGlzLnBsYXRmb3Jtcy5zZXQoJ3M0JywgdGhpcy5zdWVsbzQpO1xyXG4gICAgICAgIHRoaXMucGxhdGZvcm1zLnNldCgnczUnLCB0aGlzLnN1ZWxvNSk7XHJcbiAgICAgICAgdGhpcy5wbGF0Zm9ybXMuc2V0KCdwNicsIHRoaXMucGxhdDYpO1xyXG4gICAgICAgIHRoaXMucGxhdGZvcm1zLnNldCgncDcnLCB0aGlzLnBsYXQ3KTtcclxuICAgICAgICB0aGlzLnBsYXRmb3Jtcy5zZXQoJ3A4JywgdGhpcy5wbGF0OCk7Ki9cclxuXHJcbiAgICAgICAgdGhpcy5wbGF0Zm9ybXMuZm9yRWFjaChwID0+IHtcclxuICAgICAgICAgICAgdGhpcy5wbGF5ZXJzLmZvckVhY2gocGVyc29uYWplID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMucGh5c2ljcy5hZGQuY29sbGlkZXIocGVyc29uYWplLnNwcml0ZSwgcC5zcHJpdGUpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdGhpcy5lbmVtaWVzLmZvckVhY2goZW5lbWlnbyA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKGVuZW1pZ28uc3ByaXRlLCBwLnNwcml0ZSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvKnRoaXMubGlicmVyaWEgPSBuZXcgUGxhdGZvcm0odGhpcywgJ2xpYicsIDQwMDAsIDIwOCwgMTAwLCAxNTAsICdsaWInKTtcclxuICAgICAgICB0aGlzLmxpYnJlcmlhLnNwcml0ZS5zZXREZXB0aCgyKTtcclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLm92ZXJsYXAodGhpcy5saWJyZXJpYS5zcHJpdGUsIHRoaXMuYXJ0aHVyLnNwcml0ZSwgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnN0b3AoKTtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5zdGFydCgnRW5kU2NlbmUnKTtcclxuICAgICAgICB9KTsqL1xyXG4gICAgfVxyXG5cclxuICAgIHNldFVwRW5lbXlDb2xsaXNpb25zKCkge1xyXG4gICAgICAgIHRoaXMuZW5lbWllcy5mb3JFYWNoKChlbmVteSkgPT4ge1xyXG5cclxuICAgICAgICAgICAgLy8gRW1lbnkgaGl0cyBcclxuICAgICAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcihlbmVteS5zcHJpdGUsIHRoaXMucGxheWVycy5nZXQoJ3BsYXllcjEnKS5zcHJpdGUsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChlbmVteSAmJiB0aGlzLnBsYXllcnMuZ2V0KCdwbGF5ZXIxJykuaGVhbHRoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGxheWVycy5nZXQoJ3BsYXllcjEnKS5nZXRIaXQoNTApO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2hlY2tQbGF5ZXJTdGF0dXMoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKGVuZW15LnNwcml0ZSwgdGhpcy5wbGF5ZXJzLmdldCgncGxheWVyMicpLnNwcml0ZSwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKGVuZW15ICYmIHRoaXMucGxheWVycy5nZXQoJ3BsYXllcjInKS5oZWFsdGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wbGF5ZXJzLmdldCgncGxheWVyMicpLmdldEhpdCg1MCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jaGVja1BsYXllclN0YXR1cygpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIC8vIFBsYXllciBsaWdodHMgZW5lbXlcclxuICAgICAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5vdmVybGFwKGVuZW15LnNwcml0ZSwgdGhpcy5hcnRodXIubGlnaHQuY29sbGlkZXJDaXJjbGUsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmFydGh1ci5saWdodC5pc09uICYmIGVuZW15KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZW5lbXkuc2V0V2Vha2VuZWQodHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50aW1lLmRlbGF5ZWRDYWxsKDQwMDAsICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVuZW15KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmVteS5zZXRXZWFrZW5lZChmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAvLyBQbGF5ZXIgYXR0YWNrcyBlbmVteVxyXG4gICAgICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLm92ZXJsYXAoZW5lbXkuc3ByaXRlLCB0aGlzLnBsYXllcnMuZ2V0KCdwbGF5ZXIyJykuYXR0YWNrSGl0Ym94LCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZW5lbXk/LndlYWtlbmVkICYmIHRoaXMucGxheWVycy5nZXQoJ3BsYXllcjInKS5pc0F0dGFja2luZykge1xyXG4gICAgICAgICAgICAgICAgICAgIGVuZW15LmRpZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGVuZW15LmlzRGVhZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgZW5lbXkgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBjaGVja1BsYXllclN0YXR1cygpIHtcclxuICAgICAgICBpZiAodGhpcy5wbGF5ZXJzLmdldCgncGxheWVyMScpLmhlYWx0aCA8PSAwICYmIHRoaXMucGxheWVycy5nZXQoJ3BsYXllcjInKS5oZWFsdGggPD0gMCkge1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnN0b3AoKTtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5zdGFydCgnR2FtZVNjZW5lJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZSgpIHtcclxuICAgICAgICB0aGlzLmZvbmRvLnRpbGVQb3NpdGlvblggPSB0aGlzLmNhbWVyYXMubWFpbi5zY3JvbGxYICogMC4yO1xyXG5cclxuICAgICAgICB0aGlzLmNhbWVyYS51cGRhdGUoKTtcclxuICAgICAgICB0aGlzLmlucHV0TWFuYWdlci51cGRhdGUoKTtcclxuXHJcbiAgICAgICAgdGhpcy5hcnRodXIubGlnaHQudXBkYXRlKCk7XHJcblxyXG4gICAgICAgIHRoaXMuZW5lbWllcy5mb3JFYWNoKChlbmVteSkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIWVuZW15IHx8IGVuZW15LmlzRGVhZCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5lbmVtaWVzLmRlbGV0ZShlbmVteS5pZCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZW5lbXkudXBkYXRlKCk7XHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuXHJcblxyXG59IiwiaW1wb3J0IFBoYXNlciBmcm9tICdwaGFzZXInO1xyXG5pbXBvcnQgeyBjb25uZWN0aW9uTWFuYWdlciB9IGZyb20gJy4uL3NlcnZpY2VzL0Nvbm5lY3Rpb25NYW5hZ2VyJztcclxuXHJcbi8qKlxyXG4gKiBFc2NlbmEgcXVlIHNlIG11ZXN0cmEgY3VhbmRvIHNlIHBpZXJkZSBsYSBjb25leGnDs24gY29uIGVsIHNlcnZpZG9yXHJcbiAqIFBhdXNhIGVsIHJlc3RvIGRlIGVzY2VuYXMgeSBjb21wcnVlYmEgY29udGludWFtZW50ZSBoYXN0YSBxdWUgc2UgcmVzdGFibGV6Y2FcclxuICovXHJcbmV4cG9ydCBjbGFzcyBDb25uZWN0aW9uTG9zdFNjZW5lIGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCdDb25uZWN0aW9uTG9zdFNjZW5lJyk7XHJcbiAgICAgICAgdGhpcy5yZWNvbm5lY3RDaGVja0ludGVydmFsID0gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICBpbml0KGRhdGEpIHtcclxuICAgICAgICAvLyBHdWFyZGFyIGxhIGVzY2VuYSBxdWUgZXN0YWJhIGFjdGl2YSBjdWFuZG8gc2UgcGVyZGnDsyBsYSBjb25leGnDs25cclxuICAgICAgICB0aGlzLnByZXZpb3VzU2NlbmUgPSBkYXRhLnByZXZpb3VzU2NlbmU7XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlKCkge1xyXG4gICAgICAgIC8vIEZvbmRvIHNlbWktdHJhbnNwYXJlbnRlXHJcbiAgICAgICAgdGhpcy5hZGQucmVjdGFuZ2xlKDQwMCwgMzAwLCA4MDAsIDYwMCwgMHgwMDAwMDAsIDAuOCk7XHJcblxyXG4gICAgICAgIC8vIFTDrXR1bG9cclxuICAgICAgICB0aGlzLmFkZC50ZXh0KDQwMCwgMjAwLCAnQ09ORVhJw5NOIFBFUkRJREEnLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnNDhweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmMDAwMCcsXHJcbiAgICAgICAgICAgIGZvbnRTdHlsZTogJ2JvbGQnXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIC8vIE1lbnNhamVcclxuICAgICAgICB0aGlzLnN0YXR1c1RleHQgPSB0aGlzLmFkZC50ZXh0KDQwMCwgMzAwLCAnSW50ZW50YW5kbyByZWNvbmVjdGFyLi4uJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzI0cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmMDAnXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIC8vIENvbnRhZG9yIGRlIGludGVudG9zXHJcbiAgICAgICAgdGhpcy5hdHRlbXB0Q291bnQgPSAwO1xyXG4gICAgICAgIHRoaXMuYXR0ZW1wdFRleHQgPSB0aGlzLmFkZC50ZXh0KDQwMCwgMzUwLCAnSW50ZW50b3M6IDAnLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMThweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmZmZmZidcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgLy8gSW5kaWNhZG9yIHBhcnBhZGVhbnRlXHJcbiAgICAgICAgdGhpcy5kb3RDb3VudCA9IDA7XHJcbiAgICAgICAgdGhpcy50aW1lLmFkZEV2ZW50KHtcclxuICAgICAgICAgICAgZGVsYXk6IDIwMDAsXHJcbiAgICAgICAgICAgIGNhbGxiYWNrOiAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRvdENvdW50ID0gKHRoaXMuZG90Q291bnQgKyAxKSAlIDQ7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBkb3RzID0gJy4nLnJlcGVhdCh0aGlzLmRvdENvdW50KTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc3RhdHVzVGV4dC5zZXRUZXh0KGBJbnRlbnRhbmRvIHJlY29uZWN0YXIke2RvdHN9YCk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGxvb3A6IHRydWVcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gTGlzdGVuZXIgcGFyYSBjYW1iaW9zIGRlIGNvbmV4acOzblxyXG4gICAgICAgIHRoaXMuY29ubmVjdGlvbkxpc3RlbmVyID0gKGRhdGEpID0+IHtcclxuICAgICAgICAgICAgaWYgKGRhdGEuY29ubmVjdGVkKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm9uUmVjb25uZWN0ZWQoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgY29ubmVjdGlvbk1hbmFnZXIuYWRkTGlzdGVuZXIodGhpcy5jb25uZWN0aW9uTGlzdGVuZXIpO1xyXG5cclxuICAgICAgICAvLyBJbnRlbnRhciByZWNvbmVjdGFyIGNhZGEgMiBzZWd1bmRvc1xyXG4gICAgICAgIHRoaXMucmVjb25uZWN0Q2hlY2tJbnRlcnZhbCA9IHNldEludGVydmFsKCgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5hdHRlbXB0UmVjb25uZWN0KCk7XHJcbiAgICAgICAgfSwgMjAwMCk7XHJcblxyXG4gICAgICAgIC8vIFByaW1lciBpbnRlbnRvIGlubWVkaWF0b1xyXG4gICAgICAgIHRoaXMuYXR0ZW1wdFJlY29ubmVjdCgpO1xyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIGF0dGVtcHRSZWNvbm5lY3QoKSB7XHJcbiAgICAgICAgdGhpcy5hdHRlbXB0Q291bnQrKztcclxuICAgICAgICBpZiAodGhpcy5hdHRlbXB0Q291bnQgPiAzMCkge1xyXG4gICAgICAgICAgICB0aGlzLnN0YXR1c1RleHQuc2V0VGV4dCgnTm8gc2UgcHVkbyBlc3RhYmxlY2VyIGxhIGNvbmV4acOzbicpO1xyXG4gICAgICAgICAgICB0aGlzLnN0YXR1c1RleHQuc2V0Q29sb3IoJyNmZjAwMDAnKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmF0dGVtcHRUZXh0LnNldFRleHQoYEludGVudG9zOiAke3RoaXMuYXR0ZW1wdENvdW50fWApO1xyXG4gICAgICAgIGF3YWl0IGNvbm5lY3Rpb25NYW5hZ2VyLmNoZWNrQ29ubmVjdGlvbigpO1xyXG4gICAgfVxyXG5cclxuICAgIG9uUmVjb25uZWN0ZWQoKSB7XHJcbiAgICAgICAgLy8gTGltcGlhciBpbnRlcnZhbFxyXG4gICAgICAgIGlmICh0aGlzLnJlY29ubmVjdENoZWNrSW50ZXJ2YWwpIHtcclxuICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLnJlY29ubmVjdENoZWNrSW50ZXJ2YWwpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gUmVtb3ZlciBsaXN0ZW5lclxyXG4gICAgICAgIGNvbm5lY3Rpb25NYW5hZ2VyLnJlbW92ZUxpc3RlbmVyKHRoaXMuY29ubmVjdGlvbkxpc3RlbmVyKTtcclxuXHJcbiAgICAgICAgLy8gTWVuc2FqZSBkZSDDqXhpdG9cclxuICAgICAgICB0aGlzLnN0YXR1c1RleHQuc2V0VGV4dCgnwqFDb25leGnDs24gcmVzdGFibGVjaWRhIScpO1xyXG4gICAgICAgIHRoaXMuc3RhdHVzVGV4dC5zZXRDb2xvcignIzAwZmYwMCcpO1xyXG5cclxuICAgICAgICAvLyBWb2x2ZXIgYSBsYSBlc2NlbmEgYW50ZXJpb3JcclxuICAgICAgICB0aGlzLnRpbWUuZGVsYXllZENhbGwoMTAwMCwgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnN0b3AoKTtcclxuICAgICAgICAgICAgaWYgKHRoaXMucHJldmlvdXNTY2VuZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5yZXN1bWUodGhpcy5wcmV2aW91c1NjZW5lKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHNodXRkb3duKCkge1xyXG4gICAgICAgIC8vIExpbXBpYXIgZWwgaW50ZXJ2YWwgYWwgY2VycmFyIGxhIGVzY2VuYVxyXG4gICAgICAgIGlmICh0aGlzLnJlY29ubmVjdENoZWNrSW50ZXJ2YWwpIHtcclxuICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLnJlY29ubmVjdENoZWNrSW50ZXJ2YWwpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBSZW1vdmVyIGVsIGxpc3RlbmVyXHJcbiAgICAgICAgaWYgKHRoaXMuY29ubmVjdGlvbkxpc3RlbmVyKSB7XHJcbiAgICAgICAgICAgIGNvbm5lY3Rpb25NYW5hZ2VyLnJlbW92ZUxpc3RlbmVyKHRoaXMuY29ubmVjdGlvbkxpc3RlbmVyKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IFBoYXNlciBmcm9tIFwicGhhc2VyXCI7XHJcbmltcG9ydCB7IGNsaWVudERhdGFNYW5hZ2VyIH0gZnJvbSBcIi4uL3NlcnZpY2VzL2NsaWVudERhdGFNYW5hZ2VyXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgTG9naW5TY2VuZSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcignTG9naW5TY2VuZScpXHJcbiAgICB9XHJcblxyXG4gICAgcHJlbG9hZCgpIHtcclxuICAgICAgICB0aGlzLmxvYWQuaHRtbCgnbG9naW4nLCAnYXNzZXRzL2h0bWwvZm9ybS5odG1sJyk7XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlKCkge1xyXG4gICAgICAgIGNvbnN0IHRleHQgPSB0aGlzLmFkZC50ZXh0KDQwMCwgNTIsICdMb2dpbicsIHsgZm9udFNpemU6ICczMnB4JywgZmlsbDogJyNmZmYnIH0pO1xyXG5cclxuICAgICAgICBjb25zdCBlbGVtZW50ID0gdGhpcy5hZGQuZG9tKDQwMCwgMzAwKS5jcmVhdGVGcm9tQ2FjaGUoJ2xvZ2luJyk7XHJcblxyXG4gICAgICAgIGVsZW1lbnQuc2V0UGVyc3BlY3RpdmUoODAwKTtcclxuXHJcbiAgICAgICAgZWxlbWVudC5hZGRMaXN0ZW5lcignY2xpY2snKTtcclxuXHJcbiAgICAgICAgY29uc3Qgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgZWxlbWVudC5vbignY2xpY2snLCBhc3luYyAoZXZlbnQpID0+IHtcclxuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChldmVudC50YXJnZXQubmFtZSA9PT0gJ2xvZ2luQnV0dG9uJykge1xyXG5cclxuICAgICAgICAgICAgICAgIGNvbnN0IGlucHV0VXNlcm5hbWUgPSBlbGVtZW50LmdldENoaWxkQnlOYW1lKCd1c2VybmFtZScpLnZhbHVlO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coaW5wdXRVc2VybmFtZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gIEhhdmUgdGhleSBlbnRlcmVkIGFueXRoaW5nP1xyXG4gICAgICAgICAgICAgICAgaWYgKGlucHV0VXNlcm5hbWUgIT09ICcnKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdUcnlpbmcgdG8gbG9nIGluJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9QT1NUIG9uIC9hcGkvdXNlcnNcclxuICAgICAgICAgICAgICAgICAgICBjbGllbnREYXRhTWFuYWdlci5uYW1lID0gaW5wdXRVc2VybmFtZTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBsb2dnZWRJbiA9IGF3YWl0IGNsaWVudERhdGFNYW5hZ2VyLnBvc3RMb2dpbigpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChsb2dnZWRJbiA9PT0gMjAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICBUdXJuIG9mZiB0aGUgY2xpY2sgZXZlbnRzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQucmVtb3ZlTGlzdGVuZXIoJ2NsaWNrJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQuc2V0VGV4dCgnTG9naW4gc3VjY2Vzc2Z1bCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdNZW51U2NlbmUnKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0LnNldFRleHQoJ0xvZ2luIGZhaWxlZCcpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9KTtcclxuXHJcbiAgICB9XHJcblxyXG59XHJcbiIsImV4cG9ydCBjbGFzcyBNYXRjaE1ha2luZ1NjZW5lIGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcclxuICBjb25zdHJ1Y3RvcigpIHtcclxuICAgIHN1cGVyKCdNYXRjaE1ha2luZ1NjZW5lJyk7XHJcbiAgICB0aGlzLndzID0gbnVsbDtcclxuICB9XHJcblxyXG4gIHByZWxvYWQoKSB7XHJcbiAgICB0aGlzLmxvYWQuaW1hZ2UoJ21hdGNoTWFraW5nJywgJ2Fzc2V0cy9tZW51cy9wYW50YWxsYS1tYXRjaG1ha2luZy5qcGcnKTtcclxuICB9XHJcblxyXG4gIGNyZWF0ZSgpIHtcclxuICAgIGNvbnN0IHdpZHRoID0gdGhpcy5jYW1lcmFzLm1haW4ud2lkdGg7XHJcbiAgICBjb25zdCBoZWlnaHQgPSB0aGlzLmNhbWVyYXMubWFpbi5oZWlnaHQ7XHJcblxyXG4gICAgLy8gQmFja2dyb3VuZCBpbWFnZVxyXG4gICAgdGhpcy5hZGQuaW1hZ2Uod2lkdGggLyAyLCBoZWlnaHQgLyAyLCAnbWF0Y2hNYWtpbmcnKS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAvLyBTdGF0dXMgdGV4dFxyXG4gICAgdGhpcy5zdGF0dXNUZXh0ID0gdGhpcy5hZGQudGV4dCh3aWR0aCAvIDIsIGhlaWdodCAvIDIgLSA1MCwgJ0NvbmVjdGFuZG8uLi4nLCB7XHJcbiAgICAgIGZvbnRGYW1pbHk6ICdMaW5MaWJlcnRpbmUnLFxyXG4gICAgICBmb250U2l6ZTogJzI0cHgnLFxyXG4gICAgICBjb2xvcjogJyNmZmZmZmZmZicsXHJcbiAgICAgIGJhY2tncm91bmRDb2xvcjogJyMwMDAwMDBmZidcclxuICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgIC8vIFBsYXllciBjb3VudCB0ZXh0XHJcbiAgICB0aGlzLnBsYXllckNvdW50VGV4dCA9IHRoaXMuYWRkLnRleHQod2lkdGggLyAyLCBoZWlnaHQgLyAyICsgMjAsICcnLCB7XHJcbiAgICAgIGZvbnRGYW1pbHk6ICdMaW5MaWJlcnRpbmUnLFxyXG4gICAgICBmb250U2l6ZTogJzIwcHgnLFxyXG4gICAgICBjb2xvcjogJyNmZmZmZmZmZicsXHJcbiAgICAgIGJhY2tncm91bmRDb2xvcjogJyMwMDAwMDBmZidcclxuICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgIC8vIENhbmNlbCBidXR0b25cclxuICAgIGNvbnN0IGNhbmNlbEJ1dHRvbiA9IHRoaXMuYWRkLnRleHQod2lkdGggLyAyLCBoZWlnaHQgLSAxMDAsICdDYW5jZWwnLCB7XHJcbiAgICAgIGZvbnRGYW1pbHk6ICdMaW5MaWJlcnRpbmUnLFxyXG4gICAgICBmb250U2l6ZTogJzI0cHgnLFxyXG4gICAgICBjb2xvcjogJyNmZjY2NjZmZicsXHJcbiAgICAgIGJhY2tncm91bmRDb2xvcjogJyMwMDAwMDBmZicsXHJcbiAgICAgIHBhZGRpbmc6IHsgeDogMjAsIHk6IDEwIH1cclxuICAgIH0pLnNldE9yaWdpbigwLjUpLnNldEludGVyYWN0aXZlKCk7XHJcblxyXG4gICAgY2FuY2VsQnV0dG9uLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IHtcclxuICAgICAgY2FuY2VsQnV0dG9uLnNldENvbG9yKCcjZmYwMDAwZmYnKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGNhbmNlbEJ1dHRvbi5vbigncG9pbnRlcm91dCcsICgpID0+IHtcclxuICAgICAgY2FuY2VsQnV0dG9uLnNldENvbG9yKCcjZmY2NjY2ZmYnKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGNhbmNlbEJ1dHRvbi5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgIHRoaXMubGVhdmVRdWV1ZSgpO1xyXG4gICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdNZW51U2NlbmUnKTtcclxuICAgIH0pO1xyXG5cclxuICAvLyBDb25uZWN0IHRvIFdlYlNvY2tldCBzZXJ2ZXJcclxuICAgIHRoaXMuY29ubmVjdFRvU2VydmVyKCk7XHJcbiAgfVxyXG5cclxuICBjb25uZWN0VG9TZXJ2ZXIoKSB7XHJcbiAgICB0cnkge1xyXG4gICAgICAvLyBDb25uZWN0IHRvIFdlYlNvY2tldCBzZXJ2ZXIgKHNhbWUgaG9zdCBhcyB3ZWIgc2VydmVyKVxyXG4gICAgICBjb25zdCB3c1VybCA9IGB3czovLyR7d2luZG93LmxvY2F0aW9uLmhvc3R9YDtcclxuXHJcbiAgICAgIHRoaXMud3MgPSBuZXcgV2ViU29ja2V0KHdzVXJsKTtcclxuXHJcbiAgICAgIHRoaXMud3Mub25vcGVuID0gKCkgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdDb25uZWN0aW5nIHRvIFdlYlNvY2tldCBzZXJ2ZXInKTtcclxuICAgICAgICB0aGlzLnN0YXR1c1RleHQuc2V0VGV4dCgnRXNwZXJhbmRvIG9wb25lbnRlLi4uJyk7XHJcblxyXG4gICAgICAgIC8vIEpvaW4gbWF0Y2htYWtpbmcgcXVldWVcclxuICAgICAgICB0aGlzLndzLnNlbmQoSlNPTi5zdHJpbmdpZnkoeyB0eXBlOiAnam9pblF1ZXVlJyB9KSk7XHJcbiAgICAgIH07XHJcblxyXG4gICAgICB0aGlzLndzLm9ubWVzc2FnZSA9IChldmVudCkgPT4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICBjb25zdCBkYXRhID0gSlNPTi5wYXJzZShldmVudC5kYXRhKTtcclxuICAgICAgICAgIHRoaXMuaGFuZGxlU2VydmVyTWVzc2FnZShkYXRhKTtcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgcGFyc2luZyBzZXJ2ZXIgbWVzc2FnZTonLCBlcnJvcik7XHJcbiAgICAgICAgfVxyXG4gICAgICB9O1xyXG5cclxuICAgICAgdGhpcy53cy5vbmVycm9yID0gKGVycm9yKSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZGUgV2ViU29ja2V0OicsIGVycm9yKTtcclxuICAgICAgICB0aGlzLnN0YXR1c1RleHQuc2V0VGV4dCgnRXJyb3IgZGUgV2ViU29ja2V0IScpO1xyXG4gICAgICAgIHRoaXMuc3RhdHVzVGV4dC5zZXRDb2xvcignI2ZmMDAwMGZmJyk7XHJcbiAgICAgIH07XHJcblxyXG4gICAgICB0aGlzLndzLm9uY2xvc2UgPSAoKSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ1dlYlNvY2tldCBjb25uZWN0aW9uIGNsb3NlZCcpO1xyXG4gICAgICAgIGlmICh0aGlzLnNjZW5lLmlzQWN0aXZlKCdMb2JieVNjZW5lJykpIHtcclxuICAgICAgICAgIHRoaXMuc3RhdHVzVGV4dC5zZXRUZXh0KCdDb25leGnDs24gcGVyZGlkYSEnKTtcclxuICAgICAgICAgIHRoaXMuc3RhdHVzVGV4dC5zZXRDb2xvcignI2ZmMDAwMGZmJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9O1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgY29ubmVjdGluZyB0byBzZXJ2ZXI6JywgZXJyb3IpO1xyXG4gICAgICB0aGlzLnN0YXR1c1RleHQuc2V0VGV4dCgnRXJyb3IgYWwgY29uZWN0YXIhJyk7XHJcbiAgICAgIHRoaXMuc3RhdHVzVGV4dC5zZXRDb2xvcignI2ZmMDAwMGZmJyk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBoYW5kbGVTZXJ2ZXJNZXNzYWdlKGRhdGEpIHtcclxuICAgIHN3aXRjaCAoZGF0YS50eXBlKSB7XHJcbiAgICAgIGNhc2UgJ3F1ZXVlU3RhdHVzJzpcclxuICAgICAgICB0aGlzLnBsYXllckNvdW50VGV4dC5zZXRUZXh0KGBKdWdhZG9yZXMgZW4gY29sYTogJHtkYXRhLnBvc2l0aW9ufS8yYCk7XHJcbiAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICBjYXNlICdnYW1lU3RhcnQnOlxyXG4gICAgICAgIGNvbnNvbGUubG9nKCdHYW1lIHN0YXJ0aW5nIScsIGRhdGEpO1xyXG4gICAgICAgIC8vIFN0b3JlIGdhbWUgZGF0YSBhbmQgdHJhbnNpdGlvbiB0byBtdWx0aXBsYXllciBnYW1lIHNjZW5lXHJcbiAgICAgICAgdGhpcy5zY2VuZS5zdGFydCgnTXVsdGlwbGF5ZXJTY2VuZScsIHtcclxuICAgICAgICAgIHdzOiB0aGlzLndzLFxyXG4gICAgICAgICAgcGxheWVyUm9sZTogZGF0YS5yb2xlLFxyXG4gICAgICAgICAgcm9vbUlkOiBkYXRhLnJvb21JZCxcclxuICAgICAgICB9KTtcclxuICAgICAgICBicmVhaztcclxuXHJcbiAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgY29uc29sZS5sb2coJ1Vua25vd24gbWVzc2FnZSB0eXBlOicsIGRhdGEudHlwZSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBsZWF2ZVF1ZXVlKCkge1xyXG4gICAgaWYgKHRoaXMud3MgJiYgdGhpcy53cy5yZWFkeVN0YXRlID09PSBXZWJTb2NrZXQuT1BFTikge1xyXG4gICAgICB0aGlzLndzLnNlbmQoSlNPTi5zdHJpbmdpZnkoeyB0eXBlOiAnbGVhdmVRdWV1ZScgfSkpO1xyXG4gICAgICB0aGlzLndzLmNsb3NlKCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBzaHV0ZG93bigpIHtcclxuICAgIHRoaXMubGVhdmVRdWV1ZSgpO1xyXG4gIH1cclxufSIsImltcG9ydCBQaGFzZXIgZnJvbSBcInBoYXNlclwiO1xyXG5pbXBvcnQgeyBjbGllbnREYXRhTWFuYWdlciB9IGZyb20gXCIuLi9zZXJ2aWNlcy9jbGllbnREYXRhTWFuYWdlci5qc1wiO1xyXG5leHBvcnQgY2xhc3MgU2NvcmVCb2FyZFNjZW5lIGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCdTY29yZUJvYXJkU2NlbmUnKVxyXG4gICAgfVxyXG5cclxuICAgIHByZWxvYWQoKSB7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdwMScsICdhc3NldHMvcDFwMmVTQ0FQQU5ETy5wbmcnKTtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGUoZGF0YSkge1xyXG5cclxuICAgICAgICB0aGlzLmFkZC5pbWFnZSg0MDAsIDIwMCwgJ3AxJyk7XHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCg0MDAsIDEwMCwgJ1NDT1JFQk9BUkQnLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnNDhweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmZmYwMCcsXHJcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdMaW5MaWJlcnRpbmUnXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIGxldCB5ID0gMjAwO1xyXG5cclxuICAgICAgICAvL1RleHRvIGRlIG11ZXJ0ZXNcclxuICAgICAgICB0aGlzLmRlYXRoc1RleHQgPSB0aGlzLmFkZC50ZXh0KDQwMCwgeSwgJ011ZXJ0ZXM6IENhcmdhbmRvLi4uICcsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICcxOHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZjAwJ1xyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICBjbGllbnREYXRhTWFuYWdlci5nZXRDbGllbnREZWF0aHMoKS50aGVuKGRlYXRocyA9PiB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdSZWNlaXZlZCBkZWF0aHM6JywgZGVhdGhzKTtcclxuICAgICAgICAgICAgaWYgKGRlYXRocyAhPT0gbnVsbCAmJiBkZWF0aHMgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kZWF0aHNUZXh0LnNldFRleHQoJ011ZXJ0ZXM6ICcgKyBkZWF0aHMpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kZWF0aHNUZXh0LnNldFRleHQoJ011ZXJ0ZXM6IEVycm9yJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KS5jYXRjaChlcnJvciA9PiB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIGRlYXRoczonLCBlcnJvcik7XHJcbiAgICAgICAgICAgIHRoaXMuZGVhdGhzVGV4dC5zZXRUZXh0KCdNdWVydGVzOiBFcnJvcicpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuXHJcblxyXG5cclxufSIsImltcG9ydCBQaGFzZXIgZnJvbSAncGhhc2VyJztcclxuaW1wb3J0IHsgT3B0aW9uc1NjZW5lIH0gZnJvbSAnLi9zY2VuZS9PcHRpb25zU2NlbmUuanMnO1xyXG5pbXBvcnQgeyBNZW51U2NlbmUgfSBmcm9tICcuL3NjZW5lL01lbnVTY2VuZS5qcyc7XHJcbmltcG9ydCB7IEdhbWVTY2VuZSB9IGZyb20gJy4vc2NlbmUvR2FtZVNjZW5lLmpzJztcclxuaW1wb3J0IHsgUGF1c2VTY2VuZSB9IGZyb20gJy4vc2NlbmUvUGF1c2VTY2VuZS5qcyc7XHJcbmltcG9ydCB7IENyZWRpdHNTY2VuZSB9IGZyb20gJy4vc2NlbmUvQ3JlZGl0c1NjZW5lLmpzJztcclxuaW1wb3J0IHsgSW50cm9TY2VuZSB9IGZyb20gJy4vc2NlbmUvSW50cm9TY2VuZS5qcyc7XHJcbmltcG9ydCB7IEVuZFNjZW5lIH0gZnJvbSAnLi9zY2VuZS9FbmRTY2VuZS5qcyc7XHJcbmltcG9ydCB7IEdhbWVTY2VuZTIgfSBmcm9tICcuL3NjZW5lL0dhbWVTY2VuZTIuanMnO1xyXG5pbXBvcnQgeyBDb25uZWN0aW9uTG9zdFNjZW5lIH0gZnJvbSAnLi9zY2VuZS9Db25uZWN0aW9uTG9zdFNjZW5lLmpzJztcclxuaW1wb3J0IHsgTG9naW5TY2VuZSB9IGZyb20gJy4vc2NlbmUvTG9naW5TY2VuZS5qcyc7XHJcbmltcG9ydCB7IE1hdGNoTWFraW5nU2NlbmUgfSBmcm9tICcuL3NjZW5lL01hdGNoTWFraW5nU2NlbmUuanMnO1xyXG5pbXBvcnQgeyBNdWx0aXBsYXllclNjZW5lIH0gZnJvbSAnLi9zY2VuZS9NdWx0aXBsYXllclNjZW5lLmpzJztcclxuaW1wb3J0IHsgU2NvcmVCb2FyZFNjZW5lIH0gZnJvbSAnLi9zY2VuZS9TY29yZUJvYXJkU2NlbmUuanMnO1xyXG5cclxuY29uc3QgY29uZmlnID0ge1xyXG4gICAgdHlwZTogUGhhc2VyLkFVVE8sXHJcbiAgICB3aWR0aDogODAwLCAvLyBBbmNobyBkZSBsYSB2ZW50YW5hXHJcbiAgICBoZWlnaHQ6IDYwMCwgLy8gQWx0byBkZSBsYSB2ZW50YW5hXHJcbiAgICBwYXJlbnQ6ICdnYW1lLWNvbnRhaW5lcicsXHJcblxyXG4gICAgcGh5c2ljczoge1xyXG4gICAgICAgIGRlZmF1bHQ6ICdhcmNhZGUnLFxyXG4gICAgICAgIGFyY2FkZToge1xyXG4gICAgICAgICAgICBncmF2aXR5OiB7IHg6IDAsIHk6IDEgfSxcclxuICAgICAgICAgICAgZGVidWc6IHRydWUsXHJcbiAgICAgICAgICAgIGRlYnVnU2hvd0JvZHk6IHRydWUsXHJcbiAgICAgICAgICAgIGRlYnVnU2hvd1N0YXRpY0JvZHk6IGZhbHNlLFxyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBkb206IHtcclxuICAgICAgICBjcmVhdGVDb250YWluZXI6IHRydWVcclxuICAgIH0sXHJcblxyXG4gICAgLy8gTG9naW5TY2VuZSBwb25lciBjb21vIGVzY2VuYSBpbmljaWFsLCBhaG9yYSBlc3RhIHF1aXRhZG8gcHEgZXMgdW4gY2/DsWF6byBwYXJhIGhhY2VyIHBydWViYXNcclxuICAgIHNjZW5lOiBbTG9naW5TY2VuZSwgTWVudVNjZW5lLCBNYXRjaE1ha2luZ1NjZW5lLCBDcmVkaXRzU2NlbmUsIE9wdGlvbnNTY2VuZSwgSW50cm9TY2VuZSwgR2FtZVNjZW5lLCBNdWx0aXBsYXllclNjZW5lLCBQYXVzZVNjZW5lLCBFbmRTY2VuZSwgR2FtZVNjZW5lMiwgQ29ubmVjdGlvbkxvc3RTY2VuZSwgU2NvcmVCb2FyZFNjZW5lXSxcclxuICAgIGJhY2tncm91bmRDb2xvcjogJyMzNjAyNDZmZidcclxufVxyXG5cclxuY29uc3QgZ2FtZSA9IG5ldyBQaGFzZXIuR2FtZShjb25maWcpO1xyXG5cclxuIiwiaW1wb3J0IHsgR2FtZVNjZW5lIH0gZnJvbSBcIi4vR2FtZVNjZW5lLmpzXCI7XHJcbmltcG9ydCB7IFBsYXRmb3JtIH0gZnJvbSBcIi4uL2VudGl0aWVzL1BsYXRmb3JtLmpzXCI7XHJcbmltcG9ydCB7IGNsaWVudERhdGFNYW5hZ2VyIH0gZnJvbSBcIi4uL3NlcnZpY2VzL2NsaWVudERhdGFNYW5hZ2VyLmpzXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgTXVsdGlwbGF5ZXJTY2VuZSBleHRlbmRzIEdhbWVTY2VuZSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcignTXVsdGlwbGF5ZXJTY2VuZScpO1xyXG4gICAgICAgIHRoaXMubG9hZGVkID0gZmFsc2U7IC8vIGZsYWcgcGFyYSB2ZXJpZmljYXIgcSBoYSBjYXJnYWRvIGxhIGVzY2VuYSBkZWwgY29tcGlcclxuICAgIH1cclxuXHJcbiAgICBwcmVsb2FkKCkge1xyXG4gICAgICAgIHN1cGVyLnByZWxvYWQoKTtcclxuICAgIH1cclxuXHJcbiAgICBpbml0KGRhdGEpIHtcclxuICAgICAgICBzdXBlci5pbml0KCk7XHJcbiAgICAgICAgdGhpcy53cyA9IGRhdGEud3M7XHJcbiAgICAgICAgdGhpcy5wbGF5ZXJSb2xlID0gZGF0YS5wbGF5ZXJSb2xlOyAvLyAncGxheWVyMScgb3IgJ3BsYXllcjInXHJcbiAgICAgICAgdGhpcy5yb29tSWQgPSBkYXRhLnJvb21JZDtcclxuICAgICAgICB0aGlzLmxvY2FsUGxheWVyID0gbnVsbDtcclxuICAgICAgICB0aGlzLnJlbW90ZVBsYXllciA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5jbGllbnREYXRhTWFuYWdlciA9IGNsaWVudERhdGFNYW5hZ2VyO1xyXG4gICAgICAgIHRoaXMuc2V0dXBXZWJTb2NrZXRMaXN0ZW5lcnMoKTtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGUoKSB7XHJcbiAgICAgICAgdGhpcy5zZXRVcFBsYXllcnMoKTtcclxuICAgICAgICBzdXBlci5jcmVhdGUoKTtcclxuXHJcbiAgICAgICAgLy8gQ29uZmlndXJhciBJbnB1dE1hbmFnZXIgcGFyYSBtdWx0aXBsYXllclxyXG4gICAgICAgIHRoaXMuaW5wdXRNYW5hZ2VyLnNldFdlYlNvY2tldCh0aGlzLndzKTtcclxuICAgICAgICB0aGlzLmlucHV0TWFuYWdlci5zZXRMb2NhbFBsYXllclJvbGUodGhpcy5wbGF5ZXJSb2xlKTtcclxuICAgICAgICB0aGlzLmlucHV0TWFuYWdlci5zZXRVcElucHV0cygpO1xyXG4gICAgICAgIHRoaXMuZ2FtZS5ldmVudHMub24oJ1JlcXVlc3RTY29yZUJvYXJkJywgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnNlbmRNZXNzYWdlKHsgdHlwZTogJ1JlcXVlc3RTY29yZUJvYXJkJyB9KTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5zZW5kTWVzc2FnZSh7XHJcbiAgICAgICAgICAgIHR5cGU6ICdMb2FkZWQnLFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICB1cGRhdGUoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmxvYWRlZCkgcmV0dXJuO1xyXG5cclxuICAgICAgICB0aGlzLmZvbmRvLnRpbGVQb3NpdGlvblggPSB0aGlzLmNhbWVyYXMubWFpbi5zY3JvbGxYICogMC4yO1xyXG5cclxuICAgICAgICB0aGlzLmNhbWVyYS51cGRhdGUoKTtcclxuICAgICAgICB0aGlzLmlucHV0TWFuYWdlci51cGRhdGUoKTtcclxuXHJcbiAgICAgICAgdGhpcy5hcnRodXIubGlnaHQudXBkYXRlKCk7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLnBsYXllclJvbGUgPT09ICdwbGF5ZXInKSB7ICAvLyBKdWdhZG9yIDEgYWN0dWFsaXphIGVuZW1pZ29zIHkgcmVlbnZpYSBtb3ZpbWllbnRvcyBhIGp1Z2Fkb3IgMlxyXG5cclxuICAgICAgICAgICAgdGhpcy5lbmVtaWVzLmZvckVhY2goKGVuZW15KSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWVuZW15IHx8IGVuZW15LmlzRGVhZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZW5lbWllcy5kZWxldGUoZW5lbXkuaWQpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVuZW15LnVwZGF0ZSgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZW5kTWVzc2FnZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ0VuZW15TW92bWVudCcsXHJcbiAgICAgICAgICAgICAgICAgICAgZW5lbXlJZDogZW5lbXkuaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgbW92ZW1lbnRWZWN0b3I6IGVuZW15Lm1vdmVtZW50VmVjdG9yLFxyXG4gICAgICAgICAgICAgICAgICAgIGNoYXNpbmdQbGF5ZXJJZDogZW5lbXkuY2hhc2luZ1BsYXllcklkLFxyXG4gICAgICAgICAgICAgICAgICAgIHg6IGVuZW15LnNwcml0ZS54LFxyXG4gICAgICAgICAgICAgICAgICAgIHk6IGVuZW15LnNwcml0ZS55XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8vLy8vLy8vLy8vLy8vLy8vIFJFRCBDT04gV0VCU09DS0VUIC8vLy8vLy8vLy8vLy8vXHJcblxyXG4gICAgc2V0VXBQbGF5ZXJzKCkge1xyXG4gICAgICAgIGlmICh0aGlzLnBsYXllclJvbGUgPT09ICdwbGF5ZXIxJykge1xyXG4gICAgICAgICAgICB0aGlzLmxvY2FsUGxheWVyID0gdGhpcy5hcnRodXI7XHJcbiAgICAgICAgICAgIHRoaXMucmVtb3RlUGxheWVyID0gdGhpcy5sdWN5O1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMubG9jYWxQbGF5ZXIgPSB0aGlzLmx1Y3k7XHJcbiAgICAgICAgICAgIHRoaXMucmVtb3RlUGxheWVyID0gdGhpcy5hcnRodXI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnNvbGUubG9nKCdMb2NhbCBwbGF5ZXI6JywgdGhpcy5sb2NhbFBsYXllcik7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ1JlbW90ZSBwbGF5ZXI6JywgdGhpcy5yZW1vdGVQbGF5ZXIpO1xyXG4gICAgfVxyXG5cclxuICAgIHNldHVwV2ViU29ja2V0TGlzdGVuZXJzKCkge1xyXG4gICAgICAgIHRoaXMud3Mub25tZXNzYWdlID0gKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBkYXRhID0gSlNPTi5wYXJzZShldmVudC5kYXRhKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlU2VydmVyTWVzc2FnZShkYXRhKTtcclxuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHBhcnNpbmcgc2VydmVyIG1lc3NhZ2U6JywgZXJyb3IpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdGhpcy53cy5vbmNsb3NlID0gKCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnV2ViU29ja2V0IGNvbm5lY3Rpb24gY2xvc2VkJyk7XHJcbiAgICAgICAgICAgIHRoaXMuaGFuZGxlRGlzY29ubmVjdGlvbigpO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMud3Mub25lcnJvciA9IChlcnJvcikgPT4ge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdXZWJTb2NrZXQgZXJyb3I6JywgZXJyb3IpO1xyXG4gICAgICAgICAgICB0aGlzLmhhbmRsZURpc2Nvbm5lY3Rpb24oKTtcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIGhhbmRsZVNlcnZlck1lc3NhZ2UoZGF0YSkge1xyXG4gICAgICAgIHN3aXRjaCAoZGF0YS50eXBlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgJ1BsYXllck1vdm1lbnRJbnB1dENvbW1hbmQnOlxyXG4gICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZygnTXVsdGlwbGF5ZXJTY2VuZSByZWNlaXZlZCBtc2c6JywgZGF0YSk7XHJcbiAgICAgICAgICAgICAgICAvLyBSZW1vdGUgcGxheWVyIG1vdm1lbnRcclxuICAgICAgICAgICAgICAgIHRoaXMuaW5wdXRNYW5hZ2VyLnVwZGF0ZVJlbW90ZVBsYXllclBvc2l0aW9uKGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICBjYXNlICdQbGF5ZXJBdHRhY2tDb21tYW5kJzpcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdNdWx0aXBsYXllclNjZW5lIHJlY2VpdmVkIG1zZzonLCBkYXRhKTtcclxuICAgICAgICAgICAgICAgIC8vIFJlbW90ZSBwbGF5ZXIgYXR0YWNrc1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pbnB1dE1hbmFnZXIudXBkYXRlUmVtb3RlUGxheWVyQXR0YWNrKGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICBjYXNlICdQbGF5ZXJIaXQnOlxyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ011bHRpcGxheWVyU2NlbmUgcmVjZWl2ZWQgbXNnOicsIGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgLy8gUmVtb3RlIHBsYXllciBoaXRzXHJcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVJlbW90ZVBsYXllckhpdChkYXRhKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgY2FzZSAnRW5lbXlNb3ZtZW50JzpcclxuICAgICAgICAgICAgICAgIC8vIFJlbW90ZSBwbGF5ZXIgaGl0c1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yZWNpZXZlRW5lbXlNb3ZtZW50KGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICBjYXNlICdwbGF5ZXJEaXNjb25uZWN0ZWQnOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVEaXNjb25uZWN0aW9uKCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgIGNhc2UgJ0xvYWRlZCc6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxvYWRlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgIGNhc2UgJ1BsYXllckRpZWQnOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5wbGF5ZXJzW2RhdGEucGxheWVySWRdLmRlYXRocysrO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICBjYXNlICdHYW1lT3Zlcic6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZUdhbWVPdmVyKCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgIGNhc2UgJ1BsYXllckRpZWQnOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5wbGF5ZXJzW2RhdGEucGxheWVySWRdLmRlYXRocysrO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICBjYXNlICdQbGF5ZXJzV2luJzpcclxuICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RvcCgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5zdGFydCgnRW5kU2NlbmUnKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgY2FzZSAnU2NvcmVCb2FyZCc6XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnN0b3AoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ1Njb3JlQm9hcmRTY2VuZScsIHsgc2NvcmVib2FyZDogZGF0YS5kYXRhIH0pO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7ICBcclxuXHJcbiAgICAgICAgICAgIGNhc2UgJ1Jlc3RhcnQnOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVSZXN0YXJ0KCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnVW5rbm93biBtZXNzYWdlIHR5cGU6JywgZGF0YS50eXBlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmVjaWV2ZUVuZW15TW92bWVudChkYXRhKSB7XHJcbiAgICAgICAgdGhpcy5lbmVtaWVzLmZvckVhY2goKGVuZW15KSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChlbmVteS5pZCA9PT0gZGF0YS5lbmVteUlkKSB7XHJcbiAgICAgICAgICAgICAgICBlbmVteS5yZWNlaXZlRW5lbXlNb3ZtZW50KGRhdGEubW92ZW1lbnRWZWN0b3IsIGRhdGEuY2hhc2luZ1BsYXllcklkLCBkYXRhLngsIGRhdGEueSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBzZXRVcEVuZW15Q29sbGlzaW9ucygpIHtcclxuICAgICAgICB0aGlzLmVuZW1pZXMuZm9yRWFjaCgoZW5lbXkpID0+IHtcclxuXHJcbiAgICAgICAgICAgIC8vIEVtZW55IGhpdHMgXHJcbiAgICAgICAgICAgIHRoaXMucGh5c2ljcy5hZGQub3ZlcmxhcChlbmVteS5zcHJpdGUsIHRoaXMubG9jYWxQbGF5ZXIuc3ByaXRlLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZW5lbXkgJiYgdGhpcy5sb2NhbFBsYXllci5oZWFsdGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGRhbWFnZSA9IDUwO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubG9jYWxQbGF5ZXIuZ2V0SGl0KGRhbWFnZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jaGVja1BsYXllclN0YXR1cygpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2VuZE1lc3NhZ2Uoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnUGxheWVySGl0JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGFtYWdlOiBkYW1hZ2UsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBsYXllcklkOiB0aGlzLnBsYXllclJvbGUsXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgLy8gUmVtb3RlIHBsYXllciBoaXRcclxuICAgICAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5vdmVybGFwKGVuZW15LnNwcml0ZSwgdGhpcy5yZW1vdGVQbGF5ZXIuc3ByaXRlKTtcclxuXHJcbiAgICAgICAgICAgIC8vIFBsYXllciBsaWdodHMgZW5lbXlcclxuICAgICAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5vdmVybGFwKGVuZW15LnNwcml0ZSwgdGhpcy5hcnRodXIubGlnaHQuY29sbGlkZXJDaXJjbGUsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmFydGh1ci5saWdodC5pc09uICYmIGVuZW15KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZW5lbXkuc2V0V2Vha2VuZWQodHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50aW1lLmRlbGF5ZWRDYWxsKDQwMDAsICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVuZW15KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmVteS5zZXRXZWFrZW5lZChmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAvLyBQbGF5ZXIgYXR0YWNrcyBlbmVteVxyXG4gICAgICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLm92ZXJsYXAoZW5lbXkuc3ByaXRlLCB0aGlzLmx1Y3kuYXR0YWNrSGl0Ym94LCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZW5lbXk/LndlYWtlbmVkICYmIHRoaXMubHVjeS5pc0F0dGFja2luZykge1xyXG4gICAgICAgICAgICAgICAgICAgIGVuZW15LmRpZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGVuZW15LmlzRGVhZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgZW5lbXkgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBzZXRVcExpYnJhcnlDb2xsaXNpb24oKSB7XHJcbiAgICAgICAgdGhpcy5saWJyZXJpYSA9IG5ldyBQbGF0Zm9ybSh0aGlzLCAnbGliJywgNDAwMCwgMjA4LCAxMDAsIDE1MCwgJ2xpYicpO1xyXG4gICAgICAgIHRoaXMubGlicmVyaWEuc3ByaXRlLnNldERlcHRoKDIpO1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQub3ZlcmxhcCh0aGlzLmxpYnJlcmlhLnNwcml0ZSwgdGhpcy5sb2NhbFBsYXllci5zcHJpdGUsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5zZW5kTWVzc2FnZSh7XHJcbiAgICAgICAgICAgICAgICB0eXBlOiAnUGxheWVyc1dpbicsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnN0b3AoKTtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5zdGFydCgnRW5kU2NlbmUnKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGVSZW1vdGVQbGF5ZXJIaXQoZGF0YSkge1xyXG4gICAgICAgIHRoaXMucGxheWVycy5nZXQoZGF0YS5wbGF5ZXJJZCkuZ2V0SGl0KGRhdGEuZGFtYWdlKTtcclxuICAgICAgICB0aGlzLmNoZWNrUGxheWVyU3RhdHVzKCk7XHJcbiAgICB9XHJcblxyXG4gICAgY2hlY2tQbGF5ZXJTdGF0dXMoKSB7IC8vIFRoaXMgd2lsbCBiZSBicm9hZGNhc3RlZCB0byBib3RoIHBsYXllcnMgXHJcbiAgICAgICAgLy8gZGV0ZWN0YXIgbXVlcnRlIGluZGl2aWR1YWxcclxuICAgIHRoaXMucGxheWVycy5mb3JFYWNoKGFzeW5jIChwbGF5ZXIsIGlkKSA9PiB7XHJcbiAgICAgICAgaWYgKHBsYXllci5oZWFsdGggPD0gMCAmJiAhcGxheWVyLmlzRGVhZCkge1xyXG4gICAgICAgICAgICBwbGF5ZXIuaXNEZWFkID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgIC8vIGFjdHVhbGl6YXIgY29udGFkb3IgbG9jYWxcclxuICAgICAgICAgICAgbGV0IGN1cnJlbnREZWF0aHMgPSBhd2FpdCB0aGlzLmNsaWVudERhdGFNYW5hZ2VyLmdldENsaWVudERlYXRocygpO1xyXG4gICAgICAgICAgICBhd2FpdCB0aGlzLmNsaWVudERhdGFNYW5hZ2VyLnVwZGF0ZUNsaWVudERlYXRocyhjdXJyZW50RGVhdGhzICsgMSk7XHJcblxyXG4gICAgICAgICAgICAvLyBhdmlzYXIgYWwgc2Vydmlkb3Igd2Vic29ja2V0XHJcbiAgICAgICAgICAgIHRoaXMuc2VuZE1lc3NhZ2Uoe1xyXG4gICAgICAgICAgICAgICAgdHlwZTogJ1BsYXllckRpZWQnLFxyXG4gICAgICAgICAgICAgICAgcGxheWVySWQ6IGlkXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgICAgIGlmICh0aGlzLnBsYXllcnMuZ2V0KCdwbGF5ZXIxJykuaGVhbHRoIDw9IDAgJiYgdGhpcy5wbGF5ZXJzLmdldCgncGxheWVyMicpLmhlYWx0aCA8PSAwKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2VuZE1lc3NhZ2Uoe1xyXG4gICAgICAgICAgICAgICAgdHlwZTogJ0dhbWVPdmVyJyxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGhhbmRsZURpc2Nvbm5lY3Rpb24oKSB7XHJcbiAgICAgICAgdGhpcy5nYW1lRW5kZWQgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy5wYXVzZSgpO1xyXG5cclxuICAgICAgICB0aGlzLmFkZC50ZXh0KDQwMCwgMjUwLCAnUGFydG5lciBEaXNjb25uZWN0ZWQnLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnNDhweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmMDAwMCdcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KS5zZXRTY3JvbGxGYWN0b3IoMCk7XHJcblxyXG4gICAgICAgIHRoaXMuY3JlYXRlTWVudUJ1dHRvbigpO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBoYW5kbGVHYW1lT3ZlcigpIHtcclxuICAgICAgICB0aGlzLmdhbWVFbmRlZCA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzLnBhdXNlKCk7XHJcblxyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoNDAwLCAyNTAsICdHYW1lIE92ZXInLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnNDhweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmMDAwMCdcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KS5zZXRTY3JvbGxGYWN0b3IoMCk7XHJcblxyXG4gICAgICAgIHRoaXMuY3JlYXRlTWVudUJ1dHRvbigpO1xyXG4gICAgICAgIHRoaXMuY3JlYXRlUmV0cnlCdXR0b24oKTtcclxuICAgIH1cclxuXHJcbiAgICAvKnNlbmRTY29yZUJvYXJkKCkge1xyXG4gICAgICAgIGNvbnN0IHNjb3JlYm9hcmQgPSBPYmplY3QudmFsdWVzKHRoaXMucGxheWVycykubWFwKHAgPT4gKHtcclxuICAgICAgICAgICAgbmFtZTogcC5uYW1lLFxyXG4gICAgICAgICAgICBkZWF0aHM6IHAuZGVhdGhzXHJcbiAgICAgICAgfSkpO1xyXG5cclxuICAgICAgICBjb25zdCBtc2cgPSBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgICAgIHR5cGU6ICdTY29yZUJvYXJkJyxcclxuICAgICAgICAgICAgZGF0YTogc2NvcmVib2FyZFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBPYmplY3QudmFsdWVzKHRoaXMucGxheWVycykuZm9yRWFjaChwID0+IHtcclxuICAgICAgICAgICAgcC5zb2NrZXQuc2VuZChtc2cpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGhhbmRsZVBsYXllcnNXaW4oKSB7XHJcbiAgICAgICAgdGhpcy5zY2VuZS5zdG9wKCk7XHJcbiAgICAgICAgY29uc3Qgc2NvcmVib2FyZCA9IE9iamVjdC5lbnRyaWVzKHRoaXMucGxheWVycykubWFwKChbaWQscF0pPT4oe1xyXG4gICAgICAgIHBsYXllcklkOiBpZCxcclxuICAgICAgICBuYW1lOiBwLm5hbWUsXHJcbiAgICAgICAgZGVhdGhzOiBwLmRlYXRoc1xyXG4gICAgfSkpO1xyXG5cclxuICAgIHRoaXMud3Muc2VuZCh7XHJcbiAgICAgICAgdHlwZTogJ1Njb3JlYm9hcmQnLFxyXG4gICAgICAgIGRhdGE6IHNjb3JlYm9hcmRcclxuICAgIH0pO1xyXG5cclxuICAgIH0qL1xyXG5cclxuICAgIGNyZWF0ZVJldHJ5QnV0dG9uKCkge1xyXG4gICAgICAgIGNvbnN0IHJldHJ5QnRuID0gdGhpcy5hZGQudGV4dCg0MDAsIDM1MCwgJ1JldHJ5Jywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzMycHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmZmYnLFxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgIC5zZXRTY3JvbGxGYWN0b3IoMClcclxuICAgICAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4gcmV0cnlCdG4uc2V0Q29sb3IoJyNjY2NjY2MnKSlcclxuICAgICAgICAgICAgLm9uKCdwb2ludGVyb3V0JywgKCkgPT4gcmV0cnlCdG4uc2V0Q29sb3IoJyNmZmZmZmYnKSlcclxuICAgICAgICAgICAgLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLndzICYmIHRoaXMud3MucmVhZHlTdGF0ZSA9PT0gV2ViU29ja2V0Lk9QRU4pIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbmRNZXNzYWdlKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ1Jlc3RhcnQnLFxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZU1lbnVCdXR0b24oKSB7XHJcbiAgICAgICAgY29uc3QgbWVudUJ0biA9IHRoaXMuYWRkLnRleHQoNDAwLCA0MDAsICdSZXR1cm4gdG8gTWFpbiBNZW51Jywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzMycHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmZmYnLFxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgIC5zZXRTY3JvbGxGYWN0b3IoMClcclxuICAgICAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4gbWVudUJ0bi5zZXRDb2xvcignI2NjY2NjYycpKVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiBtZW51QnRuLnNldENvbG9yKCcjZmZmZmZmJykpXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy53cyAmJiB0aGlzLndzLnJlYWR5U3RhdGUgPT09IFdlYlNvY2tldC5PUEVOKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZW5kTWVzc2FnZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdQbGF5ZXJEaXNjb25uZWN0ZWQnLFxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMud3MuY2xvc2UoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ01lbnVTY2VuZScpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBoYW5kbGVSZXN0YXJ0KCkge1xyXG4gICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ011bHRpcGxheWVyU2NlbmUnKTtcclxuICAgIH1cclxuXHJcbiAgICBzZW5kTWVzc2FnZShkYXRhKSB7XHJcbiAgICAgICAgaWYgKHRoaXMud3MgJiYgdGhpcy53cy5yZWFkeVN0YXRlID09PSBXZWJTb2NrZXQuT1BFTikge1xyXG4gICAgICAgICAgICB0aGlzLndzLnNlbmQoSlNPTi5zdHJpbmdpZnkoZGF0YSkpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzaHV0ZG93bigpIHtcclxuICAgICAgICBpZiAodGhpcy53cyAmJiB0aGlzLndzLnJlYWR5U3RhdGUgPT09IFdlYlNvY2tldC5PUEVOKSB7XHJcbiAgICAgICAgICAgIHRoaXMud3MuY2xvc2UoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iXSwibmFtZXMiOlsiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZSIsImdldHRlciIsIl9fZXNNb2R1bGUiLCJkIiwiYSIsImV4cG9ydHMiLCJkZWZpbml0aW9uIiwia2V5IiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsIm9iaiIsInByb3AiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJQaGFzZXIiLCJPcHRpb25zU2NlbmUiLCJjb25zdHJ1Y3RvciIsInN1cGVyIiwicHJlbG9hZCIsInRoaXMiLCJsb2FkIiwiaW1hZ2UiLCJjcmVhdGUiLCJkYXRhIiwiYWRkIiwicmVjdGFuZ2xlIiwic2V0T3JpZ2luIiwidGV4dCIsImZvbnRTaXplIiwiY29sb3IiLCJmb250U3R5bGUiLCJ2b2x1bWVUZXh0Iiwic291bmQiLCJtdXRlIiwidm9sdW1lQnRuIiwiYmFja2dyb3VuZENvbG9yIiwicGFkZGluZyIsIngiLCJ5Iiwic2V0SW50ZXJhY3RpdmUiLCJ1c2VIYW5kQ3Vyc29yIiwib24iLCJzZXRTdHlsZSIsInNldFRleHQiLCJiYWNrQnRuIiwic2NlbmUiLCJzdG9wIiwicmVzdW1lIiwib3JpZ2luYWxTY2VuZSIsImNvbm5lY3Rpb25NYW5hZ2VyIiwiY29ubmVjdGVkQ291bnQiLCJpc0Nvbm5lY3RlZCIsImxhc3RDaGVja1RpbWUiLCJjaGVja0ludGVydmFsIiwibGlzdGVuZXJzIiwic2Vzc2lvbklkIiwiZ2VuZXJhdGVTZXNzaW9uSWQiLCJpbnRlcnZhbElkIiwic3RhcnRQb2xsaW5nIiwiRGF0ZSIsIm5vdyIsIk1hdGgiLCJyYW5kb20iLCJ0b1N0cmluZyIsInN1YnN0ciIsImNoZWNrQ29ubmVjdGlvbiIsInJlc3BvbnNlIiwiZmV0Y2giLCJtZXRob2QiLCJoZWFkZXJzIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJvayIsImpzb24iLCJjb25uZWN0ZWQiLCJub3RpZnlMaXN0ZW5lcnMiLCJjb3VudCIsInN1Y2Nlc3MiLCJoYW5kbGVEaXNjb25uZWN0aW9uIiwiZXJyb3IiLCJjb25zb2xlIiwiYWRkTGlzdGVuZXIiLCJjYWxsYmFjayIsInB1c2giLCJyZW1vdmVMaXN0ZW5lciIsImluZGV4IiwiaW5kZXhPZiIsInNwbGljZSIsImZvckVhY2giLCJsaXN0ZW5lciIsImdldFN0YXR1cyIsInNldEludGVydmFsIiwic3RvcFBvbGxpbmciLCJjbGVhckludGVydmFsIiwiY2xpZW50RGF0YU1hbmFnZXIiLCJpZCIsInVuZGVmaW5lZCIsIm5hbWUiLCJkZWF0aHMiLCJ1cGRhdGVDbGllbnREYXRhIiwidXBkYXRlcyIsImdldENsaWVudERlYXRocyIsIkVycm9yIiwidXBkYXRlQ2xpZW50RGVhdGhzIiwicG9zdExvZ2luIiwic3RhdHVzIiwiTWVudVNjZW5lIiwiYXVkaW8iLCJzdGFydEJ1dHRvbiIsIm9wZW5NaW5pTWVudSIsImNyZWRpdHNCdXR0b24iLCJzdGFydCIsIm9wdGlvbnNCdXR0b24iLCJsYXVuY2giLCJleGl0QnV0dG9uIiwiZ2FtZSIsImRlc3Ryb3kiLCJ3aW5kb3ciLCJjbG9zZSIsImJ1dHRvbnMiLCJtdXNpYyIsInBsYXkiLCJzZXRWb2x1bWUiLCJjb25uZWN0aW9uVGV4dCIsImNvbm5lY3Rpb25MaXN0ZW5lciIsInVwZGF0ZUNvbm5lY3Rpb25EaXNwbGF5Iiwib25saW5lQnRuIiwiYnRuIiwicmVtb3ZlSW50ZXJhY3RpdmUiLCJiZyIsInNldERlcHRoIiwibHZsMSIsImNsb3NlTWluaU1lbnUiLCJsdmwyIiwicmV0dXJuQnRuIiwiZWxlbWVudHMiLCJlIiwiaXNBY3RpdmUiLCJzZXRDb2xvciIsInNodXRkb3duIiwiQ29tbWFuZCIsImV4ZWN1dGUiLCJzZXJpYWxpemUiLCJnZXRFbnRpdHkiLCJQbGF5ZXJNb3ZtZW50SW5wdXRDb21tYW5kIiwicGxheWVyIiwiYWN0aW9uIiwianVtcCIsImlkbGUiLCJob3Jpem9udGFsTW92ZSIsInR5cGUiLCJwbGF5ZXJJZCIsInNwcml0ZSIsIlBsYXllckF0dGFja0NvbW1hbmQiLCJhdHRhY2siLCJDb21tYW5kUHJvY2Vzc29yIiwicGxheWVycyIsIk1hcCIsInByb2Nlc3MiLCJjb21tYW5kIiwicmVjZWl2ZUNvbW1hbmQiLCJkZXNlcmlhbGl6ZSIsImFicyIsInNldFBvc2l0aW9uIiwid2FybiIsIklucHV0TWFuYWdlciIsInNjZW5lTWFuYWdlciIsImlucHV0IiwiY29tbWFuZFByb2Nlc3NvciIsImxvY2FsUGxheWVyUm9sZSIsIndzIiwiaW5wdXRzTWFwcGluZyIsImlzUGF1c2VkIiwic2V0VXBJbnB1dHMiLCJzZXRVcExvY2FsSW5wdXRzIiwic2V0VXBSZW1vdGVJbnB1dHMiLCJzZXRXZWJTb2NrZXQiLCJzZXRMb2NhbFBsYXllclJvbGUiLCJyb2xlIiwia2V5Ym9hcmQiLCJwYXVzZSIsImxlZnRLZXkiLCJyaWdodEtleSIsInVwS2V5IiwiZG93bktleSIsImF0dGFja0tleSIsIm1hcCIsImNvbmZpZyIsImxlZnRLZXlPYmoiLCJhZGRLZXkiLCJLZXlib2FyZCIsIktleUNvZGVzIiwicmlnaHRLZXlPYmoiLCJ1cEtleU9iaiIsImRvd25LZXlPYmoiLCJhdHRhY2tLZXlPYmoiLCJwbGF5ZXJSb2xlIiwiSW5wdXRDb25maWciLCJ1cGRhdGUiLCJtYXBwaW5nIiwibG9jYWxDb21tYW5kIiwiaXNEb3duIiwic2VuZE1lc3NhZ2UiLCJhdHRhY2tDb21tYW5kIiwibWVzc2FnZSIsInJlYWR5U3RhdGUiLCJXZWJTb2NrZXQiLCJPUEVOIiwibG9nIiwic2VuZCIsInVwZGF0ZVJlbW90ZVBsYXllclBvc2l0aW9uIiwidXBkYXRlUmVtb3RlUGxheWVyQXR0YWNrIiwiQW5pbWF0b3IiLCJhbmltYXRpb25TcHJpdGVzaGVldCIsImZyYW1lV2lkdGgiLCJmcmFtZUhlaWdodCIsInNwcml0ZXNoZWV0IiwiY3JlYXRlQW5pbWF0aW9uIiwic3RhcnRGcmFtZSIsImVuZEZyYW1lIiwiZnJhbWVSYXRlIiwicmVwZWF0IiwiYW5pbXMiLCJmcmFtZXMiLCJnZW5lcmF0ZUZyYW1lTnVtYmVycyIsImVuZCIsImFzc2lnblNwcml0ZVRvUGxheWVyIiwicGh5c2ljcyIsImNyZWF0ZVNwcml0ZSIsIkVuZW15IiwiYmFzZUhlaWdodCIsImJhc2VXaWR0aCIsImJhc2VTcGVlZCIsImlzRGVhZCIsIndlYWtlbmVkIiwiY2hhc2luZ1BsYXllcklkIiwiYW5pbWF0b3IiLCJhbmltIiwic2V0Q29sbGlkZVdvcmxkQm91bmRzIiwiYWxsb3dHcmF2aXR5Iiwic2V0R3Jhdml0eVkiLCJzZXRTY2FsZSIsInNldFNpemUiLCJ3aWR0aCIsImhlaWdodCIsImVuZW15TW92ZW1lbnQiLCJwaWNrUGxheWVyIiwiZHgiLCJkeSIsImRpc3RhbmNlIiwic3FydCIsImZsaXBYIiwibW92ZW1lbnRWZWN0b3IiLCJzZXRWZWxvY2l0eVgiLCJzZXRWZWxvY2l0eVkiLCJzZXRWZWxvY2l0eSIsInJlY2VpdmVFbmVteU1vdm1lbnQiLCJ0YXJnZXRQbGF5ZXIiLCJwMSIsInAyIiwidGFyZ2V0IiwiaGVhbHRoIiwiZGllIiwic2V0V2Vha2VuZWQiLCJ2YWx1ZSIsIkNhbWVyYSIsImNhbWVyYSIsImNhbWVyYXMiLCJtYWluIiwiY2FtTGVmdCIsInNjcm9sbFgiLCJjYW1SaWdodCIsIm1hcmdpbiIsIkNsYW1wIiwibWlkWCIsInRhcmdldExlZnQiLCJ0YXJnZXRSaWdodCIsImFydGh1ckluc2lkZUFmdGVyTW92ZSIsImx1Y3lJbnNpZGVBZnRlck1vdmUiLCJyb3VuZCIsIkxpbmVhciIsIlBsYXRmb3JtIiwidGV4dHVyZUtleSIsInNldERpc3BsYXlTaXplIiwiZXhpc3RpbmciLCJnIiwiZ3JhcGhpY3MiLCJmaWxsU3R5bGUiLCJmaWxsUmVjdCIsInNldFVwQ29sbGlzaW9ucyIsIlBsYXllciIsImdyYXZpdHkiLCJ4UG9zIiwieVBvcyIsInNwcml0ZVNoZWV0IiwianVtcEZvcmNlIiwiaW52dWxuZXJhYmxlIiwibnVtRGVhdGhzIiwiY3VycmVudERpcmVjdGlvbiIsImN1cnJlbnRBbmltIiwib25GbG9vciIsInBsYXlBbmltIiwic2V0T2Zmc2V0IiwiZGlyZWN0aW9uIiwiY2FuSnVtcCIsImdldEhpdCIsImRhbWFnZSIsInNldFRpbnQiLCJjaGVja0FsaXZlIiwiaXNBdHRhY2tpbmciLCJ1cGRhdGVEZWF0aHMiLCJ0aW1lIiwiZGVsYXllZENhbGwiLCJyZXZpdmUiLCJjbGVhclRpbnQiLCJMdWN5IiwiYXR0YWNrSGl0Ym94Iiwic2V0VmlzaWJsZSIsInNldEltbW92YWJsZSIsInVwZGF0ZUhpdGJveCIsIm9mZnNldFgiLCJMaWdodCIsInJhZGl1cyIsImlzT24iLCJjYW5QZXJmb3JtIiwiY29sbGlkZXJDaXJjbGUiLCJjaXJjbGUiLCJzZXRDaXJjbGUiLCJzZXRBbGxvd0dyYXZpdHkiLCJjbGVhciIsImZpbGxDaXJjbGUiLCJwZXJmb3JtIiwiQXJ0aHVyIiwibGlnaHQiLCJHYW1lU2NlbmUiLCJhcnRodXIiLCJsdWN5IiwiZW5lbWllcyIsImVuZW15IiwiaW5pdCIsInN0b3BBbGwiLCJwbGF0Zm9ybXMiLCJpbnB1dE1hbmFnZXIiLCJlbmVteTEiLCJlbmVteTIiLCJlbmVteTMiLCJlbmVteTQiLCJlbmVteTUiLCJzZXQiLCJmb25kbyIsInRpbGVTcHJpdGUiLCJzZXRTY3JvbGxGYWN0b3IiLCJzZXRVcFdvcmxkQ29sbGlzaW9ucyIsInNldFVwRW5lbXlDb2xsaXNpb25zIiwic2V0VXBSZXZpdmVDb2xsaXNpb24iLCJzZXRVcExpYnJhcnlDb2xsaXNpb24iLCJ3b3JsZCIsInNldEJvdW5kcyIsInNldExlcnAiLCJvbkNvbm5lY3Rpb25Mb3N0Iiwib3ZlcmxhcCIsInN1ZWxvMSIsInBsYXQxIiwicGxhdDIiLCJzdWVsbzIiLCJjb2wxIiwiY29sMiIsInBsYXQzIiwicGxhdDQiLCJwbGF0NSIsInN1ZWxvMyIsInN1ZWxvNCIsInBsYXQ2IiwicGxhdDciLCJwbGF0OCIsInN1ZWxvNSIsInAiLCJwZXJzb25hamUiLCJjb2xsaWRlciIsImVuZW1pZ28iLCJsaWJyZXJpYSIsImNoZWNrUGxheWVyU3RhdHVzIiwidGlsZVBvc2l0aW9uWCIsImRlbGV0ZSIsInByZXZpb3VzU2NlbmUiLCJQYXVzZVNjZW5lIiwidW5wYXVzZSIsInBsYXlCdG4iLCJmaWxsIiwiZXhpdEJ0biIsImV4aXRUb01lbnUiLCJDcmVkaXRzU2NlbmUiLCJhbGlnbiIsIlB1cHBldCIsImlzUGxheWVyIiwibG9vcEFuaW1hdGlvbkxpc3QiLCJkZWxheSIsImFkZEV2ZW50IiwibG9vcCIsImxlbmd0aCIsIkludHJvU2NlbmUiLCJhcnRodXIxIiwiYXJ0aHVyMiIsImFydGh1cjMiLCJhcnRodXI0IiwibHVjeTEiLCJsdWN5MiIsImx1Y3kzIiwibHVjeTQiLCJwdXBwZXRzMSIsInB1cHBldHMyIiwicHVwcGV0IiwiaW50cm9UZXh0IiwidGV4dEluZGV4IiwiaW5Qcm9ncmVzcyIsImludHJvSW1hZ2UwIiwiaW50cm9JbWFnZTEiLCJpbnRyb0ltYWdlTCIsImludHJvSW1hZ2UyIiwiY29udHJvbHNJbWFnZSIsImNvbWJhdEltYWdlIiwiY3V0c2NlbmVJbWFnZXMiLCJuZXh0QnRuIiwibmV4dFRleHQiLCJza2lwQnRuIiwic2hvd1RleHQiLCJ0ZXh0SW4iLCJ3cml0ZVRleHQiLCJzdWJzdHJpbmciLCJFbmRTY2VuZSIsImVuZEltYWdlMSIsImVuZEltYWdlMiIsImVuZEltYWdlMyIsImVuZEltYWdlNCIsImVuZEltYWdlcyIsImV2ZW50cyIsImVtaXQiLCJ0ZXh0byIsImlkeCIsIndyaXRlTGV0dGVyIiwiR2FtZVNjZW5lMiIsIkNvbm5lY3Rpb25Mb3N0U2NlbmUiLCJyZWNvbm5lY3RDaGVja0ludGVydmFsIiwic3RhdHVzVGV4dCIsImF0dGVtcHRDb3VudCIsImF0dGVtcHRUZXh0IiwiZG90Q291bnQiLCJkb3RzIiwib25SZWNvbm5lY3RlZCIsImF0dGVtcHRSZWNvbm5lY3QiLCJMb2dpblNjZW5lIiwiaHRtbCIsImVsZW1lbnQiLCJkb20iLCJjcmVhdGVGcm9tQ2FjaGUiLCJzZXRQZXJzcGVjdGl2ZSIsImFzeW5jIiwiZXZlbnQiLCJwcmV2ZW50RGVmYXVsdCIsImlucHV0VXNlcm5hbWUiLCJnZXRDaGlsZEJ5TmFtZSIsIk1hdGNoTWFraW5nU2NlbmUiLCJTY2VuZSIsImZvbnRGYW1pbHkiLCJwbGF5ZXJDb3VudFRleHQiLCJjYW5jZWxCdXR0b24iLCJsZWF2ZVF1ZXVlIiwiY29ubmVjdFRvU2VydmVyIiwid3NVcmwiLCJsb2NhdGlvbiIsImhvc3QiLCJvbm9wZW4iLCJvbm1lc3NhZ2UiLCJwYXJzZSIsImhhbmRsZVNlcnZlck1lc3NhZ2UiLCJvbmVycm9yIiwib25jbG9zZSIsInBvc2l0aW9uIiwicm9vbUlkIiwiU2NvcmVCb2FyZFNjZW5lIiwiZGVhdGhzVGV4dCIsInRoZW4iLCJjYXRjaCIsInBhcmVudCIsImRlZmF1bHQiLCJhcmNhZGUiLCJkZWJ1ZyIsImRlYnVnU2hvd0JvZHkiLCJkZWJ1Z1Nob3dTdGF0aWNCb2R5IiwiY3JlYXRlQ29udGFpbmVyIiwibG9hZGVkIiwibG9jYWxQbGF5ZXIiLCJyZW1vdGVQbGF5ZXIiLCJzZXR1cFdlYlNvY2tldExpc3RlbmVycyIsInNldFVwUGxheWVycyIsImVuZW15SWQiLCJ1cGRhdGVSZW1vdGVQbGF5ZXJIaXQiLCJyZWNpZXZlRW5lbXlNb3ZtZW50IiwiaGFuZGxlR2FtZU92ZXIiLCJzY29yZWJvYXJkIiwiaGFuZGxlUmVzdGFydCIsImN1cnJlbnREZWF0aHMiLCJnYW1lRW5kZWQiLCJjcmVhdGVNZW51QnV0dG9uIiwiY3JlYXRlUmV0cnlCdXR0b24iLCJyZXRyeUJ0biIsIm1lbnVCdG4iXSwic291cmNlUm9vdCI6IiJ9