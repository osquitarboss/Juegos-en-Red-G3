(()=>{"use strict";var e={n:t=>{var s=t&&t.__esModule?()=>t.default:()=>t;return e.d(s,{a:s}),s},d:(t,s)=>{for(var i in s)e.o(s,i)&&!e.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:s[i]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const t=Phaser;var s=e.n(t);class i extends s().Scene{constructor(){super("OptionsScene")}preload(){this.load.image("background","assets/menu-inicio-fondo.png")}create(e){this.add.rectangle(400,300,800,600,0).setOrigin(.5),this.add.text(400,100,"Opciones",{fontSize:"48px",color:"#ffffffff",fontStyle:"bold"}).setOrigin(.5);const t=this.sound.mute?"Activar Sonido":"Desactivar Sonido",s=this.add.text(400,300,t,{fontSize:"32px",color:"#ffffffff",backgroundColor:"#000000ff",padding:{x:20,y:10}}).setOrigin(.5).setInteractive({useHandCursor:!0});s.on("pointerover",()=>s.setStyle({backgroundColor:"#737373ff"})).on("pointerout",()=>s.setStyle({backgroundColor:"#000000ff"})).on("pointerdown",()=>{this.sound.mute=!this.sound.mute,s.setText(this.sound.mute?"Activar Sonido":"Desactivar Sonido")});const i=this.add.text(400,500,"Volver",{fontSize:"32px",color:"#ffffffff",backgroundColor:"#000000ff",padding:{x:20,y:10}}).setOrigin(.5).setInteractive({useHandCursor:!0});i.on("pointerover",()=>i.setStyle({backgroundColor:"#737373ff"})).on("pointerout",()=>i.setStyle({backgroundColor:"#000000ff"})).on("pointerdown",()=>{this.scene.stop(),this.scene.resume(e.originalScene)})}}const a=new class{constructor(){this.connectedCount=0,this.isConnected=!1,this.lastCheckTime=0,this.checkInterval=2e3,this.listeners=[],this.sessionId=this.generateSessionId(),this.intervalId=null,this.startPolling()}generateSessionId(){return`session_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}async checkConnection(){try{const e=await fetch("/api/connected",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sessionId:this.sessionId})});if(e.ok){const t=await e.json();return this.connectedCount=t.connected,this.isConnected=!0,this.lastCheckTime=Date.now(),this.notifyListeners({connected:!0,count:this.connectedCount}),{connected:this.connectedCount,success:!0}}return this.handleDisconnection(),{connected:0,success:!1}}catch(e){return console.error("Error checking connection:",e),this.handleDisconnection(),{connected:0,success:!1}}}handleDisconnection(){this.isConnected=!1,this.connectedCount=0,this.notifyListeners({connected:!1,count:0})}addListener(e){this.listeners.push(e)}removeListener(e){const t=this.listeners.indexOf(e);t>-1&&this.listeners.splice(t,1)}notifyListeners(e){this.listeners.forEach(t=>t(e))}getStatus(){return{isConnected:this.isConnected,connectedCount:this.connectedCount,lastCheckTime:this.lastCheckTime}}startPolling(){this.intervalId||(this.checkConnection(),this.intervalId=setInterval(()=>{this.checkConnection()},this.checkInterval))}stopPolling(){this.intervalId&&(clearInterval(this.intervalId),this.intervalId=null)}};let n=new class{constructor(){this.id=void 0,this.name=void 0,this.deaths=0}async updateClientData(e){const t=await fetch(`/api/users/${this.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});return await t.json()}async getClientDeaths(){try{const e=await fetch(`/api/users/${this.id}`);if(!e.ok)throw new Error("Network response was not ok");return(await e.json()).deaths}catch(e){throw console.error("ClientDataManager error:",e),e}}async updateClientDeaths(e){this.deaths=e}async postLogin(){const e=await fetch("/api/users",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:this.id,name:this.name,deaths:this.deaths})});if(e.ok){const t=await e.json();this.id=t.id,this.deaths=t.deaths}return e.status}};class r extends s().Scene{constructor(){super("MenuScene")}preload(){this.load.audio("music","assets/sound/menu-theme.mp3"),this.load.image("background","assets/menuSinLetras.png"),this.load.image("id1","assets/BotonTitulo.png"),this.load.image("id2","assets/BotonLocalPlay.png"),this.load.image("id3","assets/BotonCreditos.png"),this.load.image("id4","assets/BotonOpciones.png"),this.load.image("id5","assets/BotonSalir.png"),this.load.image("menu","assets/libretaNivelesConSombra.png"),this.load.image("n1","assets/BotonNivel1.png"),this.load.image("n2","assets/BotonNivel2.png"),this.load.image("return","assets/BotonVolver.png")}create(){this.add.image(400,300,"background").setOrigin(.5),this.add.image(85,34,"id1").setOrigin(0),this.startButton=this.add.image(196,238,"id2").setOrigin(0).setInteractive({useHandCursor:!0}).on("pointerdown",()=>{this.openMiniMenu()}),this.creditsButton=this.add.image(241,307,"id3").setOrigin(0).setInteractive({useHandCursor:!0}).on("pointerdown",()=>{this.scene.start("CreditsScene")}),this.optionsButton=this.add.image(245,377,"id4").setOrigin(0).setInteractive({useHandCursor:!0}).on("pointerdown",()=>{this.scene.launch("OptionsScene",{originalScene:"MenuScene"})}),this.exitButton=this.add.image(276,451,"id5").setOrigin(0).setInteractive({useHandCursor:!0}).on("pointerdown",()=>{this.game.destroy(!0),window.close()}),this.buttons=[this.startButton,this.creditsButton,this.optionsButton,this.exitButton],this.music=this.sound.add("music"),this.music.play(),this.music.setVolume(0),this.connectionText=this.add.text(400,550,"Servidor: Comprobando...",{fontSize:"18px",color:"#ffff00"}).setOrigin(.5),this.connectionListener=e=>{this.updateConnectionDisplay(e)},a.addListener(this.connectionListener),this.onlineBtn=this.add.text(500,300,"Jugar Online",{fontSize:"18px",color:"#ffff00"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerover",()=>this.onlineBtn.setStyle({backgroundColor:"#737373ff"})).on("pointerout",()=>this.onlineBtn.setStyle({backgroundColor:"#000000ff"})).on("pointerdown",()=>{this.scene.start("MatchMakingScene")})}openMiniMenu(){this.buttons.forEach(e=>e.removeInteractive());const e=this.add.image(400,300,"menu").setDepth(10),t=this.add.image(350,230,"n1").setDepth(11).setInteractive({useHandCursor:!0}).on("pointerdown",()=>{this.closeMiniMenu([e,t,s,i]),this.scene.start("IntroScene")}),s=this.add.image(350,310,"n2").setDepth(11).setInteractive({useHandCursor:!0}).on("pointerdown",()=>{this.closeMiniMenu([e,t,s,i]),this.scene.start("EndScene")}),i=this.add.image(320,400,"return").setDepth(11).setInteractive({useHandCursor:!0}).on("pointerdown",()=>{this.closeMiniMenu([e,t,s,i])})}closeMiniMenu(e){e.forEach(e=>e.destroy()),this.buttons.forEach(e=>e.setInteractive({useHandCursor:!0}))}updateConnectionDisplay(e){if(this.connectionText&&this.scene&&this.scene.isActive("MenuScene"))try{e.connected?(this.connectionText.setText(`Servidor: ${e.count} usuario(s) conectado(s)`),this.connectionText.setColor("#00ff00")):(this.connectionText.setText("Servidor: Desconectado"),this.connectionText.setColor("#ff0000"))}catch(e){console.error("[MenuScene] Error updating connection display:",e)}}shutdown(){this.connectionListener&&a.removeListener(this.connectionListener)}}class o{execute(){}serialize(){return{}}getEntity(){return null}}class h extends o{constructor(e,t){super(),this.player=e,this.action=t}execute(){const e=this.player;"up"===this.action&&e.jump(),"left"!==this.action&&"right"!==this.action?"idle"===this.action&&e.idle():e.horizontalMove(this.action)}serialize(){return{type:"PlayerMovmentInputCommand",playerId:this.player.id,action:this.action,x:this.player.sprite.x,y:this.player.sprite.y}}getEntity(){return this.player}}class l extends o{constructor(e){super(),this.player=e}execute(){this.player.attack()}serialize(){return{type:"PlayerAttackCommand",playerId:this.player.id}}getEntity(){return this.player}}class c{constructor(){this.players=new Map}process(e){e.execute()}receiveCommand(e){this.players.get(e.playerId);const t=this.deserialize(e);t&&t.execute()}deserialize(e){const t=this.players.get(e.playerId);switch(e.type){case"PlayerMovmentInputCommand":return t?(void 0!==e.x&&void 0!==e.y&&t.sprite&&(Math.abs(t.sprite.x-e.x)>5||Math.abs(t.sprite.y-e.y)>5)&&t.sprite.setPosition(e.x,e.y),new h(t,e.action)):(console.warn(`Player not found for ID: ${e.playerId}`),null);case"PlayerAttackCommand":return t?new l(t):(console.warn(`Player not found for ID: ${e.playerId}`),null);default:return console.warn("Comando desconocido:",e.type),null}}}class p{constructor(e,t,s,i,a=null,n=null){this.commandProcessor=new c,this.scene=e,this.sceneManager=t,this.input=s,this.commandProcessor=i,this.players=new Map,this.inputsMapping=[],this.isPaused=!1,this.playerRole=a,this.ws=n,this.setUpInputs()}setUpInputs(){this.players=this.scene.players,this.playerRole?this.setUpRemoteInputs(this.playerRole):this.setUpLocalInputs()}setWebSocket(e){this.ws=e}setPlayerRole(e){this.playerRole=e}setUpLocalInputs(){this.input.keyboard.on("keydown-ESC",()=>{this.pause()}),this.inputsMapping=[{playerId:"player1",leftKey:"A",rightKey:"D",upKey:"W",downKey:"S",attackKey:"F"},{playerId:"player2",leftKey:"LEFT",rightKey:"RIGHT",upKey:"UP",downKey:"DOWN",attackKey:"ENTER"}],this.inputsMapping=this.inputsMapping.map(e=>({playerId:e.playerId,leftKeyObj:this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes[e.leftKey]),rightKeyObj:this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes[e.rightKey]),upKeyObj:this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes[e.upKey]),downKeyObj:this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes[e.downKey]),attackKeyObj:this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes[e.attackKey])}))}setUpRemoteInputs(e){this.input.keyboard.on("keydown-ESC",()=>{this.pause()});const t=[{playerId:e,leftKey:"A",rightKey:"D",upKey:"W",downKey:"S",attackKey:"F"}];this.inputsMapping=t,this.inputsMapping=this.inputsMapping.map(e=>({playerId:e.playerId,leftKeyObj:this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes[e.leftKey]),rightKeyObj:this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes[e.rightKey]),upKeyObj:this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes[e.upKey]),downKeyObj:this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes[e.downKey]),attackKeyObj:this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes[e.attackKey])}))}pause(){this.sceneManager.launch("PauseScene",{originalScene:"GameScene"}),this.sceneManager.pause("GameScene"),this.isPaused=!0}update(){this.inputsMapping.forEach(e=>{let t=this.players.get(this.playerRole);t.id=this.playerRole;let s=new o;if(s=e.upKeyObj.isDown?new h(t,"up"):e.leftKeyObj.isDown?new h(t,"left"):e.rightKeyObj.isDown?new h(t,"right"):new h(t,"idle"),this.commandProcessor.process(s),this.sendMessage(s.serialize()),e.attackKeyObj.isDown){let e=new l(t);this.commandProcessor.process(e),this.sendMessage(e.serialize())}})}sendMessage(e){this.ws&&this.ws.readyState===WebSocket.OPEN?(console.log("Sending message:",e),this.ws.send(JSON.stringify(e))):console.warn("WebSocket is not open. Message not sent:",e)}updateRemotePlayerPosition(e){"PlayerMovmentInputCommand"===e.type&&this.commandProcessor.receiveCommand(e)}updateRemotePlayerAttack(e){"PlayerAttackCommand"===e.type&&(console.log("MultiplayerScene received in input manager msg:",e),this.commandProcessor.receiveCommand(e))}}class d{constructor(e,t){this.scene=e,this.animationSpritesheet=t}preload(e,t){this.scene.load.spritesheet(this.animationSpritesheet,`assets/sprites/${this.animationSpritesheet}.png`,{frameWidth:e,frameHeight:t})}createAnimation(e,t,s,i,a=-1){this.scene.anims.create({key:e,frames:this.scene.anims.generateFrameNumbers(this.animationSpritesheet,{start:t,end:s}),frameRate:i,repeat:a})}assignSpriteToPlayer(e,t){return this.scene.physics.add.sprite(e,t,this.animationSpritesheet)}createSprite(e,t){return this.scene.add.sprite(e,t,this.animationSpritesheet)}}class y{constructor(e,t,s,i,a){this.scene=e,this.x=s,this.y=i,this.players=a,this.id=t,this.baseHeight=.17,this.baseWidth=.17,this.baseSpeed=100,this.isDead=!1,this.weakened=!1,this.chasingPlayerId=null,this.animator=new d(this.scene,"spritesheet-enemigo")}preload(){this.animator.preload(600,800)}create(){this.sprite=this.animator.assignSpriteToPlayer(this.x,this.y),this.animator.createAnimation(`idle-black-${this.id}`,0,2,5),this.animator.createAnimation(`idle-white-${this.id}`,3,5,5),this.animator.createAnimation(`black-to-white-${this.id}`,6,8,8,0),this.animator.createAnimation(`white-to-black-${this.id}`,6,8,8,0),this.animator.createAnimation(`die-${this.id}`,9,11,8,0),this.sprite.on("animationcomplete",e=>{e.key===`die-${this.id}`&&this.sprite.destroy()}),this.sprite.setCollideWorldBounds(!0),this.sprite.body.allowGravity=!1,this.sprite.body.setGravityY(500),this.sprite.setDepth(10),this.sprite.setScale(this.baseWidth,this.baseHeight),this.sprite.body.setSize(this.sprite.width-300,this.sprite.height-270),this.sprite.anims.play(`idle-black-${this.id}`)}enemyMovement(){this.pickPlayer();const e=this.players.get(this.chasingPlayerId).sprite.x-this.sprite.x,t=this.players.get(this.chasingPlayerId).sprite.y-this.sprite.y,s=Math.sqrt(e*e+t*t);this.sprite.flipX=this.players.get(this.chasingPlayerId).sprite.x<this.sprite.x,this.weakened||Math.abs(this.players.get(this.chasingPlayerId).sprite.x-this.sprite.x)>500||Math.abs(this.players.get(this.chasingPlayerId).sprite.y-this.sprite.y)>500?this.baseSpeed=0:this.baseSpeed=100,s>25&&this.baseSpeed>0?(this.movementVector={x:e/s,y:t/s},this.sprite.setVelocityX(this.movementVector.x*this.baseSpeed),this.sprite.setVelocityY(this.movementVector.y*this.baseSpeed)):(this.movementVector={x:0,y:0},this.sprite.setVelocity(0))}receiveEnemyMovment(e,t,s,i){const a=this.players.get(t);a&&a.sprite&&(this.sprite.flipX=a.sprite.x<this.sprite.x,this.weakened||Math.abs(a.sprite.x-this.sprite.x)>500||Math.abs(a.sprite.y-this.sprite.y)>500?this.baseSpeed=0:this.baseSpeed=100,void 0!==s&&void 0!==i&&(Math.abs(this.sprite.x-s)>10||Math.abs(this.sprite.y-i)>10)&&this.sprite.setPosition(s,i),this.movementVector=e,this.sprite.setVelocityX(this.movementVector.x*this.baseSpeed),this.sprite.setVelocityY(this.movementVector.y*this.baseSpeed))}pickPlayer(){const e=this.players.get("player1"),t=this.players.get("player2");if(!(e&&t&&e.sprite&&t.sprite))return;this.chasingPlayerId=Math.abs(e.sprite.x-this.sprite.x)>Math.abs(t.sprite.x-this.sprite.x)?"player2":"player1";const s=this.players.get(this.chasingPlayerId);s&&s.health<=0&&("player1"===this.chasingPlayerId?this.chasingPlayerId="player2":this.chasingPlayerId="player1")}die(){this.sprite.setVelocity(0),this.sprite.anims.play(`die-${this.id}`)}setWeakened(e){this.weakened=e,e?(this.sprite.anims.play(`black-to-white-${this.id}`),this.sprite.on("animationcomplete",e=>{e.key===`black-to-white-${this.id}`&&this.sprite.anims.play(`idle-white-${this.id}`)})):this.sprite.anims.play(`idle-black-${this.id}`)}update(){this.isDead||this.enemyMovement()}}class u{constructor(e,t){this.scene=e,this.players=t,this.camera=this.scene.cameras.main,this.camLeft=this.camera.scrollX,this.camRight=this.camera.scrollX+this.camera.width,this.margin=20}update(){this.camLeft=this.camera.scrollX,this.camRight=this.camera.scrollX+this.camera.width,this.players.get("player1").sprite.x=s().Math.Clamp(this.players.get("player1").sprite.x,this.camLeft+this.margin,this.camRight-this.margin),this.players.get("player2").sprite.x=s().Math.Clamp(this.players.get("player2").sprite.x,this.camLeft+this.margin,this.camRight-this.margin);const e=(this.players.get("player1").sprite.x+this.players.get("player2").sprite.x)/2,t=e-.5*this.camera.width,i=e+.5*this.camera.width,a=this.players.get("player1").sprite.x>t+this.margin&&this.players.get("player1").sprite.x<i-this.margin,n=this.players.get("player2").sprite.x>t+this.margin&&this.players.get("player2").sprite.x<i-this.margin;a&&n&&(this.camera.scrollX=Math.round(s().Math.Linear(this.camera.scrollX,e-this.camera.width/2,.1)))}}class m{constructor(e,t,s,i,a,n,r){this.scene=e,this.id=t,this.sprite=e.add.image(s,i,r),this.sprite.setOrigin(.5,.5),this.sprite.setDepth(10),this.sprite.setDisplaySize(a,n),e.physics.add.existing(this.sprite,!0),this.sprite.body.setSize(a,n),this.g=e.add.graphics(),this.g.fillStyle(0,0),this.g.fillRect(s-a/2,i-n/2,a-10,n-10),this.g.setDepth(0),this.setUpCollisions()}setUpCollisions(){this.scene.physics.add.existing(this.g,!0)}}class g{constructor(e,t,s,i,a,r=null){this.id=t,this.scene=e,this.gravity=s,this.baseHeight=.17,this.baseWidth=.17,this.baseSpeed=300,this.jumpForce=450,this.health=100,this.invulnerable=!1,this.authority="LOCAL",this.xPos=i,this.yPos=a,this.isDead=!1,this.numDeaths=n.deaths,this.currentDirection="idle",this.currentAnim=null,this.animator=new d(this.scene,r)}preload(e,t){this.animator.preload(e,t)}create(){this.sprite=this.animator.assignSpriteToPlayer(this.xPos,this.yPos),this.animator.createAnimation(`idle-${this.id}`,0,3,4),this.animator.createAnimation(`walk-${this.id}`,4,7,5),this.animator.createAnimation(`jump-${this.id}`,8,8,4,0),this.animator.createAnimation(`air-${this.id}`,9,10,1,0),this.animator.createAnimation(`fall-${this.id}`,10,10,1,0),this.animator.createAnimation(`attack-${this.id}`,12,13,2,0),this.sprite.on("animationcomplete",e=>{e.key===`jump-${this.id}`&&(this.sprite.body.onFloor()||this.playAnim(`air-${this.id}`))}),this.sprite.on("animationupdate",e=>{e.key===`air-${this.id}`&&this.sprite.body.onFloor()&&this.playAnim(`fall-${this.id}`)}),this.sprite.setScale(this.baseWidth,this.baseHeight),this.sprite.setCollideWorldBounds(!0),this.sprite.body.allowGravity=!0,this.sprite.body.setGravityY(this.gravity),this.sprite.body.setSize(this.sprite.width-300,this.sprite.height-270),this.sprite.body.setOffset(150,270),this.sprite.setDepth(5),this.sprite.play(`idle-${this.id}`)}playAnim(e){this.currentAnim!==e&&(this.sprite.play(e,!0),this.currentAnim=e)}horizontalMove(e){this.health<=0||(this.currentDirection=e,this.sprite.flipX="left"===e,this.sprite.setVelocityX("left"===e?-this.baseSpeed:this.baseSpeed),this.sprite.body.onFloor()&&this.currentAnim!==`jump-${this.id}`&&this.currentAnim!==`attack-${this.id}`&&this.playAnim(`walk-${this.id}`))}jump(){this.canJump()&&(this.sprite.setVelocityY(-this.jumpForce),this.playAnim(`jump-${this.id}`))}idle(){this.sprite.setVelocityX(0),this.sprite.body.onFloor()&&this.currentAnim!==`jump-${this.id}`&&this.currentAnim!==`fall-${this.id}`&&this.currentAnim!==`attack-${this.id}`&&!this.isDead&&(this.playAnim(`idle-${this.id}`),this.currentDirection="idle")}getHit(e){if(!this.invulnerable){if(this.health-=e,this.invulnerable=!0,this.sprite.setTint(8421504),!this.checkAlive())return this.health=0,this.baseSpeed=0,this.sprite.setTint(0),this.sprite.anims.pause(),this.invulnerable=!1,this.isDead=!0,void(this.isAttacking=!1);this.scene.time.delayedCall(2e3,()=>{this.invulnerable=!1})}}revive(){this.health=100,this.baseSpeed=300,this.isDead=!1,this.invulnerable=!1,this.sprite.clearTint(),this.sprite.anims.resume(),this.invulnerable=!0,this.isAttacking=!1,this.playAnim(`idle-${this.id}`),this.scene.time.delayedCall(1e3,()=>{this.invulnerable=!1})}checkAlive(){return this.health>0}canJump(){return this.sprite.body.onFloor()&&this.checkAlive()}attack(){}async updateDeaths(){await n.updateClientData(n,{deaths:this.numDeaths})}}class f extends g{constructor(e,t,s,i,a,n,r,o=null){super(e,t,s,i,a,n,r,o),this.attackHitbox=null}create(){super.create(),this.attackHitbox=this.scene.physics.add.sprite(0,0,null).setSize(40,20).setVisible(!1).setImmovable(!0),this.isAttacking=!1,this.sprite.on("animationcomplete",e=>{e.key===`attack-${this.id}`&&(this.isAttacking=!1,this.playAnim(`idle-${this.id}`),this.attackHitbox.setPosition(-100,-100))}),this.sprite.on("animationupdate",e=>{e.key===`attack-${this.id}`&&this.updateHitbox()})}updateHitbox(){const e=this.sprite.flipX?-20:20;this.attackHitbox.setPosition(this.sprite.x+e,this.sprite.y)}attack(){this.isAttacking||(this.updateHitbox(),this.isAttacking=!0,this.sprite.setVelocityX(0),this.playAnim(`attack-${this.id}`))}}class b{constructor(e,t,s,i,a){this.id=t,this.scene=e,this.player=s,this.radius=i,this.color=a,this.isOn=!1,this.canPerform=!0,this.colliderCircle=null}create(){this.colliderCircle=this.scene.add.circle(this.player.sprite.x,this.player.sprite.y,this.radius),this.scene.physics.add.existing(this.colliderCircle),this.colliderCircle.body.setCircle(this.radius),this.colliderCircle.body.setAllowGravity(!1),this.colliderCircle.body.setImmovable(!0),this.graphics=this.scene.add.graphics()}update(){const e=this.player.sprite.x,t=this.player.sprite.y;this.colliderCircle.setPosition(e,t),this.isOn?(this.graphics.clear(),this.graphics.fillStyle(this.color,.5),this.graphics.fillCircle(e,t,this.radius),this.graphics.setDepth(10)):this.graphics.clear()}perform(){this.canPerform&&(this.canPerform=!1,this.isOn=!0,this.scene.time.delayedCall(1e3,()=>{this.isOn=!1,this.graphics.clear()}),this.scene.time.delayedCall(3e3,()=>{this.canPerform=!0}))}destroy(){this.graphics.destroy(),this.colliderCircle.destroy()}}class S extends g{constructor(e,t,s,i,a,n,r,o=null){super(e,t,s,i,a,n,r,o),this.light=new b(this.scene,"light1",this,75,16777215),this.isAttacking=!1}create(){super.create(),this.light.create(),this.sprite.on("animationupdate",e=>{e.key===`attack-${this.id}`&&(this.light.update(),this.isAttacking=!0)}),this.sprite.on("animationcomplete",e=>{e.key===`attack-${this.id}`&&(this.isAttacking=!1,this.playAnim(`idle-${this.id}`))})}revive(){super.revive(),this.light.canPerform=!0}attack(){!this.isAttacking&&this.light.canPerform&&(this.light.perform(),this.playAnim(`attack-${this.id}`))}}class x extends s().Scene{constructor(e="GameScene"){super(e)}preload(){this.arthur.preload(600,800),this.lucy.preload(600,800),this.load.audio("ambient","assets/sound/ambient-theme.mp3"),this.load.image("fondo","assets/FondoHorizontal.png"),this.load.image("p1","assets/props/plataforma1.png"),this.load.image("suelo","assets/props/suelo.png"),this.load.image("p2","assets/props/plataforma2.png"),this.load.image("c1","assets/props/columna1.png"),this.load.image("lib","assets/props/libreria.png"),this.enemies.forEach(e=>e.preload())}init(){this.sound.stopAll(),this.commandProcessor=new c,this.players=new Map,this.enemies=new Map,this.platforms=new Map,this.isPaused=!1,this.inputManager=new p(this,this.scene,this.input,this.commandProcessor),this.arthur=new S(this,"player1",600,100,500,"spritesheet-arthur"),this.lucy=new f(this,"player2",450,300,500,"spritesheet-lucy"),this.enemy1=new y(this,"enemy1",400,100,this.players),this.enemy2=new y(this,"enemy2",1200,100,this.players),this.enemy3=new y(this,"enemy3",2e3,100,this.players),this.enemy4=new y(this,"enemy4",2800,100,this.players),this.enemy5=new y(this,"enemy5",3500,100,this.players),this.camera=new u(this,this.players),this.enemies.set(this.enemy1.id,this.enemy1),this.enemies.set(this.enemy2.id,this.enemy2),this.enemies.set(this.enemy3.id,this.enemy3),this.enemies.set(this.enemy4.id,this.enemy4),this.enemies.set(this.enemy5.id,this.enemy5)}create(){this.music=this.sound.add("ambient"),this.music.play(),this.music.setVolume(.25),this.fondo=this.add.tileSprite(0,0,8e3,2e3,"fondo").setOrigin(0,0).setScrollFactor(.2).setScale(.3),this.arthur.create(),this.lucy.create(),this.players.set("player1",this.arthur),this.players.set("player2",this.lucy),this.inputManager.players=this.players,this.commandProcessor.players=this.players,this.enemies.forEach(e=>{e.create()}),this.setUpWorldCollisions(),this.setUpEnemyCollisions(),this.setUpReviveCollision(),this.setUpLibraryCollision(),this.physics.world.setBounds(0,0,4175,600),this.camera.camera.setBounds(0,0,4175,600),this.camera.camera.setLerp(.1,.1),this.connectionListener=e=>{!e.connected&&this.scene.isActive()&&this.onConnectionLost()},a.addListener(this.connectionListener)}setUpReviveCollision(){this.physics.add.overlap(this.players.get("player1").sprite,this.players.get("player2").sprite,()=>{this.players.get("player1").health<=0&&this.players.get("player2").health>0?this.players.get("player1").revive():this.players.get("player2").health<=0&&this.players.get("player1").health>0&&this.players.get("player2").revive()})}setUpWorldCollisions(){this.suelo1=new m(this,"s1",2500,590,5e3,40,"suelo"),this.plat1=new m(this,"p1",200,450,200,30,"p1"),this.plat2=new m(this,"p2",450,300,200,30,"p1"),this.suelo2=new m(this,"s2",1200,550,500,200,"p2"),this.col1=new m(this,"c1",700,450,70,300,"c1"),this.col2=new m(this,"c2",2200,450,70,400,"c1"),this.plat3=new m(this,"p3",1800,450,150,30,"p1"),this.plat4=new m(this,"p4",1500,300,150,30,"p1"),this.plat5=new m(this,"p5",2e3,200,150,30,"p1"),this.suelo3=new m(this,"s3",2200,550,230,100,"p2"),this.suelo4=new m(this,"s4",2800,500,550,250,"p2"),this.plat6=new m(this,"p6",3150,250,150,30,"p1"),this.plat7=new m(this,"p7",3500,250,150,30,"p1"),this.plat8=new m(this,"p8",3150,450,150,30,"p1"),this.suelo5=new m(this,"s5",4001,450,350,350,"p2"),this.platforms.set("s1",this.suelo1),this.platforms.set("p1",this.plat1),this.platforms.set("p2",this.plat2),this.platforms.set("s2",this.suelo2),this.platforms.set("c1",this.col1),this.platforms.set("c2",this.col2),this.platforms.set("p3",this.plat3),this.platforms.set("p4",this.plat4),this.platforms.set("p5",this.plat5),this.platforms.set("s3",this.suelo3),this.platforms.set("s4",this.suelo4),this.platforms.set("s5",this.suelo5),this.platforms.set("p6",this.plat6),this.platforms.set("p7",this.plat7),this.platforms.set("p8",this.plat8),this.platforms.forEach(e=>{this.players.forEach(t=>{this.physics.add.collider(t.sprite,e.sprite)}),this.enemies.forEach(t=>{this.physics.add.collider(t.sprite,e.sprite)})})}setUpLibraryCollision(){this.libreria=new m(this,"lib",4e3,208,100,150,"lib"),this.libreria.sprite.setDepth(2),this.physics.add.overlap(this.libreria.sprite,this.arthur.sprite,()=>{this.scene.stop(),this.scene.start("EndScene")}),this.physics.add.overlap(this.libreria.sprite,this.lucy.sprite,()=>{this.scene.stop(),this.scene.start("EndScene")})}setUpEnemyCollisions(){this.enemies.forEach(e=>{this.physics.add.collider(e.sprite,this.players.get("player1").sprite,()=>{e&&this.players.get("player1").health>0&&(this.players.get("player1").getHit(50),this.checkPlayerStatus())}),this.physics.add.collider(e.sprite,this.players.get("player2").sprite,()=>{e&&this.players.get("player2").health>0&&(this.players.get("player2").getHit(50),this.checkPlayerStatus())}),this.physics.add.overlap(e.sprite,this.arthur.light.colliderCircle,()=>{this.arthur.light.isOn&&e&&(e.setWeakened(!0),this.time.delayedCall(4e3,()=>{e&&e.setWeakened(!1)}))}),this.physics.add.overlap(e.sprite,this.players.get("player2").attackHitbox,()=>{e?.weakened&&this.players.get("player2").isAttacking&&(e.die(),e.isDead=!0,e=null)})})}checkPlayerStatus(){this.players.get("player1").health<=0&&this.players.get("player2").health<=0&&(n.updateClientDeaths(n.deaths+1),n.updateClientData({deaths:n.deaths}),this.scene.stop(),this.scene.start("GameScene"))}update(){this.fondo.tilePositionX=.2*this.cameras.main.scrollX,this.camera.update(),this.inputManager.update(),this.arthur.light.update(),this.enemies.forEach(e=>{e&&!e.isDead?e.update():this.enemies.delete(e.id)})}onConnectionLost(){this.scene.pause(),this.scene.launch("ConnectionLostScene",{previousScene:"GameScene"})}}class w extends s().Scene{constructor(){super("PauseScene")}create(e){this.input.keyboard.on("keydown-ESC",()=>{this.unpause(e.originalScene)}),this.add.rectangle(400,300,800,600,0,.7),this.add.text(400,100,"Menú de pausa",{fontSize:"48px",color:"#3e2606ff",backgroundColor:"#ffffff"}).setOrigin(.5);const t=this.add.text(400,250,"Continuar",{fontSize:"24px",color:"#3e2606ff",backgroundColor:"#ffffff"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerover",()=>t.setStyle({fill:"#00000037"})).on("pointerout",()=>t.setStyle({fill:"#000000"})).on("pointerdown",()=>{this.unpause(e.originalScene)}),s=this.sound.mute?"Activar Sonido":"Desactivar Sonido",i=this.add.text(400,400,s,{fontSize:"24px",color:"#3e2606ff",backgroundColor:"#ffffff"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerover",()=>i.setStyle({fill:"#00000037"})).on("pointerout",()=>i.setStyle({fill:"#000000"})).on("pointerdown",()=>{this.sound.mute=!this.sound.mute,i.setText(this.sound.mute?"Activar Sonido":"Desactivar Sonido")}),a=this.add.text(400,550,"Volver al Menu",{fontSize:"24px",color:"#3e2606ff",backgroundColor:"#ffffff"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerover",()=>a.setStyle({fill:"#00000037"})).on("pointerout",()=>a.setStyle({fill:"#000000"})).on("pointerdown",()=>{this.exitToMenu(e.originalScene)})}unpause(e){this.scene.stop(),this.scene.resume(e)}exitToMenu(e){this.scene.stop(e),this.sound.stopAll(),this.scene.start("MenuScene")}}class k extends s().Scene{constructor(){super("CreditsScene")}create(){this.add.text(400,100,"Juego desarrollado por:\n\nClaudia Porcuna: Interfaces y arte \nJavier Ruibal: Programación \nOscar Rodriguez: Arte y diseño \nMarcos Matutes: Programación \nFernando Pin: Sonido",{fontSize:"24px",color:"#ffffffff",align:"center"}).setOrigin(.5);const e=this.add.text(600,500,"Return",{fontSize:"24px",color:"#ffffffff",backgroundColor:"#000000ff"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerover",()=>e.setStyle({backgroundColor:"#737373ff"})).on("pointerout",()=>e.setStyle({backgroundColor:"#000000ff"})).on("pointerdown",()=>{this.scene.start("MenuScene")})}}class v{constructor(e,t,s,i,a=null,n){this.id=t,this.scene=e,this.xPos=s,this.yPos=i,this.currentAnim=null,this.isPlayer=n,this.animator=new d(e,a)}preload(e,t){this.animator.preload(e,t)}create(){this.sprite=this.animator.createSprite(this.xPos,this.yPos),this.isPlayer?(this.animator.createAnimation(`idle-${this.id}`,0,3,4),this.animator.createAnimation(`walk-${this.id}`,4,7,5),this.animator.createAnimation(`jump-${this.id}`,8,8,4,0),this.animator.createAnimation(`air-${this.id}`,9,10,1,0),this.animator.createAnimation(`fall-${this.id}`,10,10,1,0),this.animator.createAnimation(`attack-${this.id}`,12,13,2,0),this.sprite.setScale(.23)):(this.animator.createAnimation(`idle-${this.id}`,0,2,5),this.animator.createAnimation(`idle-white-${this.id}`,3,5,5),this.animator.createAnimation(`black-to-white-${this.id}`,6,8,8,0),this.animator.createAnimation(`white-to-black-${this.id}`,6,8,8,0),this.animator.createAnimation(`die-${this.id}`,9,11,8,0),this.sprite.setScale(.35)),this.sprite.setDepth(200),this.sprite.play(`idle-${this.id}`)}playAnim(e){this.currentAnim!==e&&(this.sprite.play(e,!0),this.currentAnim=e)}loopAnimationList(e,t=1e3){let s=0;this.scene.time.addEvent({delay:t,loop:!0,callback:()=>{this.playAnim(e[s]),s=(s+1)%e.length}})}}class C extends s().Scene{constructor(){super("IntroScene")}init(){this.arthur1=new v(this,"ca1",130,120,"spritesheet-arthur",!0),this.arthur2=new v(this,"ca2",340,120,"spritesheet-arthur",!0),this.arthur3=new v(this,"ca3",500,120,"spritesheet-arthur",!0),this.arthur4=new v(this,"ca4",650,120,"spritesheet-arthur",!0),this.lucy1=new v(this,"cl1",130,370,"spritesheet-lucy",!0),this.lucy2=new v(this,"cl2",340,370,"spritesheet-lucy",!0),this.lucy3=new v(this,"cl3",500,370,"spritesheet-lucy",!0),this.lucy4=new v(this,"cl4",650,370,"spritesheet-lucy",!0),this.puppets1=[this.arthur1,this.arthur2,this.arthur3,this.arthur4,this.lucy1,this.lucy2,this.lucy3,this.lucy4],this.enemy1=new v(this,"enemy1",300,90,"spritesheet-enemigo",!1),this.enemy2=new v(this,"enemy2",600,90,"spritesheet-enemigo",!1),this.enemy3=new v(this,"enemy3",300,340,"spritesheet-enemigo",!1),this.enemy4=new v(this,"enemy4",600,340,"spritesheet-enemigo",!1),this.puppets2=[this.enemy1,this.enemy2,this.enemy3,this.enemy4]}preload(){this.load.image("intro","assets/p1entrando.png"),this.load.image("intro2","assets/p1yp2.png"),this.load.image("controls","assets/ilustracionMecanicas.png"),this.load.image("combat","assets/ilustracionCombate.png"),this.load.image("mansion","assets/mansion.png"),this.load.image("lucyPeeking","assets/lucyPeeking.png"),this.puppets1.forEach(e=>e.preload(600,800)),this.puppets2.forEach(e=>e.preload(600,800))}create(){this.introText=["1953, Birmingham, Inglaterra, \nhace 27 años la familia Felton fue misteriosamente \nasesinada,\n nadie se ha atrevido a entrar en su mansión.","Hasta hoy. \n           \nArthur, dispuesto a resolver el caso\n se adentra en la sombría mansión.","Pero no está solo.\nAlgo le observa desde las sombras...\nO más bien,\nAlguien.","La fantasma resultó ser extrañamente amigable,\nOfreciéndose como guía y protectora\n en su investigacíon por la mansión."," "," "],this.textIndex=0,this.inProgress=!1,this.introImage0=this.add.image(400,200,"mansion"),this.introImage1=this.add.image(400,200,"intro"),this.introImageL=this.add.image(400,200,"lucyPeeking"),this.introImage2=this.add.image(400,200,"intro2"),this.controlsImage=this.add.image(400,270,"controls"),this.combatImage=this.add.image(400,270,"combat"),this.controlsImage.setScale(.9),this.combatImage.setScale(.9),this.cutsceneImages=[this.introImage1,this.introImageL,this.introImage2,this.controlsImage,this.combatImage],this.cutsceneImages.forEach(e=>e.setVisible(!1)),this.arthur1.create(),this.arthur1.playAnim("walk-ca1"),this.arthur1.sprite.flipX=!0,this.arthur2.create(),this.arthur2.playAnim("walk-ca2"),this.arthur2.sprite.flipX=!1,this.arthur3.create(),this.arthur3.loopAnimationList(["jump-ca3","air-ca3","fall-ca3"],300),this.arthur4.create(),this.arthur4.loopAnimationList(["idle-ca4","attack-ca4"],500),this.lucy1.create(),this.lucy1.playAnim("walk-cl1"),this.lucy1.sprite.flipX=!0,this.lucy2.create(),this.lucy2.playAnim("walk-cl2"),this.lucy2.sprite.flipX=!1,this.lucy3.create(),this.lucy3.loopAnimationList(["jump-cl3","air-cl3","fall-cl3"],300),this.lucy4.create(),this.lucy4.loopAnimationList(["idle-cl4","attack-cl4"],500),this.puppets1.forEach(e=>e.sprite.setVisible(!1)),this.enemy1.create(),this.enemy1.playAnim("idle-enemy1"),this.enemy2.create(),this.enemy2.playAnim("idle-white-enemy2"),this.enemy3.create(),this.enemy3.playAnim("idle-white-enemy3"),this.enemy4.create(),this.enemy4.loopAnimationList(["white-to-black-enemy4","die-enemy4"],500),this.puppets2.forEach(e=>e.sprite.setVisible(!1));const e=this.add.text(700,550,"Siguiente",{fontSize:"20px",color:"#ffffffff",backgroundColor:"#00000000"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerover",()=>e.setStyle({backgroundColor:"#737373ff"})).on("pointerout",()=>e.setStyle({backgroundColor:"#000000ff"})).on("pointerdown",()=>{switch(this.inProgress||this.nextText(),this.textIndex){case 1:this.introImage0.setVisible(!1),this.introImage1.setVisible(!0);break;case 2:this.introImage1.setVisible(!1),this.introImageL.setVisible(!0);break;case 3:this.introImageL.setVisible(!1),this.introImage2.setVisible(!0);break;case 4:this.introImage2.setVisible(!1),this.controlsImage.setVisible(!0),this.puppets1.forEach(e=>e.sprite.setVisible(!0));break;case 5:this.controlsImage.setVisible(!1),this.combatImage.setVisible(!0),this.puppets1.forEach(e=>e.sprite.setVisible(!1)),this.arthur4.sprite.setVisible(!0),this.arthur4.sprite.x=150,this.arthur4.sprite.y=100,this.lucy4.sprite.setVisible(!0),this.lucy4.sprite.x=150,this.lucy4.sprite.y=330,this.puppets2.forEach(e=>e.sprite.setVisible(!0));break;default:this.cutsceneImages.forEach(e=>e.setVisible(!1))}});this.text=this.add.text(400,460,"",{fontSize:"24px",color:"#ffffffff",align:"center"}).setOrigin(.5);const t=this.add.text(100,550,"Saltar",{fontSize:"20px",color:"#ffffffff",backgroundColor:"#00000000"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerover",()=>t.setStyle({backgroundColor:"#737373ff"})).on("pointerout",()=>t.setStyle({backgroundColor:"#000000ff"})).on("pointerdown",()=>{this.scene.start("GameScene")});this.showText()}showText(){this.textIndex<this.introText.length?this.textIn(this.introText[this.textIndex]):this.scene.start("GameScene")}textIn(e){this.inProgress=!0;let t=0;const s=()=>{t<e.length?(this.text.setText(e.substring(0,t+1)),t++,this.time.delayedCall(75,s)):this.inProgress=!1};s()}nextText(){this.textIndex++,this.showText()}}class I extends s().Scene{constructor(){super("EndScene")}preload(){this.load.image("p1","assets/p1p2foto.png"),this.load.image("p2","assets/p1p2Partido.png"),this.load.image("p3","assets/p1p2yfantasma.png"),this.load.image("p4","assets/p1p2eSCAPANDO.png")}create(){this.introText=["Arthur y Lucy hallan una vieja foto entre los \n polvorientos libros de la estantería.","De pronto, todo encaja en la mente de Arthur.\nSu obsesión sin sentido con el caso\n y la conexión con Lucy...\nella es...","Sin embargo, no hay tiempo para reflexiones.","Deben huir."],this.textIndex=0,this.inProgress=!1,this.endImage1=this.add.image(400,200,"p1"),this.endImage2=this.add.image(400,200,"p2"),this.endImage3=this.add.image(400,200,"p3"),this.endImage4=this.add.image(400,200,"p4"),this.endImages=[this.endImage2,this.endImage3,this.endImage4],this.endImages.forEach(e=>e.setVisible(!1));const e=this.add.text(700,550,"Siguiente",{fontSize:"20px",color:"#ffffffff",backgroundColor:"#000000ff"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerover",()=>e.setStyle({backgroundColor:"#737373ff"})).on("pointerout",()=>e.setStyle({backgroundColor:"#000000ff"})).on("pointerdown",()=>{switch(this.inProgress||this.nextText(),this.textIndex){case 1:this.endImage1.setVisible(!1),this.endImage2.setVisible(!0);break;case 2:this.endImage2.setVisible(!1),this.endImage3.setVisible(!0);break;case 3:this.endImage3.setVisible(!1),this.endImage4.setVisible(!0);break;case 4:this.endImage4.setVisible(!1)}});this.texto=this.add.text(400,460,"",{fontSize:"24px",color:"#ffffffff",align:"center"}).setOrigin(.5);const t=this.add.text(100,550,"Saltar",{fontSize:"20px",color:"#ffffffff",backgroundColor:"#00000000"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerover",()=>t.setStyle({backgroundColor:"#737373ff"})).on("pointerout",()=>t.setStyle({backgroundColor:"#000000ff"})).on("pointerdown",()=>{this.scene.start("GameScene2")});this.showText()}showText(){this.textIndex<this.introText.length?this.textIn(this.introText[this.textIndex]):this.scene.start("GameScene2")}textIn(e){this.inProgress=!0;let t=0;const s=()=>{t<e.length?(this.texto.setText(e.substring(0,t+1)),t++,this.time.delayedCall(75,s)):this.inProgress=!1};s()}nextText(){this.textIndex++,this.showText()}}class P extends s().Scene{constructor(){super("GameScene2")}preload(){this.arthur.preload(600,800),this.lucy.preload(600,800),this.load.audio("ambient","assets/sound/ambient-theme.mp3"),this.load.image("fondo","assets/FondoHorizontal.png"),this.load.image("p1","assets/props/plataforma1.png"),this.load.image("suelo","assets/props/suelo.png"),this.load.image("p2","assets/props/plataforma2.png"),this.load.image("c1","assets/props/columna1.png"),this.load.image("lib","assets/props/libreria.png"),this.enemies.forEach(e=>e.preload())}init(){this.sound.stopAll(),this.commandProcessor=new c,this.players=new Map,this.enemies=new Map,this.platforms=new Map,this.isPaused=!1,this.inputManager=new p(this,this.scene,this.input,this.commandProcessor),this.arthur=new S(this,"player1",600,100,500,"spritesheet-arthur"),this.lucy=new f(this,"player2",450,300,500,"spritesheet-lucy"),this.camera=new u(this,this.players)}create(){this.music=this.sound.add("ambient"),this.music.play(),this.music.setVolume(.25),this.fondo=this.add.tileSprite(0,0,8e3,2e3,"fondo").setOrigin(0,0).setScrollFactor(.2).setScale(.3),this.arthur.create(),this.lucy.create(),this.players.set("player1",this.arthur),this.players.set("player2",this.lucy),this.inputManager.players=this.players,this.enemies.forEach(e=>{e.create()}),this.setUpWorldCollisions(),this.setUpEnemyCollisions(),this.setUpReviveCollision(),this.physics.world.setBounds(0,0,4175,600),this.camera.camera.setBounds(0,0,4175,600),this.camera.camera.setLerp(.1,.1)}setUpReviveCollision(){this.physics.add.overlap(this.players.get("player1").sprite,this.players.get("player2").sprite,()=>{this.players.get("player1").health<=0&&this.players.get("player2").health>0?this.players.get("player1").revive():this.players.get("player2").health<=0&&this.players.get("player1").health>0&&this.players.get("player2").revive()})}setUpWorldCollisions(){this.suelo1=new m(this,"s1",2500,590,5e3,40,"suelo"),this.platforms.set("s1",this.suelo1),this.platforms.forEach(e=>{this.players.forEach(t=>{this.physics.add.collider(t.sprite,e.sprite)}),this.enemies.forEach(t=>{this.physics.add.collider(t.sprite,e.sprite)})})}setUpEnemyCollisions(){this.enemies.forEach(e=>{this.physics.add.collider(e.sprite,this.players.get("player1").sprite,()=>{e&&this.players.get("player1").health>0&&(this.players.get("player1").getHit(50),this.checkPlayerStatus())}),this.physics.add.collider(e.sprite,this.players.get("player2").sprite,()=>{e&&this.players.get("player2").health>0&&(this.players.get("player2").getHit(50),this.checkPlayerStatus())}),this.physics.add.overlap(e.sprite,this.arthur.light.colliderCircle,()=>{this.arthur.light.isOn&&e&&(e.setWeakened(!0),this.time.delayedCall(4e3,()=>{e&&e.setWeakened(!1)}))}),this.physics.add.overlap(e.sprite,this.players.get("player2").attackHitbox,()=>{e?.weakened&&this.players.get("player2").isAttacking&&(e.die(),e.isDead=!0,e=null)})})}checkPlayerStatus(){this.players.get("player1").health<=0&&this.players.get("player2").health<=0&&(this.scene.stop(),this.scene.start("GameScene"))}update(){this.fondo.tilePositionX=.2*this.cameras.main.scrollX,this.camera.update(),this.inputManager.update(),this.arthur.light.update(),this.enemies.forEach(e=>{e&&!e.isDead?e.update():this.enemies.delete(e.id)})}}class M extends s().Scene{constructor(){super("ConnectionLostScene"),this.reconnectCheckInterval=null}init(e){this.previousScene=e.previousScene}create(){this.add.rectangle(400,300,800,600,0,.8),this.add.text(400,200,"CONEXIÓN PERDIDA",{fontSize:"48px",color:"#ff0000",fontStyle:"bold"}).setOrigin(.5),this.statusText=this.add.text(400,300,"Intentando reconectar...",{fontSize:"24px",color:"#ffff00"}).setOrigin(.5),this.attemptCount=0,this.attemptText=this.add.text(400,350,"Intentos: 0",{fontSize:"18px",color:"#ffffff"}).setOrigin(.5),this.dotCount=0,this.time.addEvent({delay:2e3,callback:()=>{this.dotCount=(this.dotCount+1)%4;const e=".".repeat(this.dotCount);this.statusText.setText(`Intentando reconectar${e}`)},loop:!0}),this.connectionListener=e=>{e.connected&&this.onReconnected()},a.addListener(this.connectionListener),this.reconnectCheckInterval=setInterval(()=>{this.attemptReconnect()},2e3),this.attemptReconnect()}async attemptReconnect(){if(this.attemptCount++,this.attemptCount>30)return this.statusText.setText("No se pudo establecer la conexión"),void this.statusText.setColor("#ff0000");this.attemptText.setText(`Intentos: ${this.attemptCount}`),await a.checkConnection()}onReconnected(){this.reconnectCheckInterval&&clearInterval(this.reconnectCheckInterval),a.removeListener(this.connectionListener),this.statusText.setText("¡Conexión restablecida!"),this.statusText.setColor("#00ff00"),this.time.delayedCall(1e3,()=>{this.scene.stop(),this.previousScene&&this.scene.resume(this.previousScene)})}shutdown(){this.reconnectCheckInterval&&clearInterval(this.reconnectCheckInterval),this.connectionListener&&a.removeListener(this.connectionListener)}}class A extends s().Scene{constructor(){super("LoginScene")}preload(){this.load.html("login","assets/html/form.html")}create(){const e=this.add.text(400,52,"Login",{fontSize:"32px",fill:"#fff"}),t=this.add.dom(400,300).createFromCache("login");t.setPerspective(800),t.addListener("click"),t.on("click",async s=>{if(s.preventDefault(),"loginButton"===s.target.name){const s=t.getChildByName("username").value;console.log(s),""!==s&&(console.log("Trying to log in"),n.name=s,201===await n.postLogin()?(t.removeListener("click"),e.setText("Login successful"),this.scene.start("MenuScene")):e.setText("Login failed"))}})}}class O extends Phaser.Scene{constructor(){super("MatchMakingScene"),this.ws=null}create(){const e=this.cameras.main.width,t=this.cameras.main.height;this.add.text(e/2,100,"Online Multiplayer",{fontSize:"48px",color:"#ffffffff"}).setOrigin(.5),this.statusText=this.add.text(e/2,t/2-50,"Connecting to server...",{fontSize:"24px",color:"#ffffffff"}).setOrigin(.5),this.playerCountText=this.add.text(e/2,t/2+20,"",{fontSize:"20px",color:"#ffffffff"}).setOrigin(.5);const s=this.add.text(e/2,t-100,"Cancel",{fontSize:"24px",color:"#ff6666fff",padding:{x:20,y:10}}).setOrigin(.5).setInteractive();s.on("pointerover",()=>{s.setColor("#ff0000ff")}),s.on("pointerout",()=>{s.setColor("#ff6666ff")}),s.on("pointerdown",()=>{this.leaveQueue(),this.scene.start("MenuScene")}),this.connectToServer()}connectToServer(){try{const e=`ws://${window.location.host}`;this.ws=new WebSocket(e),this.ws.onopen=()=>{console.log("Connected to WebSocket server"),this.statusText.setText("Waiting for opponent..."),this.ws.send(JSON.stringify({type:"joinQueue"}))},this.ws.onmessage=e=>{try{const t=JSON.parse(e.data);this.handleServerMessage(t)}catch(e){console.error("Error parsing server message:",e)}},this.ws.onerror=e=>{console.error("WebSocket error:",e),this.statusText.setText("Connection error!"),this.statusText.setColor("#ff0000ff")},this.ws.onclose=()=>{console.log("WebSocket connection closed"),this.scene.isActive("LobbyScene")&&(this.statusText.setText("Connection lost!"),this.statusText.setColor("#ff0000ff"))}}catch(e){console.error("Error connecting to server:",e),this.statusText.setText("Failed to connect!"),this.statusText.setColor("#ff0000ff")}}handleServerMessage(e){switch(e.type){case"queueStatus":this.playerCountText.setText(`Players in queue: ${e.position}/2`);break;case"gameStart":console.log("Game starting!",e),this.scene.start("MultiplayerScene",{ws:this.ws,playerRole:e.role,roomId:e.roomId});break;default:console.log("Unknown message type:",e.type)}}leaveQueue(){this.ws&&this.ws.readyState===WebSocket.OPEN&&(this.ws.send(JSON.stringify({type:"leaveQueue"})),this.ws.close())}shutdown(){this.leaveQueue()}}const T={type:s().AUTO,width:800,height:600,parent:"game-container",physics:{default:"arcade",arcade:{gravity:{x:0,y:1},debug:!0,debugShowBody:!1,debugShowStaticBody:!1}},dom:{createContainer:!0},scene:[A,r,O,k,i,C,x,class extends x{constructor(){super("MultiplayerScene"),this.loaded=!1}preload(){super.preload()}init(e){super.init(),this.ws=e.ws,this.playerRole=e.playerRole,this.roomId=e.roomId,this.localPlayer=null,this.remotePlayer=null,this.setupWebSocketListeners()}create(){this.setUpPlayers(),super.create(),this.inputManager.setWebSocket(this.ws),this.inputManager.setPlayerRole(this.playerRole),this.inputManager.setUpInputs(),this.sendMessage({type:"Loaded"})}update(){this.loaded&&(this.fondo.tilePositionX=.2*this.cameras.main.scrollX,this.camera.update(),this.inputManager.update(),this.arthur.light.update(),"player1"===this.playerRole&&this.enemies.forEach(e=>{e&&!e.isDead?(e.update(),this.sendMessage({type:"EnemyMovment",enemyId:e.id,movementVector:e.movementVector,chasingPlayerId:e.chasingPlayerId,x:e.sprite.x,y:e.sprite.y})):this.enemies.delete(e.id)}))}setUpPlayers(){"player1"===this.playerRole?(this.localPlayer=this.arthur,this.remotePlayer=this.lucy):(this.localPlayer=this.lucy,this.remotePlayer=this.arthur),console.log("Local player:",this.localPlayer),console.log("Remote player:",this.remotePlayer)}setupWebSocketListeners(){this.ws.onmessage=e=>{try{const t=JSON.parse(e.data);this.handleServerMessage(t)}catch(e){console.error("Error parsing server message:",e)}},this.ws.onclose=()=>{console.log("WebSocket connection closed"),this.handleDisconnection()},this.ws.onerror=e=>{console.error("WebSocket error:",e),this.handleDisconnection()}}handleServerMessage(e){switch(e.type){case"PlayerMovmentInputCommand":this.inputManager.updateRemotePlayerPosition(e);break;case"PlayerAttackCommand":console.log("MultiplayerScene received msg:",e),this.inputManager.updateRemotePlayerAttack(e);break;case"PlayerHit":console.log("MultiplayerScene received msg:",e),this.updateRemotePlayerHit(e);break;case"EnemyMovment":this.recieveEnemyMovment(e);break;case"playerDisconnected":this.handleDisconnection();break;case"Loaded":this.loaded=!0;break;case"GameOver":this.handleGameOver();break;case"PlayersWin":this.handlePlayersWin();break;case"Restart":this.handleRestart();break;default:console.log("Unknown message type:",e.type)}}recieveEnemyMovment(e){this.enemies.forEach(t=>{t.id===e.enemyId&&t.receiveEnemyMovment(e.movementVector,e.chasingPlayerId,e.x,e.y)})}setUpEnemyCollisions(){this.enemies.forEach(e=>{this.physics.add.overlap(e.sprite,this.localPlayer.sprite,()=>{if(e&&this.localPlayer.health>0){let e=50;this.localPlayer.getHit(e),this.checkPlayerStatus(),this.sendMessage({type:"PlayerHit",damage:e,playerId:this.playerRole})}}),this.physics.add.overlap(e.sprite,this.remotePlayer.sprite),this.physics.add.overlap(e.sprite,this.arthur.light.colliderCircle,()=>{this.arthur.light.isOn&&e&&(e.setWeakened(!0),this.time.delayedCall(4e3,()=>{e&&e.setWeakened(!1)}))}),this.physics.add.overlap(e.sprite,this.lucy.attackHitbox,()=>{e?.weakened&&this.lucy.isAttacking&&(e.die(),e.isDead=!0,e=null)})})}setUpLibraryCollision(){this.libreria=new m(this,"lib",4e3,208,100,150,"lib"),this.libreria.sprite.setDepth(2),this.physics.add.overlap(this.libreria.sprite,this.localPlayer.sprite,()=>{this.sendMessage({type:"PlayersWin"}),this.scene.stop(),this.scene.start("EndScene")})}updateRemotePlayerHit(e){this.players.get(e.playerId).getHit(e.damage),this.checkPlayerStatus()}checkPlayerStatus(){this.players.get("player1").health<=0&&this.players.get("player2").health<=0&&this.sendMessage({type:"GameOver"})}handleDisconnection(){this.gameEnded=!0,this.physics.pause(),this.add.text(400,250,"Partner Disconnected",{fontSize:"48px",color:"#ff0000"}).setOrigin(.5).setScrollFactor(0),this.createMenuButton()}handleGameOver(){this.gameEnded=!0,this.physics.pause(),this.add.text(400,250,"Game Over",{fontSize:"48px",color:"#ff0000"}).setOrigin(.5).setScrollFactor(0),this.createMenuButton(),this.createRetryButton()}handlePlayersWin(){this.scene.stop(),this.scene.start("EndScene")}createRetryButton(){const e=this.add.text(400,350,"Retry",{fontSize:"32px",color:"#ffffff"}).setOrigin(.5).setScrollFactor(0).setInteractive({useHandCursor:!0}).on("pointerover",()=>e.setColor("#cccccc")).on("pointerout",()=>e.setColor("#ffffff")).on("pointerdown",()=>{this.ws&&this.ws.readyState===WebSocket.OPEN&&this.sendMessage({type:"Restart"})})}createMenuButton(){const e=this.add.text(400,400,"Return to Main Menu",{fontSize:"32px",color:"#ffffff"}).setOrigin(.5).setScrollFactor(0).setInteractive({useHandCursor:!0}).on("pointerover",()=>e.setColor("#cccccc")).on("pointerout",()=>e.setColor("#ffffff")).on("pointerdown",()=>{this.ws&&this.ws.readyState===WebSocket.OPEN&&(this.sendMessage({type:"PlayerDisconnected"}),this.ws.close()),this.scene.start("MenuScene")})}handleRestart(){this.scene.start("MultiplayerScene")}sendMessage(e){this.ws&&this.ws.readyState===WebSocket.OPEN&&this.ws.send(JSON.stringify(e))}shutdown(){this.ws&&this.ws.readyState===WebSocket.OPEN&&this.ws.close()}},w,I,P,M],backgroundColor:"#360246ff"};new(s().Game)(T)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Iiwid2VicGFjazovL2JtY29uZmlkZW5jaWFsL3dlYnBhY2svcnVudGltZS9jb21wYXQgZ2V0IGRlZmF1bHQgZXhwb3J0Iiwid2VicGFjazovL2JtY29uZmlkZW5jaWFsL3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly9ibWNvbmZpZGVuY2lhbC93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL2JtY29uZmlkZW5jaWFsL2V4dGVybmFsIHZhciBcIlBoYXNlclwiIiwid2VicGFjazovL2JtY29uZmlkZW5jaWFsLy4vc3JjL2NsaWVudC9zY2VuZS9PcHRpb25zU2NlbmUuanMiLCJ3ZWJwYWNrOi8vYm1jb25maWRlbmNpYWwvLi9zcmMvY2xpZW50L3NlcnZpY2VzL0Nvbm5lY3Rpb25NYW5hZ2VyLmpzIiwid2VicGFjazovL2JtY29uZmlkZW5jaWFsLy4vc3JjL2NsaWVudC9zZXJ2aWNlcy9jbGllbnREYXRhTWFuYWdlci5qcyIsIndlYnBhY2s6Ly9ibWNvbmZpZGVuY2lhbC8uL3NyYy9jbGllbnQvc2NlbmUvTWVudVNjZW5lLmpzIiwid2VicGFjazovL2JtY29uZmlkZW5jaWFsLy4vc3JjL2NsaWVudC9jb21tYW5kLXBhdHRlcm4vQ29tbWFuZC5qcyIsIndlYnBhY2s6Ly9ibWNvbmZpZGVuY2lhbC8uL3NyYy9jbGllbnQvY29tbWFuZC1wYXR0ZXJuL1BsYXllck1vdm1lbnRJbnB1dENvbW1hbmQuanMiLCJ3ZWJwYWNrOi8vYm1jb25maWRlbmNpYWwvLi9zcmMvY2xpZW50L2NvbW1hbmQtcGF0dGVybi9QbGF5ZXJBdHRhY2tDb21tYW5kLmpzIiwid2VicGFjazovL2JtY29uZmlkZW5jaWFsLy4vc3JjL2NsaWVudC9jb21tYW5kLXBhdHRlcm4vQ29tbWFuZFByb2Nlc3Nvci5qcyIsIndlYnBhY2s6Ly9ibWNvbmZpZGVuY2lhbC8uL3NyYy9jbGllbnQvaGFuZGxlcnMvSW5wdXRNYW5hZ2VyLmpzIiwid2VicGFjazovL2JtY29uZmlkZW5jaWFsLy4vc3JjL2NsaWVudC9Db21wb25lbnRzL0FuaW1hdG9yLmpzIiwid2VicGFjazovL2JtY29uZmlkZW5jaWFsLy4vc3JjL2NsaWVudC9lbnRpdGllcy9FbmVteS5qcyIsIndlYnBhY2s6Ly9ibWNvbmZpZGVuY2lhbC8uL3NyYy9jbGllbnQvQ29tcG9uZW50cy9DYW1lcmEuanMiLCJ3ZWJwYWNrOi8vYm1jb25maWRlbmNpYWwvLi9zcmMvY2xpZW50L2VudGl0aWVzL1BsYXRmb3JtLmpzIiwid2VicGFjazovL2JtY29uZmlkZW5jaWFsLy4vc3JjL2NsaWVudC9lbnRpdGllcy9QbGF5ZXIuanMiLCJ3ZWJwYWNrOi8vYm1jb25maWRlbmNpYWwvLi9zcmMvY2xpZW50L2VudGl0aWVzL0x1Y3kuanMiLCJ3ZWJwYWNrOi8vYm1jb25maWRlbmNpYWwvLi9zcmMvY2xpZW50L2VudGl0aWVzL0xpZ2h0LmpzIiwid2VicGFjazovL2JtY29uZmlkZW5jaWFsLy4vc3JjL2NsaWVudC9lbnRpdGllcy9BcnRodXIuanMiLCJ3ZWJwYWNrOi8vYm1jb25maWRlbmNpYWwvLi9zcmMvY2xpZW50L3NjZW5lL0dhbWVTY2VuZS5qcyIsIndlYnBhY2s6Ly9ibWNvbmZpZGVuY2lhbC8uL3NyYy9jbGllbnQvc2NlbmUvUGF1c2VTY2VuZS5qcyIsIndlYnBhY2s6Ly9ibWNvbmZpZGVuY2lhbC8uL3NyYy9jbGllbnQvc2NlbmUvQ3JlZGl0c1NjZW5lLmpzIiwid2VicGFjazovL2JtY29uZmlkZW5jaWFsLy4vc3JjL2NsaWVudC9lbnRpdGllcy9QdXBwZXQuanMiLCJ3ZWJwYWNrOi8vYm1jb25maWRlbmNpYWwvLi9zcmMvY2xpZW50L3NjZW5lL0ludHJvU2NlbmUuanMiLCJ3ZWJwYWNrOi8vYm1jb25maWRlbmNpYWwvLi9zcmMvY2xpZW50L3NjZW5lL0VuZFNjZW5lLmpzIiwid2VicGFjazovL2JtY29uZmlkZW5jaWFsLy4vc3JjL2NsaWVudC9zY2VuZS9HYW1lU2NlbmUyLmpzIiwid2VicGFjazovL2JtY29uZmlkZW5jaWFsLy4vc3JjL2NsaWVudC9zY2VuZS9Db25uZWN0aW9uTG9zdFNjZW5lLmpzIiwid2VicGFjazovL2JtY29uZmlkZW5jaWFsLy4vc3JjL2NsaWVudC9zY2VuZS9Mb2dpblNjZW5lLmpzIiwid2VicGFjazovL2JtY29uZmlkZW5jaWFsLy4vc3JjL2NsaWVudC9zY2VuZS9NYXRjaE1ha2luZ1NjZW5lLmpzIiwid2VicGFjazovL2JtY29uZmlkZW5jaWFsLy4vc3JjL2NsaWVudC9tYWluLmpzIiwid2VicGFjazovL2JtY29uZmlkZW5jaWFsLy4vc3JjL2NsaWVudC9zY2VuZS9NdWx0aXBsYXllclNjZW5lLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIFRoZSByZXF1aXJlIHNjb3BlXG52YXIgX193ZWJwYWNrX3JlcXVpcmVfXyA9IHt9O1xuXG4iLCIvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuX193ZWJwYWNrX3JlcXVpcmVfXy5uID0gKG1vZHVsZSkgPT4ge1xuXHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cblx0XHQoKSA9PiAobW9kdWxlWydkZWZhdWx0J10pIDpcblx0XHQoKSA9PiAobW9kdWxlKTtcblx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgeyBhOiBnZXR0ZXIgfSk7XG5cdHJldHVybiBnZXR0ZXI7XG59OyIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSkiLCJjb25zdCBfX1dFQlBBQ0tfTkFNRVNQQUNFX09CSkVDVF9fID0gUGhhc2VyOyIsImltcG9ydCBQaGFzZXIgZnJvbSBcInBoYXNlclwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIE9wdGlvbnNTY2VuZSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcignT3B0aW9uc1NjZW5lJyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJlbG9hZCgpIHtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JhY2tncm91bmQnLCAnYXNzZXRzL21lbnUtaW5pY2lvLWZvbmRvLnBuZycpO1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZShkYXRhKSB7XHJcbiAgICAgICAgLy9QYW5lbCBvc2N1cm9cclxuICAgICAgICB0aGlzLmFkZC5yZWN0YW5nbGUoNDAwLCAzMDAsIDgwMCwgNjAwLCAweDAwMDAwMCkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIC8vIFRpdGxlXHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCg0MDAsIDEwMCwgJ09wY2lvbmVzJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzQ4cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmZmZmZicsXHJcbiAgICAgICAgICAgIGZvbnRTdHlsZTogJ2JvbGQnXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIC8vYm90b24gZGUgc29uaWRvXHJcbiAgICAgICAgY29uc3Qgdm9sdW1lVGV4dCA9IHRoaXMuc291bmQubXV0ZSA/ICdBY3RpdmFyIFNvbmlkbycgOiAnRGVzYWN0aXZhciBTb25pZG8nO1xyXG4gICAgICAgIGNvbnN0IHZvbHVtZUJ0biA9IHRoaXMuYWRkLnRleHQoNDAwLCAzMDAsIHZvbHVtZVRleHQsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICczMnB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmZmYnLFxyXG4gICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjMDAwMDAwZmYnLFxyXG4gICAgICAgICAgICBwYWRkaW5nOiB7IHg6IDIwLCB5OiAxMCB9XHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KTtcclxuXHJcbiAgICAgICAgdm9sdW1lQnRuLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IHZvbHVtZUJ0bi5zZXRTdHlsZSh7IGJhY2tncm91bmRDb2xvcjogJyM3MzczNzNmZicgfSkpXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcm91dCcsICgpID0+IHZvbHVtZUJ0bi5zZXRTdHlsZSh7IGJhY2tncm91bmRDb2xvcjogJyMwMDAwMDBmZicgfSkpXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNvdW5kLm11dGUgPSAhdGhpcy5zb3VuZC5tdXRlO1xyXG4gICAgICAgICAgICAgICAgdm9sdW1lQnRuLnNldFRleHQodGhpcy5zb3VuZC5tdXRlID8gJ0FjdGl2YXIgU29uaWRvJyA6ICdEZXNhY3RpdmFyIFNvbmlkbycpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy9ib3RvbiBkZSB2b2x2ZXJcclxuICAgICAgICBjb25zdCBiYWNrQnRuID0gdGhpcy5hZGQudGV4dCg0MDAsIDUwMCwgJ1ZvbHZlcicsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICczMnB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmZmYnLFxyXG4gICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjMDAwMDAwZmYnLFxyXG4gICAgICAgICAgICBwYWRkaW5nOiB7IHg6IDIwLCB5OiAxMCB9XHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KTtcclxuXHJcbiAgICAgICAgYmFja0J0bi5vbigncG9pbnRlcm92ZXInLCAoKSA9PiBiYWNrQnRuLnNldFN0eWxlKHsgYmFja2dyb3VuZENvbG9yOiAnIzczNzM3M2ZmJyB9KSlcclxuICAgICAgICAgICAgLm9uKCdwb2ludGVyb3V0JywgKCkgPT4gYmFja0J0bi5zZXRTdHlsZSh7IGJhY2tncm91bmRDb2xvcjogJyMwMDAwMDBmZicgfSkpXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnN0b3AoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUucmVzdW1lKGRhdGEub3JpZ2luYWxTY2VuZSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgfVxyXG59XHJcbiIsIi8qKlxyXG4gKiBTZXJ2aWNpbyBwYXJhIGdlc3Rpb25hciBsYSBjb25leGnDs24gY29uIGVsIHNlcnZpZG9yXHJcbiAqIE1hbmVqYSBlbCBwb2xsaW5nIGFsIGVuZHBvaW50IC9hcGkvY29ubmVjdGVkIHkgZGV0ZWN0YSBww6lyZGlkYXMgZGUgY29uZXhpw7NuXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgQ29ubmVjdGlvbk1hbmFnZXIge1xyXG4gIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgdGhpcy5jb25uZWN0ZWRDb3VudCA9IDA7XHJcbiAgICB0aGlzLmlzQ29ubmVjdGVkID0gZmFsc2U7XHJcbiAgICB0aGlzLmxhc3RDaGVja1RpbWUgPSAwO1xyXG4gICAgdGhpcy5jaGVja0ludGVydmFsID0gMjAwMDsgLy8gQ29tcHJvYmFyIGNhZGEgMiBzZWd1bmRvc1xyXG4gICAgdGhpcy5saXN0ZW5lcnMgPSBbXTtcclxuICAgIHRoaXMuc2Vzc2lvbklkID0gdGhpcy5nZW5lcmF0ZVNlc3Npb25JZCgpO1xyXG4gICAgdGhpcy5pbnRlcnZhbElkID0gbnVsbDtcclxuXHJcbiAgICAvLyBJbmljaWFyIGVsIHBvbGxpbmcgYXV0b23DoXRpY29cclxuICAgIHRoaXMuc3RhcnRQb2xsaW5nKCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBHZW5lcmFyIHVuIElEIMO6bmljbyBkZSBzZXNpw7NuIHBhcmEgZXN0ZSBjbGllbnRlXHJcbiAgICogQHJldHVybnMge3N0cmluZ31cclxuICAgKi9cclxuICBnZW5lcmF0ZVNlc3Npb25JZCgpIHtcclxuICAgIHJldHVybiBgc2Vzc2lvbl8ke0RhdGUubm93KCl9XyR7TWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyKDIsIDkpfWA7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBDb21wcm9iYXIgY29uZXhpw7NuIGNvbiBlbCBzZXJ2aWRvclxyXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPHtjb25uZWN0ZWQ6IG51bWJlciwgc3VjY2VzczogYm9vbGVhbn0+fVxyXG4gICAqL1xyXG4gIGFzeW5jIGNoZWNrQ29ubmVjdGlvbigpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJy9hcGkvY29ubmVjdGVkJywge1xyXG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxyXG4gICAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbidcclxuICAgICAgICB9LFxyXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICAgIHNlc3Npb25JZDogdGhpcy5zZXNzaW9uSWRcclxuICAgICAgICB9KVxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIGlmIChyZXNwb25zZS5vaykge1xyXG4gICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XHJcbiAgICAgICAgdGhpcy5jb25uZWN0ZWRDb3VudCA9IGRhdGEuY29ubmVjdGVkO1xyXG4gICAgICAgIHRoaXMuaXNDb25uZWN0ZWQgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMubGFzdENoZWNrVGltZSA9IERhdGUubm93KCk7XHJcblxyXG4gICAgICAgIC8vIE5vdGlmaWNhciBhIGxvcyBsaXN0ZW5lcnNcclxuICAgICAgICB0aGlzLm5vdGlmeUxpc3RlbmVycyh7IGNvbm5lY3RlZDogdHJ1ZSwgY291bnQ6IHRoaXMuY29ubmVjdGVkQ291bnQgfSk7XHJcblxyXG4gICAgICAgIHJldHVybiB7IGNvbm5lY3RlZDogdGhpcy5jb25uZWN0ZWRDb3VudCwgc3VjY2VzczogdHJ1ZSB9O1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRoaXMuaGFuZGxlRGlzY29ubmVjdGlvbigpO1xyXG4gICAgICAgIHJldHVybiB7IGNvbm5lY3RlZDogMCwgc3VjY2VzczogZmFsc2UgfTtcclxuICAgICAgfVxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgY2hlY2tpbmcgY29ubmVjdGlvbjonLCBlcnJvcik7XHJcbiAgICAgIHRoaXMuaGFuZGxlRGlzY29ubmVjdGlvbigpO1xyXG4gICAgICByZXR1cm4geyBjb25uZWN0ZWQ6IDAsIHN1Y2Nlc3M6IGZhbHNlIH07XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBNYW5lamFyIGRlc2NvbmV4acOzblxyXG4gICAqL1xyXG4gIGhhbmRsZURpc2Nvbm5lY3Rpb24oKSB7XHJcbiAgICB0aGlzLmlzQ29ubmVjdGVkID0gZmFsc2U7XHJcbiAgICB0aGlzLmNvbm5lY3RlZENvdW50ID0gMDtcclxuICAgIHRoaXMubm90aWZ5TGlzdGVuZXJzKHsgY29ubmVjdGVkOiBmYWxzZSwgY291bnQ6IDAgfSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBSZWdpc3RyYXIgdW4gbGlzdGVuZXIgcGFyYSBjYW1iaW9zIGRlIGNvbmV4acOzblxyXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIC0gRnVuY2nDs24gcXVlIHNlIGxsYW1hcsOhIGN1YW5kbyBjYW1iaWUgZWwgZXN0YWRvXHJcbiAgICovXHJcbiAgYWRkTGlzdGVuZXIoY2FsbGJhY2spIHtcclxuICAgIHRoaXMubGlzdGVuZXJzLnB1c2goY2FsbGJhY2spO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogRWxpbWluYXIgdW4gbGlzdGVuZXJcclxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayAtIEZ1bmNpw7NuIGEgZWxpbWluYXJcclxuICAgKi9cclxuICByZW1vdmVMaXN0ZW5lcihjYWxsYmFjaykge1xyXG4gICAgY29uc3QgaW5kZXggPSB0aGlzLmxpc3RlbmVycy5pbmRleE9mKGNhbGxiYWNrKTtcclxuICAgIGlmIChpbmRleCA+IC0xKSB7XHJcbiAgICAgIHRoaXMubGlzdGVuZXJzLnNwbGljZShpbmRleCwgMSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBOb3RpZmljYXIgYSB0b2RvcyBsb3MgbGlzdGVuZXJzXHJcbiAgICogQHBhcmFtIHtPYmplY3R9IGRhdGEgLSBEYXRvcyBkZWwgZXN0YWRvIGRlIGNvbmV4acOzblxyXG4gICAqL1xyXG4gIG5vdGlmeUxpc3RlbmVycyhkYXRhKSB7XHJcbiAgICB0aGlzLmxpc3RlbmVycy5mb3JFYWNoKGxpc3RlbmVyID0+IGxpc3RlbmVyKGRhdGEpKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIE9idGVuZXIgZWwgZXN0YWRvIGFjdHVhbCBkZSBjb25leGnDs25cclxuICAgKiBAcmV0dXJucyB7T2JqZWN0fVxyXG4gICAqL1xyXG4gIGdldFN0YXR1cygpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIGlzQ29ubmVjdGVkOiB0aGlzLmlzQ29ubmVjdGVkLFxyXG4gICAgICBjb25uZWN0ZWRDb3VudDogdGhpcy5jb25uZWN0ZWRDb3VudCxcclxuICAgICAgbGFzdENoZWNrVGltZTogdGhpcy5sYXN0Q2hlY2tUaW1lXHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogSW5pY2lhciBlbCBwb2xsaW5nIGF1dG9tw6F0aWNvIGRlIGNvbmV4acOzblxyXG4gICAqL1xyXG4gIHN0YXJ0UG9sbGluZygpIHtcclxuICAgIGlmICh0aGlzLmludGVydmFsSWQpIHtcclxuICAgICAgcmV0dXJuOyAvLyBZYSBlc3TDoSBjb3JyaWVuZG9cclxuICAgIH1cclxuXHJcbiAgICAvLyBDb21wcm9iYXIgaW5tZWRpYXRhbWVudGVcclxuICAgIHRoaXMuY2hlY2tDb25uZWN0aW9uKCk7XHJcblxyXG4gICAgLy8gTHVlZ28gY29tcHJvYmFyIGNhZGEgWCBzZWd1bmRvc1xyXG4gICAgdGhpcy5pbnRlcnZhbElkID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xyXG4gICAgICB0aGlzLmNoZWNrQ29ubmVjdGlvbigpO1xyXG4gICAgfSwgdGhpcy5jaGVja0ludGVydmFsKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIERldGVuZXIgZWwgcG9sbGluZyBhdXRvbcOhdGljb1xyXG4gICAqL1xyXG4gIHN0b3BQb2xsaW5nKCkge1xyXG4gICAgaWYgKHRoaXMuaW50ZXJ2YWxJZCkge1xyXG4gICAgICBjbGVhckludGVydmFsKHRoaXMuaW50ZXJ2YWxJZCk7XHJcbiAgICAgIHRoaXMuaW50ZXJ2YWxJZCA9IG51bGw7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG4vLyBDcmVhciBpbnN0YW5jaWEgc2luZ2xldG9uXHJcbmV4cG9ydCBjb25zdCBjb25uZWN0aW9uTWFuYWdlciA9IG5ldyBDb25uZWN0aW9uTWFuYWdlcigpO1xyXG4iLCJleHBvcnQgY2xhc3MgQ2xpZW50RGF0YU1hbmFnZXIge1xyXG4gICAgXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLmlkID0gdW5kZWZpbmVkO1xyXG4gICAgICAgIHRoaXMubmFtZSA9IHVuZGVmaW5lZDtcclxuICAgICAgICB0aGlzLmRlYXRocyA9IDA7XHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgdXBkYXRlQ2xpZW50RGF0YSh1cGRhdGVzKSB7XHJcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgL2FwaS91c2Vycy8ke3RoaXMuaWR9YCwge1xyXG4gICAgICAgICAgICBtZXRob2Q6ICdQVVQnLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHVwZGF0ZXMpXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHJldHVybiBhd2FpdCByZXNwb25zZS5qc29uKCk7XHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgZ2V0Q2xpZW50RGVhdGhzKCkge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYC9hcGkvdXNlcnMvJHt0aGlzLmlkfWApO1xyXG4gICAgICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB0aHJvdyBuZXcgRXJyb3IoJ05ldHdvcmsgcmVzcG9uc2Ugd2FzIG5vdCBvaycpO1xyXG4gICAgICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xyXG4gICAgICAgICAgICByZXR1cm4gZGF0YS5kZWF0aHM7XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcignQ2xpZW50RGF0YU1hbmFnZXIgZXJyb3I6JywgZXJyb3IpO1xyXG4gICAgICAgICAgICB0aHJvdyBlcnJvcjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgdXBkYXRlQ2xpZW50RGVhdGhzKGRlYXRocykge1xyXG4gICAgICAgIHRoaXMuZGVhdGhzID0gZGVhdGhzO1xyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIHBvc3RMb2dpbigpIHtcclxuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAvYXBpL3VzZXJzYCwge1xyXG4gICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcclxuICAgICAgICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgICAgICAgICBpZDogdGhpcy5pZCxcclxuICAgICAgICAgICAgICAgIG5hbWU6IHRoaXMubmFtZSxcclxuICAgICAgICAgICAgICAgIGRlYXRoczogdGhpcy5kZWF0aHNcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9KTtcclxuICAgICAgICBpZiAocmVzcG9uc2Uub2spIHtcclxuICAgICAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcclxuICAgICAgICAgICAgdGhpcy5pZCA9IGRhdGEuaWQ7XHJcbiAgICAgICAgICAgIHRoaXMuZGVhdGhzID0gZGF0YS5kZWF0aHM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXM7XHJcbiAgICB9XHJcblxyXG59XHJcblxyXG4vL1NpbmdsZXRvblxyXG5leHBvcnQgbGV0IGNsaWVudERhdGFNYW5hZ2VyID0gbmV3IENsaWVudERhdGFNYW5hZ2VyKCk7IiwiaW1wb3J0IFBoYXNlciBmcm9tIFwicGhhc2VyXCI7XHJcbmltcG9ydCB7IGNvbm5lY3Rpb25NYW5hZ2VyIH0gZnJvbSBcIi4uL3NlcnZpY2VzL0Nvbm5lY3Rpb25NYW5hZ2VyLmpzXCI7XHJcbmltcG9ydCB7IGNsaWVudERhdGFNYW5hZ2VyIH0gZnJvbSBcIi4uL3NlcnZpY2VzL2NsaWVudERhdGFNYW5hZ2VyLmpzXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgTWVudVNjZW5lIGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCdNZW51U2NlbmUnKVxyXG4gICAgfVxyXG5cclxuXHJcbiAgICBwcmVsb2FkKCkge1xyXG4gICAgICAgIHRoaXMubG9hZC5hdWRpbygnbXVzaWMnLCAnYXNzZXRzL3NvdW5kL21lbnUtdGhlbWUubXAzJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdiYWNrZ3JvdW5kJywgJ2Fzc2V0cy9tZW51U2luTGV0cmFzLnBuZycpO1xyXG5cclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2lkMScsICdhc3NldHMvQm90b25UaXR1bG8ucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdpZDInLCAnYXNzZXRzL0JvdG9uTG9jYWxQbGF5LnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnaWQzJywgJ2Fzc2V0cy9Cb3RvbkNyZWRpdG9zLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnaWQ0JywgJ2Fzc2V0cy9Cb3Rvbk9wY2lvbmVzLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnaWQ1JywgJ2Fzc2V0cy9Cb3RvblNhbGlyLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnbWVudScsICdhc3NldHMvbGlicmV0YU5pdmVsZXNDb25Tb21icmEucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCduMScsICdhc3NldHMvQm90b25OaXZlbDEucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCduMicsICdhc3NldHMvQm90b25OaXZlbDIucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdyZXR1cm4nLCAnYXNzZXRzL0JvdG9uVm9sdmVyLnBuZycpO1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZSgpIHtcclxuICAgICAgICB0aGlzLmFkZC5pbWFnZSg0MDAsIDMwMCwgJ2JhY2tncm91bmQnKS5cclxuICAgICAgICAgICAgc2V0T3JpZ2luKDAuNSk7XHJcbiAgICAgICAgdGhpcy5hZGQuaW1hZ2UoODUsIDM0LCAnaWQxJykuXHJcbiAgICAgICAgICAgIHNldE9yaWdpbigwKTtcclxuXHJcbiAgICAgICAgdGhpcy5zdGFydEJ1dHRvbiA9IHRoaXMuYWRkLmltYWdlKDE5NiwgMjM4LCAnaWQyJykuXHJcbiAgICAgICAgICAgIHNldE9yaWdpbigwKS5cclxuICAgICAgICAgICAgc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pLlxyXG4gICAgICAgICAgICBvbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm9wZW5NaW5pTWVudSgpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5jcmVkaXRzQnV0dG9uID0gdGhpcy5hZGQuaW1hZ2UoMjQxLCAzMDcsICdpZDMnKS5cclxuICAgICAgICAgICAgc2V0T3JpZ2luKDApLlxyXG4gICAgICAgICAgICBzZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSkuXHJcbiAgICAgICAgICAgIG9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ0NyZWRpdHNTY2VuZScpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5vcHRpb25zQnV0dG9uID0gdGhpcy5hZGQuaW1hZ2UoMjQ1LCAzNzcsICdpZDQnKS5cclxuICAgICAgICAgICAgc2V0T3JpZ2luKDApLlxyXG4gICAgICAgICAgICBzZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSkuXHJcbiAgICAgICAgICAgIG9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUubGF1bmNoKCdPcHRpb25zU2NlbmUnLCB7IG9yaWdpbmFsU2NlbmU6ICdNZW51U2NlbmUnIH0pO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5leGl0QnV0dG9uID0gdGhpcy5hZGQuaW1hZ2UoMjc2LCA0NTEsICdpZDUnKS5cclxuICAgICAgICAgICAgc2V0T3JpZ2luKDApLlxyXG4gICAgICAgICAgICBzZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSkuXHJcbiAgICAgICAgICAgIG9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZ2FtZS5kZXN0cm95KHRydWUpO1xyXG4gICAgICAgICAgICAgICAgd2luZG93LmNsb3NlKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuXHJcblxyXG4gICAgICAgIHRoaXMuYnV0dG9ucyA9IFt0aGlzLnN0YXJ0QnV0dG9uLCB0aGlzLmNyZWRpdHNCdXR0b24sIHRoaXMub3B0aW9uc0J1dHRvbiwgdGhpcy5leGl0QnV0dG9uXTtcclxuICAgICAgICB0aGlzLm11c2ljID0gdGhpcy5zb3VuZC5hZGQoJ211c2ljJyk7XHJcbiAgICAgICAgdGhpcy5tdXNpYy5wbGF5KCk7XHJcbiAgICAgICAgdGhpcy5tdXNpYy5zZXRWb2x1bWUoMCk7XHJcblxyXG5cclxuICAgICAgICAvKmNvbnN0IGxvY2FsQnRuID0gdGhpcy5hZGQudGV4dCg2MDAsIDEwMCwgJ0p1ZWdvIExvY2FsJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzI0cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmZmZmZicsXHJcbiAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogJyMwMDAwMDBmZicsXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4gbG9jYWxCdG4uc2V0U3R5bGUoeyBiYWNrZ3JvdW5kQ29sb3I6ICcjNzM3MzczZmYnIH0pKVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiBsb2NhbEJ0bi5zZXRTdHlsZSh7IGJhY2tncm91bmRDb2xvcjogJyMwMDAwMDBmZicgfSkpXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdJbnRyb1NjZW5lJyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICBjb25zdCBjcmVkaXRzQnRuID0gdGhpcy5hZGQudGV4dCg2MDAsIDMwMCwgJ0Nyw6lkaXRvcycsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICcyNHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmZmYnLFxyXG4gICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjMDAwMDAwZmYnLFxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSlcclxuICAgICAgICAgICAgLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IGNyZWRpdHNCdG4uc2V0U3R5bGUoeyBiYWNrZ3JvdW5kQ29sb3I6ICcjNzM3MzczZmYnIH0pKVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiBjcmVkaXRzQnRuLnNldFN0eWxlKHsgYmFja2dyb3VuZENvbG9yOiAnIzAwMDAwMGZmJyB9KSlcclxuICAgICAgICAgICAgLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMubXVzaWMuc3RvcCgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5zdGFydCgnQ3JlZGl0c1NjZW5lJyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICBjb25zdCBvcHRpb25zQnRuID0gdGhpcy5hZGQudGV4dCg2MDAsIDIwMCwgJ09wY2lvbmVzJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzI0cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmZmZmZicsXHJcbiAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogJyMwMDAwMDBmZicsXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4gb3B0aW9uc0J0bi5zZXRTdHlsZSh7IGJhY2tncm91bmRDb2xvcjogJyM3MzczNzNmZicgfSkpXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcm91dCcsICgpID0+IG9wdGlvbnNCdG4uc2V0U3R5bGUoeyBiYWNrZ3JvdW5kQ29sb3I6ICcjMDAwMDAwZmYnIH0pKVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5sYXVuY2goJ09wdGlvbnNTY2VuZScsIHsgb3JpZ2luYWxTY2VuZTogXCJNZW51U2NlbmVcIiB9KTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGNvbnN0IGV4aXRCdG4gPSB0aGlzLmFkZC50ZXh0KDYwMCwgNDAwLCAnU2FsaXInLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMjRweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmZmZmZmZmJyxcclxuICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAnIzAwMDAwMGZmJyxcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcm92ZXInLCAoKSA9PiBleGl0QnRuLnNldFN0eWxlKHsgYmFja2dyb3VuZENvbG9yOiAnIzczNzM3M2ZmJyB9KSlcclxuICAgICAgICAgICAgLm9uKCdwb2ludGVyb3V0JywgKCkgPT4gZXhpdEJ0bi5zZXRTdHlsZSh7IGJhY2tncm91bmRDb2xvcjogJyMwMDAwMDBmZicgfSkpXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmdhbWUuZGVzdHJveSh0cnVlKTtcclxuICAgICAgICAgICAgICAgIHdpbmRvdy5jbG9zZSgpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAqL1xyXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vIEFQSSBSRVNUIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuICAgICAgICAvLyBJbmRpY2Fkb3IgZGUgY29uZXhpw7NuIGFsIHNlcnZpZG9yXHJcbiAgICAgICAgdGhpcy5jb25uZWN0aW9uVGV4dCA9IHRoaXMuYWRkLnRleHQoNDAwLCA1NTAsICdTZXJ2aWRvcjogQ29tcHJvYmFuZG8uLi4nLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMThweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmZmYwMCdcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgLy8gTGlzdGVuZXIgcGFyYSBjYW1iaW9zIGRlIGNvbmV4acOzblxyXG4gICAgICAgIHRoaXMuY29ubmVjdGlvbkxpc3RlbmVyID0gKGRhdGEpID0+IHtcclxuICAgICAgICAgICAgdGhpcy51cGRhdGVDb25uZWN0aW9uRGlzcGxheShkYXRhKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIGNvbm5lY3Rpb25NYW5hZ2VyLmFkZExpc3RlbmVyKHRoaXMuY29ubmVjdGlvbkxpc3RlbmVyKTtcclxuXHJcbiAgICAgICAgLy8gVGV4dG8gZGUgbXVlcnRlc1xyXG4gICAgICAgIC8vIHRoaXMuZGVhdGhzVGV4dCA9IHRoaXMuYWRkLnRleHQoNDAwLCA1MDAsICdNdWVydGVzOiBDYXJnYW5kby4uLiAnLCB7XHJcbiAgICAgICAgLy8gICAgIGZvbnRTaXplOiAnMThweCcsXHJcbiAgICAgICAgLy8gICAgIGNvbG9yOiAnI2ZmZmYwMCdcclxuICAgICAgICAvLyB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgLy8gY2xpZW50RGF0YU1hbmFnZXIuZ2V0Q2xpZW50RGVhdGhzKCkudGhlbihkZWF0aHMgPT4ge1xyXG4gICAgICAgIC8vICAgICBjb25zb2xlLmxvZygnUmVjZWl2ZWQgZGVhdGhzOicsIGRlYXRocyk7IFxyXG4gICAgICAgIC8vICAgICBpZiAoZGVhdGhzICE9PSBudWxsICYmIGRlYXRocyAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgLy8gICAgICAgICB0aGlzLmRlYXRoc1RleHQuc2V0VGV4dCgnTXVlcnRlczogJyArIGRlYXRocyk7XHJcbiAgICAgICAgLy8gICAgIH0gZWxzZSB7XHJcbiAgICAgICAgLy8gICAgICAgICB0aGlzLmRlYXRoc1RleHQuc2V0VGV4dCgnTXVlcnRlczogRXJyb3InKTtcclxuICAgICAgICAvLyAgICAgfVxyXG4gICAgICAgIC8vIH0pLmNhdGNoKGVycm9yID0+IHtcclxuICAgICAgICAvLyAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgZGVhdGhzOicsIGVycm9yKTtcclxuICAgICAgICAvLyAgICAgdGhpcy5kZWF0aHNUZXh0LnNldFRleHQoJ011ZXJ0ZXM6IEVycm9yJyk7XHJcbiAgICAgICAgLy8gfSk7XHJcblxyXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8gV2ViU29ja2V0IC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcbiAgICAgICAgdGhpcy5vbmxpbmVCdG4gPSB0aGlzLmFkZC50ZXh0KDUwMCwgMzAwLCAnSnVnYXIgT25saW5lJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzE4cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmMDAnXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4gdGhpcy5vbmxpbmVCdG4uc2V0U3R5bGUoeyBiYWNrZ3JvdW5kQ29sb3I6ICcjNzM3MzczZmYnIH0pKVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiB0aGlzLm9ubGluZUJ0bi5zZXRTdHlsZSh7IGJhY2tncm91bmRDb2xvcjogJyMwMDAwMDBmZicgfSkpXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdNYXRjaE1ha2luZ1NjZW5lJyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuLy8vLy8vLy8vL1dlYlNvY2tldC8vLy8vLy8vLy9cclxuICAgIH1cclxuXHJcblxyXG5cclxuICAgIG9wZW5NaW5pTWVudSgpIHtcclxuXHJcbiAgICAgICAgLy9EZXNhY3RpdmFyIHRvZG9zIGxvcyBib3RvbmVzIGRlIGFiYWpvIGRlbCBtZW7DulxyXG4gICAgICAgIHRoaXMuYnV0dG9ucy5mb3JFYWNoKGJ0biA9PiBidG4ucmVtb3ZlSW50ZXJhY3RpdmUoKSk7XHJcblxyXG4gICAgICAgIC8vIEZvbmRvIGRlbCBtZW7DulxyXG4gICAgICAgIGNvbnN0IGJnID0gdGhpcy5hZGQuaW1hZ2UoNDAwLCAzMDAsICdtZW51JylcclxuICAgICAgICAgICAgLnNldERlcHRoKDEwKTtcclxuXHJcbiAgICAgICAgLy8gQm90w7NuIE5pdmVsIDFcclxuICAgICAgICBjb25zdCBsdmwxID0gdGhpcy5hZGQuaW1hZ2UoMzUwLCAyMzAsICduMScpXHJcbiAgICAgICAgICAgIC5zZXREZXB0aCgxMSlcclxuICAgICAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jbG9zZU1pbmlNZW51KFtiZywgbHZsMSwgbHZsMiwgcmV0dXJuQnRuXSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdJbnRyb1NjZW5lJyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBCb3TDs24gTml2ZWwgMlxyXG4gICAgICAgIGNvbnN0IGx2bDIgPSB0aGlzLmFkZC5pbWFnZSgzNTAsIDMxMCwgJ24yJylcclxuICAgICAgICAgICAgLnNldERlcHRoKDExKVxyXG4gICAgICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNsb3NlTWluaU1lbnUoW2JnLCBsdmwxLCBsdmwyLCByZXR1cm5CdG5dKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ0VuZFNjZW5lJyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICBjb25zdCByZXR1cm5CdG4gPSB0aGlzLmFkZC5pbWFnZSgzMjAsIDQwMCwgJ3JldHVybicpXHJcbiAgICAgICAgICAgIC5zZXREZXB0aCgxMSlcclxuICAgICAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jbG9zZU1pbmlNZW51KFtiZywgbHZsMSwgbHZsMiwgcmV0dXJuQnRuXSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGNsb3NlTWluaU1lbnUoZWxlbWVudHMpIHtcclxuXHJcbiAgICAgICAgLy8gRWxpbWluYXIgbG9zIGVsZW1lbnRvcyBkZWwgbWluaW1lbnVcclxuICAgICAgICBlbGVtZW50cy5mb3JFYWNoKGUgPT4gZS5kZXN0cm95KCkpO1xyXG5cclxuICAgICAgICAvLyDinJTvuI8gUmVhY3RpdmFyIGxvcyBib3RvbmVzIGRlIGxhIGVzY2VuYVxyXG4gICAgICAgIHRoaXMuYnV0dG9ucy5mb3JFYWNoKGJ0biA9PiBidG4uc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pKTtcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGVDb25uZWN0aW9uRGlzcGxheShkYXRhKSB7XHJcbiAgICAgICAgLy8gU29sbyBhY3R1YWxpemFyIHNpIGVsIHRleHRvIGV4aXN0ZSAobGEgZXNjZW5hIGVzdMOhIGNyZWFkYSlcclxuICAgICAgICBpZiAoIXRoaXMuY29ubmVjdGlvblRleHQgfHwgIXRoaXMuc2NlbmUgfHwgIXRoaXMuc2NlbmUuaXNBY3RpdmUoJ01lbnVTY2VuZScpKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGlmIChkYXRhLmNvbm5lY3RlZCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jb25uZWN0aW9uVGV4dC5zZXRUZXh0KGBTZXJ2aWRvcjogJHtkYXRhLmNvdW50fSB1c3VhcmlvKHMpIGNvbmVjdGFkbyhzKWApO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jb25uZWN0aW9uVGV4dC5zZXRDb2xvcignIzAwZmYwMCcpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jb25uZWN0aW9uVGV4dC5zZXRUZXh0KCdTZXJ2aWRvcjogRGVzY29uZWN0YWRvJyk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbm5lY3Rpb25UZXh0LnNldENvbG9yKCcjZmYwMDAwJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdbTWVudVNjZW5lXSBFcnJvciB1cGRhdGluZyBjb25uZWN0aW9uIGRpc3BsYXk6JywgZXJyb3IpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzaHV0ZG93bigpIHtcclxuICAgICAgICAvLyBSZW1vdmVyIGVsIGxpc3RlbmVyXHJcbiAgICAgICAgaWYgKHRoaXMuY29ubmVjdGlvbkxpc3RlbmVyKSB7XHJcbiAgICAgICAgICAgIGNvbm5lY3Rpb25NYW5hZ2VyLnJlbW92ZUxpc3RlbmVyKHRoaXMuY29ubmVjdGlvbkxpc3RlbmVyKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG5cclxufSIsImV4cG9ydCBjbGFzcyBDb21tYW5kIHtcclxuICAgIGV4ZWN1dGUoKSB7XHJcbiAgICAgICAgLy8gSW1wbGVtZW50YXIgZW4gc3ViY2xhc2VzXHJcbiAgICAgICAgLy8gRWplY3V0YSBsYSBhY2Npw7NuIGVuIGVsIGp1ZWdvXHJcbiAgICB9XHJcbiAgICBcclxuICAgIHNlcmlhbGl6ZSgpIHtcclxuICAgICAgICAvLyBDb252ZXJ0aXIgYSBKU09OIHBhcmEgZW52aWFyIHBvciByZWRcclxuICAgICAgICByZXR1cm4ge307XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGdldEVudGl0eSgpIHtcclxuICAgICAgICAvLyBSZXRvcm5hIGxhIGVudGlkYWQgYXNvY2lhZGFcclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxufSIsImltcG9ydCB7IENvbW1hbmQgfSBmcm9tICcuL0NvbW1hbmQuanMnO1xyXG5cclxuZXhwb3J0IGNsYXNzIFBsYXllck1vdm1lbnRJbnB1dENvbW1hbmQgZXh0ZW5kcyBDb21tYW5kIHtcclxuICAgIGNvbnN0cnVjdG9yKHBsYXllciwgYWN0aW9uKSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgICAgICB0aGlzLnBsYXllciA9IHBsYXllcjtcclxuICAgICAgICB0aGlzLmFjdGlvbiA9IGFjdGlvbjsgLy8gJ2xlZnQnLCAncmlnaHQnLCAndXAnXHJcbiAgICB9XHJcblxyXG4gICAgZXhlY3V0ZSgpIHtcclxuXHJcbiAgICAgICAgY29uc3QgcGxheWVyID0gdGhpcy5wbGF5ZXI7XHJcblxyXG4gICAgICAgIC8vIFxyXG4gICAgICAgIGlmICh0aGlzLmFjdGlvbiA9PT0gJ3VwJykge1xyXG4gICAgICAgICAgICBwbGF5ZXIuanVtcCgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gXHJcbiAgICAgICAgaWYgKHRoaXMuYWN0aW9uID09PSAnbGVmdCcgfHwgdGhpcy5hY3Rpb24gPT09ICdyaWdodCcpIHtcclxuICAgICAgICAgICAgcGxheWVyLmhvcml6b250YWxNb3ZlKHRoaXMuYWN0aW9uKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gXHJcbiAgICAgICAgaWYgKHRoaXMuYWN0aW9uID09PSAnaWRsZScpIHtcclxuICAgICAgICAgICAgcGxheWVyLmlkbGUoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG5cclxuXHJcbiAgICBzZXJpYWxpemUoKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgdHlwZTogJ1BsYXllck1vdm1lbnRJbnB1dENvbW1hbmQnLFxyXG4gICAgICAgICAgICBwbGF5ZXJJZDogdGhpcy5wbGF5ZXIuaWQsXHJcbiAgICAgICAgICAgIGFjdGlvbjogdGhpcy5hY3Rpb24sXHJcbiAgICAgICAgICAgIHg6IHRoaXMucGxheWVyLnNwcml0ZS54LFxyXG4gICAgICAgICAgICB5OiB0aGlzLnBsYXllci5zcHJpdGUueVxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0RW50aXR5KCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnBsYXllcjtcclxuICAgIH1cclxufSIsImltcG9ydCB7IENvbW1hbmQgfSBmcm9tIFwiLi9Db21tYW5kLmpzXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgUGxheWVyQXR0YWNrQ29tbWFuZCBleHRlbmRzIENvbW1hbmQge1xyXG4gICAgY29uc3RydWN0b3IocGxheWVyKSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgICAgICB0aGlzLnBsYXllciA9IHBsYXllcjtcclxuICAgIH1cclxuXHJcbiAgICBleGVjdXRlKCkge1xyXG4gICAgICAgIHRoaXMucGxheWVyLmF0dGFjaygpO1xyXG4gICAgfVxyXG5cclxuICAgIHNlcmlhbGl6ZSgpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICB0eXBlOiAnUGxheWVyQXR0YWNrQ29tbWFuZCcsXHJcbiAgICAgICAgICAgIHBsYXllcklkOiB0aGlzLnBsYXllci5pZCxcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIGdldEVudGl0eSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5wbGF5ZXI7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBQbGF5ZXJBdHRhY2tDb21tYW5kIH0gZnJvbSAnLi9QbGF5ZXJBdHRhY2tDb21tYW5kLmpzJztcclxuaW1wb3J0IHsgUGxheWVyTW92bWVudElucHV0Q29tbWFuZCB9IGZyb20gJy4vUGxheWVyTW92bWVudElucHV0Q29tbWFuZC5qcyc7XHJcbmV4cG9ydCBjbGFzcyBDb21tYW5kUHJvY2Vzc29yIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMucGxheWVycyA9IG5ldyBNYXAoKTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgcHJvY2Vzcyhjb21tYW5kKSB7XHJcbiAgICAgICAgY29tbWFuZC5leGVjdXRlKCk7IC8vIFJlc3B1ZXN0YSBpbm1lZGlhdGFcclxuICAgIH1cclxuXHJcbiAgICByZWNlaXZlQ29tbWFuZChkYXRhKSB7XHJcbiAgICAgICAgY29uc3QgcGxheWVyID0gdGhpcy5wbGF5ZXJzLmdldChkYXRhLnBsYXllcklkKTtcclxuXHJcbiAgICAgICAgY29uc3QgY29tbWFuZCA9IHRoaXMuZGVzZXJpYWxpemUoZGF0YSk7XHJcbiAgICAgICAgaWYgKGNvbW1hbmQpIHtcclxuICAgICAgICAgICAgY29tbWFuZC5leGVjdXRlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLy8vIEltcGxlbWVudGFyIGRlc2VyaWFsaXphY2lvbiBkZSBjb21hbmRvcyBjb24gbGFzIGRpZmVyZW50ZXMgYWNjaW9uZXMgZGUgbG9zIGlucHV0c1xyXG4gICAgZGVzZXJpYWxpemUoZGF0YSkge1xyXG4gICAgICAgIC8vIE9idGVuZXIgbGEgaW5zdGFuY2lhIHJlYWwgZGVsIGp1Z2Fkb3IgdXNhbmRvIGVsIElEXHJcbiAgICAgICAgY29uc3QgcGxheWVyID0gdGhpcy5wbGF5ZXJzLmdldChkYXRhLnBsYXllcklkKTtcclxuICAgICAgICBzd2l0Y2ggKGRhdGEudHlwZSkge1xyXG4gICAgICAgICAgICBjYXNlICdQbGF5ZXJNb3ZtZW50SW5wdXRDb21tYW5kJzpcclxuICAgICAgICAgICAgICAgIGlmICghcGxheWVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKGBQbGF5ZXIgbm90IGZvdW5kIGZvciBJRDogJHtkYXRhLnBsYXllcklkfWApO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gU3luYyBhYnNvbHV0ZSBwb3NpdGlvbiB0byBmaXggZHJpZnRcclxuICAgICAgICAgICAgICAgIGlmIChkYXRhLnggIT09IHVuZGVmaW5lZCAmJiBkYXRhLnkgIT09IHVuZGVmaW5lZCAmJiBwbGF5ZXIuc3ByaXRlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKE1hdGguYWJzKHBsYXllci5zcHJpdGUueCAtIGRhdGEueCkgPiA1IHx8IE1hdGguYWJzKHBsYXllci5zcHJpdGUueSAtIGRhdGEueSkgPiA1KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBsYXllci5zcHJpdGUuc2V0UG9zaXRpb24oZGF0YS54LCBkYXRhLnkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUGxheWVyTW92bWVudElucHV0Q29tbWFuZChwbGF5ZXIsIGRhdGEuYWN0aW9uKTtcclxuICAgICAgICAgICAgY2FzZSAnUGxheWVyQXR0YWNrQ29tbWFuZCc6XHJcbiAgICAgICAgICAgICAgICBpZiAoIXBsYXllcikge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihgUGxheWVyIG5vdCBmb3VuZCBmb3IgSUQ6ICR7ZGF0YS5wbGF5ZXJJZH1gKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUGxheWVyQXR0YWNrQ29tbWFuZChwbGF5ZXIpO1xyXG4gICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdDb21hbmRvIGRlc2Nvbm9jaWRvOicsIGRhdGEudHlwZSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBDb21tYW5kIH0gZnJvbSAnLi4vY29tbWFuZC1wYXR0ZXJuL0NvbW1hbmQnO1xyXG5pbXBvcnQgeyBQbGF5ZXJNb3ZtZW50SW5wdXRDb21tYW5kIH0gZnJvbSAnLi4vY29tbWFuZC1wYXR0ZXJuL1BsYXllck1vdm1lbnRJbnB1dENvbW1hbmQnO1xyXG5pbXBvcnQgeyBDb21tYW5kUHJvY2Vzc29yIH0gZnJvbSAnLi4vY29tbWFuZC1wYXR0ZXJuL0NvbW1hbmRQcm9jZXNzb3InO1xyXG5pbXBvcnQgUGhhc2VyIGZyb20gJ3BoYXNlcic7XHJcbmltcG9ydCB7IFBsYXllckF0dGFja0NvbW1hbmQgfSBmcm9tICcuLi9jb21tYW5kLXBhdHRlcm4vUGxheWVyQXR0YWNrQ29tbWFuZCc7XHJcblxyXG5leHBvcnQgY2xhc3MgSW5wdXRNYW5hZ2VyIHtcclxuICAgIC8vIENsYXNlIHF1ZSBtYW5lamEgbG9zIGlucHV0cyBkZWwganVnYWRvciB5IGxvcyBlbnZpYSBhbCBjb21tYW5kIHByb2Nlc3NvciBcclxuICAgIGNvbnN0cnVjdG9yKHNjZW5lLCBzY2VuZU1hbmFnZXIsIGlucHV0LCBjb21tYW5kUHJvY2Vzc29yLCBwbGF5ZXJSb2xlID0gbnVsbCwgd3MgPSBudWxsKSB7XHJcbiAgICAgICAgdGhpcy5jb21tYW5kUHJvY2Vzc29yID0gbmV3IENvbW1hbmRQcm9jZXNzb3IoKTtcclxuICAgICAgICB0aGlzLnNjZW5lID0gc2NlbmU7XHJcbiAgICAgICAgdGhpcy5zY2VuZU1hbmFnZXIgPSBzY2VuZU1hbmFnZXI7XHJcbiAgICAgICAgdGhpcy5pbnB1dCA9IGlucHV0O1xyXG4gICAgICAgIHRoaXMuY29tbWFuZFByb2Nlc3NvciA9IGNvbW1hbmRQcm9jZXNzb3I7XHJcbiAgICAgICAgdGhpcy5wbGF5ZXJzID0gbmV3IE1hcCgpO1xyXG4gICAgICAgIHRoaXMuaW5wdXRzTWFwcGluZyA9IFtdO1xyXG4gICAgICAgIHRoaXMuaXNQYXVzZWQgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgLy8vLy8vLy8vLy8gSU5QVVQgTUFOQUdFUiBDT04gV0VCU09DS0VUIC8vLy8vLy8vLy8vXHJcbiAgICAgICAgdGhpcy5wbGF5ZXJSb2xlID0gcGxheWVyUm9sZTtcclxuICAgICAgICB0aGlzLndzID0gd3M7XHJcbiAgICAgICAgdGhpcy5zZXRVcElucHV0cygpO1xyXG4gICAgfVxyXG5cclxuICAgIHNldFVwSW5wdXRzKCkge1xyXG4gICAgICAgIHRoaXMucGxheWVycyA9IHRoaXMuc2NlbmUucGxheWVycztcclxuICAgICAgICBpZiAoIXRoaXMucGxheWVyUm9sZSkge1xyXG4gICAgICAgICAgICB0aGlzLnNldFVwTG9jYWxJbnB1dHMoKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLnNldFVwUmVtb3RlSW5wdXRzKHRoaXMucGxheWVyUm9sZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHNldFdlYlNvY2tldCh3cykge1xyXG4gICAgICAgIHRoaXMud3MgPSB3cztcclxuICAgIH1cclxuXHJcbiAgICBzZXRQbGF5ZXJSb2xlKHJvbGUpIHtcclxuICAgICAgICB0aGlzLnBsYXllclJvbGUgPSByb2xlO1xyXG4gICAgfVxyXG5cclxuICAgIHNldFVwTG9jYWxJbnB1dHMoKSB7XHJcblxyXG4gICAgICAgIHRoaXMuaW5wdXQua2V5Ym9hcmQub24oJ2tleWRvd24tRVNDJywgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnBhdXNlKCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGNvbnN0IElucHV0Q29uZmlnID0gW1xyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBwbGF5ZXJJZDogJ3BsYXllcjEnLFxyXG4gICAgICAgICAgICAgICAgbGVmdEtleTogJ0EnLFxyXG4gICAgICAgICAgICAgICAgcmlnaHRLZXk6ICdEJyxcclxuICAgICAgICAgICAgICAgIHVwS2V5OiAnVycsXHJcbiAgICAgICAgICAgICAgICBkb3duS2V5OiAnUycsXHJcbiAgICAgICAgICAgICAgICBhdHRhY2tLZXk6ICdGJ1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBwbGF5ZXJJZDogJ3BsYXllcjInLFxyXG4gICAgICAgICAgICAgICAgbGVmdEtleTogJ0xFRlQnLFxyXG4gICAgICAgICAgICAgICAgcmlnaHRLZXk6ICdSSUdIVCcsXHJcbiAgICAgICAgICAgICAgICB1cEtleTogJ1VQJyxcclxuICAgICAgICAgICAgICAgIGRvd25LZXk6ICdET1dOJyxcclxuICAgICAgICAgICAgICAgIGF0dGFja0tleTogJ0VOVEVSJ1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgXTtcclxuXHJcbiAgICAgICAgdGhpcy5pbnB1dHNNYXBwaW5nID0gSW5wdXRDb25maWc7XHJcbiAgICAgICAgdGhpcy5pbnB1dHNNYXBwaW5nID0gdGhpcy5pbnB1dHNNYXBwaW5nLm1hcChjb25maWcgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgcGxheWVySWQ6IGNvbmZpZy5wbGF5ZXJJZCxcclxuICAgICAgICAgICAgICAgIGxlZnRLZXlPYmo6IHRoaXMuaW5wdXQua2V5Ym9hcmQuYWRkS2V5KFBoYXNlci5JbnB1dC5LZXlib2FyZC5LZXlDb2Rlc1tjb25maWcubGVmdEtleV0pLFxyXG4gICAgICAgICAgICAgICAgcmlnaHRLZXlPYmo6IHRoaXMuaW5wdXQua2V5Ym9hcmQuYWRkS2V5KFBoYXNlci5JbnB1dC5LZXlib2FyZC5LZXlDb2Rlc1tjb25maWcucmlnaHRLZXldKSxcclxuICAgICAgICAgICAgICAgIHVwS2V5T2JqOiB0aGlzLmlucHV0LmtleWJvYXJkLmFkZEtleShQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuS2V5Q29kZXNbY29uZmlnLnVwS2V5XSksXHJcbiAgICAgICAgICAgICAgICBkb3duS2V5T2JqOiB0aGlzLmlucHV0LmtleWJvYXJkLmFkZEtleShQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuS2V5Q29kZXNbY29uZmlnLmRvd25LZXldKSxcclxuICAgICAgICAgICAgICAgIGF0dGFja0tleU9iajogdGhpcy5pbnB1dC5rZXlib2FyZC5hZGRLZXkoUGhhc2VyLklucHV0LktleWJvYXJkLktleUNvZGVzW2NvbmZpZy5hdHRhY2tLZXldKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0VXBSZW1vdGVJbnB1dHMocGxheWVyUm9sZSkge1xyXG5cclxuICAgICAgICB0aGlzLmlucHV0LmtleWJvYXJkLm9uKCdrZXlkb3duLUVTQycsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5wYXVzZSgpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuXHJcbiAgICAgICAgY29uc3QgSW5wdXRDb25maWcgPSBbXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHBsYXllcklkOiBwbGF5ZXJSb2xlLFxyXG4gICAgICAgICAgICAgICAgbGVmdEtleTogJ0EnLFxyXG4gICAgICAgICAgICAgICAgcmlnaHRLZXk6ICdEJyxcclxuICAgICAgICAgICAgICAgIHVwS2V5OiAnVycsXHJcbiAgICAgICAgICAgICAgICBkb3duS2V5OiAnUycsXHJcbiAgICAgICAgICAgICAgICBhdHRhY2tLZXk6ICdGJ1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgXTtcclxuXHJcbiAgICAgICAgdGhpcy5pbnB1dHNNYXBwaW5nID0gSW5wdXRDb25maWc7XHJcbiAgICAgICAgdGhpcy5pbnB1dHNNYXBwaW5nID0gdGhpcy5pbnB1dHNNYXBwaW5nLm1hcChjb25maWcgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgcGxheWVySWQ6IGNvbmZpZy5wbGF5ZXJJZCxcclxuICAgICAgICAgICAgICAgIGxlZnRLZXlPYmo6IHRoaXMuaW5wdXQua2V5Ym9hcmQuYWRkS2V5KFBoYXNlci5JbnB1dC5LZXlib2FyZC5LZXlDb2Rlc1tjb25maWcubGVmdEtleV0pLFxyXG4gICAgICAgICAgICAgICAgcmlnaHRLZXlPYmo6IHRoaXMuaW5wdXQua2V5Ym9hcmQuYWRkS2V5KFBoYXNlci5JbnB1dC5LZXlib2FyZC5LZXlDb2Rlc1tjb25maWcucmlnaHRLZXldKSxcclxuICAgICAgICAgICAgICAgIHVwS2V5T2JqOiB0aGlzLmlucHV0LmtleWJvYXJkLmFkZEtleShQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuS2V5Q29kZXNbY29uZmlnLnVwS2V5XSksXHJcbiAgICAgICAgICAgICAgICBkb3duS2V5T2JqOiB0aGlzLmlucHV0LmtleWJvYXJkLmFkZEtleShQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuS2V5Q29kZXNbY29uZmlnLmRvd25LZXldKSxcclxuICAgICAgICAgICAgICAgIGF0dGFja0tleU9iajogdGhpcy5pbnB1dC5rZXlib2FyZC5hZGRLZXkoUGhhc2VyLklucHV0LktleWJvYXJkLktleUNvZGVzW2NvbmZpZy5hdHRhY2tLZXldKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcGF1c2UoKSB7XHJcbiAgICAgICAgdGhpcy5zY2VuZU1hbmFnZXIubGF1bmNoKCdQYXVzZVNjZW5lJywgeyBvcmlnaW5hbFNjZW5lOiAnR2FtZVNjZW5lJyB9KTtcclxuICAgICAgICB0aGlzLnNjZW5lTWFuYWdlci5wYXVzZSgnR2FtZVNjZW5lJyk7XHJcbiAgICAgICAgdGhpcy5pc1BhdXNlZCA9IHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlKCkge1xyXG5cclxuICAgICAgICB0aGlzLmlucHV0c01hcHBpbmcuZm9yRWFjaChtYXBwaW5nID0+IHtcclxuICAgICAgICAgICAgbGV0IHBsYXllciA9IHRoaXMucGxheWVycy5nZXQodGhpcy5wbGF5ZXJSb2xlKTtcclxuICAgICAgICAgICAgcGxheWVyLmlkID0gdGhpcy5wbGF5ZXJSb2xlO1xyXG5cclxuICAgICAgICAgICAgbGV0IGxvY2FsQ29tbWFuZCA9IG5ldyBDb21tYW5kKCk7XHJcblxyXG4gICAgICAgICAgICAvLyBTQUxUT1xyXG4gICAgICAgICAgICBpZiAobWFwcGluZy51cEtleU9iai5pc0Rvd24pIHtcclxuICAgICAgICAgICAgICAgIGxvY2FsQ29tbWFuZCA9IG5ldyBQbGF5ZXJNb3ZtZW50SW5wdXRDb21tYW5kKHBsYXllciwgJ3VwJyk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIE1PVklNSUVOVE9cclxuICAgICAgICAgICAgZWxzZSBpZiAobWFwcGluZy5sZWZ0S2V5T2JqLmlzRG93bikge1xyXG4gICAgICAgICAgICAgICAgbG9jYWxDb21tYW5kID0gbmV3IFBsYXllck1vdm1lbnRJbnB1dENvbW1hbmQocGxheWVyLCAnbGVmdCcpO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKG1hcHBpbmcucmlnaHRLZXlPYmouaXNEb3duKSB7XHJcbiAgICAgICAgICAgICAgICBsb2NhbENvbW1hbmQgPSBuZXcgUGxheWVyTW92bWVudElucHV0Q29tbWFuZChwbGF5ZXIsICdyaWdodCcpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgbG9jYWxDb21tYW5kID0gbmV3IFBsYXllck1vdm1lbnRJbnB1dENvbW1hbmQocGxheWVyLCAnaWRsZScpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLmNvbW1hbmRQcm9jZXNzb3IucHJvY2Vzcyhsb2NhbENvbW1hbmQpO1xyXG4gICAgICAgICAgICB0aGlzLnNlbmRNZXNzYWdlKGxvY2FsQ29tbWFuZC5zZXJpYWxpemUoKSk7XHJcblxyXG4gICAgICAgICAgICBpZiAobWFwcGluZy5hdHRhY2tLZXlPYmouaXNEb3duKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgYXR0YWNrQ29tbWFuZCA9IG5ldyBQbGF5ZXJBdHRhY2tDb21tYW5kKHBsYXllcik7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbW1hbmRQcm9jZXNzb3IucHJvY2VzcyhhdHRhY2tDb21tYW5kKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2VuZE1lc3NhZ2UoYXR0YWNrQ29tbWFuZC5zZXJpYWxpemUoKSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHNlbmRNZXNzYWdlKG1lc3NhZ2UpIHtcclxuICAgICAgICBpZiAodGhpcy53cyAmJiB0aGlzLndzLnJlYWR5U3RhdGUgPT09IFdlYlNvY2tldC5PUEVOKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdTZW5kaW5nIG1lc3NhZ2U6JywgbWVzc2FnZSk7XHJcbiAgICAgICAgICAgIHRoaXMud3Muc2VuZChKU09OLnN0cmluZ2lmeShtZXNzYWdlKSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgY29uc29sZS53YXJuKCdXZWJTb2NrZXQgaXMgbm90IG9wZW4uIE1lc3NhZ2Ugbm90IHNlbnQ6JywgbWVzc2FnZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZVJlbW90ZVBsYXllclBvc2l0aW9uKGRhdGEpIHtcclxuICAgICAgICBpZiAoZGF0YS50eXBlID09PSAnUGxheWVyTW92bWVudElucHV0Q29tbWFuZCcpIHtcclxuICAgICAgICAgICAgLy9jb25zb2xlLmxvZygnTXVsdGlwbGF5ZXJTY2VuZSByZWNlaXZlZCBpbiBpbnB1dCBtYW5hZ2VyIG1zZzonLCBkYXRhKTtcclxuICAgICAgICAgICAgdGhpcy5jb21tYW5kUHJvY2Vzc29yLnJlY2VpdmVDb21tYW5kKGRhdGEpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGVSZW1vdGVQbGF5ZXJBdHRhY2soZGF0YSkge1xyXG4gICAgICAgIGlmIChkYXRhLnR5cGUgPT09ICdQbGF5ZXJBdHRhY2tDb21tYW5kJykge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnTXVsdGlwbGF5ZXJTY2VuZSByZWNlaXZlZCBpbiBpbnB1dCBtYW5hZ2VyIG1zZzonLCBkYXRhKTtcclxuICAgICAgICAgICAgdGhpcy5jb21tYW5kUHJvY2Vzc29yLnJlY2VpdmVDb21tYW5kKGRhdGEpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbn0iLCJleHBvcnQgY2xhc3MgQW5pbWF0b3Ige1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHNjZW5lLCBhbmltYXRpb25TcHJpdGVzaGVldCkge1xyXG4gICAgICAgIHRoaXMuc2NlbmUgPSBzY2VuZTtcclxuICAgICAgICB0aGlzLmFuaW1hdGlvblNwcml0ZXNoZWV0ID0gYW5pbWF0aW9uU3ByaXRlc2hlZXQ7XHJcbiAgICB9XHJcblxyXG4vLyBNdXkgaW1wb3J0YW50ZSBsbGFtYXIgYSBlc3RhIGZ1bmNpw7NuIGVuIGVsIHByZWxvYWQgZGUgbGEgZXNjZW5hXHJcbiAgICBwcmVsb2FkKGZyYW1lV2lkdGgsIGZyYW1lSGVpZ2h0KSB7XHJcbiAgICAgICAgdGhpcy5zY2VuZS5sb2FkLnNwcml0ZXNoZWV0KHRoaXMuYW5pbWF0aW9uU3ByaXRlc2hlZXQsIFxyXG4gICAgICAgICAgICBgYXNzZXRzL3Nwcml0ZXMvJHt0aGlzLmFuaW1hdGlvblNwcml0ZXNoZWV0fS5wbmdgLCBcclxuICAgICAgICAgICAgeyBmcmFtZVdpZHRoOiBmcmFtZVdpZHRoLCBmcmFtZUhlaWdodDogZnJhbWVIZWlnaHQgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlQW5pbWF0aW9uKGtleSwgc3RhcnRGcmFtZSwgZW5kRnJhbWUsIGZyYW1lUmF0ZSwgcmVwZWF0ID0gLTEpIHtcclxuICAgICAgICB0aGlzLnNjZW5lLmFuaW1zLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgIGtleToga2V5LFxyXG4gICAgICAgICAgICBmcmFtZXM6IHRoaXMuc2NlbmUuYW5pbXMuZ2VuZXJhdGVGcmFtZU51bWJlcnModGhpcy5hbmltYXRpb25TcHJpdGVzaGVldCwgeyBzdGFydDogc3RhcnRGcmFtZSwgZW5kOiBlbmRGcmFtZSB9KSxcclxuICAgICAgICAgICAgZnJhbWVSYXRlOiBmcmFtZVJhdGUsICAvLyBQb25lciBtYXMgbyBtZW5vcyAxNiBvIGFzw61cclxuICAgICAgICAgICAgcmVwZWF0OiByZXBlYXRcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBhc3NpZ25TcHJpdGVUb1BsYXllcih4LCB5KSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc2NlbmUucGh5c2ljcy5hZGQuc3ByaXRlKHgsIHksIHRoaXMuYW5pbWF0aW9uU3ByaXRlc2hlZXQpO1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZVNwcml0ZSh4LCB5KSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc2NlbmUuYWRkLnNwcml0ZSh4LCB5LCB0aGlzLmFuaW1hdGlvblNwcml0ZXNoZWV0KTtcclxuICAgIH1cclxuICAgIFxyXG59IiwiaW1wb3J0IHsgQW5pbWF0b3IgfSBmcm9tIFwiLi4vQ29tcG9uZW50cy9BbmltYXRvclwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEVuZW15IHtcclxuICAgIGNvbnN0cnVjdG9yKHNjZW5lLCBpZCwgeCwgeSwgcGxheWVycykge1xyXG4gICAgICAgIHRoaXMuc2NlbmUgPSBzY2VuZTtcclxuICAgICAgICB0aGlzLnggPSB4O1xyXG4gICAgICAgIHRoaXMueSA9IHk7XHJcbiAgICAgICAgdGhpcy5wbGF5ZXJzID0gcGxheWVycztcclxuICAgICAgICB0aGlzLmlkID0gaWQ7XHJcbiAgICAgICAgdGhpcy5iYXNlSGVpZ2h0ID0gMC4xNztcclxuICAgICAgICB0aGlzLmJhc2VXaWR0aCA9IDAuMTc7XHJcbiAgICAgICAgdGhpcy5iYXNlU3BlZWQgPSAxMDA7XHJcbiAgICAgICAgdGhpcy5pc0RlYWQgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgdGhpcy53ZWFrZW5lZCA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuY2hhc2luZ1BsYXllcklkID0gbnVsbDtcclxuXHJcbiAgICAgICAgdGhpcy5hbmltYXRvciA9IG5ldyBBbmltYXRvcih0aGlzLnNjZW5lLCAnc3ByaXRlc2hlZXQtZW5lbWlnbycpO1xyXG4gICAgfVxyXG5cclxuICAgIHByZWxvYWQoKSB7XHJcbiAgICAgICAgdGhpcy5hbmltYXRvci5wcmVsb2FkKDYwMCwgODAwKTtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGUoKSB7XHJcblxyXG4gICAgICAgIHRoaXMuc3ByaXRlID0gdGhpcy5hbmltYXRvci5hc3NpZ25TcHJpdGVUb1BsYXllcih0aGlzLngsIHRoaXMueSk7XHJcbiAgICAgICAgdGhpcy5hbmltYXRvci5jcmVhdGVBbmltYXRpb24oYGlkbGUtYmxhY2stJHt0aGlzLmlkfWAsIDAsIDIsIDUpO1xyXG4gICAgICAgIHRoaXMuYW5pbWF0b3IuY3JlYXRlQW5pbWF0aW9uKGBpZGxlLXdoaXRlLSR7dGhpcy5pZH1gLCAzLCA1LCA1KTtcclxuICAgICAgICB0aGlzLmFuaW1hdG9yLmNyZWF0ZUFuaW1hdGlvbihgYmxhY2stdG8td2hpdGUtJHt0aGlzLmlkfWAsIDYsIDgsIDgsIDApO1xyXG4gICAgICAgIHRoaXMuYW5pbWF0b3IuY3JlYXRlQW5pbWF0aW9uKGB3aGl0ZS10by1ibGFjay0ke3RoaXMuaWR9YCwgNiwgOCwgOCwgMCk7XHJcbiAgICAgICAgdGhpcy5hbmltYXRvci5jcmVhdGVBbmltYXRpb24oYGRpZS0ke3RoaXMuaWR9YCwgOSwgMTEsIDgsIDApO1xyXG5cclxuICAgICAgICB0aGlzLnNwcml0ZS5vbihcImFuaW1hdGlvbmNvbXBsZXRlXCIsIChhbmltKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChhbmltLmtleSA9PT0gYGRpZS0ke3RoaXMuaWR9YCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zcHJpdGUuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuc3ByaXRlLnNldENvbGxpZGVXb3JsZEJvdW5kcyh0cnVlKTtcclxuICAgICAgICB0aGlzLnNwcml0ZS5ib2R5LmFsbG93R3Jhdml0eSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuc3ByaXRlLmJvZHkuc2V0R3Jhdml0eVkoNTAwKTtcclxuICAgICAgICB0aGlzLnNwcml0ZS5zZXREZXB0aCgxMCk7XHJcbiAgICAgICAgdGhpcy5zcHJpdGUuc2V0U2NhbGUodGhpcy5iYXNlV2lkdGgsIHRoaXMuYmFzZUhlaWdodCk7XHJcbiAgICAgICAgdGhpcy5zcHJpdGUuYm9keS5zZXRTaXplKHRoaXMuc3ByaXRlLndpZHRoIC0gMzAwLCB0aGlzLnNwcml0ZS5oZWlnaHQgLSAyNzApO1xyXG5cclxuICAgICAgICB0aGlzLnNwcml0ZS5hbmltcy5wbGF5KGBpZGxlLWJsYWNrLSR7dGhpcy5pZH1gKTtcclxuICAgIH1cclxuICAgIGVuZW15TW92ZW1lbnQoKSB7XHJcbiAgICAgICAgdGhpcy5waWNrUGxheWVyKCk7XHJcblxyXG4gICAgICAgIC8vIE9idGVuZW1vcyBsYSBkaXJlY2Npw7NuIGhhY2lhIGVsIGp1Z2Fkb3JcclxuICAgICAgICBjb25zdCBkeCA9IHRoaXMucGxheWVycy5nZXQodGhpcy5jaGFzaW5nUGxheWVySWQpLnNwcml0ZS54IC0gdGhpcy5zcHJpdGUueDtcclxuICAgICAgICBjb25zdCBkeSA9IHRoaXMucGxheWVycy5nZXQodGhpcy5jaGFzaW5nUGxheWVySWQpLnNwcml0ZS55IC0gdGhpcy5zcHJpdGUueTtcclxuICAgICAgICBjb25zdCBkaXN0YW5jZSA9IE1hdGguc3FydChkeCAqIGR4ICsgZHkgKiBkeSk7XHJcblxyXG4gICAgICAgIC8vIG1vdmUgdG93YXJkcyB0aGUgcGxheWVyXHJcbiAgICAgICAgdGhpcy5zcHJpdGUuZmxpcFggPSB0aGlzLnBsYXllcnMuZ2V0KHRoaXMuY2hhc2luZ1BsYXllcklkKS5zcHJpdGUueCA8IHRoaXMuc3ByaXRlLng7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLndlYWtlbmVkIHx8IE1hdGguYWJzKHRoaXMucGxheWVycy5nZXQodGhpcy5jaGFzaW5nUGxheWVySWQpLnNwcml0ZS54IC0gdGhpcy5zcHJpdGUueCkgPiA1MDAgfHwgTWF0aC5hYnModGhpcy5wbGF5ZXJzLmdldCh0aGlzLmNoYXNpbmdQbGF5ZXJJZCkuc3ByaXRlLnkgLSB0aGlzLnNwcml0ZS55KSA+IDUwMCkgeyAvLyBDaGVjayBpZiB0aGUgcGxheWVyIGlzIHRvbyBmYXIgYXdheVxyXG4gICAgICAgICAgICB0aGlzLmJhc2VTcGVlZCA9IDA7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5iYXNlU3BlZWQgPSAxMDA7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBDYWxjdWxhbW9zIGVsIHZlY3RvciBub3JtYWxpemFkbyB5IGFwbGljYW1vcyB2ZWxvY2lkYWRcclxuICAgICAgICBpZiAoZGlzdGFuY2UgPiAyNSAmJiB0aGlzLmJhc2VTcGVlZCA+IDApIHtcclxuICAgICAgICAgICAgdGhpcy5tb3ZlbWVudFZlY3RvciA9IHtcclxuICAgICAgICAgICAgICAgIHg6IGR4IC8gZGlzdGFuY2UsXHJcbiAgICAgICAgICAgICAgICB5OiBkeSAvIGRpc3RhbmNlXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIHRoaXMuc3ByaXRlLnNldFZlbG9jaXR5WCh0aGlzLm1vdmVtZW50VmVjdG9yLnggKiB0aGlzLmJhc2VTcGVlZCk7XHJcbiAgICAgICAgICAgIHRoaXMuc3ByaXRlLnNldFZlbG9jaXR5WSh0aGlzLm1vdmVtZW50VmVjdG9yLnkgKiB0aGlzLmJhc2VTcGVlZCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5tb3ZlbWVudFZlY3RvciA9IHsgeDogMCwgeTogMCB9O1xyXG4gICAgICAgICAgICB0aGlzLnNwcml0ZS5zZXRWZWxvY2l0eSgwKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHJlY2VpdmVFbmVteU1vdm1lbnQobW92ZW1lbnRWZWN0b3IsIHBsYXllcklkLCB4LCB5KSB7XHJcbiAgICAgICAgY29uc3QgdGFyZ2V0UGxheWVyID0gdGhpcy5wbGF5ZXJzLmdldChwbGF5ZXJJZCk7XHJcbiAgICAgICAgaWYgKCF0YXJnZXRQbGF5ZXIgfHwgIXRhcmdldFBsYXllci5zcHJpdGUpIHJldHVybjtcclxuXHJcbiAgICAgICAgdGhpcy5zcHJpdGUuZmxpcFggPSB0YXJnZXRQbGF5ZXIuc3ByaXRlLnggPCB0aGlzLnNwcml0ZS54O1xyXG5cclxuICAgICAgICBpZiAodGhpcy53ZWFrZW5lZCB8fCBNYXRoLmFicyh0YXJnZXRQbGF5ZXIuc3ByaXRlLnggLSB0aGlzLnNwcml0ZS54KSA+IDUwMCB8fCBNYXRoLmFicyh0YXJnZXRQbGF5ZXIuc3ByaXRlLnkgLSB0aGlzLnNwcml0ZS55KSA+IDUwMCkgeyAvLyBDaGVjayBpZiB0aGUgcGxheWVyIGlzIHRvbyBmYXIgYXdheVxyXG4gICAgICAgICAgICB0aGlzLmJhc2VTcGVlZCA9IDA7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5iYXNlU3BlZWQgPSAxMDA7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBTeW5jIGxvY2FsIHBvc2l0aW9uIHdpdGggaG9zdCBwb3NpdGlvbiB0byBmaXggZHJpZnRcclxuICAgICAgICBpZiAoeCAhPT0gdW5kZWZpbmVkICYmIHkgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICBpZiAoTWF0aC5hYnModGhpcy5zcHJpdGUueCAtIHgpID4gMTAgfHwgTWF0aC5hYnModGhpcy5zcHJpdGUueSAtIHkpID4gMTApIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc3ByaXRlLnNldFBvc2l0aW9uKHgsIHkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLm1vdmVtZW50VmVjdG9yID0gbW92ZW1lbnRWZWN0b3I7XHJcbiAgICAgICAgdGhpcy5zcHJpdGUuc2V0VmVsb2NpdHlYKHRoaXMubW92ZW1lbnRWZWN0b3IueCAqIHRoaXMuYmFzZVNwZWVkKTtcclxuICAgICAgICB0aGlzLnNwcml0ZS5zZXRWZWxvY2l0eVkodGhpcy5tb3ZlbWVudFZlY3Rvci55ICogdGhpcy5iYXNlU3BlZWQpO1xyXG4gICAgfVxyXG5cclxuICAgIHBpY2tQbGF5ZXIoKSB7XHJcbiAgICAgICAgY29uc3QgcDEgPSB0aGlzLnBsYXllcnMuZ2V0KCdwbGF5ZXIxJyk7XHJcbiAgICAgICAgY29uc3QgcDIgPSB0aGlzLnBsYXllcnMuZ2V0KCdwbGF5ZXIyJyk7XHJcblxyXG4gICAgICAgIGlmICghcDEgfHwgIXAyIHx8ICFwMS5zcHJpdGUgfHwgIXAyLnNwcml0ZSkgcmV0dXJuOyAvLyBWYWxpZGFjacOzbiBkZSBzZWd1cmlkYWRcclxuXHJcbiAgICAgICAgdGhpcy5jaGFzaW5nUGxheWVySWQgPSAoTWF0aC5hYnMocDEuc3ByaXRlLnggLSB0aGlzLnNwcml0ZS54KSkgPiAoTWF0aC5hYnMocDIuc3ByaXRlLnggLSB0aGlzLnNwcml0ZS54KSkgPyAncGxheWVyMicgOiAncGxheWVyMSc7XHJcblxyXG4gICAgICAgIGNvbnN0IHRhcmdldCA9IHRoaXMucGxheWVycy5nZXQodGhpcy5jaGFzaW5nUGxheWVySWQpO1xyXG4gICAgICAgIGlmICh0YXJnZXQgJiYgdGFyZ2V0LmhlYWx0aCA8PSAwKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmNoYXNpbmdQbGF5ZXJJZCA9PT0gJ3BsYXllcjEnKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNoYXNpbmdQbGF5ZXJJZCA9ICdwbGF5ZXIyJztcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2hhc2luZ1BsYXllcklkID0gJ3BsYXllcjEnO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGRpZSgpIHtcclxuICAgICAgICB0aGlzLnNwcml0ZS5zZXRWZWxvY2l0eSgwKTtcclxuICAgICAgICB0aGlzLnNwcml0ZS5hbmltcy5wbGF5KGBkaWUtJHt0aGlzLmlkfWApO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBzZXRXZWFrZW5lZCh2YWx1ZSkge1xyXG4gICAgICAgIHRoaXMud2Vha2VuZWQgPSB2YWx1ZTtcclxuICAgICAgICBpZiAodmFsdWUpIHtcclxuICAgICAgICAgICAgdGhpcy5zcHJpdGUuYW5pbXMucGxheShgYmxhY2stdG8td2hpdGUtJHt0aGlzLmlkfWApO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5zcHJpdGUub24oXCJhbmltYXRpb25jb21wbGV0ZVwiLCAoYW5pbSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKGFuaW0ua2V5ID09PSBgYmxhY2stdG8td2hpdGUtJHt0aGlzLmlkfWApIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNwcml0ZS5hbmltcy5wbGF5KGBpZGxlLXdoaXRlLSR7dGhpcy5pZH1gKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuc3ByaXRlLmFuaW1zLnBsYXkoYGlkbGUtYmxhY2stJHt0aGlzLmlkfWApO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmlzRGVhZCkgcmV0dXJuO1xyXG4gICAgICAgIHRoaXMuZW5lbXlNb3ZlbWVudCgpO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IFBoYXNlciBmcm9tICdwaGFzZXInO1xyXG5leHBvcnQgY2xhc3MgQ2FtZXJhIHtcclxuICAgIGNvbnN0cnVjdG9yKHNjZW5lLCBwbGF5ZXJzKSB7XHJcbiAgICAgICAgdGhpcy5zY2VuZSA9IHNjZW5lO1xyXG4gICAgICAgIHRoaXMucGxheWVycyA9IHBsYXllcnM7XHJcbiAgICAgICAgdGhpcy5jYW1lcmEgPSB0aGlzLnNjZW5lLmNhbWVyYXMubWFpbjtcclxuXHJcbiAgICAgICAgdGhpcy5jYW1MZWZ0ID0gdGhpcy5jYW1lcmEuc2Nyb2xsWDtcclxuICAgICAgICB0aGlzLmNhbVJpZ2h0ID0gdGhpcy5jYW1lcmEuc2Nyb2xsWCArIHRoaXMuY2FtZXJhLndpZHRoO1xyXG4gICAgICAgIHRoaXMubWFyZ2luID0gMjA7XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlKCkge1xyXG4gICAgICAgIHRoaXMuY2FtTGVmdCA9IHRoaXMuY2FtZXJhLnNjcm9sbFg7XHJcbiAgICAgICAgdGhpcy5jYW1SaWdodCA9IHRoaXMuY2FtZXJhLnNjcm9sbFggKyB0aGlzLmNhbWVyYS53aWR0aDtcclxuXHJcbiAgICAgICAgdGhpcy5wbGF5ZXJzLmdldCgncGxheWVyMScpLnNwcml0ZS54ID0gUGhhc2VyLk1hdGguQ2xhbXAodGhpcy5wbGF5ZXJzLmdldCgncGxheWVyMScpLnNwcml0ZS54LCB0aGlzLmNhbUxlZnQgKyB0aGlzLm1hcmdpbiwgdGhpcy5jYW1SaWdodCAtIHRoaXMubWFyZ2luKTtcclxuICAgICAgICB0aGlzLnBsYXllcnMuZ2V0KCdwbGF5ZXIyJykuc3ByaXRlLnggPSBQaGFzZXIuTWF0aC5DbGFtcCh0aGlzLnBsYXllcnMuZ2V0KCdwbGF5ZXIyJykuc3ByaXRlLngsIHRoaXMuY2FtTGVmdCArIHRoaXMubWFyZ2luLCB0aGlzLmNhbVJpZ2h0IC0gdGhpcy5tYXJnaW4pO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGNvbnN0IG1pZFggPSAodGhpcy5wbGF5ZXJzLmdldCgncGxheWVyMScpLnNwcml0ZS54ICsgdGhpcy5wbGF5ZXJzLmdldCgncGxheWVyMicpLnNwcml0ZS54KSAvIDI7XHJcbiAgICAgICAgY29uc3QgdGFyZ2V0TGVmdCAgPSBtaWRYIC0gdGhpcy5jYW1lcmEud2lkdGggKiAwLjU7XHJcbiAgICAgICAgY29uc3QgdGFyZ2V0UmlnaHQgPSBtaWRYICsgdGhpcy5jYW1lcmEud2lkdGggKiAwLjU7XHJcblxyXG4gICAgICAgIGNvbnN0IGFydGh1ckluc2lkZUFmdGVyTW92ZSA9IFxyXG4gICAgICAgICAgICB0aGlzLnBsYXllcnMuZ2V0KCdwbGF5ZXIxJykuc3ByaXRlLnggPiB0YXJnZXRMZWZ0ICsgdGhpcy5tYXJnaW4gJiZcclxuICAgICAgICAgICAgdGhpcy5wbGF5ZXJzLmdldCgncGxheWVyMScpLnNwcml0ZS54IDwgdGFyZ2V0UmlnaHQgLSB0aGlzLm1hcmdpbjtcclxuXHJcbiAgICAgICAgY29uc3QgbHVjeUluc2lkZUFmdGVyTW92ZSA9XHJcbiAgICAgICAgICAgIHRoaXMucGxheWVycy5nZXQoJ3BsYXllcjInKS5zcHJpdGUueCA+IHRhcmdldExlZnQgKyB0aGlzLm1hcmdpbiAmJlxyXG4gICAgICAgICAgICB0aGlzLnBsYXllcnMuZ2V0KCdwbGF5ZXIyJykuc3ByaXRlLnggPCB0YXJnZXRSaWdodCAtIHRoaXMubWFyZ2luO1xyXG5cclxuICAgICAgICBpZiAoYXJ0aHVySW5zaWRlQWZ0ZXJNb3ZlICYmIGx1Y3lJbnNpZGVBZnRlck1vdmUpIHtcclxuICAgICAgICAgICAgdGhpcy5jYW1lcmEuc2Nyb2xsWCA9IE1hdGgucm91bmQoXHJcbiAgICAgICAgICAgICAgICBQaGFzZXIuTWF0aC5MaW5lYXIodGhpcy5jYW1lcmEuc2Nyb2xsWCwgbWlkWCAtIHRoaXMuY2FtZXJhLndpZHRoLzIsIDAuMSlcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICB9XHJcbiAgICB9ICAgXHJcbn0gICIsImV4cG9ydCBjbGFzcyBQbGF0Zm9ybSB7XHJcbiAgICBjb25zdHJ1Y3RvcihzY2VuZSwgaWQsIHgsIHksIHdpZHRoLCBoZWlnaHQsIHRleHR1cmVLZXkpIHtcclxuICAgICAgICB0aGlzLnNjZW5lID0gc2NlbmU7XHJcbiAgICAgICAgdGhpcy5pZCA9IGlkO1xyXG5cclxuICAgICAgICB0aGlzLnNwcml0ZSA9IHNjZW5lLmFkZC5pbWFnZSh4LCB5LCB0ZXh0dXJlS2V5KTtcclxuICAgICAgICB0aGlzLnNwcml0ZS5zZXRPcmlnaW4oMC41LCAwLjUpO1xyXG4gICAgICAgIHRoaXMuc3ByaXRlLnNldERlcHRoKDEwKTtcclxuICAgICAgICB0aGlzLnNwcml0ZS5zZXREaXNwbGF5U2l6ZSh3aWR0aCwgaGVpZ2h0KTtcclxuXHJcbiAgICAgICAgc2NlbmUucGh5c2ljcy5hZGQuZXhpc3RpbmcodGhpcy5zcHJpdGUsIHRydWUpO1xyXG4gICAgICAgIHRoaXMuc3ByaXRlLmJvZHkuc2V0U2l6ZSh3aWR0aCwgaGVpZ2h0KTtcclxuXHJcbiAgICAgICAgLy8gRGlidWpvIHZpc3VhbCBwYXJhIGRlcHVyYXIgY29saXNpw7NuXHJcbiAgICAgICAgdGhpcy5nID0gc2NlbmUuYWRkLmdyYXBoaWNzKCk7XHJcbiAgICAgICAgdGhpcy5nLmZpbGxTdHlsZSgweDAwMDAwMCwgMC4wKTtcclxuICAgICAgICB0aGlzLmcuZmlsbFJlY3QoeCAtIHdpZHRoLzIsIHkgLSBoZWlnaHQvMiwgd2lkdGggLSAxMCwgaGVpZ2h0IC0gMTApO1xyXG4gICAgICAgIHRoaXMuZy5zZXREZXB0aCgwKTtcclxuXHJcbiAgICAgICAgdGhpcy5zZXRVcENvbGxpc2lvbnMoKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgc2V0VXBDb2xsaXNpb25zKCl7XHJcbiAgICAgICAgdGhpcy5zY2VuZS5waHlzaWNzLmFkZC5leGlzdGluZyh0aGlzLmcsIHRydWUpO1xyXG4gICAgfVxyXG59XHJcblxyXG4gICAgXHJcbiIsImltcG9ydCB7IEFuaW1hdG9yIH0gZnJvbSBcIi4uL0NvbXBvbmVudHMvQW5pbWF0b3JcIjtcclxuaW1wb3J0IHsgY2xpZW50RGF0YU1hbmFnZXIgfSBmcm9tIFwiLi4vc2VydmljZXMvY2xpZW50RGF0YU1hbmFnZXJcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBQbGF5ZXIge1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHNjZW5lLCBpZCwgZ3Jhdml0eSwgeFBvcywgeVBvcywgc3ByaXRlU2hlZXQgPSBudWxsKSB7XHJcbiAgICAgICAgdGhpcy5pZCA9IGlkO1xyXG4gICAgICAgIHRoaXMuc2NlbmUgPSBzY2VuZTtcclxuICAgICAgICB0aGlzLmdyYXZpdHkgPSBncmF2aXR5O1xyXG4gICAgICAgIHRoaXMuYmFzZUhlaWdodCA9IDAuMTc7XHJcbiAgICAgICAgdGhpcy5iYXNlV2lkdGggPSAwLjE3O1xyXG4gICAgICAgIHRoaXMuYmFzZVNwZWVkID0gMzAwO1xyXG4gICAgICAgIHRoaXMuanVtcEZvcmNlID0gNDUwO1xyXG4gICAgICAgIHRoaXMuaGVhbHRoID0gMTAwO1xyXG4gICAgICAgIHRoaXMuaW52dWxuZXJhYmxlID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5hdXRob3JpdHkgPSAnTE9DQUwnO1xyXG4gICAgICAgIHRoaXMueFBvcyA9IHhQb3M7XHJcbiAgICAgICAgdGhpcy55UG9zID0geVBvcztcclxuICAgICAgICB0aGlzLmlzRGVhZCA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMubnVtRGVhdGhzID0gY2xpZW50RGF0YU1hbmFnZXIuZGVhdGhzO1xyXG5cclxuICAgICAgICB0aGlzLmN1cnJlbnREaXJlY3Rpb24gPSAnaWRsZSc7XHJcbiAgICAgICAgdGhpcy5jdXJyZW50QW5pbSA9IG51bGw7XHJcblxyXG4gICAgICAgIHRoaXMuYW5pbWF0b3IgPSBuZXcgQW5pbWF0b3IodGhpcy5zY2VuZSwgc3ByaXRlU2hlZXQpXHJcbiAgICB9XHJcblxyXG4gICAgcHJlbG9hZCh3aWR0aCwgaGVpZ2h0KSB7XHJcbiAgICAgICAgdGhpcy5hbmltYXRvci5wcmVsb2FkKHdpZHRoLCBoZWlnaHQpO1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZSgpIHtcclxuICAgICAgICAvLyBDcmVhciBsYXMgYW5pbWFjaW9uZXMgZGVsIGp1Z2Fkb3IgYXF1w61cclxuICAgICAgICB0aGlzLnNwcml0ZSA9IHRoaXMuYW5pbWF0b3IuYXNzaWduU3ByaXRlVG9QbGF5ZXIodGhpcy54UG9zLCB0aGlzLnlQb3MpO1xyXG4gICAgICAgIHRoaXMuYW5pbWF0b3IuY3JlYXRlQW5pbWF0aW9uKGBpZGxlLSR7dGhpcy5pZH1gLCAwLCAzLCA0KTtcclxuICAgICAgICB0aGlzLmFuaW1hdG9yLmNyZWF0ZUFuaW1hdGlvbihgd2Fsay0ke3RoaXMuaWR9YCwgNCwgNywgNSk7XHJcbiAgICAgICAgdGhpcy5hbmltYXRvci5jcmVhdGVBbmltYXRpb24oYGp1bXAtJHt0aGlzLmlkfWAsIDgsIDgsIDQsIDApO1xyXG4gICAgICAgIHRoaXMuYW5pbWF0b3IuY3JlYXRlQW5pbWF0aW9uKGBhaXItJHt0aGlzLmlkfWAsIDksIDEwLCAxLCAwKTtcclxuICAgICAgICB0aGlzLmFuaW1hdG9yLmNyZWF0ZUFuaW1hdGlvbihgZmFsbC0ke3RoaXMuaWR9YCwgMTAsIDEwLCAxLCAwKTtcclxuICAgICAgICB0aGlzLmFuaW1hdG9yLmNyZWF0ZUFuaW1hdGlvbihgYXR0YWNrLSR7dGhpcy5pZH1gLCAxMiwgMTMsIDIsIDApO1xyXG5cclxuICAgICAgICB0aGlzLnNwcml0ZS5vbihcImFuaW1hdGlvbmNvbXBsZXRlXCIsIChhbmltKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChhbmltLmtleSA9PT0gYGp1bXAtJHt0aGlzLmlkfWApIHtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuc3ByaXRlLmJvZHkub25GbG9vcigpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wbGF5QW5pbShgYWlyLSR7dGhpcy5pZH1gKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLnNwcml0ZS5vbihcImFuaW1hdGlvbnVwZGF0ZVwiLCAoYW5pbSkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoYW5pbS5rZXkgPT09IGBhaXItJHt0aGlzLmlkfWApIHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnNwcml0ZS5ib2R5Lm9uRmxvb3IoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGxheUFuaW0oYGZhbGwtJHt0aGlzLmlkfWApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuc3ByaXRlLnNldFNjYWxlKHRoaXMuYmFzZVdpZHRoLCB0aGlzLmJhc2VIZWlnaHQpO1xyXG5cclxuICAgICAgICB0aGlzLnNwcml0ZS5zZXRDb2xsaWRlV29ybGRCb3VuZHModHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5zcHJpdGUuYm9keS5hbGxvd0dyYXZpdHkgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuc3ByaXRlLmJvZHkuc2V0R3Jhdml0eVkodGhpcy5ncmF2aXR5KTtcclxuICAgICAgICB0aGlzLnNwcml0ZS5ib2R5LnNldFNpemUodGhpcy5zcHJpdGUud2lkdGggLSAzMDAsIHRoaXMuc3ByaXRlLmhlaWdodCAtIDI3MCk7XHJcbiAgICAgICAgdGhpcy5zcHJpdGUuYm9keS5zZXRPZmZzZXQoMTUwLCAyNzApO1xyXG4gICAgICAgIHRoaXMuc3ByaXRlLnNldERlcHRoKDUpO1xyXG4gICAgICAgIHRoaXMuc3ByaXRlLnBsYXkoYGlkbGUtJHt0aGlzLmlkfWApO1xyXG4gICAgfVxyXG5cclxuICAgIHBsYXlBbmltKGtleSkge1xyXG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRBbmltICE9PSBrZXkpIHtcclxuICAgICAgICAgICAgdGhpcy5zcHJpdGUucGxheShrZXksIHRydWUpO1xyXG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRBbmltID0ga2V5O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBob3Jpem9udGFsTW92ZShkaXJlY3Rpb24pIHtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuaGVhbHRoIDw9IDApIHJldHVybjtcclxuICAgICAgICB0aGlzLmN1cnJlbnREaXJlY3Rpb24gPSBkaXJlY3Rpb247XHJcbiAgICAgICAgdGhpcy5zcHJpdGUuZmxpcFggPSAoZGlyZWN0aW9uID09PSAnbGVmdCcpO1xyXG5cclxuICAgICAgICAvLyBNb3ZlclxyXG4gICAgICAgIHRoaXMuc3ByaXRlLnNldFZlbG9jaXR5WChkaXJlY3Rpb24gPT09ICdsZWZ0JyA/IC10aGlzLmJhc2VTcGVlZCA6IHRoaXMuYmFzZVNwZWVkKTtcclxuXHJcblxyXG4gICAgICAgIGlmICh0aGlzLnNwcml0ZS5ib2R5Lm9uRmxvb3IoKSAmJiB0aGlzLmN1cnJlbnRBbmltICE9PSBganVtcC0ke3RoaXMuaWR9YCAmJiB0aGlzLmN1cnJlbnRBbmltICE9PSBgYXR0YWNrLSR7dGhpcy5pZH1gKSB7XHJcbiAgICAgICAgICAgIHRoaXMucGxheUFuaW0oYHdhbGstJHt0aGlzLmlkfWApO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBqdW1wKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmNhbkp1bXAoKSkge1xyXG4gICAgICAgICAgICB0aGlzLnNwcml0ZS5zZXRWZWxvY2l0eVkoLXRoaXMuanVtcEZvcmNlKTtcclxuICAgICAgICAgICAgdGhpcy5wbGF5QW5pbShganVtcC0ke3RoaXMuaWR9YCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuXHJcbiAgICBpZGxlKCkge1xyXG4gICAgICAgIHRoaXMuc3ByaXRlLnNldFZlbG9jaXR5WCgwKTtcclxuICAgICAgICAvLyBObyBwb25lciBpZGxlIHNpIGVzdMOhcyBlbiBlbCBhaXJlXHJcbiAgICAgICAgaWYgKHRoaXMuc3ByaXRlLmJvZHkub25GbG9vcigpICYmIHRoaXMuY3VycmVudEFuaW0gIT09IGBqdW1wLSR7dGhpcy5pZH1gICYmIHRoaXMuY3VycmVudEFuaW0gIT09IGBmYWxsLSR7dGhpcy5pZH1gICYmIHRoaXMuY3VycmVudEFuaW0gIT09IGBhdHRhY2stJHt0aGlzLmlkfWAgJiYgIXRoaXMuaXNEZWFkKSB7XHJcbiAgICAgICAgICAgIHRoaXMucGxheUFuaW0oYGlkbGUtJHt0aGlzLmlkfWApO1xyXG4gICAgICAgICAgICB0aGlzLmN1cnJlbnREaXJlY3Rpb24gPSAnaWRsZSc7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuXHJcbiAgICBnZXRIaXQoZGFtYWdlKSB7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmludnVsbmVyYWJsZSkgcmV0dXJuO1xyXG5cclxuICAgICAgICB0aGlzLmhlYWx0aCAtPSBkYW1hZ2U7XHJcbiAgICAgICAgdGhpcy5pbnZ1bG5lcmFibGUgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuc3ByaXRlLnNldFRpbnQoMHg4MDgwODApOyAgLy8gR3Jpc1xyXG5cclxuICAgICAgICBpZiAoIXRoaXMuY2hlY2tBbGl2ZSgpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaGVhbHRoID0gMDtcclxuICAgICAgICAgICAgdGhpcy5iYXNlU3BlZWQgPSAwO1xyXG4gICAgICAgICAgICB0aGlzLnNwcml0ZS5zZXRUaW50KDB4MDAwMDAwKTtcclxuICAgICAgICAgICAgdGhpcy5zcHJpdGUuYW5pbXMucGF1c2UoKTtcclxuICAgICAgICAgICAgdGhpcy5pbnZ1bG5lcmFibGUgPSBmYWxzZTtcclxuICAgICAgICAgICAgdGhpcy5pc0RlYWQgPSB0cnVlO1xyXG4gICAgICAgICAgICB0aGlzLmlzQXR0YWNraW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFZvbHZlciB2dWxuZXJhYmxlIHRyYXMgMiBzZWd1bmRvc1xyXG4gICAgICAgIHRoaXMuc2NlbmUudGltZS5kZWxheWVkQ2FsbCgyMDAwLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuaW52dWxuZXJhYmxlID0gZmFsc2U7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV2aXZlKCkge1xyXG4gICAgICAgIHRoaXMuaGVhbHRoID0gMTAwO1xyXG4gICAgICAgIHRoaXMuYmFzZVNwZWVkID0gMzAwO1xyXG4gICAgICAgIHRoaXMuaXNEZWFkID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5pbnZ1bG5lcmFibGUgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnNwcml0ZS5jbGVhclRpbnQoKTtcclxuICAgICAgICB0aGlzLnNwcml0ZS5hbmltcy5yZXN1bWUoKTtcclxuICAgICAgICB0aGlzLmludnVsbmVyYWJsZSA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5pc0F0dGFja2luZyA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMucGxheUFuaW0oYGlkbGUtJHt0aGlzLmlkfWApO1xyXG5cclxuICAgICAgICB0aGlzLnNjZW5lLnRpbWUuZGVsYXllZENhbGwoMTAwMCwgKCkgPT4geyB0aGlzLmludnVsbmVyYWJsZSA9IGZhbHNlIH0pXHJcbiAgICB9XHJcblxyXG4gICAgY2hlY2tBbGl2ZSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5oZWFsdGggPiAwO1xyXG4gICAgfVxyXG5cclxuICAgIGNhbkp1bXAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc3ByaXRlLmJvZHkub25GbG9vcigpICYmIHRoaXMuY2hlY2tBbGl2ZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIGF0dGFjaygpIHtcclxuICAgICAgICAvLyBJbXBsZW1lbnRhciBlbiBsYXMgY2xhc2VzIGhpamFzXHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgdXBkYXRlRGVhdGhzKCkge1xyXG4gICAgICAgIGF3YWl0IGNsaWVudERhdGFNYW5hZ2VyLnVwZGF0ZUNsaWVudERhdGEoY2xpZW50RGF0YU1hbmFnZXIsIHsgZGVhdGhzOiB0aGlzLm51bURlYXRocyB9KTtcclxuICAgIH1cclxufSIsImltcG9ydCB7IFBsYXllciB9IGZyb20gXCIuL1BsYXllclwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEx1Y3kgZXh0ZW5kcyBQbGF5ZXIge1xyXG4gICAgY29uc3RydWN0b3Ioc2NlbmUsIGlkLCB4LCB5LCBncmF2aXR5LCB4UG9zLCB5UG9zLCBzcHJpdGVTaGVldCA9IG51bGwpIHtcclxuICAgICAgICBzdXBlcihzY2VuZSwgaWQsIHgsIHksIGdyYXZpdHksIHhQb3MsIHlQb3MsIHNwcml0ZVNoZWV0KTtcclxuICAgICAgICB0aGlzLmF0dGFja0hpdGJveCA9IG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlKCkge1xyXG4gICAgICAgIHN1cGVyLmNyZWF0ZSgpO1xyXG4gICAgICAgIHRoaXMuYXR0YWNrSGl0Ym94ID0gdGhpcy5zY2VuZS5waHlzaWNzLmFkZC5zcHJpdGUoMCwgMCwgbnVsbClcclxuICAgICAgICAgICAgLnNldFNpemUoNDAsIDIwKVxyXG4gICAgICAgICAgICAuc2V0VmlzaWJsZShmYWxzZSlcclxuICAgICAgICAgICAgLnNldEltbW92YWJsZSh0cnVlKTtcclxuXHJcbiAgICAgICAgdGhpcy5pc0F0dGFja2luZyA9IGZhbHNlO1xyXG5cclxuXHJcbiAgICAgICAgdGhpcy5zcHJpdGUub24oXCJhbmltYXRpb25jb21wbGV0ZVwiLCAoYW5pbSkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoYW5pbS5rZXkgPT09IGBhdHRhY2stJHt0aGlzLmlkfWApIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuaXNBdHRhY2tpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIHRoaXMucGxheUFuaW0oYGlkbGUtJHt0aGlzLmlkfWApOyAvLyBvIHdhbGsgc2kgdGUgbXVldmVzXHJcbiAgICAgICAgICAgICAgICB0aGlzLmF0dGFja0hpdGJveC5zZXRQb3NpdGlvbigtMTAwLCAtMTAwKTsgLy8gc2FjYXIgZWwgaGl0Ym94IGRlIGxhIHBhbnRhbGxhXHJcblxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuc3ByaXRlLm9uKFwiYW5pbWF0aW9udXBkYXRlXCIsIChhbmltKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChhbmltLmtleSA9PT0gYGF0dGFjay0ke3RoaXMuaWR9YCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVIaXRib3goKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBFbiBlbCBjcmVhdGUgZGUgbGEgZXNjZW5hIGNvbmZpZ3VyYXIgbG9zIE9WRVJMQVBTIGNvbiBsb3MgZW5lbWlnb3NcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGVIaXRib3goKSB7XHJcbiAgICAgICAgY29uc3Qgb2Zmc2V0WCA9IHRoaXMuc3ByaXRlLmZsaXBYID8gLTIwIDogMjA7XHJcbiAgICAgICAgdGhpcy5hdHRhY2tIaXRib3guc2V0UG9zaXRpb24oXHJcbiAgICAgICAgICAgIHRoaXMuc3ByaXRlLnggKyBvZmZzZXRYLFxyXG4gICAgICAgICAgICB0aGlzLnNwcml0ZS55XHJcbiAgICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICBhdHRhY2soKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNBdHRhY2tpbmcgKSByZXR1cm47IC8vIGV2aXRhIHNwYW1lb1xyXG5cclxuICAgICAgICB0aGlzLnVwZGF0ZUhpdGJveCgpO1xyXG4gICAgICAgIHRoaXMuaXNBdHRhY2tpbmcgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuc3ByaXRlLnNldFZlbG9jaXR5WCgwKTsgLy8gb3BjaW9uYWxcclxuICAgICAgICB0aGlzLnBsYXlBbmltKGBhdHRhY2stJHt0aGlzLmlkfWApO1xyXG4gICAgfVxyXG59IiwiZXhwb3J0IGNsYXNzIExpZ2h0IHtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihzY2VuZSwgaWQsIHBsYXllciwgcmFkaXVzLCBjb2xvcikge1xyXG5cclxuICAgICAgICB0aGlzLmlkID0gaWQ7XHJcbiAgICAgICAgdGhpcy5zY2VuZSA9IHNjZW5lO1xyXG4gICAgICAgIHRoaXMucGxheWVyID0gcGxheWVyO1xyXG4gICAgICAgIHRoaXMucmFkaXVzID0gcmFkaXVzO1xyXG4gICAgICAgIHRoaXMuY29sb3IgPSBjb2xvcjtcclxuICAgICAgICB0aGlzLmlzT24gPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmNhblBlcmZvcm0gPSB0cnVlO1xyXG5cclxuICAgICAgICB0aGlzLmNvbGxpZGVyQ2lyY2xlID0gbnVsbDtcclxuICAgICAgICBcclxuICAgIH1cclxuICAgIGNyZWF0ZSgpIHtcclxuICAgICAgICAvLyBDw41SQ1VMTyBGw41TSUNPXHJcbiAgICAgICAgdGhpcy5jb2xsaWRlckNpcmNsZSA9IHRoaXMuc2NlbmUuYWRkLmNpcmNsZShcclxuICAgICAgICAgICAgdGhpcy5wbGF5ZXIuc3ByaXRlLngsXHJcbiAgICAgICAgICAgIHRoaXMucGxheWVyLnNwcml0ZS55LFxyXG4gICAgICAgICAgICB0aGlzLnJhZGl1c1xyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIHRoaXMuc2NlbmUucGh5c2ljcy5hZGQuZXhpc3RpbmcodGhpcy5jb2xsaWRlckNpcmNsZSk7XHJcbiAgICAgICAgdGhpcy5jb2xsaWRlckNpcmNsZS5ib2R5LnNldENpcmNsZSh0aGlzLnJhZGl1cyk7XHJcbiAgICAgICAgdGhpcy5jb2xsaWRlckNpcmNsZS5ib2R5LnNldEFsbG93R3Jhdml0eShmYWxzZSk7XHJcbiAgICAgICAgdGhpcy5jb2xsaWRlckNpcmNsZS5ib2R5LnNldEltbW92YWJsZSh0cnVlKTtcclxuXHJcbiAgICAgICAgLy8gR3LDoWZpY29zIHZpc3VhbGVzXHJcbiAgICAgICAgdGhpcy5ncmFwaGljcyA9IHRoaXMuc2NlbmUuYWRkLmdyYXBoaWNzKCk7XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlKCkge1xyXG5cclxuICAgICAgICAvLyBTZWd1aXIgYWwganVnYWRvclxyXG4gICAgICAgIGNvbnN0IHggPSB0aGlzLnBsYXllci5zcHJpdGUueDtcclxuICAgICAgICBjb25zdCB5ID0gdGhpcy5wbGF5ZXIuc3ByaXRlLnk7XHJcblxyXG4gICAgICAgIHRoaXMuY29sbGlkZXJDaXJjbGUuc2V0UG9zaXRpb24oeCwgeSk7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmlzT24pIHsgICBcclxuICAgICAgICAgICAgdGhpcy5ncmFwaGljcy5jbGVhcigpO1xyXG4gICAgICAgICAgICB0aGlzLmdyYXBoaWNzLmZpbGxTdHlsZSh0aGlzLmNvbG9yLCAwLjUpO1xyXG4gICAgICAgICAgICB0aGlzLmdyYXBoaWNzLmZpbGxDaXJjbGUoeCwgeSwgdGhpcy5yYWRpdXMpO1xyXG4gICAgICAgICAgICB0aGlzLmdyYXBoaWNzLnNldERlcHRoKDEwKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmdyYXBoaWNzLmNsZWFyKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHBlcmZvcm0oKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmNhblBlcmZvcm0pIHJldHVybjtcclxuXHJcbiAgICAgICAgdGhpcy5jYW5QZXJmb3JtID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5pc09uID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgdGhpcy5zY2VuZS50aW1lLmRlbGF5ZWRDYWxsKDEwMDAsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5pc09uID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHRoaXMuZ3JhcGhpY3MuY2xlYXIoKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5zY2VuZS50aW1lLmRlbGF5ZWRDYWxsKDMwMDAsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5jYW5QZXJmb3JtID0gdHJ1ZTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBkZXN0cm95KCkge1xyXG4gICAgICAgIHRoaXMuZ3JhcGhpY3MuZGVzdHJveSgpO1xyXG4gICAgICAgIHRoaXMuY29sbGlkZXJDaXJjbGUuZGVzdHJveSgpO1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCB7IFBsYXllciB9IGZyb20gXCIuL1BsYXllclwiO1xyXG5pbXBvcnQgeyBMaWdodCB9IGZyb20gXCIuL0xpZ2h0LmpzXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgQXJ0aHVyIGV4dGVuZHMgUGxheWVyIHtcclxuICAgIGNvbnN0cnVjdG9yKHNjZW5lLCBpZCwgeCwgeSwgZ3Jhdml0eSwgeFBvcywgeVBvcywgc3ByaXRlU2hlZXQgPSBudWxsKSB7XHJcbiAgICAgICAgc3VwZXIoc2NlbmUsIGlkLCB4LCB5LCBncmF2aXR5LCB4UG9zLCB5UG9zLCBzcHJpdGVTaGVldCk7XHJcblxyXG4gICAgICAgIHRoaXMubGlnaHQgPSBuZXcgTGlnaHQodGhpcy5zY2VuZSwgJ2xpZ2h0MScsIHRoaXMsIDc1LCAweGZmZmZmZilcclxuICAgICAgICB0aGlzLmlzQXR0YWNraW5nID0gZmFsc2U7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZSgpIHtcclxuICAgICAgICBzdXBlci5jcmVhdGUoKTtcclxuICAgICAgICB0aGlzLmxpZ2h0LmNyZWF0ZSgpO1xyXG5cclxuXHJcblxyXG4gICAgICAgIHRoaXMuc3ByaXRlLm9uKFwiYW5pbWF0aW9udXBkYXRlXCIsIChhbmltKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChhbmltLmtleSA9PT0gYGF0dGFjay0ke3RoaXMuaWR9YCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5saWdodC51cGRhdGUoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuaXNBdHRhY2tpbmcgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5zcHJpdGUub24oXCJhbmltYXRpb25jb21wbGV0ZVwiLCAoYW5pbSkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoYW5pbS5rZXkgPT09IGBhdHRhY2stJHt0aGlzLmlkfWApIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuaXNBdHRhY2tpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIHRoaXMucGxheUFuaW0oYGlkbGUtJHt0aGlzLmlkfWApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV2aXZlKCkge1xyXG4gICAgICAgIHN1cGVyLnJldml2ZSgpO1xyXG4gICAgICAgIHRoaXMubGlnaHQuY2FuUGVyZm9ybSA9IHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgYXR0YWNrKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmlzQXR0YWNraW5nIHx8ICF0aGlzLmxpZ2h0LmNhblBlcmZvcm0pIHJldHVybjtcclxuXHJcbiAgICAgICAgdGhpcy5saWdodC5wZXJmb3JtKCk7XHJcbiAgICAgICAgdGhpcy5wbGF5QW5pbShgYXR0YWNrLSR7dGhpcy5pZH1gKTtcclxuICAgIH1cclxufSIsImltcG9ydCBQaGFzZXIgZnJvbSBcInBoYXNlclwiO1xyXG5pbXBvcnQgeyBJbnB1dE1hbmFnZXIgfSBmcm9tIFwiLi4vaGFuZGxlcnMvSW5wdXRNYW5hZ2VyLmpzXCI7XHJcbmltcG9ydCB7IEVuZW15IH0gZnJvbSBcIi4uL2VudGl0aWVzL0VuZW15LmpzXCI7XHJcbmltcG9ydCB7IENvbW1hbmRQcm9jZXNzb3IgfSBmcm9tIFwiLi4vY29tbWFuZC1wYXR0ZXJuL0NvbW1hbmRQcm9jZXNzb3IuanNcIjtcclxuaW1wb3J0IHsgQ2FtZXJhIH0gZnJvbSBcIi4uL0NvbXBvbmVudHMvQ2FtZXJhLmpzXCI7XHJcbmltcG9ydCB7IFBsYXRmb3JtIH0gZnJvbSBcIi4uL2VudGl0aWVzL1BsYXRmb3JtLmpzXCI7XHJcbmltcG9ydCB7IEx1Y3kgfSBmcm9tIFwiLi4vZW50aXRpZXMvTHVjeS5qc1wiO1xyXG5pbXBvcnQgeyBBcnRodXIgfSBmcm9tIFwiLi4vZW50aXRpZXMvQXJ0aHVyLmpzXCI7XHJcbmltcG9ydCB7IGNvbm5lY3Rpb25NYW5hZ2VyIH0gZnJvbSBcIi4uL3NlcnZpY2VzL0Nvbm5lY3Rpb25NYW5hZ2VyLmpzXCI7XHJcbmltcG9ydCB7IGNsaWVudERhdGFNYW5hZ2VyIH0gZnJvbSBcIi4uL3NlcnZpY2VzL2NsaWVudERhdGFNYW5hZ2VyLmpzXCI7XHJcblxyXG5cclxuZXhwb3J0IGNsYXNzIEdhbWVTY2VuZSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XHJcbiAgICBjb25zdHJ1Y3RvcihuYW1lID0gJ0dhbWVTY2VuZScpIHtcclxuICAgICAgICBzdXBlcihuYW1lKVxyXG4gICAgfVxyXG5cclxuXHJcbiAgICBwcmVsb2FkKCkge1xyXG4gICAgICAgIHRoaXMuYXJ0aHVyLnByZWxvYWQoNjAwLCA4MDApO1xyXG4gICAgICAgIHRoaXMubHVjeS5wcmVsb2FkKDYwMCwgODAwKTtcclxuICAgICAgICB0aGlzLmxvYWQuYXVkaW8oJ2FtYmllbnQnLCAnYXNzZXRzL3NvdW5kL2FtYmllbnQtdGhlbWUubXAzJyk7XHJcblxyXG5cclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2ZvbmRvJywgJ2Fzc2V0cy9Gb25kb0hvcml6b250YWwucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdwMScsICdhc3NldHMvcHJvcHMvcGxhdGFmb3JtYTEucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdzdWVsbycsICdhc3NldHMvcHJvcHMvc3VlbG8ucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdwMicsICdhc3NldHMvcHJvcHMvcGxhdGFmb3JtYTIucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdjMScsICdhc3NldHMvcHJvcHMvY29sdW1uYTEucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdsaWInLCAnYXNzZXRzL3Byb3BzL2xpYnJlcmlhLnBuZycpO1xyXG5cclxuICAgICAgICB0aGlzLmVuZW1pZXMuZm9yRWFjaChlbmVteSA9PiBlbmVteS5wcmVsb2FkKCkpO1xyXG4gICAgfVxyXG5cclxuICAgIGluaXQoKSB7XHJcbiAgICAgICAgdGhpcy5zb3VuZC5zdG9wQWxsKCk7XHJcbiAgICAgICAgdGhpcy5jb21tYW5kUHJvY2Vzc29yID0gbmV3IENvbW1hbmRQcm9jZXNzb3IoKTtcclxuICAgICAgICB0aGlzLnBsYXllcnMgPSBuZXcgTWFwKCk7XHJcbiAgICAgICAgdGhpcy5lbmVtaWVzID0gbmV3IE1hcCgpO1xyXG4gICAgICAgIHRoaXMucGxhdGZvcm1zID0gbmV3IE1hcCgpO1xyXG4gICAgICAgIHRoaXMuaXNQYXVzZWQgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmlucHV0TWFuYWdlciA9IG5ldyBJbnB1dE1hbmFnZXIodGhpcywgdGhpcy5zY2VuZSwgdGhpcy5pbnB1dCwgdGhpcy5jb21tYW5kUHJvY2Vzc29yKTtcclxuICAgICAgICB0aGlzLmFydGh1ciA9IG5ldyBBcnRodXIodGhpcywgJ3BsYXllcjEnLCA2MDAsIDEwMCwgNTAwLCAnc3ByaXRlc2hlZXQtYXJ0aHVyJyk7XHJcbiAgICAgICAgdGhpcy5sdWN5ID0gbmV3IEx1Y3kodGhpcywgJ3BsYXllcjInLCA0NTAsIDMwMCwgNTAwLCAnc3ByaXRlc2hlZXQtbHVjeScpO1xyXG5cclxuICAgICAgICB0aGlzLmVuZW15MSA9IG5ldyBFbmVteSh0aGlzLCAnZW5lbXkxJywgNDAwLCAxMDAsIHRoaXMucGxheWVycyk7XHJcbiAgICAgICAgdGhpcy5lbmVteTIgPSBuZXcgRW5lbXkodGhpcywgJ2VuZW15MicsIDEyMDAsIDEwMCwgdGhpcy5wbGF5ZXJzKTtcclxuICAgICAgICB0aGlzLmVuZW15MyA9IG5ldyBFbmVteSh0aGlzLCAnZW5lbXkzJywgMjAwMCwgMTAwLCB0aGlzLnBsYXllcnMpO1xyXG4gICAgICAgIHRoaXMuZW5lbXk0ID0gbmV3IEVuZW15KHRoaXMsICdlbmVteTQnLCAyODAwLCAxMDAsIHRoaXMucGxheWVycyk7XHJcbiAgICAgICAgdGhpcy5lbmVteTUgPSBuZXcgRW5lbXkodGhpcywgJ2VuZW15NScsIDM1MDAsIDEwMCwgdGhpcy5wbGF5ZXJzKTtcclxuXHJcblxyXG4gICAgICAgIHRoaXMuY2FtZXJhID0gbmV3IENhbWVyYSh0aGlzLCB0aGlzLnBsYXllcnMpO1xyXG5cclxuICAgICAgICB0aGlzLmVuZW1pZXMuc2V0KHRoaXMuZW5lbXkxLmlkLCB0aGlzLmVuZW15MSk7XHJcbiAgICAgICAgdGhpcy5lbmVtaWVzLnNldCh0aGlzLmVuZW15Mi5pZCwgdGhpcy5lbmVteTIpO1xyXG4gICAgICAgIHRoaXMuZW5lbWllcy5zZXQodGhpcy5lbmVteTMuaWQsIHRoaXMuZW5lbXkzKTtcclxuICAgICAgICB0aGlzLmVuZW1pZXMuc2V0KHRoaXMuZW5lbXk0LmlkLCB0aGlzLmVuZW15NCk7XHJcbiAgICAgICAgdGhpcy5lbmVtaWVzLnNldCh0aGlzLmVuZW15NS5pZCwgdGhpcy5lbmVteTUpO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGUoKSB7XHJcbiAgICAgICAgLy8gTXVzaWNcclxuICAgICAgICB0aGlzLm11c2ljID0gdGhpcy5zb3VuZC5hZGQoJ2FtYmllbnQnKTtcclxuICAgICAgICB0aGlzLm11c2ljLnBsYXkoKTtcclxuICAgICAgICB0aGlzLm11c2ljLnNldFZvbHVtZSgwLjI1KTtcclxuXHJcbiAgICAgICAgLy8gQmFja2dyb3VuZFxyXG4gICAgICAgIHRoaXMuZm9uZG8gPSB0aGlzLmFkZC50aWxlU3ByaXRlKDAsIDAsIDgwMDAsIDIwMDAsICdmb25kbycpXHJcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMCwgMClcclxuICAgICAgICAgICAgLnNldFNjcm9sbEZhY3RvcigwLjIpXHJcbiAgICAgICAgICAgIC5zZXRTY2FsZSgwLjMpO1xyXG5cclxuICAgICAgICAvL0NyZWF0ZSB0aGUgcGxheWVycyBcclxuICAgICAgICB0aGlzLmFydGh1ci5jcmVhdGUoKTtcclxuICAgICAgICB0aGlzLmx1Y3kuY3JlYXRlKCk7XHJcblxyXG4gICAgICAgIC8vIFNldCB1cCBpbnB1dCBhbmQgcGxheWVyc1xyXG4gICAgICAgIHRoaXMucGxheWVycy5zZXQoJ3BsYXllcjEnLCB0aGlzLmFydGh1cik7XHJcbiAgICAgICAgdGhpcy5wbGF5ZXJzLnNldCgncGxheWVyMicsIHRoaXMubHVjeSk7XHJcblxyXG4gICAgICAgIHRoaXMuaW5wdXRNYW5hZ2VyLnBsYXllcnMgPSB0aGlzLnBsYXllcnM7XHJcbiAgICAgICAgdGhpcy5jb21tYW5kUHJvY2Vzc29yLnBsYXllcnMgPSB0aGlzLnBsYXllcnM7XHJcblxyXG4gICAgICAgIC8vIFNldCB1cCBlbmVtaWVzXHJcbiAgICAgICAgdGhpcy5lbmVtaWVzLmZvckVhY2goKGVuZW15KSA9PiB7XHJcbiAgICAgICAgICAgIGVuZW15LmNyZWF0ZSgpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLnNldFVwV29ybGRDb2xsaXNpb25zKCk7XHJcbiAgICAgICAgdGhpcy5zZXRVcEVuZW15Q29sbGlzaW9ucygpO1xyXG4gICAgICAgIHRoaXMuc2V0VXBSZXZpdmVDb2xsaXNpb24oKTtcclxuICAgICAgICB0aGlzLnNldFVwTGlicmFyeUNvbGxpc2lvbigpO1xyXG5cclxuICAgICAgICB0aGlzLnBoeXNpY3Mud29ybGQuc2V0Qm91bmRzKDAsIDAsIDQxNzUsIDYwMCk7XHJcbiAgICAgICAgdGhpcy5jYW1lcmEuY2FtZXJhLnNldEJvdW5kcygwLCAwLCA0MTc1LCA2MDApO1xyXG5cclxuICAgICAgICB0aGlzLmNhbWVyYS5jYW1lcmEuc2V0TGVycCgwLjEsIDAuMSk7XHJcblxyXG4gICAgICAgIHRoaXMuY29ubmVjdGlvbkxpc3RlbmVyID0gKGRhdGEpID0+IHtcclxuICAgICAgICAgICAgaWYgKCFkYXRhLmNvbm5lY3RlZCAmJiB0aGlzLnNjZW5lLmlzQWN0aXZlKCkpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMub25Db25uZWN0aW9uTG9zdCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICBjb25uZWN0aW9uTWFuYWdlci5hZGRMaXN0ZW5lcih0aGlzLmNvbm5lY3Rpb25MaXN0ZW5lcik7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0VXBSZXZpdmVDb2xsaXNpb24oKSB7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5vdmVybGFwKHRoaXMucGxheWVycy5nZXQoJ3BsYXllcjEnKS5zcHJpdGUsIHRoaXMucGxheWVycy5nZXQoJ3BsYXllcjInKS5zcHJpdGUsICgpID0+IHtcclxuICAgICAgICAgICAgaWYgKHRoaXMucGxheWVycy5nZXQoJ3BsYXllcjEnKS5oZWFsdGggPD0gMCAmJiB0aGlzLnBsYXllcnMuZ2V0KCdwbGF5ZXIyJykuaGVhbHRoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wbGF5ZXJzLmdldCgncGxheWVyMScpLnJldml2ZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMucGxheWVycy5nZXQoJ3BsYXllcjInKS5oZWFsdGggPD0gMCAmJiB0aGlzLnBsYXllcnMuZ2V0KCdwbGF5ZXIxJykuaGVhbHRoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wbGF5ZXJzLmdldCgncGxheWVyMicpLnJldml2ZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0VXBXb3JsZENvbGxpc2lvbnMoKSB7XHJcbiAgICAgICAgLy9TZXQgdXAgcGxhdGZvcm1zIGFuZCBjb2xsaXNpb25zXHJcblxyXG4gICAgICAgIHRoaXMuc3VlbG8xID0gbmV3IFBsYXRmb3JtKHRoaXMsICdzMScsIDI1MDAsIDU5MCwgNTAwMCwgNDAsICdzdWVsbycpO1xyXG4gICAgICAgIHRoaXMucGxhdDEgPSBuZXcgUGxhdGZvcm0odGhpcywgJ3AxJywgMjAwLCA0NTAsIDIwMCwgMzAsICdwMScpO1xyXG4gICAgICAgIHRoaXMucGxhdDIgPSBuZXcgUGxhdGZvcm0odGhpcywgJ3AyJywgNDUwLCAzMDAsIDIwMCwgMzAsICdwMScpO1xyXG4gICAgICAgIHRoaXMuc3VlbG8yID0gbmV3IFBsYXRmb3JtKHRoaXMsICdzMicsIDEyMDAsIDU1MCwgNTAwLCAyMDAsICdwMicpO1xyXG4gICAgICAgIHRoaXMuY29sMSA9IG5ldyBQbGF0Zm9ybSh0aGlzLCAnYzEnLCA3MDAsIDQ1MCwgNzAsIDMwMCwgJ2MxJyk7XHJcbiAgICAgICAgdGhpcy5jb2wyID0gbmV3IFBsYXRmb3JtKHRoaXMsICdjMicsIDIyMDAsIDQ1MCwgNzAsIDQwMCwgJ2MxJyk7XHJcbiAgICAgICAgdGhpcy5wbGF0MyA9IG5ldyBQbGF0Zm9ybSh0aGlzLCAncDMnLCAxODAwLCA0NTAsIDE1MCwgMzAsICdwMScpO1xyXG4gICAgICAgIHRoaXMucGxhdDQgPSBuZXcgUGxhdGZvcm0odGhpcywgJ3A0JywgMTUwMCwgMzAwLCAxNTAsIDMwLCAncDEnKTtcclxuICAgICAgICB0aGlzLnBsYXQ1ID0gbmV3IFBsYXRmb3JtKHRoaXMsICdwNScsIDIwMDAsIDIwMCwgMTUwLCAzMCwgJ3AxJyk7XHJcbiAgICAgICAgdGhpcy5zdWVsbzMgPSBuZXcgUGxhdGZvcm0odGhpcywgJ3MzJywgMjIwMCwgNTUwLCAyMzAsIDEwMCwgJ3AyJyk7XHJcbiAgICAgICAgdGhpcy5zdWVsbzQgPSBuZXcgUGxhdGZvcm0odGhpcywgJ3M0JywgMjgwMCwgNTAwLCA1NTAsIDI1MCwgJ3AyJyk7XHJcbiAgICAgICAgdGhpcy5wbGF0NiA9IG5ldyBQbGF0Zm9ybSh0aGlzLCAncDYnLCAzMTUwLCAyNTAsIDE1MCwgMzAsICdwMScpO1xyXG4gICAgICAgIHRoaXMucGxhdDcgPSBuZXcgUGxhdGZvcm0odGhpcywgJ3A3JywgMzUwMCwgMjUwLCAxNTAsIDMwLCAncDEnKTtcclxuICAgICAgICB0aGlzLnBsYXQ4ID0gbmV3IFBsYXRmb3JtKHRoaXMsICdwOCcsIDMxNTAsIDQ1MCwgMTUwLCAzMCwgJ3AxJyk7XHJcbiAgICAgICAgdGhpcy5zdWVsbzUgPSBuZXcgUGxhdGZvcm0odGhpcywgJ3M1JywgNDAwMSwgNDUwLCAzNTAsIDM1MCwgJ3AyJyk7XHJcblxyXG5cclxuICAgICAgICB0aGlzLnBsYXRmb3Jtcy5zZXQoJ3MxJywgdGhpcy5zdWVsbzEpO1xyXG4gICAgICAgIHRoaXMucGxhdGZvcm1zLnNldCgncDEnLCB0aGlzLnBsYXQxKTtcclxuICAgICAgICB0aGlzLnBsYXRmb3Jtcy5zZXQoJ3AyJywgdGhpcy5wbGF0Mik7XHJcbiAgICAgICAgdGhpcy5wbGF0Zm9ybXMuc2V0KCdzMicsIHRoaXMuc3VlbG8yKTtcclxuICAgICAgICB0aGlzLnBsYXRmb3Jtcy5zZXQoJ2MxJywgdGhpcy5jb2wxKTtcclxuICAgICAgICB0aGlzLnBsYXRmb3Jtcy5zZXQoJ2MyJywgdGhpcy5jb2wyKTtcclxuICAgICAgICB0aGlzLnBsYXRmb3Jtcy5zZXQoJ3AzJywgdGhpcy5wbGF0Myk7XHJcbiAgICAgICAgdGhpcy5wbGF0Zm9ybXMuc2V0KCdwNCcsIHRoaXMucGxhdDQpO1xyXG4gICAgICAgIHRoaXMucGxhdGZvcm1zLnNldCgncDUnLCB0aGlzLnBsYXQ1KTtcclxuICAgICAgICB0aGlzLnBsYXRmb3Jtcy5zZXQoJ3MzJywgdGhpcy5zdWVsbzMpO1xyXG4gICAgICAgIHRoaXMucGxhdGZvcm1zLnNldCgnczQnLCB0aGlzLnN1ZWxvNCk7XHJcbiAgICAgICAgdGhpcy5wbGF0Zm9ybXMuc2V0KCdzNScsIHRoaXMuc3VlbG81KTtcclxuICAgICAgICB0aGlzLnBsYXRmb3Jtcy5zZXQoJ3A2JywgdGhpcy5wbGF0Nik7XHJcbiAgICAgICAgdGhpcy5wbGF0Zm9ybXMuc2V0KCdwNycsIHRoaXMucGxhdDcpO1xyXG4gICAgICAgIHRoaXMucGxhdGZvcm1zLnNldCgncDgnLCB0aGlzLnBsYXQ4KTtcclxuXHJcbiAgICAgICAgdGhpcy5wbGF0Zm9ybXMuZm9yRWFjaChwID0+IHtcclxuICAgICAgICAgICAgdGhpcy5wbGF5ZXJzLmZvckVhY2gocGVyc29uYWplID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMucGh5c2ljcy5hZGQuY29sbGlkZXIocGVyc29uYWplLnNwcml0ZSwgcC5zcHJpdGUpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdGhpcy5lbmVtaWVzLmZvckVhY2goZW5lbWlnbyA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKGVuZW1pZ28uc3ByaXRlLCBwLnNwcml0ZSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBcclxuICAgIH1cclxuXHJcbiAgICBzZXRVcExpYnJhcnlDb2xsaXNpb24oKSB7XHJcbiAgICAgICAgdGhpcy5saWJyZXJpYSA9IG5ldyBQbGF0Zm9ybSh0aGlzLCAnbGliJywgNDAwMCwgMjA4LCAxMDAsIDE1MCwgJ2xpYicpO1xyXG4gICAgICAgIHRoaXMubGlicmVyaWEuc3ByaXRlLnNldERlcHRoKDIpO1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQub3ZlcmxhcCh0aGlzLmxpYnJlcmlhLnNwcml0ZSwgdGhpcy5hcnRodXIuc3ByaXRlLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RvcCgpO1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdFbmRTY2VuZScpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQub3ZlcmxhcCh0aGlzLmxpYnJlcmlhLnNwcml0ZSwgdGhpcy5sdWN5LnNwcml0ZSwgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnN0b3AoKTtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5zdGFydCgnRW5kU2NlbmUnKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBzZXRVcEVuZW15Q29sbGlzaW9ucygpIHtcclxuICAgICAgICB0aGlzLmVuZW1pZXMuZm9yRWFjaCgoZW5lbXkpID0+IHtcclxuXHJcbiAgICAgICAgICAgIC8vIEVtZW55IGhpdHMgXHJcbiAgICAgICAgICAgIHRoaXMucGh5c2ljcy5hZGQuY29sbGlkZXIoZW5lbXkuc3ByaXRlLCB0aGlzLnBsYXllcnMuZ2V0KCdwbGF5ZXIxJykuc3ByaXRlLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZW5lbXkgJiYgdGhpcy5wbGF5ZXJzLmdldCgncGxheWVyMScpLmhlYWx0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBsYXllcnMuZ2V0KCdwbGF5ZXIxJykuZ2V0SGl0KDUwKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNoZWNrUGxheWVyU3RhdHVzKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcihlbmVteS5zcHJpdGUsIHRoaXMucGxheWVycy5nZXQoJ3BsYXllcjInKS5zcHJpdGUsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChlbmVteSAmJiB0aGlzLnBsYXllcnMuZ2V0KCdwbGF5ZXIyJykuaGVhbHRoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGxheWVycy5nZXQoJ3BsYXllcjInKS5nZXRIaXQoNTApO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2hlY2tQbGF5ZXJTdGF0dXMoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAvLyBQbGF5ZXIgbGlnaHRzIGVuZW15XHJcbiAgICAgICAgICAgIHRoaXMucGh5c2ljcy5hZGQub3ZlcmxhcChlbmVteS5zcHJpdGUsIHRoaXMuYXJ0aHVyLmxpZ2h0LmNvbGxpZGVyQ2lyY2xlLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5hcnRodXIubGlnaHQuaXNPbiAmJiBlbmVteSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGVuZW15LnNldFdlYWtlbmVkKHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudGltZS5kZWxheWVkQ2FsbCg0MDAwLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlbmVteSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5lbXkuc2V0V2Vha2VuZWQoZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgLy8gUGxheWVyIGF0dGFja3MgZW5lbXlcclxuICAgICAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5vdmVybGFwKGVuZW15LnNwcml0ZSwgdGhpcy5wbGF5ZXJzLmdldCgncGxheWVyMicpLmF0dGFja0hpdGJveCwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKGVuZW15Py53ZWFrZW5lZCAmJiB0aGlzLnBsYXllcnMuZ2V0KCdwbGF5ZXIyJykuaXNBdHRhY2tpbmcpIHtcclxuICAgICAgICAgICAgICAgICAgICBlbmVteS5kaWUoKTtcclxuICAgICAgICAgICAgICAgICAgICBlbmVteS5pc0RlYWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGVuZW15ID0gbnVsbDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgY2hlY2tQbGF5ZXJTdGF0dXMoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMucGxheWVycy5nZXQoJ3BsYXllcjEnKS5oZWFsdGggPD0gMCAmJiB0aGlzLnBsYXllcnMuZ2V0KCdwbGF5ZXIyJykuaGVhbHRoIDw9IDApIHtcclxuICAgICAgICAgICAgY2xpZW50RGF0YU1hbmFnZXIudXBkYXRlQ2xpZW50RGVhdGhzKGNsaWVudERhdGFNYW5hZ2VyLmRlYXRocyArIDEpO1xyXG4gICAgICAgICAgICBjbGllbnREYXRhTWFuYWdlci51cGRhdGVDbGllbnREYXRhKHsgZGVhdGhzOiBjbGllbnREYXRhTWFuYWdlci5kZWF0aHMgfSk7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RvcCgpO1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdHYW1lU2NlbmUnKTtcclxuXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZSgpIHtcclxuICAgICAgICB0aGlzLmZvbmRvLnRpbGVQb3NpdGlvblggPSB0aGlzLmNhbWVyYXMubWFpbi5zY3JvbGxYICogMC4yO1xyXG5cclxuICAgICAgICB0aGlzLmNhbWVyYS51cGRhdGUoKTtcclxuICAgICAgICB0aGlzLmlucHV0TWFuYWdlci51cGRhdGUoKTtcclxuXHJcbiAgICAgICAgdGhpcy5hcnRodXIubGlnaHQudXBkYXRlKCk7XHJcblxyXG4gICAgICAgIHRoaXMuZW5lbWllcy5mb3JFYWNoKChlbmVteSkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIWVuZW15IHx8IGVuZW15LmlzRGVhZCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5lbmVtaWVzLmRlbGV0ZShlbmVteS5pZCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZW5lbXkudXBkYXRlKCk7XHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICAvLy8vLy8vLy8vLy8vLy8vLy8gUkVEIC8vLy8vLy8vLy8vLy8vXHJcbiAgICBvbkNvbm5lY3Rpb25Mb3N0KCkge1xyXG4gICAgICAgIHRoaXMuc2NlbmUucGF1c2UoKTtcclxuICAgICAgICB0aGlzLnNjZW5lLmxhdW5jaCgnQ29ubmVjdGlvbkxvc3RTY2VuZScsIHsgcHJldmlvdXNTY2VuZTogJ0dhbWVTY2VuZScgfSk7XHJcbiAgICB9XHJcblxyXG59IiwiaW1wb3J0IFBoYXNlciBmcm9tICdwaGFzZXInO1xyXG5cclxuZXhwb3J0IGNsYXNzIFBhdXNlU2NlbmUgZXh0ZW5kcyBQaGFzZXIuU2NlbmUge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoJ1BhdXNlU2NlbmUnKTtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGUoZGF0YSkge1xyXG5cclxuICAgICAgICB0aGlzLmlucHV0LmtleWJvYXJkLm9uKCdrZXlkb3duLUVTQycsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy51bnBhdXNlKGRhdGEub3JpZ2luYWxTY2VuZSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuYWRkLnJlY3RhbmdsZSg0MDAsIDMwMCwgODAwLCA2MDAsIDB4MDAwMDAwLCAwLjcpO1xyXG5cclxuICAgICAgICB0aGlzLmFkZC50ZXh0KDQwMCwgMTAwLCAnTWVuw7ogZGUgcGF1c2EnLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnNDhweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnIzNlMjYwNmZmJyxcclxuICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAnI2ZmZmZmZidcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgY29uc3QgcGxheUJ0biA9IHRoaXMuYWRkLnRleHQoNDAwLCAyNTAsICdDb250aW51YXInLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMjRweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnIzNlMjYwNmZmJyxcclxuICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAnI2ZmZmZmZicsXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4gcGxheUJ0bi5zZXRTdHlsZSh7IGZpbGw6ICcjMDAwMDAwMzcnIH0pKVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiBwbGF5QnRuLnNldFN0eWxlKHsgZmlsbDogJyMwMDAwMDAnIH0pKVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy51bnBhdXNlKGRhdGEub3JpZ2luYWxTY2VuZSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvL2JvdG9uIGRlIHNvbmlkb1xyXG4gICAgICAgIGNvbnN0IHZvbHVtZVRleHQgPSB0aGlzLnNvdW5kLm11dGUgPyAnQWN0aXZhciBTb25pZG8nIDogJ0Rlc2FjdGl2YXIgU29uaWRvJztcclxuICAgICAgICBjb25zdCB2b2x1bWVCdG4gPSB0aGlzLmFkZC50ZXh0KDQwMCwgNDAwLCB2b2x1bWVUZXh0LCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMjRweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnIzNlMjYwNmZmJyxcclxuICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAnI2ZmZmZmZicsXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pXHJcbiAgICAgICAgLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IHZvbHVtZUJ0bi5zZXRTdHlsZSh7IGZpbGw6ICcjMDAwMDAwMzcnIH0pKVxyXG4gICAgICAgIC5vbigncG9pbnRlcm91dCcsICgpID0+IHZvbHVtZUJ0bi5zZXRTdHlsZSh7IGZpbGw6ICcjMDAwMDAwJyB9KSlcclxuICAgICAgICAub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnNvdW5kLm11dGUgPSAhdGhpcy5zb3VuZC5tdXRlO1xyXG4gICAgICAgICAgICB2b2x1bWVCdG4uc2V0VGV4dCh0aGlzLnNvdW5kLm11dGUgPyAnQWN0aXZhciBTb25pZG8nIDogJ0Rlc2FjdGl2YXIgU29uaWRvJyk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGNvbnN0IGV4aXRCdG4gPSB0aGlzLmFkZC50ZXh0KDQwMCwgNTUwLCAnVm9sdmVyIGFsIE1lbnUnLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMjRweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnIzNlMjYwNmZmJyxcclxuICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAnI2ZmZmZmZicsXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4gZXhpdEJ0bi5zZXRTdHlsZSh7IGZpbGw6ICcjMDAwMDAwMzcnIH0pKVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiBleGl0QnRuLnNldFN0eWxlKHsgZmlsbDogJyMwMDAwMDAnIH0pKVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5leGl0VG9NZW51KGRhdGEub3JpZ2luYWxTY2VuZSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHVucGF1c2Uob3JpZ2luYWxTY2VuZSkge1xyXG4gICAgICAgIHRoaXMuc2NlbmUuc3RvcCgpO1xyXG4gICAgICAgIHRoaXMuc2NlbmUucmVzdW1lKG9yaWdpbmFsU2NlbmUpO1xyXG4gICAgfVxyXG5cclxuICAgIGV4aXRUb01lbnUob3JpZ2luYWxTY2VuZSkge1xyXG4gICAgICAgIHRoaXMuc2NlbmUuc3RvcChvcmlnaW5hbFNjZW5lKTtcclxuICAgICAgICB0aGlzLnNvdW5kLnN0b3BBbGwoKTtcclxuICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdNZW51U2NlbmUnKTtcclxuICAgIH1cclxufSIsImltcG9ydCBQaGFzZXIgZnJvbSBcInBoYXNlclwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIENyZWRpdHNTY2VuZSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcignQ3JlZGl0c1NjZW5lJylcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGUoKSB7XHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCg0MDAsIDEwMCwgJ0p1ZWdvIGRlc2Fycm9sbGFkbyBwb3I6XFxuXFxuQ2xhdWRpYSBQb3JjdW5hOiBJbnRlcmZhY2VzIHkgYXJ0ZSBcXG5KYXZpZXIgUnVpYmFsOiBQcm9ncmFtYWNpw7NuIFxcbk9zY2FyIFJvZHJpZ3VlejogQXJ0ZSB5IGRpc2XDsW8gXFxuTWFyY29zIE1hdHV0ZXM6IFByb2dyYW1hY2nDs24gXFxuRmVybmFuZG8gUGluOiBTb25pZG8nLFxyXG4gICAgICAgIHsgICBmb250U2l6ZTogJzI0cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmZmZmZicsXHJcbiAgICAgICAgICAgIGFsaWduOiAnY2VudGVyJyxcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgY29uc3QgcmV0dXJuQnRuID0gdGhpcy5hZGQudGV4dCg2MDAsIDUwMCwgJ1JldHVybicsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICcyNHB4JywgXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmZmZmZmZmJyxcclxuICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAnIzAwMDAwMGZmJyxcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7dXNlSGFuZEN1cnNvcjogdHJ1ZX0pXHJcbiAgICAgICAgLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IHJldHVybkJ0bi5zZXRTdHlsZSh7YmFja2dyb3VuZENvbG9yOiAnIzczNzM3M2ZmJ30pKVxyXG4gICAgICAgIC5vbigncG9pbnRlcm91dCcsICgpID0+IHJldHVybkJ0bi5zZXRTdHlsZSh7YmFja2dyb3VuZENvbG9yOiAnIzAwMDAwMGZmJ30pKVxyXG4gICAgICAgIC5vbigncG9pbnRlcmRvd24nLCAoKSA9PntcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5zdGFydCgnTWVudVNjZW5lJyk7XHJcbiAgICAgICAgfSk7XHJcblxyXG5cclxuICAgIH1cclxufSIsImltcG9ydCB7IEFuaW1hdG9yIH0gZnJvbSBcIi4uL0NvbXBvbmVudHMvQW5pbWF0b3JcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBQdXBwZXQge1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHNjZW5lLCBpZCwgeFBvcywgeVBvcywgc3ByaXRlU2hlZXQgPSBudWxsLCBpc1BsYXllcikge1xyXG4gICAgICAgIHRoaXMuaWQgPSBpZDtcclxuICAgICAgICB0aGlzLnNjZW5lID0gc2NlbmU7XHJcbiAgICAgICAgdGhpcy54UG9zID0geFBvcztcclxuICAgICAgICB0aGlzLnlQb3MgPSB5UG9zO1xyXG4gICAgICAgIHRoaXMuY3VycmVudEFuaW0gPSBudWxsO1xyXG4gICAgICAgIHRoaXMuaXNQbGF5ZXIgPSBpc1BsYXllcjtcclxuICAgICAgICB0aGlzLmFuaW1hdG9yID0gbmV3IEFuaW1hdG9yKHNjZW5lLCBzcHJpdGVTaGVldCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJlbG9hZCh3aWR0aCwgaGVpZ2h0KSB7XHJcbiAgICAgICAgdGhpcy5hbmltYXRvci5wcmVsb2FkKHdpZHRoLCBoZWlnaHQpO1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZSgpIHtcclxuICAgICAgICAvLyBDcmVhciBzcHJpdGUgc2luIGbDrXNpY2FzXHJcbiAgICAgICAgdGhpcy5zcHJpdGUgPSB0aGlzLmFuaW1hdG9yLmNyZWF0ZVNwcml0ZSh0aGlzLnhQb3MsIHRoaXMueVBvcyk7XHJcblxyXG4gICAgICAgIC8vIENyZWFyIGFuaW1hY2lvbmVzIGlndWFsIHF1ZSBQbGF5ZXJcclxuICAgICAgICBpZiAodGhpcy5pc1BsYXllcikge1xyXG4gICAgICAgICAgICB0aGlzLmFuaW1hdG9yLmNyZWF0ZUFuaW1hdGlvbihgaWRsZS0ke3RoaXMuaWR9YCwgMCwgMywgNCk7XHJcbiAgICAgICAgICAgIHRoaXMuYW5pbWF0b3IuY3JlYXRlQW5pbWF0aW9uKGB3YWxrLSR7dGhpcy5pZH1gLCA0LCA3LCA1KTtcclxuICAgICAgICAgICAgdGhpcy5hbmltYXRvci5jcmVhdGVBbmltYXRpb24oYGp1bXAtJHt0aGlzLmlkfWAsIDgsIDgsIDQsIDApO1xyXG4gICAgICAgICAgICB0aGlzLmFuaW1hdG9yLmNyZWF0ZUFuaW1hdGlvbihgYWlyLSR7dGhpcy5pZH1gLCA5LCAxMCwgMSwgMCk7XHJcbiAgICAgICAgICAgIHRoaXMuYW5pbWF0b3IuY3JlYXRlQW5pbWF0aW9uKGBmYWxsLSR7dGhpcy5pZH1gLCAxMCwgMTAsIDEsIDApO1xyXG4gICAgICAgICAgICB0aGlzLmFuaW1hdG9yLmNyZWF0ZUFuaW1hdGlvbihgYXR0YWNrLSR7dGhpcy5pZH1gLCAxMiwgMTMsIDIsIDApO1xyXG4gICAgICAgICAgICB0aGlzLnNwcml0ZS5zZXRTY2FsZSgwLjIzKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmFuaW1hdG9yLmNyZWF0ZUFuaW1hdGlvbihgaWRsZS0ke3RoaXMuaWR9YCwgMCwgMiwgNSk7XHJcbiAgICAgICAgICAgIHRoaXMuYW5pbWF0b3IuY3JlYXRlQW5pbWF0aW9uKGBpZGxlLXdoaXRlLSR7dGhpcy5pZH1gLCAzLCA1LCA1KTtcclxuICAgICAgICAgICAgdGhpcy5hbmltYXRvci5jcmVhdGVBbmltYXRpb24oYGJsYWNrLXRvLXdoaXRlLSR7dGhpcy5pZH1gLCA2LCA4LCA4LCAwKTtcclxuICAgICAgICAgICAgdGhpcy5hbmltYXRvci5jcmVhdGVBbmltYXRpb24oYHdoaXRlLXRvLWJsYWNrLSR7dGhpcy5pZH1gLCA2LCA4LCA4LCAwKTtcclxuICAgICAgICAgICAgdGhpcy5hbmltYXRvci5jcmVhdGVBbmltYXRpb24oYGRpZS0ke3RoaXMuaWR9YCwgOSwgMTEsIDgsIDApO1xyXG4gICAgICAgICAgICB0aGlzLnNwcml0ZS5zZXRTY2FsZSgwLjM1KTtcclxuICAgICAgICB9XHJcblxyXG5cclxuXHJcbiAgICAgICAgdGhpcy5zcHJpdGUuc2V0RGVwdGgoMjAwKTtcclxuXHJcbiAgICAgICAgLy8gQW5pbWFjacOzbiBwb3IgZGVmZWN0b1xyXG4gICAgICAgIHRoaXMuc3ByaXRlLnBsYXkoYGlkbGUtJHt0aGlzLmlkfWApO1xyXG4gICAgfVxyXG5cclxuICAgIHBsYXlBbmltKGtleSkge1xyXG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRBbmltICE9PSBrZXkpIHtcclxuICAgICAgICAgICAgdGhpcy5zcHJpdGUucGxheShrZXksIHRydWUpO1xyXG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRBbmltID0ga2V5O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBTaSBxdWllcmVzIHF1ZSBoYWdhIHVuIGJ1Y2xlIGRlIGFuaW1hY2lvbmVzIGF1dG9tw6F0aWNhbWVudGU6XHJcbiAgICBsb29wQW5pbWF0aW9uTGlzdChhbmltcywgZGVsYXkgPSAxMDAwKSB7XHJcbiAgICAgICAgbGV0IGluZGV4ID0gMDtcclxuICAgICAgICB0aGlzLnNjZW5lLnRpbWUuYWRkRXZlbnQoe1xyXG4gICAgICAgICAgICBkZWxheSxcclxuICAgICAgICAgICAgbG9vcDogdHJ1ZSxcclxuICAgICAgICAgICAgY2FsbGJhY2s6ICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMucGxheUFuaW0oYW5pbXNbaW5kZXhdKTtcclxuICAgICAgICAgICAgICAgIGluZGV4ID0gKGluZGV4ICsgMSkgJSBhbmltcy5sZW5ndGg7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxufSIsImltcG9ydCBQaGFzZXIgZnJvbSBcInBoYXNlclwiO1xyXG5pbXBvcnQgeyBQdXBwZXQgfSBmcm9tIFwiLi4vZW50aXRpZXMvUHVwcGV0LmpzXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgSW50cm9TY2VuZSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcignSW50cm9TY2VuZScpXHJcbiAgICB9XHJcblxyXG4gICAgaW5pdCgpIHtcclxuICAgICAgICB0aGlzLmFydGh1cjEgPSBuZXcgUHVwcGV0KHRoaXMsIFwiY2ExXCIsIDEzMCwgMTIwLCBcInNwcml0ZXNoZWV0LWFydGh1clwiLCB0cnVlKTtcclxuICAgICAgICB0aGlzLmFydGh1cjIgPSBuZXcgUHVwcGV0KHRoaXMsIFwiY2EyXCIsIDM0MCwgMTIwLCBcInNwcml0ZXNoZWV0LWFydGh1clwiLCB0cnVlKTtcclxuICAgICAgICB0aGlzLmFydGh1cjMgPSBuZXcgUHVwcGV0KHRoaXMsIFwiY2EzXCIsIDUwMCwgMTIwLCBcInNwcml0ZXNoZWV0LWFydGh1clwiLCB0cnVlKTtcclxuICAgICAgICB0aGlzLmFydGh1cjQgPSBuZXcgUHVwcGV0KHRoaXMsIFwiY2E0XCIsIDY1MCwgMTIwLCBcInNwcml0ZXNoZWV0LWFydGh1clwiLCB0cnVlKTtcclxuXHJcbiAgICAgICAgdGhpcy5sdWN5MSA9IG5ldyBQdXBwZXQodGhpcywgXCJjbDFcIiwgMTMwLCAzNzAsIFwic3ByaXRlc2hlZXQtbHVjeVwiLCB0cnVlKTtcclxuICAgICAgICB0aGlzLmx1Y3kyID0gbmV3IFB1cHBldCh0aGlzLCBcImNsMlwiLCAzNDAsIDM3MCwgXCJzcHJpdGVzaGVldC1sdWN5XCIsIHRydWUpO1xyXG4gICAgICAgIHRoaXMubHVjeTMgPSBuZXcgUHVwcGV0KHRoaXMsIFwiY2wzXCIsIDUwMCwgMzcwLCBcInNwcml0ZXNoZWV0LWx1Y3lcIiwgdHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5sdWN5NCA9IG5ldyBQdXBwZXQodGhpcywgXCJjbDRcIiwgNjUwLCAzNzAsIFwic3ByaXRlc2hlZXQtbHVjeVwiLCB0cnVlKTtcclxuXHJcbiAgICAgICAgdGhpcy5wdXBwZXRzMSA9IFt0aGlzLmFydGh1cjEsIHRoaXMuYXJ0aHVyMiwgdGhpcy5hcnRodXIzLCB0aGlzLmFydGh1cjQsIHRoaXMubHVjeTEsIHRoaXMubHVjeTIsIHRoaXMubHVjeTMsIHRoaXMubHVjeTRdO1xyXG5cclxuICAgICAgICB0aGlzLmVuZW15MSA9IG5ldyBQdXBwZXQodGhpcywgXCJlbmVteTFcIiwgMzAwLCA5MCwgXCJzcHJpdGVzaGVldC1lbmVtaWdvXCIsIGZhbHNlKTtcclxuICAgICAgICB0aGlzLmVuZW15MiA9IG5ldyBQdXBwZXQodGhpcywgXCJlbmVteTJcIiwgNjAwLCA5MCwgXCJzcHJpdGVzaGVldC1lbmVtaWdvXCIsIGZhbHNlKTtcclxuICAgICAgICB0aGlzLmVuZW15MyA9IG5ldyBQdXBwZXQodGhpcywgXCJlbmVteTNcIiwgMzAwLCAzNDAsIFwic3ByaXRlc2hlZXQtZW5lbWlnb1wiLCBmYWxzZSk7XHJcbiAgICAgICAgdGhpcy5lbmVteTQgPSBuZXcgUHVwcGV0KHRoaXMsIFwiZW5lbXk0XCIsIDYwMCwgMzQwLCBcInNwcml0ZXNoZWV0LWVuZW1pZ29cIiwgZmFsc2UpO1xyXG5cclxuICAgICAgICB0aGlzLnB1cHBldHMyID0gW3RoaXMuZW5lbXkxLCB0aGlzLmVuZW15MiwgdGhpcy5lbmVteTMsIHRoaXMuZW5lbXk0XTtcclxuICAgIH1cclxuXHJcbiAgICBwcmVsb2FkKCkge1xyXG5cclxuXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdpbnRybycsICdhc3NldHMvcDFlbnRyYW5kby5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2ludHJvMicsICdhc3NldHMvcDF5cDIucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdjb250cm9scycsICdhc3NldHMvaWx1c3RyYWNpb25NZWNhbmljYXMucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdjb21iYXQnLCAnYXNzZXRzL2lsdXN0cmFjaW9uQ29tYmF0ZS5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ21hbnNpb24nLCAnYXNzZXRzL21hbnNpb24ucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdsdWN5UGVla2luZycsICdhc3NldHMvbHVjeVBlZWtpbmcucG5nJyk7XHJcblxyXG4gICAgICAgIHRoaXMucHVwcGV0czEuZm9yRWFjaChwdXBwZXQgPT4gcHVwcGV0LnByZWxvYWQoNjAwLCA4MDApKTtcclxuICAgICAgICB0aGlzLnB1cHBldHMyLmZvckVhY2gocHVwcGV0ID0+IHB1cHBldC5wcmVsb2FkKDYwMCwgODAwKSk7XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlKCkge1xyXG4gICAgICAgIHRoaXMuaW50cm9UZXh0ID0gW1xyXG4gICAgICAgICAgICBcIjE5NTMsIEJpcm1pbmdoYW0sIEluZ2xhdGVycmEsIFxcbmhhY2UgMjcgYcOxb3MgbGEgZmFtaWxpYSBGZWx0b24gZnVlIG1pc3Rlcmlvc2FtZW50ZSBcXG5hc2VzaW5hZGEsXFxuIG5hZGllIHNlIGhhIGF0cmV2aWRvIGEgZW50cmFyIGVuIHN1IG1hbnNpw7NuLlwiLFxyXG4gICAgICAgICAgICBcIkhhc3RhIGhveS4gXFxuICAgICAgICAgICBcXG5BcnRodXIsIGRpc3B1ZXN0byBhIHJlc29sdmVyIGVsIGNhc29cXG4gc2UgYWRlbnRyYSBlbiBsYSBzb21icsOtYSBtYW5zacOzbi5cIixcclxuICAgICAgICAgICAgXCJQZXJvIG5vIGVzdMOhIHNvbG8uXFxuQWxnbyBsZSBvYnNlcnZhIGRlc2RlIGxhcyBzb21icmFzLi4uXFxuTyBtw6FzIGJpZW4sXFxuQWxndWllbi5cIixcclxuICAgICAgICAgICAgXCJMYSBmYW50YXNtYSByZXN1bHTDsyBzZXIgZXh0cmHDsWFtZW50ZSBhbWlnYWJsZSxcXG5PZnJlY2nDqW5kb3NlIGNvbW8gZ3XDrWEgeSBwcm90ZWN0b3JhXFxuIGVuIHN1IGludmVzdGlnYWPDrW9uIHBvciBsYSBtYW5zacOzbi5cIixcclxuICAgICAgICAgICAgXCIgXCIsXHJcbiAgICAgICAgICAgIFwiIFwiXHJcbiAgICAgICAgXTtcclxuICAgICAgICB0aGlzLnRleHRJbmRleCA9IDA7XHJcbiAgICAgICAgdGhpcy5pblByb2dyZXNzID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5pbnRyb0ltYWdlMCA9IHRoaXMuYWRkLmltYWdlKDQwMCwgMjAwLCAnbWFuc2lvbicpO1xyXG5cclxuICAgICAgICB0aGlzLmludHJvSW1hZ2UxID0gdGhpcy5hZGQuaW1hZ2UoNDAwLCAyMDAsICdpbnRybycpO1xyXG4gICAgICAgIHRoaXMuaW50cm9JbWFnZUwgPSB0aGlzLmFkZC5pbWFnZSg0MDAsIDIwMCwgJ2x1Y3lQZWVraW5nJyk7XHJcbiAgICAgICAgdGhpcy5pbnRyb0ltYWdlMiA9IHRoaXMuYWRkLmltYWdlKDQwMCwgMjAwLCAnaW50cm8yJyk7XHJcbiAgICAgICAgdGhpcy5jb250cm9sc0ltYWdlID0gdGhpcy5hZGQuaW1hZ2UoNDAwLCAyNzAsICdjb250cm9scycpO1xyXG4gICAgICAgIHRoaXMuY29tYmF0SW1hZ2UgPSB0aGlzLmFkZC5pbWFnZSg0MDAsIDI3MCwgJ2NvbWJhdCcpO1xyXG4gICAgICAgIHRoaXMuY29udHJvbHNJbWFnZS5zZXRTY2FsZSgwLjkpO1xyXG4gICAgICAgIHRoaXMuY29tYmF0SW1hZ2Uuc2V0U2NhbGUoMC45KTtcclxuICAgICAgICB0aGlzLmN1dHNjZW5lSW1hZ2VzID0gW3RoaXMuaW50cm9JbWFnZTEsIHRoaXMuaW50cm9JbWFnZUwsIHRoaXMuaW50cm9JbWFnZTIsIHRoaXMuY29udHJvbHNJbWFnZSwgdGhpcy5jb21iYXRJbWFnZV07XHJcbiAgICAgICAgdGhpcy5jdXRzY2VuZUltYWdlcy5mb3JFYWNoKGltYWdlID0+IGltYWdlLnNldFZpc2libGUoZmFsc2UpKTtcclxuXHJcblxyXG5cclxuICAgICAgICB0aGlzLmFydGh1cjEuY3JlYXRlKCk7XHJcbiAgICAgICAgdGhpcy5hcnRodXIxLnBsYXlBbmltKGB3YWxrLWNhMWApO1xyXG4gICAgICAgIHRoaXMuYXJ0aHVyMS5zcHJpdGUuZmxpcFggPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuYXJ0aHVyMi5jcmVhdGUoKTtcclxuICAgICAgICB0aGlzLmFydGh1cjIucGxheUFuaW0oYHdhbGstY2EyYCk7XHJcbiAgICAgICAgdGhpcy5hcnRodXIyLnNwcml0ZS5mbGlwWCA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuYXJ0aHVyMy5jcmVhdGUoKTtcclxuICAgICAgICB0aGlzLmFydGh1cjMubG9vcEFuaW1hdGlvbkxpc3QoW2BqdW1wLWNhM2AsIGBhaXItY2EzYCwgJ2ZhbGwtY2EzJ10sIDMwMCk7XHJcbiAgICAgICAgdGhpcy5hcnRodXI0LmNyZWF0ZSgpO1xyXG4gICAgICAgIHRoaXMuYXJ0aHVyNC5sb29wQW5pbWF0aW9uTGlzdChbYGlkbGUtY2E0YCwgYGF0dGFjay1jYTRgXSwgNTAwKTtcclxuICAgICAgICB0aGlzLmx1Y3kxLmNyZWF0ZSgpO1xyXG4gICAgICAgIHRoaXMubHVjeTEucGxheUFuaW0oYHdhbGstY2wxYCk7XHJcbiAgICAgICAgdGhpcy5sdWN5MS5zcHJpdGUuZmxpcFggPSB0cnVlO1xyXG4gICAgICAgIHRoaXMubHVjeTIuY3JlYXRlKCk7XHJcbiAgICAgICAgdGhpcy5sdWN5Mi5wbGF5QW5pbShgd2Fsay1jbDJgKTtcclxuICAgICAgICB0aGlzLmx1Y3kyLnNwcml0ZS5mbGlwWCA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMubHVjeTMuY3JlYXRlKCk7XHJcbiAgICAgICAgdGhpcy5sdWN5My5sb29wQW5pbWF0aW9uTGlzdChbYGp1bXAtY2wzYCwgYGFpci1jbDNgLCAnZmFsbC1jbDMnXSwgMzAwKTtcclxuICAgICAgICB0aGlzLmx1Y3k0LmNyZWF0ZSgpO1xyXG4gICAgICAgIHRoaXMubHVjeTQubG9vcEFuaW1hdGlvbkxpc3QoW2BpZGxlLWNsNGAsIGBhdHRhY2stY2w0YF0sIDUwMCk7XHJcblxyXG4gICAgICAgIHRoaXMucHVwcGV0czEuZm9yRWFjaChwdXBwZXQgPT4gcHVwcGV0LnNwcml0ZS5zZXRWaXNpYmxlKGZhbHNlKSk7XHJcblxyXG4gICAgICAgIHRoaXMuZW5lbXkxLmNyZWF0ZSgpO1xyXG4gICAgICAgIHRoaXMuZW5lbXkxLnBsYXlBbmltKGBpZGxlLWVuZW15MWApO1xyXG4gICAgICAgIHRoaXMuZW5lbXkyLmNyZWF0ZSgpO1xyXG4gICAgICAgIHRoaXMuZW5lbXkyLnBsYXlBbmltKGBpZGxlLXdoaXRlLWVuZW15MmApO1xyXG4gICAgICAgIHRoaXMuZW5lbXkzLmNyZWF0ZSgpO1xyXG4gICAgICAgIHRoaXMuZW5lbXkzLnBsYXlBbmltKGBpZGxlLXdoaXRlLWVuZW15M2ApO1xyXG4gICAgICAgIHRoaXMuZW5lbXk0LmNyZWF0ZSgpO1xyXG4gICAgICAgIHRoaXMuZW5lbXk0Lmxvb3BBbmltYXRpb25MaXN0KFtgd2hpdGUtdG8tYmxhY2stZW5lbXk0YCwgYGRpZS1lbmVteTRgXSwgNTAwKTtcclxuXHJcbiAgICAgICAgdGhpcy5wdXBwZXRzMi5mb3JFYWNoKHB1cHBldCA9PiBwdXBwZXQuc3ByaXRlLnNldFZpc2libGUoZmFsc2UpKTtcclxuXHJcblxyXG4gICAgICAgIGNvbnN0IG5leHRCdG4gPSB0aGlzLmFkZC50ZXh0KDcwMCwgNTUwLCAnU2lndWllbnRlJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzIwcHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmZmZmZicsXHJcbiAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogJyMwMDAwMDAwMCcsXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4gbmV4dEJ0bi5zZXRTdHlsZSh7IGJhY2tncm91bmRDb2xvcjogJyM3MzczNzNmZicgfSkpXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcm91dCcsICgpID0+IG5leHRCdG4uc2V0U3R5bGUoeyBiYWNrZ3JvdW5kQ29sb3I6ICcjMDAwMDAwZmYnIH0pKVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLmluUHJvZ3Jlc3MpIHsgdGhpcy5uZXh0VGV4dCgpOyB9XHJcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKHRoaXMudGV4dEluZGV4KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmludHJvSW1hZ2UwLnNldFZpc2libGUoZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmludHJvSW1hZ2UxLnNldFZpc2libGUodHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaW50cm9JbWFnZTEuc2V0VmlzaWJsZShmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaW50cm9JbWFnZUwuc2V0VmlzaWJsZSh0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pbnRyb0ltYWdlTC5zZXRWaXNpYmxlKGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pbnRyb0ltYWdlMi5zZXRWaXNpYmxlKHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA0OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmludHJvSW1hZ2UyLnNldFZpc2libGUoZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbnRyb2xzSW1hZ2Uuc2V0VmlzaWJsZSh0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wdXBwZXRzMS5mb3JFYWNoKHB1cHBldCA9PiBwdXBwZXQuc3ByaXRlLnNldFZpc2libGUodHJ1ZSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA1OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbnRyb2xzSW1hZ2Uuc2V0VmlzaWJsZShmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29tYmF0SW1hZ2Uuc2V0VmlzaWJsZSh0cnVlKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucHVwcGV0czEuZm9yRWFjaChwdXBwZXQgPT4gcHVwcGV0LnNwcml0ZS5zZXRWaXNpYmxlKGZhbHNlKSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFydGh1cjQuc3ByaXRlLnNldFZpc2libGUodHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYXJ0aHVyNC5zcHJpdGUueCA9IDE1MDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hcnRodXI0LnNwcml0ZS55ID0gMTAwO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sdWN5NC5zcHJpdGUuc2V0VmlzaWJsZSh0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sdWN5NC5zcHJpdGUueCA9IDE1MDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sdWN5NC5zcHJpdGUueSA9IDMzMDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucHVwcGV0czIuZm9yRWFjaChwdXBwZXQgPT4gcHVwcGV0LnNwcml0ZS5zZXRWaXNpYmxlKHRydWUpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3V0c2NlbmVJbWFnZXMuZm9yRWFjaChpbWFnZSA9PiBpbWFnZS5zZXRWaXNpYmxlKGZhbHNlKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfSAvL1NlIHBvZHJpYSBoYWNlciBjb24gdW4gYXJyYXlcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy50ZXh0ID0gdGhpcy5hZGQudGV4dCg0MDAsIDQ2MCwgJycsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICcyNHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmZmYnLFxyXG4gICAgICAgICAgICBhbGlnbjogJ2NlbnRlcicsXHJcblxyXG5cclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgY29uc3Qgc2tpcEJ0biA9IHRoaXMuYWRkLnRleHQoMTAwLCA1NTAsICdTYWx0YXInLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMjBweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmZmZmZmZmJyxcclxuICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAnIzAwMDAwMDAwJyxcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcm92ZXInLCAoKSA9PiBza2lwQnRuLnNldFN0eWxlKHsgYmFja2dyb3VuZENvbG9yOiAnIzczNzM3M2ZmJyB9KSlcclxuICAgICAgICAgICAgLm9uKCdwb2ludGVyb3V0JywgKCkgPT4gc2tpcEJ0bi5zZXRTdHlsZSh7IGJhY2tncm91bmRDb2xvcjogJyMwMDAwMDBmZicgfSkpXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdHYW1lU2NlbmUnKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuc2hvd1RleHQoKTtcclxuICAgIH1cclxuXHJcbiAgICBzaG93VGV4dCgpIHtcclxuICAgICAgICBpZiAodGhpcy50ZXh0SW5kZXggPCB0aGlzLmludHJvVGV4dC5sZW5ndGgpIHtcclxuICAgICAgICAgICAgdGhpcy50ZXh0SW4odGhpcy5pbnRyb1RleHRbdGhpcy50ZXh0SW5kZXhdKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdHYW1lU2NlbmUnKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdGV4dEluKHRleHQpIHtcclxuICAgICAgICB0aGlzLmluUHJvZ3Jlc3MgPSB0cnVlO1xyXG4gICAgICAgIGxldCBpbmRleCA9IDA7XHJcbiAgICAgICAgY29uc3Qgc3BlZWQgPSA3NTsgLy8gVmVsb2NpZGFkIGRlIGVzY3JpdHVyYSBlbiBtc1xyXG5cclxuICAgICAgICBjb25zdCB3cml0ZVRleHQgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChpbmRleCA8IHRleHQubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnRleHQuc2V0VGV4dCh0ZXh0LnN1YnN0cmluZygwLCBpbmRleCArIDEpKTtcclxuICAgICAgICAgICAgICAgIGluZGV4Kys7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnRpbWUuZGVsYXllZENhbGwoc3BlZWQsIHdyaXRlVGV4dCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmluUHJvZ3Jlc3MgPSBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHdyaXRlVGV4dCgpO1xyXG4gICAgfVxyXG4gICAgbmV4dFRleHQoKSB7XHJcbiAgICAgICAgdGhpcy50ZXh0SW5kZXgrKztcclxuICAgICAgICB0aGlzLnNob3dUZXh0KCk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgUGhhc2VyIGZyb20gXCJwaGFzZXJcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBFbmRTY2VuZSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcignRW5kU2NlbmUnKVxyXG4gICAgfVxyXG5cclxuICAgIHByZWxvYWQoKSB7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdwMScsICdhc3NldHMvcDFwMmZvdG8ucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdwMicsICdhc3NldHMvcDFwMlBhcnRpZG8ucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdwMycsICdhc3NldHMvcDFwMnlmYW50YXNtYS5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3A0JywgJ2Fzc2V0cy9wMXAyZVNDQVBBTkRPLnBuZycpO1xyXG5cclxuXHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlKCkge1xyXG4gICAgICAgIHRoaXMuaW50cm9UZXh0ID0gW1xyXG4gICAgICAgICAgICBcIkFydGh1ciB5IEx1Y3kgaGFsbGFuIHVuYSB2aWVqYSBmb3RvIGVudHJlIGxvcyBcXG4gcG9sdm9yaWVudG9zIGxpYnJvcyBkZSBsYSBlc3RhbnRlcsOtYS5cIixcclxuICAgICAgICAgICAgXCJEZSBwcm9udG8sIHRvZG8gZW5jYWphIGVuIGxhIG1lbnRlIGRlIEFydGh1ci5cXG5TdSBvYnNlc2nDs24gc2luIHNlbnRpZG8gY29uIGVsIGNhc29cXG4geSBsYSBjb25leGnDs24gY29uIEx1Y3kuLi5cXG5lbGxhIGVzLi4uXCIsXHJcbiAgICAgICAgICAgIFwiU2luIGVtYmFyZ28sIG5vIGhheSB0aWVtcG8gcGFyYSByZWZsZXhpb25lcy5cIixcclxuICAgICAgICAgICAgXCJEZWJlbiBodWlyLlwiLFxyXG4gICAgICAgICAgICBdO1xyXG4gICAgICAgIHRoaXMudGV4dEluZGV4ID0gMDtcclxuICAgICAgICB0aGlzLmluUHJvZ3Jlc3MgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgdGhpcy5lbmRJbWFnZTEgPSB0aGlzLmFkZC5pbWFnZSg0MDAsIDIwMCwgJ3AxJyk7XHJcbiAgICAgICAgdGhpcy5lbmRJbWFnZTIgPSB0aGlzLmFkZC5pbWFnZSg0MDAsIDIwMCwgJ3AyJyk7XHJcbiAgICAgICAgdGhpcy5lbmRJbWFnZTMgPSB0aGlzLmFkZC5pbWFnZSg0MDAsIDIwMCwgJ3AzJyk7XHJcbiAgICAgICAgdGhpcy5lbmRJbWFnZTQgPSB0aGlzLmFkZC5pbWFnZSg0MDAsIDIwMCwgJ3A0Jyk7XHJcbiAgICAgICAgdGhpcy5lbmRJbWFnZXMgPSBbdGhpcy5lbmRJbWFnZTIsIHRoaXMuZW5kSW1hZ2UzLCB0aGlzLmVuZEltYWdlNF07XHJcbiAgICAgICAgdGhpcy5lbmRJbWFnZXMuZm9yRWFjaChpbWFnZSA9PiBpbWFnZS5zZXRWaXNpYmxlKGZhbHNlKSk7XHJcblxyXG4gICAgICAgIGNvbnN0IG5leHRCdG4gPSB0aGlzLmFkZC50ZXh0KDcwMCwgNTUwLCAnU2lndWllbnRlJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzIwcHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmZmZmZicsXHJcbiAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogJyMwMDAwMDBmZicsXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4gbmV4dEJ0bi5zZXRTdHlsZSh7IGJhY2tncm91bmRDb2xvcjogJyM3MzczNzNmZicgfSkpXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcm91dCcsICgpID0+IG5leHRCdG4uc2V0U3R5bGUoeyBiYWNrZ3JvdW5kQ29sb3I6ICcjMDAwMDAwZmYnIH0pKVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLmluUHJvZ3Jlc3MpIHsgdGhpcy5uZXh0VGV4dCgpOyB9XHJcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKHRoaXMudGV4dEluZGV4KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVuZEltYWdlMS5zZXRWaXNpYmxlKGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbmRJbWFnZTIuc2V0VmlzaWJsZSh0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbmRJbWFnZTIuc2V0VmlzaWJsZShmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZW5kSW1hZ2UzLnNldFZpc2libGUodHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDM6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZW5kSW1hZ2UzLnNldFZpc2libGUoZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVuZEltYWdlNC5zZXRWaXNpYmxlKHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA0OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVuZEltYWdlNC5zZXRWaXNpYmxlKGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLnRleHRvID0gdGhpcy5hZGQudGV4dCg0MDAsIDQ2MCwgJycsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICcyNHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmZmYnLFxyXG4gICAgICAgICAgICBhbGlnbjogJ2NlbnRlcicsXHJcblxyXG5cclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgY29uc3Qgc2tpcEJ0biA9IHRoaXMuYWRkLnRleHQoMTAwLCA1NTAsICdTYWx0YXInLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMjBweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmZmZmZmZmJyxcclxuICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAnIzAwMDAwMDAwJyxcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcm92ZXInLCAoKSA9PiBza2lwQnRuLnNldFN0eWxlKHsgYmFja2dyb3VuZENvbG9yOiAnIzczNzM3M2ZmJyB9KSlcclxuICAgICAgICAgICAgLm9uKCdwb2ludGVyb3V0JywgKCkgPT4gc2tpcEJ0bi5zZXRTdHlsZSh7IGJhY2tncm91bmRDb2xvcjogJyMwMDAwMDBmZicgfSkpXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdHYW1lU2NlbmUyJyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLnNob3dUZXh0KCk7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHNob3dUZXh0KCkge1xyXG4gICAgICAgIGlmICh0aGlzLnRleHRJbmRleCA8IHRoaXMuaW50cm9UZXh0Lmxlbmd0aCkge1xyXG4gICAgICAgICAgICB0aGlzLnRleHRJbih0aGlzLmludHJvVGV4dFt0aGlzLnRleHRJbmRleF0pO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ0dhbWVTY2VuZTInKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdGV4dEluKHRleHQpIHtcclxuICAgICAgICB0aGlzLmluUHJvZ3Jlc3MgPSB0cnVlO1xyXG4gICAgICAgIGxldCBpZHggPSAwO1xyXG4gICAgICAgIGNvbnN0IHNwZWVkID0gNzU7IC8vIHNwZWVkIG9mIHdyaXRpbmcgaW4gbXNcclxuXHJcbiAgICAgICAgY29uc3Qgd3JpdGVMZXR0ZXIgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChpZHggPCB0ZXh0Lmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy50ZXh0by5zZXRUZXh0KHRleHQuc3Vic3RyaW5nKDAsIGlkeCArIDEpKTtcclxuICAgICAgICAgICAgICAgIGlkeCsrO1xyXG4gICAgICAgICAgICAgICAgdGhpcy50aW1lLmRlbGF5ZWRDYWxsKHNwZWVkLCB3cml0ZUxldHRlcik7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmluUHJvZ3Jlc3MgPSBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHdyaXRlTGV0dGVyKCk7XHJcbiAgICB9XHJcbiAgICBuZXh0VGV4dCgpIHtcclxuICAgICAgICB0aGlzLnRleHRJbmRleCsrO1xyXG4gICAgICAgIHRoaXMuc2hvd1RleHQoKTtcclxuICAgIH1cclxufSIsImltcG9ydCBQaGFzZXIgZnJvbSBcInBoYXNlclwiO1xyXG5pbXBvcnQgeyBJbnB1dE1hbmFnZXIgfSBmcm9tIFwiLi4vaGFuZGxlcnMvSW5wdXRNYW5hZ2VyLmpzXCI7XHJcbmltcG9ydCB7IEVuZW15IH0gZnJvbSBcIi4uL2VudGl0aWVzL0VuZW15LmpzXCI7XHJcbmltcG9ydCB7IENvbW1hbmRQcm9jZXNzb3IgfSBmcm9tIFwiLi4vY29tbWFuZC1wYXR0ZXJuL0NvbW1hbmRQcm9jZXNzb3IuanNcIjtcclxuaW1wb3J0IHsgQ2FtZXJhIH0gZnJvbSBcIi4uL0NvbXBvbmVudHMvQ2FtZXJhLmpzXCI7XHJcbmltcG9ydCB7IFBsYXRmb3JtIH0gZnJvbSBcIi4uL2VudGl0aWVzL1BsYXRmb3JtLmpzXCI7XHJcbmltcG9ydCB7IEx1Y3kgfSBmcm9tIFwiLi4vZW50aXRpZXMvTHVjeS5qc1wiO1xyXG5pbXBvcnQgeyBBcnRodXIgfSBmcm9tIFwiLi4vZW50aXRpZXMvQXJ0aHVyLmpzXCI7XHJcblxyXG5cclxuZXhwb3J0IGNsYXNzIEdhbWVTY2VuZTIgZXh0ZW5kcyBQaGFzZXIuU2NlbmUge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoJ0dhbWVTY2VuZTInKVxyXG4gICAgfVxyXG5cclxuICAgIHByZWxvYWQoKSB7XHJcbiAgICAgICAgdGhpcy5hcnRodXIucHJlbG9hZCg2MDAsIDgwMCk7XHJcbiAgICAgICAgdGhpcy5sdWN5LnByZWxvYWQoNjAwLCA4MDApO1xyXG4gICAgICAgIHRoaXMubG9hZC5hdWRpbygnYW1iaWVudCcsICdhc3NldHMvc291bmQvYW1iaWVudC10aGVtZS5tcDMnKTtcclxuXHJcblxyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnZm9uZG8nLCAnYXNzZXRzL0ZvbmRvSG9yaXpvbnRhbC5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3AxJywgJ2Fzc2V0cy9wcm9wcy9wbGF0YWZvcm1hMS5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3N1ZWxvJywgJ2Fzc2V0cy9wcm9wcy9zdWVsby5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3AyJywgJ2Fzc2V0cy9wcm9wcy9wbGF0YWZvcm1hMi5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2MxJywgJ2Fzc2V0cy9wcm9wcy9jb2x1bW5hMS5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2xpYicsICdhc3NldHMvcHJvcHMvbGlicmVyaWEucG5nJyk7XHJcblxyXG4gICAgICAgIHRoaXMuZW5lbWllcy5mb3JFYWNoKGVuZW15ID0+IGVuZW15LnByZWxvYWQoKSk7XHJcbiAgICB9XHJcblxyXG4gICAgaW5pdCgpIHtcclxuICAgICAgICB0aGlzLnNvdW5kLnN0b3BBbGwoKTtcclxuICAgICAgICB0aGlzLmNvbW1hbmRQcm9jZXNzb3IgPSBuZXcgQ29tbWFuZFByb2Nlc3NvcigpO1xyXG4gICAgICAgIHRoaXMucGxheWVycyA9IG5ldyBNYXAoKTtcclxuICAgICAgICB0aGlzLmVuZW1pZXMgPSBuZXcgTWFwKCk7XHJcbiAgICAgICAgdGhpcy5wbGF0Zm9ybXMgPSBuZXcgTWFwKCk7XHJcbiAgICAgICAgdGhpcy5pc1BhdXNlZCA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuaW5wdXRNYW5hZ2VyID0gbmV3IElucHV0TWFuYWdlcih0aGlzLCB0aGlzLnNjZW5lLCB0aGlzLmlucHV0LCB0aGlzLmNvbW1hbmRQcm9jZXNzb3IpO1xyXG4gICAgICAgIHRoaXMuYXJ0aHVyID0gbmV3IEFydGh1cih0aGlzLCAncGxheWVyMScsIDYwMCwgMTAwLCA1MDAsICdzcHJpdGVzaGVldC1hcnRodXInKTtcclxuICAgICAgICB0aGlzLmx1Y3kgPSBuZXcgTHVjeSh0aGlzLCAncGxheWVyMicsIDQ1MCwgMzAwLCA1MDAsICdzcHJpdGVzaGVldC1sdWN5Jyk7XHJcblxyXG4gICAgICAgIC8qdGhpcy5lbmVteTEgPSBuZXcgRW5lbXkodGhpcywgJ2VuZW15MScsIDQwMCwgMTAwLCB0aGlzLnBsYXllcnMpO1xyXG4gICAgICAgIHRoaXMuZW5lbXkyID0gbmV3IEVuZW15KHRoaXMsICdlbmVteTInLCAxMjAwLCAxMDAsIHRoaXMucGxheWVycyk7XHJcbiAgICAgICAgdGhpcy5lbmVteTMgPSBuZXcgRW5lbXkodGhpcywgJ2VuZW15MycsIDIwMDAsIDEwMCwgdGhpcy5wbGF5ZXJzKTtcclxuICAgICAgICB0aGlzLmVuZW15NCA9IG5ldyBFbmVteSh0aGlzLCAnZW5lbXk0JywgMjgwMCwgMTAwLCB0aGlzLnBsYXllcnMpO1xyXG4gICAgICAgIHRoaXMuZW5lbXk1ID0gbmV3IEVuZW15KHRoaXMsICdlbmVteTUnLCAzNTAwLCAxMDAsIHRoaXMucGxheWVycyk7Ki9cclxuXHJcblxyXG4gICAgICAgIHRoaXMuY2FtZXJhID0gbmV3IENhbWVyYSh0aGlzLCB0aGlzLnBsYXllcnMpO1xyXG5cclxuICAgICAgICAvKnRoaXMuZW5lbWllcy5zZXQodGhpcy5lbmVteTEuaWQsIHRoaXMuZW5lbXkxKTtcclxuICAgICAgICB0aGlzLmVuZW1pZXMuc2V0KHRoaXMuZW5lbXkyLmlkLCB0aGlzLmVuZW15Mik7XHJcbiAgICAgICAgdGhpcy5lbmVtaWVzLnNldCh0aGlzLmVuZW15My5pZCwgdGhpcy5lbmVteTMpO1xyXG4gICAgICAgIHRoaXMuZW5lbWllcy5zZXQodGhpcy5lbmVteTQuaWQsIHRoaXMuZW5lbXk0KTtcclxuICAgICAgICB0aGlzLmVuZW1pZXMuc2V0KHRoaXMuZW5lbXk1LmlkLCB0aGlzLmVuZW15NSk7Ki9cclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGUoKSB7XHJcbiAgICAgICAgLy8gTXVzaWNcclxuICAgICAgICB0aGlzLm11c2ljID0gdGhpcy5zb3VuZC5hZGQoJ2FtYmllbnQnKTtcclxuICAgICAgICB0aGlzLm11c2ljLnBsYXkoKTtcclxuICAgICAgICB0aGlzLm11c2ljLnNldFZvbHVtZSgwLjI1KTtcclxuXHJcbiAgICAgICAgLy8gQmFja2dyb3VuZFxyXG4gICAgICAgIHRoaXMuZm9uZG8gPSB0aGlzLmFkZC50aWxlU3ByaXRlKDAsIDAsIDgwMDAsIDIwMDAsICdmb25kbycpXHJcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMCwgMClcclxuICAgICAgICAgICAgLnNldFNjcm9sbEZhY3RvcigwLjIpXHJcbiAgICAgICAgICAgIC5zZXRTY2FsZSgwLjMpO1xyXG5cclxuICAgICAgICAvL0NyZWF0ZSB0aGUgcGxheWVycyBcclxuICAgICAgICB0aGlzLmFydGh1ci5jcmVhdGUoKTtcclxuICAgICAgICB0aGlzLmx1Y3kuY3JlYXRlKCk7XHJcblxyXG4gICAgICAgIC8vIFNldCB1cCBpbnB1dCBhbmQgcGxheWVyc1xyXG4gICAgICAgIHRoaXMucGxheWVycy5zZXQoJ3BsYXllcjEnLCB0aGlzLmFydGh1cik7XHJcbiAgICAgICAgdGhpcy5wbGF5ZXJzLnNldCgncGxheWVyMicsIHRoaXMubHVjeSk7XHJcblxyXG4gICAgICAgIHRoaXMuaW5wdXRNYW5hZ2VyLnBsYXllcnMgPSB0aGlzLnBsYXllcnM7XHJcblxyXG4gICAgICAgIC8vIFNldCB1cCBlbmVtaWVzXHJcbiAgICAgICAgdGhpcy5lbmVtaWVzLmZvckVhY2goKGVuZW15KSA9PiB7XHJcbiAgICAgICAgICAgIGVuZW15LmNyZWF0ZSgpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLnNldFVwV29ybGRDb2xsaXNpb25zKCk7XHJcbiAgICAgICAgdGhpcy5zZXRVcEVuZW15Q29sbGlzaW9ucygpO1xyXG4gICAgICAgIHRoaXMuc2V0VXBSZXZpdmVDb2xsaXNpb24oKTtcclxuXHJcbiAgICAgICAgdGhpcy5waHlzaWNzLndvcmxkLnNldEJvdW5kcygwLCAwLCA0MTc1LCA2MDApO1xyXG4gICAgICAgIHRoaXMuY2FtZXJhLmNhbWVyYS5zZXRCb3VuZHMoMCwgMCwgNDE3NSwgNjAwKTtcclxuXHJcbiAgICAgICAgdGhpcy5jYW1lcmEuY2FtZXJhLnNldExlcnAoMC4xLCAwLjEpO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBzZXRVcFJldml2ZUNvbGxpc2lvbigpIHtcclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLm92ZXJsYXAodGhpcy5wbGF5ZXJzLmdldCgncGxheWVyMScpLnNwcml0ZSwgdGhpcy5wbGF5ZXJzLmdldCgncGxheWVyMicpLnNwcml0ZSwgKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5wbGF5ZXJzLmdldCgncGxheWVyMScpLmhlYWx0aCA8PSAwICYmIHRoaXMucGxheWVycy5nZXQoJ3BsYXllcjInKS5oZWFsdGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBsYXllcnMuZ2V0KCdwbGF5ZXIxJykucmV2aXZlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5wbGF5ZXJzLmdldCgncGxheWVyMicpLmhlYWx0aCA8PSAwICYmIHRoaXMucGxheWVycy5nZXQoJ3BsYXllcjEnKS5oZWFsdGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBsYXllcnMuZ2V0KCdwbGF5ZXIyJykucmV2aXZlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBzZXRVcFdvcmxkQ29sbGlzaW9ucygpIHtcclxuICAgICAgICAvL1NldCB1cCBwbGF0Zm9ybXMgYW5kIGNvbGxpc2lvbnNcclxuXHJcbiAgICAgICAgdGhpcy5zdWVsbzEgPSBuZXcgUGxhdGZvcm0odGhpcywgJ3MxJywgMjUwMCwgNTkwLCA1MDAwLCA0MCwgJ3N1ZWxvJyk7XHJcbiAgICAgICAgLyp0aGlzLnBsYXQxID0gbmV3IFBsYXRmb3JtKHRoaXMsICdwMScsIDIwMCwgNDUwLCAyMDAsIDMwLCAncDEnKTtcclxuICAgICAgICB0aGlzLnBsYXQyID0gbmV3IFBsYXRmb3JtKHRoaXMsICdwMicsIDQ1MCwgMzAwLCAyMDAsIDMwLCAncDEnKTtcclxuICAgICAgICB0aGlzLnN1ZWxvMiA9IG5ldyBQbGF0Zm9ybSh0aGlzLCAnczInLCAxMjAwLCA1NTAsIDUwMCwgMjAwLCAncDInKTtcclxuICAgICAgICB0aGlzLmNvbDEgPSBuZXcgUGxhdGZvcm0odGhpcywgJ2MxJywgNzAwLCA0NTAsIDcwLCAzMDAsICdjMScpO1xyXG4gICAgICAgIHRoaXMuY29sMiA9IG5ldyBQbGF0Zm9ybSh0aGlzLCAnYzInLCAyMjAwLCA0NTAsIDcwLCA0MDAsICdjMScpO1xyXG4gICAgICAgIHRoaXMucGxhdDMgPSBuZXcgUGxhdGZvcm0odGhpcywgJ3AzJywgMTgwMCwgNDUwLCAxNTAsIDMwLCAncDEnKTtcclxuICAgICAgICB0aGlzLnBsYXQ0ID0gbmV3IFBsYXRmb3JtKHRoaXMsICdwNCcsIDE1MDAsIDMwMCwgMTUwLCAzMCwgJ3AxJyk7XHJcbiAgICAgICAgdGhpcy5wbGF0NSA9IG5ldyBQbGF0Zm9ybSh0aGlzLCAncDUnLCAyMDAwLCAyMDAsIDE1MCwgMzAsICdwMScpO1xyXG4gICAgICAgIHRoaXMuc3VlbG8zID0gbmV3IFBsYXRmb3JtKHRoaXMsICdzMycsIDIyMDAsIDU1MCwgMjMwLCAxMDAsICdwMicpO1xyXG4gICAgICAgIHRoaXMuc3VlbG80ID0gbmV3IFBsYXRmb3JtKHRoaXMsICdzNCcsIDI4MDAsIDUwMCwgNTUwLCAyNTAsICdwMicpO1xyXG4gICAgICAgIHRoaXMucGxhdDYgPSBuZXcgUGxhdGZvcm0odGhpcywgJ3A2JywgMzE1MCwgMjUwLCAxNTAsIDMwLCAncDEnKTtcclxuICAgICAgICB0aGlzLnBsYXQ3ID0gbmV3IFBsYXRmb3JtKHRoaXMsICdwNycsIDM1MDAsIDI1MCwgMTUwLCAzMCwgJ3AxJyk7XHJcbiAgICAgICAgdGhpcy5wbGF0OCA9IG5ldyBQbGF0Zm9ybSh0aGlzLCAncDgnLCAzMTUwLCA0NTAsIDE1MCwgMzAsICdwMScpO1xyXG4gICAgICAgIHRoaXMuc3VlbG81ID0gbmV3IFBsYXRmb3JtKHRoaXMsICdzNScsIDQwMDEsIDQ1MCwgMzUwLCAzNTAsICdwMicpOyovXHJcblxyXG5cclxuICAgICAgICB0aGlzLnBsYXRmb3Jtcy5zZXQoJ3MxJywgdGhpcy5zdWVsbzEpO1xyXG4gICAgICAgIC8qdGhpcy5wbGF0Zm9ybXMuc2V0KCdwMScsIHRoaXMucGxhdDEpO1xyXG4gICAgICAgIHRoaXMucGxhdGZvcm1zLnNldCgncDInLCB0aGlzLnBsYXQyKTtcclxuICAgICAgICB0aGlzLnBsYXRmb3Jtcy5zZXQoJ3MyJywgdGhpcy5zdWVsbzIpO1xyXG4gICAgICAgIHRoaXMucGxhdGZvcm1zLnNldCgnYzEnLCB0aGlzLmNvbDEpO1xyXG4gICAgICAgIHRoaXMucGxhdGZvcm1zLnNldCgnYzInLCB0aGlzLmNvbDIpO1xyXG4gICAgICAgIHRoaXMucGxhdGZvcm1zLnNldCgncDMnLCB0aGlzLnBsYXQzKTtcclxuICAgICAgICB0aGlzLnBsYXRmb3Jtcy5zZXQoJ3A0JywgdGhpcy5wbGF0NCk7XHJcbiAgICAgICAgdGhpcy5wbGF0Zm9ybXMuc2V0KCdwNScsIHRoaXMucGxhdDUpO1xyXG4gICAgICAgIHRoaXMucGxhdGZvcm1zLnNldCgnczMnLCB0aGlzLnN1ZWxvMyk7XHJcbiAgICAgICAgdGhpcy5wbGF0Zm9ybXMuc2V0KCdzNCcsIHRoaXMuc3VlbG80KTtcclxuICAgICAgICB0aGlzLnBsYXRmb3Jtcy5zZXQoJ3M1JywgdGhpcy5zdWVsbzUpO1xyXG4gICAgICAgIHRoaXMucGxhdGZvcm1zLnNldCgncDYnLCB0aGlzLnBsYXQ2KTtcclxuICAgICAgICB0aGlzLnBsYXRmb3Jtcy5zZXQoJ3A3JywgdGhpcy5wbGF0Nyk7XHJcbiAgICAgICAgdGhpcy5wbGF0Zm9ybXMuc2V0KCdwOCcsIHRoaXMucGxhdDgpOyovXHJcblxyXG4gICAgICAgIHRoaXMucGxhdGZvcm1zLmZvckVhY2gocCA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMucGxheWVycy5mb3JFYWNoKHBlcnNvbmFqZSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHBlcnNvbmFqZS5zcHJpdGUsIHAuc3ByaXRlKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHRoaXMuZW5lbWllcy5mb3JFYWNoKGVuZW1pZ28gPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcihlbmVtaWdvLnNwcml0ZSwgcC5zcHJpdGUpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLyp0aGlzLmxpYnJlcmlhID0gbmV3IFBsYXRmb3JtKHRoaXMsICdsaWInLCA0MDAwLCAyMDgsIDEwMCwgMTUwLCAnbGliJyk7XHJcbiAgICAgICAgdGhpcy5saWJyZXJpYS5zcHJpdGUuc2V0RGVwdGgoMik7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5vdmVybGFwKHRoaXMubGlicmVyaWEuc3ByaXRlLCB0aGlzLmFydGh1ci5zcHJpdGUsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5zdG9wKCk7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ0VuZFNjZW5lJyk7XHJcbiAgICAgICAgfSk7Ki9cclxuICAgIH1cclxuXHJcbiAgICBzZXRVcEVuZW15Q29sbGlzaW9ucygpIHtcclxuICAgICAgICB0aGlzLmVuZW1pZXMuZm9yRWFjaCgoZW5lbXkpID0+IHtcclxuXHJcbiAgICAgICAgICAgIC8vIEVtZW55IGhpdHMgXHJcbiAgICAgICAgICAgIHRoaXMucGh5c2ljcy5hZGQuY29sbGlkZXIoZW5lbXkuc3ByaXRlLCB0aGlzLnBsYXllcnMuZ2V0KCdwbGF5ZXIxJykuc3ByaXRlLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZW5lbXkgJiYgdGhpcy5wbGF5ZXJzLmdldCgncGxheWVyMScpLmhlYWx0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBsYXllcnMuZ2V0KCdwbGF5ZXIxJykuZ2V0SGl0KDUwKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNoZWNrUGxheWVyU3RhdHVzKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcihlbmVteS5zcHJpdGUsIHRoaXMucGxheWVycy5nZXQoJ3BsYXllcjInKS5zcHJpdGUsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChlbmVteSAmJiB0aGlzLnBsYXllcnMuZ2V0KCdwbGF5ZXIyJykuaGVhbHRoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGxheWVycy5nZXQoJ3BsYXllcjInKS5nZXRIaXQoNTApO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2hlY2tQbGF5ZXJTdGF0dXMoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAvLyBQbGF5ZXIgbGlnaHRzIGVuZW15XHJcbiAgICAgICAgICAgIHRoaXMucGh5c2ljcy5hZGQub3ZlcmxhcChlbmVteS5zcHJpdGUsIHRoaXMuYXJ0aHVyLmxpZ2h0LmNvbGxpZGVyQ2lyY2xlLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5hcnRodXIubGlnaHQuaXNPbiAmJiBlbmVteSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGVuZW15LnNldFdlYWtlbmVkKHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudGltZS5kZWxheWVkQ2FsbCg0MDAwLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlbmVteSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5lbXkuc2V0V2Vha2VuZWQoZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgLy8gUGxheWVyIGF0dGFja3MgZW5lbXlcclxuICAgICAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5vdmVybGFwKGVuZW15LnNwcml0ZSwgdGhpcy5wbGF5ZXJzLmdldCgncGxheWVyMicpLmF0dGFja0hpdGJveCwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKGVuZW15Py53ZWFrZW5lZCAmJiB0aGlzLnBsYXllcnMuZ2V0KCdwbGF5ZXIyJykuaXNBdHRhY2tpbmcpIHtcclxuICAgICAgICAgICAgICAgICAgICBlbmVteS5kaWUoKTtcclxuICAgICAgICAgICAgICAgICAgICBlbmVteS5pc0RlYWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGVuZW15ID0gbnVsbDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgY2hlY2tQbGF5ZXJTdGF0dXMoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMucGxheWVycy5nZXQoJ3BsYXllcjEnKS5oZWFsdGggPD0gMCAmJiB0aGlzLnBsYXllcnMuZ2V0KCdwbGF5ZXIyJykuaGVhbHRoIDw9IDApIHtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5zdG9wKCk7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ0dhbWVTY2VuZScpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGUoKSB7XHJcbiAgICAgICAgdGhpcy5mb25kby50aWxlUG9zaXRpb25YID0gdGhpcy5jYW1lcmFzLm1haW4uc2Nyb2xsWCAqIDAuMjtcclxuXHJcbiAgICAgICAgdGhpcy5jYW1lcmEudXBkYXRlKCk7XHJcbiAgICAgICAgdGhpcy5pbnB1dE1hbmFnZXIudXBkYXRlKCk7XHJcblxyXG4gICAgICAgIHRoaXMuYXJ0aHVyLmxpZ2h0LnVwZGF0ZSgpO1xyXG5cclxuICAgICAgICB0aGlzLmVuZW1pZXMuZm9yRWFjaCgoZW5lbXkpID0+IHtcclxuICAgICAgICAgICAgaWYgKCFlbmVteSB8fCBlbmVteS5pc0RlYWQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZW5lbWllcy5kZWxldGUoZW5lbXkuaWQpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVuZW15LnVwZGF0ZSgpO1xyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG5cclxufSIsImltcG9ydCBQaGFzZXIgZnJvbSAncGhhc2VyJztcclxuaW1wb3J0IHsgY29ubmVjdGlvbk1hbmFnZXIgfSBmcm9tICcuLi9zZXJ2aWNlcy9Db25uZWN0aW9uTWFuYWdlcic7XHJcblxyXG4vKipcclxuICogRXNjZW5hIHF1ZSBzZSBtdWVzdHJhIGN1YW5kbyBzZSBwaWVyZGUgbGEgY29uZXhpw7NuIGNvbiBlbCBzZXJ2aWRvclxyXG4gKiBQYXVzYSBlbCByZXN0byBkZSBlc2NlbmFzIHkgY29tcHJ1ZWJhIGNvbnRpbnVhbWVudGUgaGFzdGEgcXVlIHNlIHJlc3RhYmxlemNhXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgQ29ubmVjdGlvbkxvc3RTY2VuZSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcignQ29ubmVjdGlvbkxvc3RTY2VuZScpO1xyXG4gICAgICAgIHRoaXMucmVjb25uZWN0Q2hlY2tJbnRlcnZhbCA9IG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgaW5pdChkYXRhKSB7XHJcbiAgICAgICAgLy8gR3VhcmRhciBsYSBlc2NlbmEgcXVlIGVzdGFiYSBhY3RpdmEgY3VhbmRvIHNlIHBlcmRpw7MgbGEgY29uZXhpw7NuXHJcbiAgICAgICAgdGhpcy5wcmV2aW91c1NjZW5lID0gZGF0YS5wcmV2aW91c1NjZW5lO1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZSgpIHtcclxuICAgICAgICAvLyBGb25kbyBzZW1pLXRyYW5zcGFyZW50ZVxyXG4gICAgICAgIHRoaXMuYWRkLnJlY3RhbmdsZSg0MDAsIDMwMCwgODAwLCA2MDAsIDB4MDAwMDAwLCAwLjgpO1xyXG5cclxuICAgICAgICAvLyBUw610dWxvXHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCg0MDAsIDIwMCwgJ0NPTkVYScOTTiBQRVJESURBJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzQ4cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZjAwMDAnLFxyXG4gICAgICAgICAgICBmb250U3R5bGU6ICdib2xkJ1xyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICAvLyBNZW5zYWplXHJcbiAgICAgICAgdGhpcy5zdGF0dXNUZXh0ID0gdGhpcy5hZGQudGV4dCg0MDAsIDMwMCwgJ0ludGVudGFuZG8gcmVjb25lY3Rhci4uLicsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICcyNHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZjAwJ1xyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICAvLyBDb250YWRvciBkZSBpbnRlbnRvc1xyXG4gICAgICAgIHRoaXMuYXR0ZW1wdENvdW50ID0gMDtcclxuICAgICAgICB0aGlzLmF0dGVtcHRUZXh0ID0gdGhpcy5hZGQudGV4dCg0MDAsIDM1MCwgJ0ludGVudG9zOiAwJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzE4cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmZmYnXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIC8vIEluZGljYWRvciBwYXJwYWRlYW50ZVxyXG4gICAgICAgIHRoaXMuZG90Q291bnQgPSAwO1xyXG4gICAgICAgIHRoaXMudGltZS5hZGRFdmVudCh7XHJcbiAgICAgICAgICAgIGRlbGF5OiAyMDAwLFxyXG4gICAgICAgICAgICBjYWxsYmFjazogKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kb3RDb3VudCA9ICh0aGlzLmRvdENvdW50ICsgMSkgJSA0O1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZG90cyA9ICcuJy5yZXBlYXQodGhpcy5kb3RDb3VudCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXR1c1RleHQuc2V0VGV4dChgSW50ZW50YW5kbyByZWNvbmVjdGFyJHtkb3RzfWApO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBsb29wOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIExpc3RlbmVyIHBhcmEgY2FtYmlvcyBkZSBjb25leGnDs25cclxuICAgICAgICB0aGlzLmNvbm5lY3Rpb25MaXN0ZW5lciA9IChkYXRhKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChkYXRhLmNvbm5lY3RlZCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5vblJlY29ubmVjdGVkKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIGNvbm5lY3Rpb25NYW5hZ2VyLmFkZExpc3RlbmVyKHRoaXMuY29ubmVjdGlvbkxpc3RlbmVyKTtcclxuXHJcbiAgICAgICAgLy8gSW50ZW50YXIgcmVjb25lY3RhciBjYWRhIDIgc2VndW5kb3NcclxuICAgICAgICB0aGlzLnJlY29ubmVjdENoZWNrSW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuYXR0ZW1wdFJlY29ubmVjdCgpO1xyXG4gICAgICAgIH0sIDIwMDApO1xyXG5cclxuICAgICAgICAvLyBQcmltZXIgaW50ZW50byBpbm1lZGlhdG9cclxuICAgICAgICB0aGlzLmF0dGVtcHRSZWNvbm5lY3QoKTtcclxuICAgIH1cclxuXHJcbiAgICBhc3luYyBhdHRlbXB0UmVjb25uZWN0KCkge1xyXG4gICAgICAgIHRoaXMuYXR0ZW1wdENvdW50Kys7XHJcbiAgICAgICAgaWYgKHRoaXMuYXR0ZW1wdENvdW50ID4gMzApIHtcclxuICAgICAgICAgICAgdGhpcy5zdGF0dXNUZXh0LnNldFRleHQoJ05vIHNlIHB1ZG8gZXN0YWJsZWNlciBsYSBjb25leGnDs24nKTtcclxuICAgICAgICAgICAgdGhpcy5zdGF0dXNUZXh0LnNldENvbG9yKCcjZmYwMDAwJyk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5hdHRlbXB0VGV4dC5zZXRUZXh0KGBJbnRlbnRvczogJHt0aGlzLmF0dGVtcHRDb3VudH1gKTtcclxuICAgICAgICBhd2FpdCBjb25uZWN0aW9uTWFuYWdlci5jaGVja0Nvbm5lY3Rpb24oKTtcclxuICAgIH1cclxuXHJcbiAgICBvblJlY29ubmVjdGVkKCkge1xyXG4gICAgICAgIC8vIExpbXBpYXIgaW50ZXJ2YWxcclxuICAgICAgICBpZiAodGhpcy5yZWNvbm5lY3RDaGVja0ludGVydmFsKSB7XHJcbiAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5yZWNvbm5lY3RDaGVja0ludGVydmFsKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFJlbW92ZXIgbGlzdGVuZXJcclxuICAgICAgICBjb25uZWN0aW9uTWFuYWdlci5yZW1vdmVMaXN0ZW5lcih0aGlzLmNvbm5lY3Rpb25MaXN0ZW5lcik7XHJcblxyXG4gICAgICAgIC8vIE1lbnNhamUgZGUgw6l4aXRvXHJcbiAgICAgICAgdGhpcy5zdGF0dXNUZXh0LnNldFRleHQoJ8KhQ29uZXhpw7NuIHJlc3RhYmxlY2lkYSEnKTtcclxuICAgICAgICB0aGlzLnN0YXR1c1RleHQuc2V0Q29sb3IoJyMwMGZmMDAnKTtcclxuXHJcbiAgICAgICAgLy8gVm9sdmVyIGEgbGEgZXNjZW5hIGFudGVyaW9yXHJcbiAgICAgICAgdGhpcy50aW1lLmRlbGF5ZWRDYWxsKDEwMDAsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5zdG9wKCk7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnByZXZpb3VzU2NlbmUpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUucmVzdW1lKHRoaXMucHJldmlvdXNTY2VuZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBzaHV0ZG93bigpIHtcclxuICAgICAgICAvLyBMaW1waWFyIGVsIGludGVydmFsIGFsIGNlcnJhciBsYSBlc2NlbmFcclxuICAgICAgICBpZiAodGhpcy5yZWNvbm5lY3RDaGVja0ludGVydmFsKSB7XHJcbiAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5yZWNvbm5lY3RDaGVja0ludGVydmFsKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gUmVtb3ZlciBlbCBsaXN0ZW5lclxyXG4gICAgICAgIGlmICh0aGlzLmNvbm5lY3Rpb25MaXN0ZW5lcikge1xyXG4gICAgICAgICAgICBjb25uZWN0aW9uTWFuYWdlci5yZW1vdmVMaXN0ZW5lcih0aGlzLmNvbm5lY3Rpb25MaXN0ZW5lcik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCBQaGFzZXIgZnJvbSBcInBoYXNlclwiO1xyXG5pbXBvcnQgeyBjbGllbnREYXRhTWFuYWdlciB9IGZyb20gXCIuLi9zZXJ2aWNlcy9jbGllbnREYXRhTWFuYWdlclwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIExvZ2luU2NlbmUgZXh0ZW5kcyBQaGFzZXIuU2NlbmUge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoJ0xvZ2luU2NlbmUnKVxyXG4gICAgfVxyXG5cclxuICAgIHByZWxvYWQoKSB7XHJcbiAgICAgICAgdGhpcy5sb2FkLmh0bWwoJ2xvZ2luJywgJ2Fzc2V0cy9odG1sL2Zvcm0uaHRtbCcpO1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZSgpIHtcclxuICAgICAgICBjb25zdCB0ZXh0ID0gdGhpcy5hZGQudGV4dCg0MDAsIDUyLCAnTG9naW4nLCB7IGZvbnRTaXplOiAnMzJweCcsIGZpbGw6ICcjZmZmJyB9KTtcclxuXHJcbiAgICAgICAgY29uc3QgZWxlbWVudCA9IHRoaXMuYWRkLmRvbSg0MDAsIDMwMCkuY3JlYXRlRnJvbUNhY2hlKCdsb2dpbicpO1xyXG5cclxuICAgICAgICBlbGVtZW50LnNldFBlcnNwZWN0aXZlKDgwMCk7XHJcblxyXG4gICAgICAgIGVsZW1lbnQuYWRkTGlzdGVuZXIoJ2NsaWNrJyk7XHJcblxyXG4gICAgICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xyXG4gICAgICAgIGVsZW1lbnQub24oJ2NsaWNrJywgYXN5bmMgKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG4gICAgICAgICAgICBpZiAoZXZlbnQudGFyZ2V0Lm5hbWUgPT09ICdsb2dpbkJ1dHRvbicpIHtcclxuXHJcbiAgICAgICAgICAgICAgICBjb25zdCBpbnB1dFVzZXJuYW1lID0gZWxlbWVudC5nZXRDaGlsZEJ5TmFtZSgndXNlcm5hbWUnKS52YWx1ZTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGlucHV0VXNlcm5hbWUpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vICBIYXZlIHRoZXkgZW50ZXJlZCBhbnl0aGluZz9cclxuICAgICAgICAgICAgICAgIGlmIChpbnB1dFVzZXJuYW1lICE9PSAnJykge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnVHJ5aW5nIHRvIGxvZyBpbicpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vUE9TVCBvbiAvYXBpL3VzZXJzXHJcbiAgICAgICAgICAgICAgICAgICAgY2xpZW50RGF0YU1hbmFnZXIubmFtZSA9IGlucHV0VXNlcm5hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbG9nZ2VkSW4gPSBhd2FpdCBjbGllbnREYXRhTWFuYWdlci5wb3N0TG9naW4oKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAobG9nZ2VkSW4gPT09IDIwMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAgVHVybiBvZmYgdGhlIGNsaWNrIGV2ZW50c1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50LnJlbW92ZUxpc3RlbmVyKCdjbGljaycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0LnNldFRleHQoJ0xvZ2luIHN1Y2Nlc3NmdWwnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5zdGFydCgnTWVudVNjZW5lJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dC5zZXRUZXh0KCdMb2dpbiBmYWlsZWQnKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgfVxyXG5cclxufVxyXG4iLCIvKipcclxuICogTG9iYnkgU2NlbmUgLSBXYWl0aW5nIGZvciBtdWx0aXBsYXllciBtYXRjaG1ha2luZ1xyXG4gKi9cclxuZXhwb3J0IGNsYXNzIE1hdGNoTWFraW5nU2NlbmUgZXh0ZW5kcyBQaGFzZXIuU2NlbmUge1xyXG4gIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgc3VwZXIoJ01hdGNoTWFraW5nU2NlbmUnKTtcclxuICAgIHRoaXMud3MgPSBudWxsO1xyXG4gIH1cclxuXHJcbiAgY3JlYXRlKCkge1xyXG4gICAgY29uc3Qgd2lkdGggPSB0aGlzLmNhbWVyYXMubWFpbi53aWR0aDtcclxuICAgIGNvbnN0IGhlaWdodCA9IHRoaXMuY2FtZXJhcy5tYWluLmhlaWdodDtcclxuXHJcbiAgICAvLyBUaXRsZVxyXG4gICAgdGhpcy5hZGQudGV4dCh3aWR0aCAvIDIsIDEwMCwgJ09ubGluZSBNdWx0aXBsYXllcicsIHtcclxuICAgICAgZm9udFNpemU6ICc0OHB4JyxcclxuICAgICAgY29sb3I6ICcjZmZmZmZmZmYnXHJcbiAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAvLyBTdGF0dXMgdGV4dFxyXG4gICAgdGhpcy5zdGF0dXNUZXh0ID0gdGhpcy5hZGQudGV4dCh3aWR0aCAvIDIsIGhlaWdodCAvIDIgLSA1MCwgJ0Nvbm5lY3RpbmcgdG8gc2VydmVyLi4uJywge1xyXG4gICAgICBmb250U2l6ZTogJzI0cHgnLFxyXG4gICAgICBjb2xvcjogJyNmZmZmZmZmZidcclxuICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgIC8vIFBsYXllciBjb3VudCB0ZXh0XHJcbiAgICB0aGlzLnBsYXllckNvdW50VGV4dCA9IHRoaXMuYWRkLnRleHQod2lkdGggLyAyLCBoZWlnaHQgLyAyICsgMjAsICcnLCB7XHJcbiAgICAgIGZvbnRTaXplOiAnMjBweCcsXHJcbiAgICAgIGNvbG9yOiAnI2ZmZmZmZmZmJ1xyXG4gICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgLy8gQ2FuY2VsIGJ1dHRvblxyXG4gICAgY29uc3QgY2FuY2VsQnV0dG9uID0gdGhpcy5hZGQudGV4dCh3aWR0aCAvIDIsIGhlaWdodCAtIDEwMCwgJ0NhbmNlbCcsIHtcclxuICAgICAgZm9udFNpemU6ICcyNHB4JyxcclxuICAgICAgY29sb3I6ICcjZmY2NjY2ZmZmJyxcclxuICAgICAgcGFkZGluZzogeyB4OiAyMCwgeTogMTAgfVxyXG4gICAgfSkuc2V0T3JpZ2luKDAuNSkuc2V0SW50ZXJhY3RpdmUoKTtcclxuXHJcbiAgICBjYW5jZWxCdXR0b24ub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4ge1xyXG4gICAgICBjYW5jZWxCdXR0b24uc2V0Q29sb3IoJyNmZjAwMDBmZicpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgY2FuY2VsQnV0dG9uLm9uKCdwb2ludGVyb3V0JywgKCkgPT4ge1xyXG4gICAgICBjYW5jZWxCdXR0b24uc2V0Q29sb3IoJyNmZjY2NjZmZicpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgY2FuY2VsQnV0dG9uLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgdGhpcy5sZWF2ZVF1ZXVlKCk7XHJcbiAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ01lbnVTY2VuZScpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gQ29ubmVjdCB0byBXZWJTb2NrZXQgc2VydmVyXHJcbiAgICB0aGlzLmNvbm5lY3RUb1NlcnZlcigpO1xyXG4gIH1cclxuXHJcbiAgY29ubmVjdFRvU2VydmVyKCkge1xyXG4gICAgdHJ5IHtcclxuICAgICAgLy8gQ29ubmVjdCB0byBXZWJTb2NrZXQgc2VydmVyIChzYW1lIGhvc3QgYXMgd2ViIHNlcnZlcilcclxuICAgICAgY29uc3Qgd3NVcmwgPSBgd3M6Ly8ke3dpbmRvdy5sb2NhdGlvbi5ob3N0fWA7XHJcblxyXG4gICAgICB0aGlzLndzID0gbmV3IFdlYlNvY2tldCh3c1VybCk7XHJcblxyXG4gICAgICB0aGlzLndzLm9ub3BlbiA9ICgpID0+IHtcclxuICAgICAgICBjb25zb2xlLmxvZygnQ29ubmVjdGVkIHRvIFdlYlNvY2tldCBzZXJ2ZXInKTtcclxuICAgICAgICB0aGlzLnN0YXR1c1RleHQuc2V0VGV4dCgnV2FpdGluZyBmb3Igb3Bwb25lbnQuLi4nKTtcclxuXHJcbiAgICAgICAgLy8gSm9pbiBtYXRjaG1ha2luZyBxdWV1ZVxyXG4gICAgICAgIHRoaXMud3Muc2VuZChKU09OLnN0cmluZ2lmeSh7IHR5cGU6ICdqb2luUXVldWUnIH0pKTtcclxuICAgICAgfTtcclxuXHJcbiAgICAgIHRoaXMud3Mub25tZXNzYWdlID0gKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgIGNvbnN0IGRhdGEgPSBKU09OLnBhcnNlKGV2ZW50LmRhdGEpO1xyXG4gICAgICAgICAgdGhpcy5oYW5kbGVTZXJ2ZXJNZXNzYWdlKGRhdGEpO1xyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBwYXJzaW5nIHNlcnZlciBtZXNzYWdlOicsIGVycm9yKTtcclxuICAgICAgICB9XHJcbiAgICAgIH07XHJcblxyXG4gICAgICB0aGlzLndzLm9uZXJyb3IgPSAoZXJyb3IpID0+IHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdXZWJTb2NrZXQgZXJyb3I6JywgZXJyb3IpO1xyXG4gICAgICAgIHRoaXMuc3RhdHVzVGV4dC5zZXRUZXh0KCdDb25uZWN0aW9uIGVycm9yIScpO1xyXG4gICAgICAgIHRoaXMuc3RhdHVzVGV4dC5zZXRDb2xvcignI2ZmMDAwMGZmJyk7XHJcbiAgICAgIH07XHJcblxyXG4gICAgICB0aGlzLndzLm9uY2xvc2UgPSAoKSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ1dlYlNvY2tldCBjb25uZWN0aW9uIGNsb3NlZCcpO1xyXG4gICAgICAgIGlmICh0aGlzLnNjZW5lLmlzQWN0aXZlKCdMb2JieVNjZW5lJykpIHtcclxuICAgICAgICAgIHRoaXMuc3RhdHVzVGV4dC5zZXRUZXh0KCdDb25uZWN0aW9uIGxvc3QhJyk7XHJcbiAgICAgICAgICB0aGlzLnN0YXR1c1RleHQuc2V0Q29sb3IoJyNmZjAwMDBmZicpO1xyXG4gICAgICAgIH1cclxuICAgICAgfTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGNvbm5lY3RpbmcgdG8gc2VydmVyOicsIGVycm9yKTtcclxuICAgICAgdGhpcy5zdGF0dXNUZXh0LnNldFRleHQoJ0ZhaWxlZCB0byBjb25uZWN0IScpO1xyXG4gICAgICB0aGlzLnN0YXR1c1RleHQuc2V0Q29sb3IoJyNmZjAwMDBmZicpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgaGFuZGxlU2VydmVyTWVzc2FnZShkYXRhKSB7XHJcbiAgICBzd2l0Y2ggKGRhdGEudHlwZSkge1xyXG4gICAgICBjYXNlICdxdWV1ZVN0YXR1cyc6XHJcbiAgICAgICAgdGhpcy5wbGF5ZXJDb3VudFRleHQuc2V0VGV4dChgUGxheWVycyBpbiBxdWV1ZTogJHtkYXRhLnBvc2l0aW9ufS8yYCk7XHJcbiAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICBjYXNlICdnYW1lU3RhcnQnOlxyXG4gICAgICAgIGNvbnNvbGUubG9nKCdHYW1lIHN0YXJ0aW5nIScsIGRhdGEpO1xyXG4gICAgICAgIC8vIFN0b3JlIGdhbWUgZGF0YSBhbmQgdHJhbnNpdGlvbiB0byBtdWx0aXBsYXllciBnYW1lIHNjZW5lXHJcbiAgICAgICAgdGhpcy5zY2VuZS5zdGFydCgnTXVsdGlwbGF5ZXJTY2VuZScsIHtcclxuICAgICAgICAgIHdzOiB0aGlzLndzLFxyXG4gICAgICAgICAgcGxheWVyUm9sZTogZGF0YS5yb2xlLFxyXG4gICAgICAgICAgcm9vbUlkOiBkYXRhLnJvb21JZCxcclxuICAgICAgICB9KTtcclxuICAgICAgICBicmVhaztcclxuXHJcbiAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgY29uc29sZS5sb2coJ1Vua25vd24gbWVzc2FnZSB0eXBlOicsIGRhdGEudHlwZSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBsZWF2ZVF1ZXVlKCkge1xyXG4gICAgaWYgKHRoaXMud3MgJiYgdGhpcy53cy5yZWFkeVN0YXRlID09PSBXZWJTb2NrZXQuT1BFTikge1xyXG4gICAgICB0aGlzLndzLnNlbmQoSlNPTi5zdHJpbmdpZnkoeyB0eXBlOiAnbGVhdmVRdWV1ZScgfSkpO1xyXG4gICAgICB0aGlzLndzLmNsb3NlKCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBzaHV0ZG93bigpIHtcclxuICAgIHRoaXMubGVhdmVRdWV1ZSgpO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgUGhhc2VyIGZyb20gJ3BoYXNlcic7XHJcbmltcG9ydCB7IE9wdGlvbnNTY2VuZSB9IGZyb20gJy4vc2NlbmUvT3B0aW9uc1NjZW5lLmpzJztcclxuaW1wb3J0IHsgTWVudVNjZW5lIH0gZnJvbSAnLi9zY2VuZS9NZW51U2NlbmUuanMnO1xyXG5pbXBvcnQgeyBHYW1lU2NlbmUgfSBmcm9tICcuL3NjZW5lL0dhbWVTY2VuZS5qcyc7XHJcbmltcG9ydCB7IFBhdXNlU2NlbmUgfSBmcm9tICcuL3NjZW5lL1BhdXNlU2NlbmUuanMnO1xyXG5pbXBvcnQgeyBDcmVkaXRzU2NlbmUgfSBmcm9tICcuL3NjZW5lL0NyZWRpdHNTY2VuZS5qcyc7XHJcbmltcG9ydCB7IEludHJvU2NlbmUgfSBmcm9tICcuL3NjZW5lL0ludHJvU2NlbmUuanMnO1xyXG5pbXBvcnQgeyBFbmRTY2VuZSB9IGZyb20gJy4vc2NlbmUvRW5kU2NlbmUuanMnO1xyXG5pbXBvcnQgeyBHYW1lU2NlbmUyIH0gZnJvbSAnLi9zY2VuZS9HYW1lU2NlbmUyLmpzJztcclxuaW1wb3J0IHsgQ29ubmVjdGlvbkxvc3RTY2VuZSB9IGZyb20gJy4vc2NlbmUvQ29ubmVjdGlvbkxvc3RTY2VuZS5qcyc7XHJcbmltcG9ydCB7IExvZ2luU2NlbmUgfSBmcm9tICcuL3NjZW5lL0xvZ2luU2NlbmUuanMnO1xyXG5pbXBvcnQgeyBNYXRjaE1ha2luZ1NjZW5lIH0gZnJvbSAnLi9zY2VuZS9NYXRjaE1ha2luZ1NjZW5lLmpzJztcclxuaW1wb3J0IHsgTXVsdGlwbGF5ZXJTY2VuZSB9IGZyb20gJy4vc2NlbmUvTXVsdGlwbGF5ZXJTY2VuZS5qcyc7XHJcblxyXG5jb25zdCBjb25maWcgPSB7XHJcbiAgICB0eXBlOiBQaGFzZXIuQVVUTyxcclxuICAgIHdpZHRoOiA4MDAsIC8vIEFuY2hvIGRlIGxhIHZlbnRhbmFcclxuICAgIGhlaWdodDogNjAwLCAvLyBBbHRvIGRlIGxhIHZlbnRhbmFcclxuICAgIHBhcmVudDogJ2dhbWUtY29udGFpbmVyJyxcclxuXHJcbiAgICBwaHlzaWNzOiB7XHJcbiAgICAgICAgZGVmYXVsdDogJ2FyY2FkZScsXHJcbiAgICAgICAgYXJjYWRlOiB7XHJcbiAgICAgICAgICAgIGdyYXZpdHk6IHsgeDogMCwgeTogMSB9LFxyXG4gICAgICAgICAgICBkZWJ1ZzogdHJ1ZSxcclxuICAgICAgICAgICAgZGVidWdTaG93Qm9keTogZmFsc2UsXHJcbiAgICAgICAgICAgIGRlYnVnU2hvd1N0YXRpY0JvZHk6IGZhbHNlLFxyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBkb206IHtcclxuICAgICAgICBjcmVhdGVDb250YWluZXI6IHRydWVcclxuICAgIH0sXHJcblxyXG4gICAgLy8gTG9naW5TY2VuZSBwb25lciBjb21vIGVzY2VuYSBpbmljaWFsLCBhaG9yYSBlc3RhIHF1aXRhZG8gcHEgZXMgdW4gY2/DsWF6byBwYXJhIGhhY2VyIHBydWViYXNcclxuICAgIHNjZW5lOiBbTG9naW5TY2VuZSwgTWVudVNjZW5lLCBNYXRjaE1ha2luZ1NjZW5lLCBDcmVkaXRzU2NlbmUsIE9wdGlvbnNTY2VuZSwgSW50cm9TY2VuZSwgR2FtZVNjZW5lLCBNdWx0aXBsYXllclNjZW5lLCBQYXVzZVNjZW5lLCBFbmRTY2VuZSwgR2FtZVNjZW5lMiwgQ29ubmVjdGlvbkxvc3RTY2VuZV0sXHJcbiAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjMzYwMjQ2ZmYnXHJcbn1cclxuXHJcbmNvbnN0IGdhbWUgPSBuZXcgUGhhc2VyLkdhbWUoY29uZmlnKTtcclxuXHJcbiIsImltcG9ydCB7IEdhbWVTY2VuZSB9IGZyb20gXCIuL0dhbWVTY2VuZS5qc1wiO1xyXG5pbXBvcnQgeyBQbGF0Zm9ybSB9IGZyb20gXCIuLi9lbnRpdGllcy9QbGF0Zm9ybS5qc1wiO1xyXG5cclxuZXhwb3J0IGNsYXNzIE11bHRpcGxheWVyU2NlbmUgZXh0ZW5kcyBHYW1lU2NlbmUge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoJ011bHRpcGxheWVyU2NlbmUnKTtcclxuICAgICAgICB0aGlzLmxvYWRlZCA9IGZhbHNlOyAvLyBmbGFnIHBhcmEgdmVyaWZpY2FyIHEgaGEgY2FyZ2FkbyBsYSBlc2NlbmEgZGVsIGNvbXBpXHJcbiAgICB9XHJcblxyXG4gICAgcHJlbG9hZCgpIHtcclxuICAgICAgICBzdXBlci5wcmVsb2FkKCk7XHJcbiAgICB9XHJcblxyXG4gICAgaW5pdChkYXRhKSB7XHJcbiAgICAgICAgc3VwZXIuaW5pdCgpO1xyXG4gICAgICAgIHRoaXMud3MgPSBkYXRhLndzO1xyXG4gICAgICAgIHRoaXMucGxheWVyUm9sZSA9IGRhdGEucGxheWVyUm9sZTsgLy8gJ3BsYXllcjEnIG9yICdwbGF5ZXIyJ1xyXG4gICAgICAgIHRoaXMucm9vbUlkID0gZGF0YS5yb29tSWQ7XHJcbiAgICAgICAgdGhpcy5sb2NhbFBsYXllciA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5yZW1vdGVQbGF5ZXIgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuc2V0dXBXZWJTb2NrZXRMaXN0ZW5lcnMoKTtcclxuXHJcblxyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZSgpIHtcclxuICAgICAgICB0aGlzLnNldFVwUGxheWVycygpO1xyXG4gICAgICAgIHN1cGVyLmNyZWF0ZSgpO1xyXG5cclxuICAgICAgICAvLyBDb25maWd1cmFyIElucHV0TWFuYWdlciBwYXJhIG11bHRpcGxheWVyXHJcbiAgICAgICAgdGhpcy5pbnB1dE1hbmFnZXIuc2V0V2ViU29ja2V0KHRoaXMud3MpO1xyXG4gICAgICAgIHRoaXMuaW5wdXRNYW5hZ2VyLnNldFBsYXllclJvbGUodGhpcy5wbGF5ZXJSb2xlKTtcclxuICAgICAgICB0aGlzLmlucHV0TWFuYWdlci5zZXRVcElucHV0cygpO1xyXG5cclxuXHJcbiAgICAgICAgdGhpcy5zZW5kTWVzc2FnZSh7XHJcbiAgICAgICAgICAgIHR5cGU6ICdMb2FkZWQnLFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICB1cGRhdGUoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmxvYWRlZCkgcmV0dXJuO1xyXG5cclxuICAgICAgICB0aGlzLmZvbmRvLnRpbGVQb3NpdGlvblggPSB0aGlzLmNhbWVyYXMubWFpbi5zY3JvbGxYICogMC4yO1xyXG5cclxuICAgICAgICB0aGlzLmNhbWVyYS51cGRhdGUoKTtcclxuICAgICAgICB0aGlzLmlucHV0TWFuYWdlci51cGRhdGUoKTtcclxuXHJcbiAgICAgICAgdGhpcy5hcnRodXIubGlnaHQudXBkYXRlKCk7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLnBsYXllclJvbGUgPT09ICdwbGF5ZXIxJykgeyAgLy8gSnVnYWRvciAxIGFjdHVhbGl6YSBlbmVtaWdvcyB5IHJlZW52aWEgbW92aW1pZW50b3MgYSBqdWdhZG9yIDJcclxuXHJcbiAgICAgICAgICAgIHRoaXMuZW5lbWllcy5mb3JFYWNoKChlbmVteSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFlbmVteSB8fCBlbmVteS5pc0RlYWQpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmVuZW1pZXMuZGVsZXRlKGVuZW15LmlkKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbmVteS51cGRhdGUoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2VuZE1lc3NhZ2Uoe1xyXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdFbmVteU1vdm1lbnQnLFxyXG4gICAgICAgICAgICAgICAgICAgIGVuZW15SWQ6IGVuZW15LmlkLFxyXG4gICAgICAgICAgICAgICAgICAgIG1vdmVtZW50VmVjdG9yOiBlbmVteS5tb3ZlbWVudFZlY3RvcixcclxuICAgICAgICAgICAgICAgICAgICBjaGFzaW5nUGxheWVySWQ6IGVuZW15LmNoYXNpbmdQbGF5ZXJJZCxcclxuICAgICAgICAgICAgICAgICAgICB4OiBlbmVteS5zcHJpdGUueCxcclxuICAgICAgICAgICAgICAgICAgICB5OiBlbmVteS5zcHJpdGUueVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vLy8vLy8vLy8vLy8vLy8vLyBSRUQgQ09OIFdFQlNPQ0tFVCAvLy8vLy8vLy8vLy8vL1xyXG5cclxuICAgIHNldFVwUGxheWVycygpIHtcclxuICAgICAgICBpZiAodGhpcy5wbGF5ZXJSb2xlID09PSAncGxheWVyMScpIHtcclxuICAgICAgICAgICAgdGhpcy5sb2NhbFBsYXllciA9IHRoaXMuYXJ0aHVyO1xyXG4gICAgICAgICAgICB0aGlzLnJlbW90ZVBsYXllciA9IHRoaXMubHVjeTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmxvY2FsUGxheWVyID0gdGhpcy5sdWN5O1xyXG4gICAgICAgICAgICB0aGlzLnJlbW90ZVBsYXllciA9IHRoaXMuYXJ0aHVyO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zb2xlLmxvZygnTG9jYWwgcGxheWVyOicsIHRoaXMubG9jYWxQbGF5ZXIpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdSZW1vdGUgcGxheWVyOicsIHRoaXMucmVtb3RlUGxheWVyKTtcclxuICAgIH1cclxuXHJcbiAgICBzZXR1cFdlYlNvY2tldExpc3RlbmVycygpIHtcclxuICAgICAgICB0aGlzLndzLm9ubWVzc2FnZSA9IChldmVudCkgPT4ge1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZGF0YSA9IEpTT04ucGFyc2UoZXZlbnQuZGF0YSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZVNlcnZlck1lc3NhZ2UoZGF0YSk7XHJcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBwYXJzaW5nIHNlcnZlciBtZXNzYWdlOicsIGVycm9yKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMud3Mub25jbG9zZSA9ICgpID0+IHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ1dlYlNvY2tldCBjb25uZWN0aW9uIGNsb3NlZCcpO1xyXG4gICAgICAgICAgICB0aGlzLmhhbmRsZURpc2Nvbm5lY3Rpb24oKTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB0aGlzLndzLm9uZXJyb3IgPSAoZXJyb3IpID0+IHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcignV2ViU29ja2V0IGVycm9yOicsIGVycm9yKTtcclxuICAgICAgICAgICAgdGhpcy5oYW5kbGVEaXNjb25uZWN0aW9uKCk7XHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICBoYW5kbGVTZXJ2ZXJNZXNzYWdlKGRhdGEpIHtcclxuICAgICAgICBzd2l0Y2ggKGRhdGEudHlwZSkge1xyXG4gICAgICAgICAgICBjYXNlICdQbGF5ZXJNb3ZtZW50SW5wdXRDb21tYW5kJzpcclxuICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coJ011bHRpcGxheWVyU2NlbmUgcmVjZWl2ZWQgbXNnOicsIGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgLy8gUmVtb3RlIHBsYXllciBtb3ZtZW50XHJcbiAgICAgICAgICAgICAgICB0aGlzLmlucHV0TWFuYWdlci51cGRhdGVSZW1vdGVQbGF5ZXJQb3NpdGlvbihkYXRhKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgY2FzZSAnUGxheWVyQXR0YWNrQ29tbWFuZCc6XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnTXVsdGlwbGF5ZXJTY2VuZSByZWNlaXZlZCBtc2c6JywgZGF0YSk7XHJcbiAgICAgICAgICAgICAgICAvLyBSZW1vdGUgcGxheWVyIGF0dGFja3NcclxuICAgICAgICAgICAgICAgIHRoaXMuaW5wdXRNYW5hZ2VyLnVwZGF0ZVJlbW90ZVBsYXllckF0dGFjayhkYXRhKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgY2FzZSAnUGxheWVySGl0JzpcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdNdWx0aXBsYXllclNjZW5lIHJlY2VpdmVkIG1zZzonLCBkYXRhKTtcclxuICAgICAgICAgICAgICAgIC8vIFJlbW90ZSBwbGF5ZXIgaGl0c1xyXG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVSZW1vdGVQbGF5ZXJIaXQoZGF0YSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgIGNhc2UgJ0VuZW15TW92bWVudCc6XHJcbiAgICAgICAgICAgICAgICAvLyBSZW1vdGUgcGxheWVyIGhpdHNcclxuICAgICAgICAgICAgICAgIHRoaXMucmVjaWV2ZUVuZW15TW92bWVudChkYXRhKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgY2FzZSAncGxheWVyRGlzY29ubmVjdGVkJzpcclxuICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlRGlzY29ubmVjdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICBjYXNlICdMb2FkZWQnOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5sb2FkZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICBjYXNlICdHYW1lT3Zlcic6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZUdhbWVPdmVyKCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgIGNhc2UgJ1BsYXllcnNXaW4nOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVQbGF5ZXJzV2luKCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgIGNhc2UgJ1Jlc3RhcnQnOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVSZXN0YXJ0KCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnVW5rbm93biBtZXNzYWdlIHR5cGU6JywgZGF0YS50eXBlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmVjaWV2ZUVuZW15TW92bWVudChkYXRhKSB7XHJcbiAgICAgICAgdGhpcy5lbmVtaWVzLmZvckVhY2goKGVuZW15KSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChlbmVteS5pZCA9PT0gZGF0YS5lbmVteUlkKSB7XHJcbiAgICAgICAgICAgICAgICBlbmVteS5yZWNlaXZlRW5lbXlNb3ZtZW50KGRhdGEubW92ZW1lbnRWZWN0b3IsIGRhdGEuY2hhc2luZ1BsYXllcklkLCBkYXRhLngsIGRhdGEueSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBzZXRVcEVuZW15Q29sbGlzaW9ucygpIHtcclxuICAgICAgICB0aGlzLmVuZW1pZXMuZm9yRWFjaCgoZW5lbXkpID0+IHtcclxuXHJcbiAgICAgICAgICAgIC8vIEVtZW55IGhpdHMgXHJcbiAgICAgICAgICAgIHRoaXMucGh5c2ljcy5hZGQub3ZlcmxhcChlbmVteS5zcHJpdGUsIHRoaXMubG9jYWxQbGF5ZXIuc3ByaXRlLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZW5lbXkgJiYgdGhpcy5sb2NhbFBsYXllci5oZWFsdGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGRhbWFnZSA9IDUwO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubG9jYWxQbGF5ZXIuZ2V0SGl0KGRhbWFnZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jaGVja1BsYXllclN0YXR1cygpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2VuZE1lc3NhZ2Uoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnUGxheWVySGl0JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGFtYWdlOiBkYW1hZ2UsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBsYXllcklkOiB0aGlzLnBsYXllclJvbGUsXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgLy8gUmVwb3RlIHBsYXllciBoaXRcclxuICAgICAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5vdmVybGFwKGVuZW15LnNwcml0ZSwgdGhpcy5yZW1vdGVQbGF5ZXIuc3ByaXRlKTtcclxuXHJcbiAgICAgICAgICAgIC8vIFBsYXllciBsaWdodHMgZW5lbXlcclxuICAgICAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5vdmVybGFwKGVuZW15LnNwcml0ZSwgdGhpcy5hcnRodXIubGlnaHQuY29sbGlkZXJDaXJjbGUsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmFydGh1ci5saWdodC5pc09uICYmIGVuZW15KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZW5lbXkuc2V0V2Vha2VuZWQodHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50aW1lLmRlbGF5ZWRDYWxsKDQwMDAsICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVuZW15KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmVteS5zZXRXZWFrZW5lZChmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAvLyBQbGF5ZXIgYXR0YWNrcyBlbmVteVxyXG4gICAgICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLm92ZXJsYXAoZW5lbXkuc3ByaXRlLCB0aGlzLmx1Y3kuYXR0YWNrSGl0Ym94LCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZW5lbXk/LndlYWtlbmVkICYmIHRoaXMubHVjeS5pc0F0dGFja2luZykge1xyXG4gICAgICAgICAgICAgICAgICAgIGVuZW15LmRpZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGVuZW15LmlzRGVhZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgZW5lbXkgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBzZXRVcExpYnJhcnlDb2xsaXNpb24oKSB7XHJcbiAgICAgICAgdGhpcy5saWJyZXJpYSA9IG5ldyBQbGF0Zm9ybSh0aGlzLCAnbGliJywgNDAwMCwgMjA4LCAxMDAsIDE1MCwgJ2xpYicpO1xyXG4gICAgICAgIHRoaXMubGlicmVyaWEuc3ByaXRlLnNldERlcHRoKDIpO1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQub3ZlcmxhcCh0aGlzLmxpYnJlcmlhLnNwcml0ZSwgdGhpcy5sb2NhbFBsYXllci5zcHJpdGUsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5zZW5kTWVzc2FnZSh7XHJcbiAgICAgICAgICAgICAgICB0eXBlOiAnUGxheWVyc1dpbicsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnN0b3AoKTtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5zdGFydCgnRW5kU2NlbmUnKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGVSZW1vdGVQbGF5ZXJIaXQoZGF0YSkge1xyXG4gICAgICAgIHRoaXMucGxheWVycy5nZXQoZGF0YS5wbGF5ZXJJZCkuZ2V0SGl0KGRhdGEuZGFtYWdlKTtcclxuICAgICAgICB0aGlzLmNoZWNrUGxheWVyU3RhdHVzKCk7XHJcbiAgICB9XHJcblxyXG4gICAgY2hlY2tQbGF5ZXJTdGF0dXMoKSB7IC8vIFRoaXMgd2lsbCBiZSBicm9hZGNhc3RlZCB0byBib3RoIHBsYXllcnMgXHJcbiAgICAgICAgaWYgKHRoaXMucGxheWVycy5nZXQoJ3BsYXllcjEnKS5oZWFsdGggPD0gMCAmJiB0aGlzLnBsYXllcnMuZ2V0KCdwbGF5ZXIyJykuaGVhbHRoIDw9IDApIHtcclxuICAgICAgICAgICAgdGhpcy5zZW5kTWVzc2FnZSh7XHJcbiAgICAgICAgICAgICAgICB0eXBlOiAnR2FtZU92ZXInLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaGFuZGxlRGlzY29ubmVjdGlvbigpIHtcclxuICAgICAgICB0aGlzLmdhbWVFbmRlZCA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzLnBhdXNlKCk7XHJcblxyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoNDAwLCAyNTAsICdQYXJ0bmVyIERpc2Nvbm5lY3RlZCcsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICc0OHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZmYwMDAwJ1xyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpLnNldFNjcm9sbEZhY3RvcigwKTtcclxuXHJcbiAgICAgICAgdGhpcy5jcmVhdGVNZW51QnV0dG9uKCk7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIGhhbmRsZUdhbWVPdmVyKCkge1xyXG4gICAgICAgIHRoaXMuZ2FtZUVuZGVkID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLnBoeXNpY3MucGF1c2UoKTtcclxuXHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCg0MDAsIDI1MCwgJ0dhbWUgT3ZlcicsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICc0OHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZmYwMDAwJ1xyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpLnNldFNjcm9sbEZhY3RvcigwKTtcclxuXHJcbiAgICAgICAgdGhpcy5jcmVhdGVNZW51QnV0dG9uKCk7XHJcbiAgICAgICAgdGhpcy5jcmVhdGVSZXRyeUJ1dHRvbigpO1xyXG4gICAgfVxyXG5cclxuICAgIGhhbmRsZVBsYXllcnNXaW4oKSB7XHJcbiAgICAgICAgdGhpcy5zY2VuZS5zdG9wKCk7XHJcbiAgICAgICAgdGhpcy5zY2VuZS5zdGFydCgnRW5kU2NlbmUnKTtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGVSZXRyeUJ1dHRvbigpIHtcclxuICAgICAgICBjb25zdCByZXRyeUJ0biA9IHRoaXMuYWRkLnRleHQoNDAwLCAzNTAsICdSZXRyeScsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICczMnB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmJyxcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAuc2V0U2Nyb2xsRmFjdG9yKDApXHJcbiAgICAgICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSlcclxuICAgICAgICAgICAgLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IHJldHJ5QnRuLnNldENvbG9yKCcjY2NjY2NjJykpXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcm91dCcsICgpID0+IHJldHJ5QnRuLnNldENvbG9yKCcjZmZmZmZmJykpXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy53cyAmJiB0aGlzLndzLnJlYWR5U3RhdGUgPT09IFdlYlNvY2tldC5PUEVOKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZW5kTWVzc2FnZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdSZXN0YXJ0JyxcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGVNZW51QnV0dG9uKCkge1xyXG4gICAgICAgIGNvbnN0IG1lbnVCdG4gPSB0aGlzLmFkZC50ZXh0KDQwMCwgNDAwLCAnUmV0dXJuIHRvIE1haW4gTWVudScsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICczMnB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmJyxcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAuc2V0U2Nyb2xsRmFjdG9yKDApXHJcbiAgICAgICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSlcclxuICAgICAgICAgICAgLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IG1lbnVCdG4uc2V0Q29sb3IoJyNjY2NjY2MnKSlcclxuICAgICAgICAgICAgLm9uKCdwb2ludGVyb3V0JywgKCkgPT4gbWVudUJ0bi5zZXRDb2xvcignI2ZmZmZmZicpKVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMud3MgJiYgdGhpcy53cy5yZWFkeVN0YXRlID09PSBXZWJTb2NrZXQuT1BFTikge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2VuZE1lc3NhZ2Uoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnUGxheWVyRGlzY29ubmVjdGVkJyxcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLndzLmNsb3NlKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdNZW51U2NlbmUnKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgaGFuZGxlUmVzdGFydCgpIHtcclxuICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdNdWx0aXBsYXllclNjZW5lJyk7XHJcbiAgICB9XHJcblxyXG4gICAgc2VuZE1lc3NhZ2UoZGF0YSkge1xyXG4gICAgICAgIGlmICh0aGlzLndzICYmIHRoaXMud3MucmVhZHlTdGF0ZSA9PT0gV2ViU29ja2V0Lk9QRU4pIHtcclxuICAgICAgICAgICAgdGhpcy53cy5zZW5kKEpTT04uc3RyaW5naWZ5KGRhdGEpKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgc2h1dGRvd24oKSB7XHJcbiAgICAgICAgaWYgKHRoaXMud3MgJiYgdGhpcy53cy5yZWFkeVN0YXRlID09PSBXZWJTb2NrZXQuT1BFTikge1xyXG4gICAgICAgICAgICB0aGlzLndzLmNsb3NlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59Il0sIm5hbWVzIjpbIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGUiLCJnZXR0ZXIiLCJfX2VzTW9kdWxlIiwiZCIsImEiLCJleHBvcnRzIiwiZGVmaW5pdGlvbiIsImtleSIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJvYmoiLCJwcm9wIiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiUGhhc2VyIiwiT3B0aW9uc1NjZW5lIiwiY29uc3RydWN0b3IiLCJzdXBlciIsInByZWxvYWQiLCJ0aGlzIiwibG9hZCIsImltYWdlIiwiY3JlYXRlIiwiZGF0YSIsImFkZCIsInJlY3RhbmdsZSIsInNldE9yaWdpbiIsInRleHQiLCJmb250U2l6ZSIsImNvbG9yIiwiZm9udFN0eWxlIiwidm9sdW1lVGV4dCIsInNvdW5kIiwibXV0ZSIsInZvbHVtZUJ0biIsImJhY2tncm91bmRDb2xvciIsInBhZGRpbmciLCJ4IiwieSIsInNldEludGVyYWN0aXZlIiwidXNlSGFuZEN1cnNvciIsIm9uIiwic2V0U3R5bGUiLCJzZXRUZXh0IiwiYmFja0J0biIsInNjZW5lIiwic3RvcCIsInJlc3VtZSIsIm9yaWdpbmFsU2NlbmUiLCJjb25uZWN0aW9uTWFuYWdlciIsImNvbm5lY3RlZENvdW50IiwiaXNDb25uZWN0ZWQiLCJsYXN0Q2hlY2tUaW1lIiwiY2hlY2tJbnRlcnZhbCIsImxpc3RlbmVycyIsInNlc3Npb25JZCIsImdlbmVyYXRlU2Vzc2lvbklkIiwiaW50ZXJ2YWxJZCIsInN0YXJ0UG9sbGluZyIsIkRhdGUiLCJub3ciLCJNYXRoIiwicmFuZG9tIiwidG9TdHJpbmciLCJzdWJzdHIiLCJjaGVja0Nvbm5lY3Rpb24iLCJyZXNwb25zZSIsImZldGNoIiwibWV0aG9kIiwiaGVhZGVycyIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5Iiwib2siLCJqc29uIiwiY29ubmVjdGVkIiwibm90aWZ5TGlzdGVuZXJzIiwiY291bnQiLCJzdWNjZXNzIiwiaGFuZGxlRGlzY29ubmVjdGlvbiIsImVycm9yIiwiY29uc29sZSIsImFkZExpc3RlbmVyIiwiY2FsbGJhY2siLCJwdXNoIiwicmVtb3ZlTGlzdGVuZXIiLCJpbmRleCIsImluZGV4T2YiLCJzcGxpY2UiLCJmb3JFYWNoIiwibGlzdGVuZXIiLCJnZXRTdGF0dXMiLCJzZXRJbnRlcnZhbCIsInN0b3BQb2xsaW5nIiwiY2xlYXJJbnRlcnZhbCIsImNsaWVudERhdGFNYW5hZ2VyIiwiaWQiLCJ1bmRlZmluZWQiLCJuYW1lIiwiZGVhdGhzIiwidXBkYXRlQ2xpZW50RGF0YSIsInVwZGF0ZXMiLCJnZXRDbGllbnREZWF0aHMiLCJFcnJvciIsInVwZGF0ZUNsaWVudERlYXRocyIsInBvc3RMb2dpbiIsInN0YXR1cyIsIk1lbnVTY2VuZSIsImF1ZGlvIiwic3RhcnRCdXR0b24iLCJvcGVuTWluaU1lbnUiLCJjcmVkaXRzQnV0dG9uIiwic3RhcnQiLCJvcHRpb25zQnV0dG9uIiwibGF1bmNoIiwiZXhpdEJ1dHRvbiIsImdhbWUiLCJkZXN0cm95Iiwid2luZG93IiwiY2xvc2UiLCJidXR0b25zIiwibXVzaWMiLCJwbGF5Iiwic2V0Vm9sdW1lIiwiY29ubmVjdGlvblRleHQiLCJjb25uZWN0aW9uTGlzdGVuZXIiLCJ1cGRhdGVDb25uZWN0aW9uRGlzcGxheSIsIm9ubGluZUJ0biIsImJ0biIsInJlbW92ZUludGVyYWN0aXZlIiwiYmciLCJzZXREZXB0aCIsImx2bDEiLCJjbG9zZU1pbmlNZW51IiwibHZsMiIsInJldHVybkJ0biIsImVsZW1lbnRzIiwiZSIsImlzQWN0aXZlIiwic2V0Q29sb3IiLCJzaHV0ZG93biIsIkNvbW1hbmQiLCJleGVjdXRlIiwic2VyaWFsaXplIiwiZ2V0RW50aXR5IiwiUGxheWVyTW92bWVudElucHV0Q29tbWFuZCIsInBsYXllciIsImFjdGlvbiIsImp1bXAiLCJpZGxlIiwiaG9yaXpvbnRhbE1vdmUiLCJ0eXBlIiwicGxheWVySWQiLCJzcHJpdGUiLCJQbGF5ZXJBdHRhY2tDb21tYW5kIiwiYXR0YWNrIiwiQ29tbWFuZFByb2Nlc3NvciIsInBsYXllcnMiLCJNYXAiLCJwcm9jZXNzIiwiY29tbWFuZCIsInJlY2VpdmVDb21tYW5kIiwiZGVzZXJpYWxpemUiLCJhYnMiLCJzZXRQb3NpdGlvbiIsIndhcm4iLCJJbnB1dE1hbmFnZXIiLCJzY2VuZU1hbmFnZXIiLCJpbnB1dCIsImNvbW1hbmRQcm9jZXNzb3IiLCJwbGF5ZXJSb2xlIiwid3MiLCJpbnB1dHNNYXBwaW5nIiwiaXNQYXVzZWQiLCJzZXRVcElucHV0cyIsInNldFVwUmVtb3RlSW5wdXRzIiwic2V0VXBMb2NhbElucHV0cyIsInNldFdlYlNvY2tldCIsInNldFBsYXllclJvbGUiLCJyb2xlIiwia2V5Ym9hcmQiLCJwYXVzZSIsImxlZnRLZXkiLCJyaWdodEtleSIsInVwS2V5IiwiZG93bktleSIsImF0dGFja0tleSIsIm1hcCIsImNvbmZpZyIsImxlZnRLZXlPYmoiLCJhZGRLZXkiLCJLZXlib2FyZCIsIktleUNvZGVzIiwicmlnaHRLZXlPYmoiLCJ1cEtleU9iaiIsImRvd25LZXlPYmoiLCJhdHRhY2tLZXlPYmoiLCJJbnB1dENvbmZpZyIsInVwZGF0ZSIsIm1hcHBpbmciLCJsb2NhbENvbW1hbmQiLCJpc0Rvd24iLCJzZW5kTWVzc2FnZSIsImF0dGFja0NvbW1hbmQiLCJtZXNzYWdlIiwicmVhZHlTdGF0ZSIsIldlYlNvY2tldCIsIk9QRU4iLCJsb2ciLCJzZW5kIiwidXBkYXRlUmVtb3RlUGxheWVyUG9zaXRpb24iLCJ1cGRhdGVSZW1vdGVQbGF5ZXJBdHRhY2siLCJBbmltYXRvciIsImFuaW1hdGlvblNwcml0ZXNoZWV0IiwiZnJhbWVXaWR0aCIsImZyYW1lSGVpZ2h0Iiwic3ByaXRlc2hlZXQiLCJjcmVhdGVBbmltYXRpb24iLCJzdGFydEZyYW1lIiwiZW5kRnJhbWUiLCJmcmFtZVJhdGUiLCJyZXBlYXQiLCJhbmltcyIsImZyYW1lcyIsImdlbmVyYXRlRnJhbWVOdW1iZXJzIiwiZW5kIiwiYXNzaWduU3ByaXRlVG9QbGF5ZXIiLCJwaHlzaWNzIiwiY3JlYXRlU3ByaXRlIiwiRW5lbXkiLCJiYXNlSGVpZ2h0IiwiYmFzZVdpZHRoIiwiYmFzZVNwZWVkIiwiaXNEZWFkIiwid2Vha2VuZWQiLCJjaGFzaW5nUGxheWVySWQiLCJhbmltYXRvciIsImFuaW0iLCJzZXRDb2xsaWRlV29ybGRCb3VuZHMiLCJhbGxvd0dyYXZpdHkiLCJzZXRHcmF2aXR5WSIsInNldFNjYWxlIiwic2V0U2l6ZSIsIndpZHRoIiwiaGVpZ2h0IiwiZW5lbXlNb3ZlbWVudCIsInBpY2tQbGF5ZXIiLCJkeCIsImR5IiwiZGlzdGFuY2UiLCJzcXJ0IiwiZmxpcFgiLCJtb3ZlbWVudFZlY3RvciIsInNldFZlbG9jaXR5WCIsInNldFZlbG9jaXR5WSIsInNldFZlbG9jaXR5IiwicmVjZWl2ZUVuZW15TW92bWVudCIsInRhcmdldFBsYXllciIsInAxIiwicDIiLCJ0YXJnZXQiLCJoZWFsdGgiLCJkaWUiLCJzZXRXZWFrZW5lZCIsInZhbHVlIiwiQ2FtZXJhIiwiY2FtZXJhIiwiY2FtZXJhcyIsIm1haW4iLCJjYW1MZWZ0Iiwic2Nyb2xsWCIsImNhbVJpZ2h0IiwibWFyZ2luIiwiQ2xhbXAiLCJtaWRYIiwidGFyZ2V0TGVmdCIsInRhcmdldFJpZ2h0IiwiYXJ0aHVySW5zaWRlQWZ0ZXJNb3ZlIiwibHVjeUluc2lkZUFmdGVyTW92ZSIsInJvdW5kIiwiTGluZWFyIiwiUGxhdGZvcm0iLCJ0ZXh0dXJlS2V5Iiwic2V0RGlzcGxheVNpemUiLCJleGlzdGluZyIsImciLCJncmFwaGljcyIsImZpbGxTdHlsZSIsImZpbGxSZWN0Iiwic2V0VXBDb2xsaXNpb25zIiwiUGxheWVyIiwiZ3Jhdml0eSIsInhQb3MiLCJ5UG9zIiwic3ByaXRlU2hlZXQiLCJqdW1wRm9yY2UiLCJpbnZ1bG5lcmFibGUiLCJhdXRob3JpdHkiLCJudW1EZWF0aHMiLCJjdXJyZW50RGlyZWN0aW9uIiwiY3VycmVudEFuaW0iLCJvbkZsb29yIiwicGxheUFuaW0iLCJzZXRPZmZzZXQiLCJkaXJlY3Rpb24iLCJjYW5KdW1wIiwiZ2V0SGl0IiwiZGFtYWdlIiwic2V0VGludCIsImNoZWNrQWxpdmUiLCJpc0F0dGFja2luZyIsInRpbWUiLCJkZWxheWVkQ2FsbCIsInJldml2ZSIsImNsZWFyVGludCIsInVwZGF0ZURlYXRocyIsIkx1Y3kiLCJhdHRhY2tIaXRib3giLCJzZXRWaXNpYmxlIiwic2V0SW1tb3ZhYmxlIiwidXBkYXRlSGl0Ym94Iiwib2Zmc2V0WCIsIkxpZ2h0IiwicmFkaXVzIiwiaXNPbiIsImNhblBlcmZvcm0iLCJjb2xsaWRlckNpcmNsZSIsImNpcmNsZSIsInNldENpcmNsZSIsInNldEFsbG93R3Jhdml0eSIsImNsZWFyIiwiZmlsbENpcmNsZSIsInBlcmZvcm0iLCJBcnRodXIiLCJsaWdodCIsIkdhbWVTY2VuZSIsImFydGh1ciIsImx1Y3kiLCJlbmVtaWVzIiwiZW5lbXkiLCJpbml0Iiwic3RvcEFsbCIsInBsYXRmb3JtcyIsImlucHV0TWFuYWdlciIsImVuZW15MSIsImVuZW15MiIsImVuZW15MyIsImVuZW15NCIsImVuZW15NSIsInNldCIsImZvbmRvIiwidGlsZVNwcml0ZSIsInNldFNjcm9sbEZhY3RvciIsInNldFVwV29ybGRDb2xsaXNpb25zIiwic2V0VXBFbmVteUNvbGxpc2lvbnMiLCJzZXRVcFJldml2ZUNvbGxpc2lvbiIsInNldFVwTGlicmFyeUNvbGxpc2lvbiIsIndvcmxkIiwic2V0Qm91bmRzIiwic2V0TGVycCIsIm9uQ29ubmVjdGlvbkxvc3QiLCJvdmVybGFwIiwic3VlbG8xIiwicGxhdDEiLCJwbGF0MiIsInN1ZWxvMiIsImNvbDEiLCJjb2wyIiwicGxhdDMiLCJwbGF0NCIsInBsYXQ1Iiwic3VlbG8zIiwic3VlbG80IiwicGxhdDYiLCJwbGF0NyIsInBsYXQ4Iiwic3VlbG81IiwicCIsInBlcnNvbmFqZSIsImNvbGxpZGVyIiwiZW5lbWlnbyIsImxpYnJlcmlhIiwiY2hlY2tQbGF5ZXJTdGF0dXMiLCJ0aWxlUG9zaXRpb25YIiwiZGVsZXRlIiwicHJldmlvdXNTY2VuZSIsIlBhdXNlU2NlbmUiLCJ1bnBhdXNlIiwicGxheUJ0biIsImZpbGwiLCJleGl0QnRuIiwiZXhpdFRvTWVudSIsIkNyZWRpdHNTY2VuZSIsImFsaWduIiwiUHVwcGV0IiwiaXNQbGF5ZXIiLCJsb29wQW5pbWF0aW9uTGlzdCIsImRlbGF5IiwiYWRkRXZlbnQiLCJsb29wIiwibGVuZ3RoIiwiSW50cm9TY2VuZSIsImFydGh1cjEiLCJhcnRodXIyIiwiYXJ0aHVyMyIsImFydGh1cjQiLCJsdWN5MSIsImx1Y3kyIiwibHVjeTMiLCJsdWN5NCIsInB1cHBldHMxIiwicHVwcGV0czIiLCJwdXBwZXQiLCJpbnRyb1RleHQiLCJ0ZXh0SW5kZXgiLCJpblByb2dyZXNzIiwiaW50cm9JbWFnZTAiLCJpbnRyb0ltYWdlMSIsImludHJvSW1hZ2VMIiwiaW50cm9JbWFnZTIiLCJjb250cm9sc0ltYWdlIiwiY29tYmF0SW1hZ2UiLCJjdXRzY2VuZUltYWdlcyIsIm5leHRCdG4iLCJuZXh0VGV4dCIsInNraXBCdG4iLCJzaG93VGV4dCIsInRleHRJbiIsIndyaXRlVGV4dCIsInN1YnN0cmluZyIsIkVuZFNjZW5lIiwiZW5kSW1hZ2UxIiwiZW5kSW1hZ2UyIiwiZW5kSW1hZ2UzIiwiZW5kSW1hZ2U0IiwiZW5kSW1hZ2VzIiwidGV4dG8iLCJpZHgiLCJ3cml0ZUxldHRlciIsIkdhbWVTY2VuZTIiLCJDb25uZWN0aW9uTG9zdFNjZW5lIiwicmVjb25uZWN0Q2hlY2tJbnRlcnZhbCIsInN0YXR1c1RleHQiLCJhdHRlbXB0Q291bnQiLCJhdHRlbXB0VGV4dCIsImRvdENvdW50IiwiZG90cyIsIm9uUmVjb25uZWN0ZWQiLCJhdHRlbXB0UmVjb25uZWN0IiwiTG9naW5TY2VuZSIsImh0bWwiLCJlbGVtZW50IiwiZG9tIiwiY3JlYXRlRnJvbUNhY2hlIiwic2V0UGVyc3BlY3RpdmUiLCJhc3luYyIsImV2ZW50IiwicHJldmVudERlZmF1bHQiLCJpbnB1dFVzZXJuYW1lIiwiZ2V0Q2hpbGRCeU5hbWUiLCJNYXRjaE1ha2luZ1NjZW5lIiwiU2NlbmUiLCJwbGF5ZXJDb3VudFRleHQiLCJjYW5jZWxCdXR0b24iLCJsZWF2ZVF1ZXVlIiwiY29ubmVjdFRvU2VydmVyIiwid3NVcmwiLCJsb2NhdGlvbiIsImhvc3QiLCJvbm9wZW4iLCJvbm1lc3NhZ2UiLCJwYXJzZSIsImhhbmRsZVNlcnZlck1lc3NhZ2UiLCJvbmVycm9yIiwib25jbG9zZSIsInBvc2l0aW9uIiwicm9vbUlkIiwicGFyZW50IiwiZGVmYXVsdCIsImFyY2FkZSIsImRlYnVnIiwiZGVidWdTaG93Qm9keSIsImRlYnVnU2hvd1N0YXRpY0JvZHkiLCJjcmVhdGVDb250YWluZXIiLCJsb2FkZWQiLCJsb2NhbFBsYXllciIsInJlbW90ZVBsYXllciIsInNldHVwV2ViU29ja2V0TGlzdGVuZXJzIiwic2V0VXBQbGF5ZXJzIiwiZW5lbXlJZCIsInVwZGF0ZVJlbW90ZVBsYXllckhpdCIsInJlY2lldmVFbmVteU1vdm1lbnQiLCJoYW5kbGVHYW1lT3ZlciIsImhhbmRsZVBsYXllcnNXaW4iLCJoYW5kbGVSZXN0YXJ0IiwiZ2FtZUVuZGVkIiwiY3JlYXRlTWVudUJ1dHRvbiIsImNyZWF0ZVJldHJ5QnV0dG9uIiwicmV0cnlCdG4iLCJtZW51QnRuIl0sInNvdXJjZVJvb3QiOiIifQ==