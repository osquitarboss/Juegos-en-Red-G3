(()=>{"use strict";var e={n:t=>{var s=t&&t.__esModule?()=>t.default:()=>t;return e.d(s,{a:s}),s},d:(t,s)=>{for(var i in s)e.o(s,i)&&!e.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:s[i]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const t=Phaser;var s=e.n(t);class i extends s().Scene{constructor(){super("OptionsScene")}preload(){this.load.image("background","assets/menu-inicio-fondo.png")}create(e){this.add.rectangle(400,300,800,600,0).setOrigin(.5),this.add.text(400,100,"Opciones",{fontSize:"48px",fontFamily:"LinLibertine",color:"#ffffffff",fontStyle:"bold"}).setOrigin(.5);const t=this.sound.mute?"Activar Sonido":"Desactivar Sonido",s=this.add.text(400,300,t,{fontSize:"32px",fontFamily:"LinLibertine",color:"#ffffffff",backgroundColor:"#000000ff",padding:{x:20,y:10}}).setOrigin(.5).setInteractive({useHandCursor:!0});s.on("pointerover",()=>s.setStyle({backgroundColor:"#737373ff"})).on("pointerout",()=>s.setStyle({backgroundColor:"#000000ff"})).on("pointerdown",()=>{this.sound.mute=!this.sound.mute,s.setText(this.sound.mute?"Activar Sonido":"Desactivar Sonido")});const i=this.add.text(400,500,"Volver",{fontSize:"32px",fontFamily:"LinLibertine",color:"#ffffffff",backgroundColor:"#000000ff",padding:{x:20,y:10}}).setOrigin(.5).setInteractive({useHandCursor:!0});i.on("pointerover",()=>i.setStyle({backgroundColor:"#737373ff"})).on("pointerout",()=>i.setStyle({backgroundColor:"#000000ff"})).on("pointerdown",()=>{this.scene.stop(),this.scene.resume(e.originalScene)})}}const a=new class{constructor(){this.connectedCount=0,this.isConnected=!1,this.lastCheckTime=0,this.checkInterval=2e3,this.listeners=[],this.sessionId=this.generateSessionId(),this.intervalId=null,this.startPolling()}generateSessionId(){return`session_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}async checkConnection(){try{const e=await fetch("/api/connected",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sessionId:this.sessionId})});if(e.ok){const t=await e.json();return this.connectedCount=t.connected,this.isConnected=!0,this.lastCheckTime=Date.now(),this.notifyListeners({connected:!0,count:this.connectedCount}),{connected:this.connectedCount,success:!0}}return this.handleDisconnection(),{connected:0,success:!1}}catch(e){return console.error("Error checking connection:",e),this.handleDisconnection(),{connected:0,success:!1}}}handleDisconnection(){this.isConnected=!1,this.connectedCount=0,this.notifyListeners({connected:!1,count:0})}addListener(e){this.listeners.push(e)}removeListener(e){const t=this.listeners.indexOf(e);t>-1&&this.listeners.splice(t,1)}notifyListeners(e){this.listeners.forEach(t=>t(e))}getStatus(){return{isConnected:this.isConnected,connectedCount:this.connectedCount,lastCheckTime:this.lastCheckTime}}startPolling(){this.intervalId||(this.checkConnection(),this.intervalId=setInterval(()=>{this.checkConnection()},this.checkInterval))}stopPolling(){this.intervalId&&(clearInterval(this.intervalId),this.intervalId=null)}};let n=new class{constructor(){this.id=void 0,this.name=void 0,this.deaths=0}async updateClientData(e){const t=await fetch(`/api/users/${this.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});return await t.json()}async getClientDeaths(){try{const e=await fetch(`/api/users/${this.id}`);if(!e.ok)throw new Error("Network response was not ok");return(await e.json()).deaths}catch(e){throw console.error("ClientDataManager error:",e),e}}async updateClientDeaths(e){this.deaths=e}async postLogin(){const e=await fetch("/api/users",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:this.id,name:this.name,deaths:this.deaths})});if(e.ok){const t=await e.json();this.id=t.id,this.deaths=t.deaths}return e.status}};class r extends s().Scene{constructor(){super("MenuScene")}preload(){this.load.audio("music","assets/sound/menu-theme.mp3"),this.load.image("background","assets/menus/menuSinLetras.png"),this.load.image("numPlayers","assets/menus/BotonNumUsuarios.png"),this.load.image("serverDown","assets/menus/BotonServidorCaido.png"),this.load.image("juegoLinea","assets/menus/BotonJuegoLinea.png"),this.load.image("id1","assets/menus/BotonTitulo.png"),this.load.image("id2","assets/menus/BotonLocalPlay.png"),this.load.image("id3","assets/menus/BotonCreditos.png"),this.load.image("id4","assets/menus/BotonOpciones.png"),this.load.image("id5","assets/menus/BotonSalir.png"),this.load.image("menu","assets/menus/libretaNivelesConSombra.png"),this.load.image("n1","assets/menus/BotonNivel1.png"),this.load.image("n2","assets/menus/BotonNivel2.png"),this.load.image("return","assets/menus/BotonVolver.png")}create(){this.add.image(400,300,"background").setOrigin(.5),this.add.image(85,34,"id1").setOrigin(0),this.startButton=this.add.image(196,200,"id2").setOrigin(0).setInteractive({useHandCursor:!0}).on("pointerdown",()=>{this.scene.start("IntroScene",{sceneToPlay:"GameScene"})}),this.creditsButton=this.add.image(241,320,"id3").setOrigin(0).setInteractive({useHandCursor:!0}).on("pointerdown",()=>{this.scene.start("CreditsScene")}),this.optionsButton=this.add.image(245,390,"id4").setOrigin(0).setInteractive({useHandCursor:!0}).on("pointerdown",()=>{this.scene.launch("OptionsScene",{originalScene:"MenuScene"})}),this.exitButton=this.add.image(276,451,"id5").setOrigin(0).setInteractive({useHandCursor:!0}).on("pointerdown",()=>{this.game.destroy(!0),window.close()}),this.buttons=[this.startButton,this.creditsButton,this.optionsButton,this.exitButton],this.music=this.sound.add("music"),this.music.play(),this.music.setVolume(0),this.numPlayers=this.add.image(320,550,"numPlayers").setOrigin(.5),this.serverDown=this.add.image(400,550,"serverDown").setOrigin(.5).setVisible(!1),this.connectionText=this.add.text(450,550,"",{fontSize:"18px",fontFamily:"LinLibertine",color:"#ffffffff",backgroundColor:"#000000ff"}).setOrigin(.5),this.connectionListener=e=>{this.updateConnectionDisplay(e)},a.addListener(this.connectionListener),this.onlineBtn=this.add.image(196,265,"juegoLinea").setOrigin(0).setInteractive({useHandCursor:!0}).on("pointerover",()=>this.onlineBtn.setStyle({backgroundColor:"#737373ff"})).on("pointerout",()=>this.onlineBtn.setStyle({backgroundColor:"#000000ff"})).on("pointerdown",()=>{this.scene.start("IntroScene",{sceneToPlay:"MatchMakingScene"})})}updateConnectionDisplay(e){if(this.connectionText&&this.scene&&this.scene.isActive("MenuScene"))try{e.connected?(this.connectionText.setText(e.count),this.connectionText.setColor("#ffffffff")):(this.connectionText.setText(""),this.serverDown.setVisible(!0),this.numPlayers.setVisible(!1))}catch(e){console.error("[MenuScene] Error updating connection display:",e)}}shutdown(){this.connectionListener&&a.removeListener(this.connectionListener)}}class o{execute(){}serialize(){return{}}getEntity(){return null}}class h extends o{constructor(e,t){super(),this.player=e,this.action=t}execute(){const e=this.player;"up"===this.action&&e.jump(),"left"!==this.action&&"right"!==this.action?"idle"===this.action&&e.idle():e.horizontalMove(this.action)}serialize(){return{type:"PlayerMovmentInputCommand",playerId:this.player.id,action:this.action,x:this.player.sprite.x,y:this.player.sprite.y}}getEntity(){return this.player}}class l extends o{constructor(e){super(),this.player=e}execute(){this.player.attack()}serialize(){return{type:"PlayerAttackCommand",playerId:this.player.id}}getEntity(){return this.player}}class c{constructor(){this.players=new Map}process(e){e.execute()}receiveCommand(e){this.players.get(e.playerId);const t=this.deserialize(e);t&&t.execute()}deserialize(e){const t=this.players.get(e.playerId);switch(e.type){case"PlayerMovmentInputCommand":return t?(void 0!==e.x&&void 0!==e.y&&t.sprite&&(Math.abs(t.sprite.x-e.x)>5||Math.abs(t.sprite.y-e.y)>5)&&t.sprite.setPosition(e.x,e.y),new h(t,e.action)):(console.warn(`Player not found for ID: ${e.playerId}`),null);case"PlayerAttackCommand":return t?new l(t):(console.warn(`Player not found for ID: ${e.playerId}`),null);default:return console.warn("Comando desconocido:",e.type),null}}}class p{constructor(e,t,s,i,a=null,n=null){this.commandProcessor=new c,this.scene=e,this.sceneManager=t,this.input=s,this.commandProcessor=i,this.players=new Map,this.inputsMapping=[],this.isPaused=!1,this.localPlayerRole=a,this.ws=n,this.setUpInputs()}setUpInputs(){this.players=this.scene.players,null===this.localPlayerRole?this.setUpLocalInputs():this.setUpRemoteInputs(this.localPlayerRole)}setWebSocket(e){this.ws=e}setLocalPlayerRole(e){this.localPlayerRole=e}setUpLocalInputs(){this.input.keyboard.on("keydown-ESC",()=>{this.pause()}),this.inputsMapping=[{playerId:"player1",leftKey:"A",rightKey:"D",upKey:"W",downKey:"S",attackKey:"F"},{playerId:"player2",leftKey:"LEFT",rightKey:"RIGHT",upKey:"UP",downKey:"DOWN",attackKey:"ENTER"}],this.inputsMapping=this.inputsMapping.map(e=>({playerId:e.playerId,leftKeyObj:this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes[e.leftKey]),rightKeyObj:this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes[e.rightKey]),upKeyObj:this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes[e.upKey]),downKeyObj:this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes[e.downKey]),attackKeyObj:this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes[e.attackKey])}))}setUpRemoteInputs(e){this.input.keyboard.on("keydown-ESC",()=>{this.pause()});const t=[{playerId:this.localPlayerRole,leftKey:"A",rightKey:"D",upKey:"W",downKey:"S",attackKey:"F"}];this.inputsMapping=t,this.inputsMapping=this.inputsMapping.map(e=>({playerId:e.playerId,leftKeyObj:this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes[e.leftKey]),rightKeyObj:this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes[e.rightKey]),upKeyObj:this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes[e.upKey]),downKeyObj:this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes[e.downKey]),attackKeyObj:this.input.keyboard.addKey(s().Input.Keyboard.KeyCodes[e.attackKey])}))}pause(){this.sceneManager.launch("PauseScene",{originalScene:"GameScene"}),this.sceneManager.pause("GameScene"),this.isPaused=!0}update(){this.inputsMapping.forEach(e=>{let t=this.players.get(e.playerId);t.id=e.playerId;let s=new o;if(s=e.upKeyObj.isDown?new h(t,"up"):e.leftKeyObj.isDown?new h(t,"left"):e.rightKeyObj.isDown?new h(t,"right"):new h(t,"idle"),this.commandProcessor.process(s),this.sendMessage(s.serialize()),e.attackKeyObj.isDown){let e=new l(t);this.commandProcessor.process(e),this.sendMessage(e.serialize())}})}sendMessage(e){this.ws&&this.ws.readyState===WebSocket.OPEN?this.ws.send(JSON.stringify(e)):console.warn("WebSocket is not open. Message not sent:",e)}updateRemotePlayerPosition(e){"PlayerMovmentInputCommand"===e.type&&this.commandProcessor.receiveCommand(e)}updateRemotePlayerAttack(e){"PlayerAttackCommand"===e.type&&this.commandProcessor.receiveCommand(e)}}class d{constructor(e,t){this.scene=e,this.animationSpritesheet=t}preload(e,t){this.scene.load.spritesheet(this.animationSpritesheet,`assets/sprites/${this.animationSpritesheet}.png`,{frameWidth:e,frameHeight:t})}createAnimation(e,t,s,i,a=-1){this.scene.anims.create({key:e,frames:this.scene.anims.generateFrameNumbers(this.animationSpritesheet,{start:t,end:s}),frameRate:i,repeat:a})}assignSpriteToPlayer(e,t){return this.scene.physics.add.sprite(e,t,this.animationSpritesheet)}createSprite(e,t){return this.scene.add.sprite(e,t,this.animationSpritesheet)}}class y{constructor(e,t,s,i,a){this.scene=e,this.x=s,this.y=i,this.players=a,this.id=t,this.baseHeight=.33,this.baseWidth=.33,this.baseSpeed=100,this.isDead=!1,this.weakened=!1,this.chasingPlayerId=null,this.animator=new d(this.scene,"spritesheet-enemigo-reescalado-mitad")}preload(){this.animator.preload(300,400)}create(){this.sprite=this.animator.assignSpriteToPlayer(this.x,this.y),this.animator.createAnimation(`idle-black-${this.id}`,0,2,5),this.animator.createAnimation(`idle-white-${this.id}`,3,5,5),this.animator.createAnimation(`black-to-white-${this.id}`,6,8,8,0),this.animator.createAnimation(`white-to-black-${this.id}`,6,8,8,0),this.animator.createAnimation(`die-${this.id}`,9,11,8,0),this.sprite.on("animationcomplete",e=>{e.key===`die-${this.id}`&&this.sprite.destroy()}),this.sprite.setCollideWorldBounds(!0),this.sprite.body.allowGravity=!1,this.sprite.body.setGravityY(500),this.sprite.setDepth(10),this.sprite.setScale(this.baseWidth,this.baseHeight),this.sprite.body.setSize(this.sprite.width-150,this.sprite.height-135),this.sprite.anims.play(`idle-black-${this.id}`)}enemyMovement(){this.pickPlayer();const e=this.players.get(this.chasingPlayerId).sprite.x-this.sprite.x,t=this.players.get(this.chasingPlayerId).sprite.y-this.sprite.y,s=Math.sqrt(e*e+t*t);this.sprite.flipX=this.players.get(this.chasingPlayerId).sprite.x<this.sprite.x,this.weakened||Math.abs(this.players.get(this.chasingPlayerId).sprite.x-this.sprite.x)>500||Math.abs(this.players.get(this.chasingPlayerId).sprite.y-this.sprite.y)>500?this.baseSpeed=0:this.baseSpeed=100,s>25&&this.baseSpeed>0?(this.movementVector={x:e/s,y:t/s},this.sprite.setVelocityX(this.movementVector.x*this.baseSpeed),this.sprite.setVelocityY(this.movementVector.y*this.baseSpeed)):(this.movementVector={x:0,y:0},this.sprite.setVelocity(0))}receiveEnemyMovment(e,t,s,i){const a=this.players.get(t);a&&a.sprite&&(this.sprite.flipX=a.sprite.x<this.sprite.x,this.weakened||Math.abs(a.sprite.x-this.sprite.x)>500||Math.abs(a.sprite.y-this.sprite.y)>500?this.baseSpeed=0:this.baseSpeed=100,void 0!==s&&void 0!==i&&(Math.abs(this.sprite.x-s)>10||Math.abs(this.sprite.y-i)>10)&&this.sprite.setPosition(s,i),this.movementVector=e,this.sprite.setVelocityX(this.movementVector.x*this.baseSpeed),this.sprite.setVelocityY(this.movementVector.y*this.baseSpeed))}pickPlayer(){const e=this.players.get("player1"),t=this.players.get("player2");if(!(e&&t&&e.sprite&&t.sprite))return;this.chasingPlayerId=Math.abs(e.sprite.x-this.sprite.x)>Math.abs(t.sprite.x-this.sprite.x)?"player2":"player1";const s=this.players.get(this.chasingPlayerId);s&&s.health<=0&&("player1"===this.chasingPlayerId?this.chasingPlayerId="player2":this.chasingPlayerId="player1")}die(){this.sprite.setVelocity(0),this.sprite.anims.play(`die-${this.id}`)}setWeakened(e){this.weakened=e,e?(this.sprite.anims.play(`black-to-white-${this.id}`),this.sprite.on("animationcomplete",e=>{e.key===`black-to-white-${this.id}`&&this.sprite.anims.play(`idle-white-${this.id}`)})):this.sprite.anims.play(`idle-black-${this.id}`)}update(){this.isDead||this.enemyMovement()}}class m{constructor(e,t){this.scene=e,this.players=t,this.camera=this.scene.cameras.main,this.camLeft=this.camera.scrollX,this.camRight=this.camera.scrollX+this.camera.width,this.margin=20}update(){this.camLeft=this.camera.scrollX,this.camRight=this.camera.scrollX+this.camera.width,this.players.get("player1").sprite.x=s().Math.Clamp(this.players.get("player1").sprite.x,this.camLeft+this.margin,this.camRight-this.margin),this.players.get("player2").sprite.x=s().Math.Clamp(this.players.get("player2").sprite.x,this.camLeft+this.margin,this.camRight-this.margin);const e=(this.players.get("player1").sprite.x+this.players.get("player2").sprite.x)/2,t=e-.5*this.camera.width,i=e+.5*this.camera.width,a=this.players.get("player1").sprite.x>t+this.margin&&this.players.get("player1").sprite.x<i-this.margin,n=this.players.get("player2").sprite.x>t+this.margin&&this.players.get("player2").sprite.x<i-this.margin;a&&n&&(this.camera.scrollX=Math.round(s().Math.Linear(this.camera.scrollX,e-this.camera.width/2,.1)))}}class u{constructor(e,t,s,i,a,n,r){this.scene=e,this.id=t,this.sprite=e.add.image(s,i,r),this.sprite.setOrigin(.5,.5),this.sprite.setDepth(10),this.sprite.setDisplaySize(a,n),e.physics.add.existing(this.sprite,!0),this.sprite.body.setSize(a,n),this.g=e.add.graphics(),this.g.fillStyle(0,0),this.g.fillRect(s-a/2,i-n/2,a-10,n-10),this.g.setDepth(0),this.setUpCollisions()}setUpCollisions(){this.scene.physics.add.existing(this.g,!0)}}class g{constructor(e,t,s,i,a,r=null){this.id=t,this.scene=e,this.gravity=s,this.baseHeight=.33,this.baseWidth=.33,this.baseSpeed=300,this.jumpForce=450,this.health=100,this.invulnerable=!1,this.xPos=i,this.yPos=a,this.isDead=!1,this.numDeaths=n.deaths,this.currentDirection="idle",this.currentAnim=null,this.animator=new d(this.scene,r)}preload(e,t){this.animator.preload(e,t)}create(){this.sprite=this.animator.assignSpriteToPlayer(this.xPos,this.yPos),this.animator.createAnimation(`idle-${this.id}`,0,3,4),this.animator.createAnimation(`walk-${this.id}`,4,7,5),this.animator.createAnimation(`jump-${this.id}`,8,8,4,0),this.animator.createAnimation(`air-${this.id}`,9,10,1,0),this.animator.createAnimation(`fall-${this.id}`,10,10,1,0),this.animator.createAnimation(`attack-${this.id}`,12,13,2,0),this.sprite.on("animationcomplete",e=>{e.key===`jump-${this.id}`&&(this.sprite.body.onFloor()||this.playAnim(`air-${this.id}`))}),this.sprite.on("animationupdate",e=>{e.key===`air-${this.id}`&&this.sprite.body.onFloor()&&this.playAnim(`fall-${this.id}`)}),this.sprite.setScale(this.baseWidth,this.baseHeight),this.sprite.setCollideWorldBounds(!0),this.sprite.body.allowGravity=!0,this.sprite.body.setGravityY(this.gravity),this.sprite.body.setSize(this.sprite.width-160,this.sprite.height-140),this.sprite.body.setOffset(75,135),this.sprite.setDepth(5),this.sprite.play(`idle-${this.id}`)}playAnim(e){this.currentAnim!==e&&(this.sprite.play(e,!0),this.currentAnim=e)}horizontalMove(e){this.health<=0||(this.currentDirection=e,this.sprite.flipX="left"===e,this.sprite.setVelocityX("left"===e?-this.baseSpeed:this.baseSpeed),this.sprite.body.onFloor()&&this.currentAnim!==`jump-${this.id}`&&this.currentAnim!==`attack-${this.id}`&&this.playAnim(`walk-${this.id}`))}jump(){this.canJump()&&(this.sprite.setVelocityY(-this.jumpForce),this.playAnim(`jump-${this.id}`))}idle(){this.sprite.setVelocityX(0),this.sprite.body.onFloor()&&this.currentAnim!==`jump-${this.id}`&&this.currentAnim!==`fall-${this.id}`&&this.currentAnim!==`attack-${this.id}`&&!this.isDead&&(this.playAnim(`idle-${this.id}`),this.currentDirection="idle")}getHit(e){if(!this.invulnerable){if(this.health-=e,this.invulnerable=!0,this.sprite.setTint(8421504),!this.checkAlive())return this.health=0,this.baseSpeed=0,this.sprite.setTint(0),this.sprite.anims.pause(),this.invulnerable=!1,this.isDead=!0,this.isAttacking=!1,this.numDeaths++,this.updateDeaths(),void n.updateClientDeaths(this.numDeaths);this.scene.time.delayedCall(2e3,()=>{this.invulnerable=!1})}}revive(){this.health=100,this.baseSpeed=300,this.isDead=!1,this.invulnerable=!1,this.sprite.clearTint(),this.sprite.anims.resume(),this.invulnerable=!0,this.isAttacking=!1,this.playAnim(`idle-${this.id}`),this.scene.time.delayedCall(1e3,()=>{this.invulnerable=!1})}checkAlive(){return this.health>0}canJump(){return this.sprite.body.onFloor()&&this.checkAlive()}attack(){}async updateDeaths(){await n.updateClientData({deaths:this.numDeaths})}}class f extends g{constructor(e,t,s,i,a,n=null){super(e,t,s,i,a,n),this.attackHitbox=null}create(){super.create(),this.attackHitbox=this.scene.physics.add.sprite(0,0,null).setSize(50,20).setVisible(!1).setImmovable(!0),this.isAttacking=!1,this.sprite.on("animationcomplete",e=>{e.key===`attack-${this.id}`&&(this.isAttacking=!1,this.playAnim(`idle-${this.id}`),this.attackHitbox.setPosition(-100,-100))}),this.sprite.on("animationupdate",e=>{e.key===`attack-${this.id}`&&this.updateHitbox()})}getHit(e){super.getHit(e),this.isAttacking=!1}updateHitbox(){const e=this.sprite.flipX?-20:20;this.attackHitbox.setPosition(this.sprite.x+e,this.sprite.y)}attack(){this.isAttacking||(this.updateHitbox(),this.isAttacking=!0,this.sprite.setVelocityX(0),this.playAnim(`attack-${this.id}`))}}class b{constructor(e,t,s,i,a){this.id=t,this.scene=e,this.player=s,this.radius=i,this.color=a,this.isOn=!1,this.canPerform=!0,this.colliderCircle=null}create(){this.colliderCircle=this.scene.add.circle(this.player.sprite.x,this.player.sprite.y,this.radius),this.scene.physics.add.existing(this.colliderCircle),this.colliderCircle.body.setCircle(this.radius),this.colliderCircle.body.setAllowGravity(!1),this.colliderCircle.body.setImmovable(!0),this.graphics=this.scene.add.graphics()}update(){const e=this.player.sprite.x,t=this.player.sprite.y;this.colliderCircle.setPosition(e,t),this.isOn?(this.graphics.clear(),this.graphics.fillStyle(this.color,.5),this.graphics.fillCircle(e,t,this.radius),this.graphics.setDepth(10)):this.graphics.clear()}perform(){this.canPerform&&(this.canPerform=!1,this.isOn=!0,this.scene.time.delayedCall(1e3,()=>{this.isOn=!1,this.graphics.clear()}),this.scene.time.delayedCall(3e3,()=>{this.canPerform=!0}))}destroy(){this.graphics.destroy(),this.colliderCircle.destroy()}}class S extends g{constructor(e,t,s,i,a,n=null){super(e,t,s,i,a,n),this.light=new b(this.scene,"light1",this,75,16777215),this.isAttacking=!1}create(){super.create(),this.light.create(),this.sprite.on("animationupdate",e=>{e.key===`attack-${this.id}`&&(this.light.update(),this.isAttacking=!0)}),this.sprite.on("animationcomplete",e=>{e.key===`attack-${this.id}`&&(this.isAttacking=!1,this.playAnim(`idle-${this.id}`))})}revive(){super.revive(),this.light.canPerform=!0}attack(){!this.isAttacking&&this.light.canPerform&&(this.light.perform(),this.playAnim(`attack-${this.id}`))}}class x extends s().Scene{constructor(e="GameScene"){super(e)}preload(){this.arthur.preload(300,400),this.lucy.preload(300,400),this.load.audio("ambient","assets/sound/ambient-theme.mp3"),this.load.image("fondo","assets/FondoHorizontal.png"),this.load.image("p1","assets/props/plataforma1.png"),this.load.image("suelo","assets/props/suelo.png"),this.load.image("p2","assets/props/plataforma2.png"),this.load.image("c1","assets/props/columna1.png"),this.load.image("lib","assets/props/libreria.png"),this.enemies.forEach(e=>e.preload())}init(){this.sound.stopAll(),this.commandProcessor=new c,this.players=new Map,this.enemies=new Map,this.platforms=new Map,this.isPaused=!1,this.inputManager=new p(this,this.scene,this.input,this.commandProcessor),this.arthur=new S(this,"player1",600,100,500,"spritesheet-arthur-reescalado-mitad"),this.lucy=new f(this,"player2",450,300,500,"spritesheet-lucy-reescalado-mitad"),this.enemy1=new y(this,"enemy1",400,100,this.players),this.enemy2=new y(this,"enemy2",1200,100,this.players),this.enemy3=new y(this,"enemy3",2e3,100,this.players),this.enemy4=new y(this,"enemy4",2800,100,this.players),this.enemy5=new y(this,"enemy5",3500,100,this.players),this.camera=new m(this,this.players),this.enemies.set(this.enemy1.id,this.enemy1),this.enemies.set(this.enemy2.id,this.enemy2),this.enemies.set(this.enemy3.id,this.enemy3),this.enemies.set(this.enemy4.id,this.enemy4),this.enemies.set(this.enemy5.id,this.enemy5)}create(){this.music=this.sound.add("ambient"),this.music.play(),this.music.setVolume(.25),this.fondo=this.add.tileSprite(0,0,8e3,2e3,"fondo").setOrigin(0,0).setScrollFactor(.2).setScale(.3),this.arthur.create(),this.lucy.create(),this.players.set("player1",this.arthur),this.players.set("player2",this.lucy),this.inputManager.players=this.players,this.commandProcessor.players=this.players,this.enemies.forEach(e=>{e.create()}),this.setUpWorldCollisions(),this.setUpEnemyCollisions(),this.setUpReviveCollision(),this.setUpLibraryCollision(),this.physics.world.setBounds(0,0,4175,600),this.camera.camera.setBounds(0,0,4175,600),this.camera.camera.setLerp(.1,.1),this.connectionListener=e=>{!e.connected&&this.scene.isActive()&&this.onConnectionLost()},a.addListener(this.connectionListener)}setUpReviveCollision(){this.physics.add.overlap(this.players.get("player1").sprite,this.players.get("player2").sprite,()=>{this.players.get("player1").health<=0&&this.players.get("player2").health>0?this.players.get("player1").revive():this.players.get("player2").health<=0&&this.players.get("player1").health>0&&this.players.get("player2").revive()})}setUpWorldCollisions(){this.suelo1=new u(this,"s1",2500,590,5e3,40,"suelo"),this.plat1=new u(this,"p1",200,450,200,30,"p1"),this.plat2=new u(this,"p2",450,300,200,30,"p1"),this.suelo2=new u(this,"s2",1200,550,500,200,"p2"),this.col1=new u(this,"c1",700,450,70,300,"c1"),this.col2=new u(this,"c2",2200,450,70,400,"c1"),this.plat3=new u(this,"p3",1800,450,150,30,"p1"),this.plat4=new u(this,"p4",1500,300,150,30,"p1"),this.plat5=new u(this,"p5",2e3,200,150,30,"p1"),this.suelo3=new u(this,"s3",2200,550,230,100,"p2"),this.suelo4=new u(this,"s4",2800,500,550,250,"p2"),this.plat6=new u(this,"p6",3150,250,150,30,"p1"),this.plat7=new u(this,"p7",3500,250,150,30,"p1"),this.plat8=new u(this,"p8",3150,450,150,30,"p1"),this.suelo5=new u(this,"s5",4001,450,350,350,"p2"),this.platforms.set("s1",this.suelo1),this.platforms.set("p1",this.plat1),this.platforms.set("p2",this.plat2),this.platforms.set("s2",this.suelo2),this.platforms.set("c1",this.col1),this.platforms.set("c2",this.col2),this.platforms.set("p3",this.plat3),this.platforms.set("p4",this.plat4),this.platforms.set("p5",this.plat5),this.platforms.set("s3",this.suelo3),this.platforms.set("s4",this.suelo4),this.platforms.set("s5",this.suelo5),this.platforms.set("p6",this.plat6),this.platforms.set("p7",this.plat7),this.platforms.set("p8",this.plat8),this.platforms.forEach(e=>{this.players.forEach(t=>{this.physics.add.collider(t.sprite,e.sprite)}),this.enemies.forEach(t=>{this.physics.add.collider(t.sprite,e.sprite)})})}setUpLibraryCollision(){this.libreria=new u(this,"lib",4e3,208,100,150,"lib"),this.libreria.sprite.setDepth(2),this.physics.add.overlap(this.libreria.sprite,this.arthur.sprite,()=>{this.scene.stop(),this.scene.start("EndScene")}),this.physics.add.overlap(this.libreria.sprite,this.lucy.sprite,()=>{this.scene.stop(),this.scene.start("EndScene")})}setUpEnemyCollisions(){this.enemies.forEach(e=>{this.physics.add.collider(e.sprite,this.players.get("player1").sprite,()=>{e&&this.players.get("player1").health>0&&(this.players.get("player1").getHit(50),this.checkPlayerStatus())}),this.physics.add.collider(e.sprite,this.players.get("player2").sprite,()=>{e&&this.players.get("player2").health>0&&(this.players.get("player2").getHit(50),this.checkPlayerStatus())}),this.physics.add.overlap(e.sprite,this.arthur.light.colliderCircle,()=>{this.arthur.light.isOn&&e&&(e.setWeakened(!0),this.time.delayedCall(4e3,()=>{e&&e.setWeakened(!1)}))}),this.physics.add.overlap(e.sprite,this.players.get("player2").attackHitbox,()=>{e?.weakened&&this.players.get("player2").isAttacking&&(e.die(),e.isDead=!0,e=null)})})}checkPlayerStatus(){this.players.get("player1").health<=0&&this.players.get("player2").health<=0&&(n.updateClientDeaths(n.deaths+1),this.scene.stop(),this.scene.start("GameScene"))}update(){this.fondo.tilePositionX=.2*this.cameras.main.scrollX,this.camera.update(),this.inputManager.update(),this.arthur.light.update(),this.enemies.forEach(e=>{e&&!e.isDead?e.update():this.enemies.delete(e.id)})}onConnectionLost(){this.scene.pause(),this.scene.launch("ConnectionLostScene",{previousScene:"GameScene"})}}class k extends s().Scene{constructor(){super("PauseScene")}create(e){this.input.keyboard.on("keydown-ESC",()=>{this.unpause(e.originalScene)}),this.add.rectangle(400,300,800,600,0,.7),this.add.text(400,100,"Menú de pausa",{fontSize:"48px",fontFamily:"LinLibertine",color:"#3e2606ff",backgroundColor:"#ffffff"}).setOrigin(.5);const t=this.add.text(400,250,"Continuar",{fontSize:"24px",fontFamily:"LinLibertine",color:"#3e2606ff",backgroundColor:"#ffffff"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerover",()=>t.setStyle({fill:"#00000037"})).on("pointerout",()=>t.setStyle({fill:"#000000"})).on("pointerdown",()=>{this.unpause(e.originalScene)}),s=this.sound.mute?"Activar Sonido":"Desactivar Sonido",i=this.add.text(400,400,s,{fontSize:"24px",fontFamily:"LinLibertine",color:"#3e2606ff",backgroundColor:"#ffffff"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerover",()=>i.setStyle({fill:"#00000037"})).on("pointerout",()=>i.setStyle({fill:"#000000"})).on("pointerdown",()=>{this.sound.mute=!this.sound.mute,i.setText(this.sound.mute?"Activar Sonido":"Desactivar Sonido")}),a=this.add.text(400,550,"Volver al Menu",{fontSize:"24px",fontFamily:"LinLibertine",color:"#3e2606ff",backgroundColor:"#ffffff"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerover",()=>a.setStyle({fill:"#00000037"})).on("pointerout",()=>a.setStyle({fill:"#000000"})).on("pointerdown",()=>{this.exitToMenu(e.originalScene)})}unpause(e){this.scene.stop(),this.scene.resume(e)}exitToMenu(e){this.scene.stop(e),this.sound.stopAll(),this.scene.start("MenuScene")}}class w extends s().Scene{constructor(){super("CreditsScene")}preload(){this.load.image("volverMenu","assets/menus/BotonVolverMenu.png"),this.load.image("creditsImage","assets/menus/MenuCreditos.png")}create(){this.add.image(400,300,"creditsImage").setOrigin(.5),this.add.image(400,500,"volverMenu").setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerdown",()=>{this.scene.start("MenuScene")})}}class v{constructor(e,t,s,i,a=null,n){this.id=t,this.scene=e,this.xPos=s,this.yPos=i,this.currentAnim=null,this.isPlayer=n,this.animator=new d(e,a)}preload(e,t){this.animator.preload(e,t)}create(){this.sprite=this.animator.createSprite(this.xPos,this.yPos),this.isPlayer?(this.animator.createAnimation(`idle-${this.id}`,0,3,4),this.animator.createAnimation(`walk-${this.id}`,4,7,5),this.animator.createAnimation(`jump-${this.id}`,8,8,4,0),this.animator.createAnimation(`air-${this.id}`,9,10,1,0),this.animator.createAnimation(`fall-${this.id}`,10,10,1,0),this.animator.createAnimation(`attack-${this.id}`,12,13,2,0),this.sprite.setScale(.23)):(this.animator.createAnimation(`idle-${this.id}`,0,2,5),this.animator.createAnimation(`idle-white-${this.id}`,3,5,5),this.animator.createAnimation(`black-to-white-${this.id}`,6,8,8,0),this.animator.createAnimation(`white-to-black-${this.id}`,6,8,8,0),this.animator.createAnimation(`die-${this.id}`,9,11,8,0),this.sprite.setScale(.35)),this.sprite.setDepth(200),this.sprite.play(`idle-${this.id}`)}playAnim(e){this.currentAnim!==e&&(this.sprite.play(e,!0),this.currentAnim=e)}loopAnimationList(e,t=1e3){let s=0;this.scene.time.addEvent({delay:t,loop:!0,callback:()=>{this.playAnim(e[s]),s=(s+1)%e.length}})}}class C extends s().Scene{constructor(){super("IntroScene")}init(e){this.sceneToPlay=e.sceneToPlay,this.arthur1=new v(this,"ca1",130,120,"spritesheet-arthur-reescalado-mitad",!0),this.arthur2=new v(this,"ca2",340,120,"spritesheet-arthur-reescalado-mitad",!0),this.arthur3=new v(this,"ca3",500,120,"spritesheet-arthur-reescalado-mitad",!0),this.arthur4=new v(this,"ca4",650,120,"spritesheet-arthur-reescalado-mitad",!0),this.lucy1=new v(this,"cl1",130,370,"spritesheet-lucy-reescalado-mitad",!0),this.lucy2=new v(this,"cl2",340,370,"spritesheet-lucy-reescalado-mitad",!0),this.lucy3=new v(this,"cl3",500,370,"spritesheet-lucy-reescalado-mitad",!0),this.lucy4=new v(this,"cl4",650,370,"spritesheet-lucy-reescalado-mitad",!0),this.puppets1=[this.arthur1,this.arthur2,this.arthur3,this.arthur4,this.lucy1,this.lucy2,this.lucy3,this.lucy4],this.enemy1=new v(this,"enemy1",300,90,"spritesheet-enemigo-reescalado-mitad",!1),this.enemy2=new v(this,"enemy2",600,90,"spritesheet-enemigo-reescalado-mitad",!1),this.enemy3=new v(this,"enemy3",300,340,"spritesheet-enemigo-reescalado-mitad",!1),this.enemy4=new v(this,"enemy4",600,340,"spritesheet-enemigo-reescalado-mitad",!1),this.puppets2=[this.enemy1,this.enemy2,this.enemy3,this.enemy4]}preload(){this.load.image("intro","assets/p1entrando.png"),this.load.image("intro2","assets/p1yp2.png"),this.load.image("controls","assets/ilustracionMecanicas.png"),this.load.image("combat","assets/ilustracionCombate.png"),this.load.image("mansion","assets/mansion.png"),this.load.image("lucyPeeking","assets/lucyPeeking.png"),this.puppets1.forEach(e=>e.preload(300,400)),this.puppets2.forEach(e=>e.preload(300,400))}create(){this.introText=["1953, Birmingham, Inglaterra, \nhace 27 años la familia Felton fue misteriosamente \nasesinada,\n nadie se ha atrevido a entrar en su mansión.","Hasta hoy. \n           \nArthur, dispuesto a resolver el caso\n se adentra en la sombría mansión.","Pero no está solo.\nAlgo le observa desde las sombras...\nO más bien,\nAlguien.","La fantasma resultó ser extrañamente amigable,\nOfreciéndose como guía y protectora\n en su investigacíon por la mansión."," "," "],this.textIndex=0,this.inProgress=!1,this.introImage0=this.add.image(400,200,"mansion"),this.introImage1=this.add.image(400,200,"intro"),this.introImageL=this.add.image(400,200,"lucyPeeking"),this.introImage2=this.add.image(400,200,"intro2"),this.controlsImage=this.add.image(400,270,"controls"),this.combatImage=this.add.image(400,270,"combat"),this.controlsImage.setScale(.9),this.combatImage.setScale(.9),this.cutsceneImages=[this.introImage1,this.introImageL,this.introImage2,this.controlsImage,this.combatImage],this.cutsceneImages.forEach(e=>e.setVisible(!1)),this.arthur1.create(),this.arthur1.playAnim("walk-ca1"),this.arthur1.sprite.flipX=!0,this.arthur2.create(),this.arthur2.playAnim("walk-ca2"),this.arthur2.sprite.flipX=!1,this.arthur3.create(),this.arthur3.loopAnimationList(["jump-ca3","air-ca3","fall-ca3"],300),this.arthur4.create(),this.arthur4.loopAnimationList(["idle-ca4","attack-ca4"],500),this.lucy1.create(),this.lucy1.playAnim("walk-cl1"),this.lucy1.sprite.flipX=!0,this.lucy2.create(),this.lucy2.playAnim("walk-cl2"),this.lucy2.sprite.flipX=!1,this.lucy3.create(),this.lucy3.loopAnimationList(["jump-cl3","air-cl3","fall-cl3"],300),this.lucy4.create(),this.lucy4.loopAnimationList(["idle-cl4","attack-cl4"],500),this.puppets1.forEach(e=>e.sprite.setVisible(!1)),this.enemy1.create(),this.enemy1.playAnim("idle-enemy1"),this.enemy2.create(),this.enemy2.playAnim("idle-white-enemy2"),this.enemy3.create(),this.enemy3.playAnim("idle-white-enemy3"),this.enemy4.create(),this.enemy4.loopAnimationList(["white-to-black-enemy4","die-enemy4"],500),this.puppets2.forEach(e=>e.sprite.setVisible(!1));const e=this.add.text(700,550,"Siguiente",{fontSize:"20px",color:"#ffffffff",backgroundColor:"#00000000"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerover",()=>e.setStyle({backgroundColor:"#737373ff"})).on("pointerout",()=>e.setStyle({backgroundColor:"#000000ff"})).on("pointerdown",()=>{switch(this.inProgress||this.nextText(),this.textIndex){case 1:this.introImage0.setVisible(!1),this.introImage1.setVisible(!0);break;case 2:this.introImage1.setVisible(!1),this.introImageL.setVisible(!0);break;case 3:this.introImageL.setVisible(!1),this.introImage2.setVisible(!0);break;case 4:this.introImage2.setVisible(!1),this.controlsImage.setVisible(!0),this.puppets1.forEach(e=>e.sprite.setVisible(!0));break;case 5:this.controlsImage.setVisible(!1),this.combatImage.setVisible(!0),this.puppets1.forEach(e=>e.sprite.setVisible(!1)),this.arthur4.sprite.setVisible(!0),this.arthur4.sprite.x=150,this.arthur4.sprite.y=100,this.lucy4.sprite.setVisible(!0),this.lucy4.sprite.x=150,this.lucy4.sprite.y=330,this.puppets2.forEach(e=>e.sprite.setVisible(!0));break;default:this.cutsceneImages.forEach(e=>e.setVisible(!1))}});this.text=this.add.text(400,460,"",{fontSize:"24px",color:"#ffffffff",align:"center"}).setOrigin(.5);const t=this.add.text(100,550,"Saltar",{fontSize:"20px",color:"#ffffffff",backgroundColor:"#00000000"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerover",()=>t.setStyle({backgroundColor:"#737373ff"})).on("pointerout",()=>t.setStyle({backgroundColor:"#000000ff"})).on("pointerdown",()=>{this.scene.start(this.sceneToPlay)});this.showText()}showText(){this.textIndex<this.introText.length?this.textIn(this.introText[this.textIndex]):this.scene.start(this.sceneToPlay)}textIn(e){this.inProgress=!0;let t=0;const s=()=>{t<e.length?(this.text.setText(e.substring(0,t+1)),t++,this.time.delayedCall(75,s)):this.inProgress=!1};s()}nextText(){this.textIndex++,this.showText()}}class I extends s().Scene{constructor(){super("EndScene")}preload(){this.load.image("img1","assets/p1p2foto.png"),this.load.image("img2","assets/p1p2Partido.png"),this.load.image("img3","assets/p1p2yfantasma.png"),this.load.image("img4","assets/p1p2eSCAPANDO.png")}create(){this.introText=["Arthur y Lucy hallan una vieja foto entre los \n polvorientos libros de la estantería.","De pronto, todo encaja en la mente de Arthur.\nSu obsesión sin sentido con el caso\n y la conexión con Lucy...\nella es...","Sin embargo, no hay tiempo para reflexiones.","Deben huir."],this.textIndex=0,this.inProgress=!1,this.endImage1=this.add.image(400,200,"img1"),this.endImage2=this.add.image(400,200,"img2"),this.endImage3=this.add.image(400,200,"img3"),this.endImage4=this.add.image(400,200,"img4"),this.endImages=[this.endImage2,this.endImage3,this.endImage4],this.endImages.forEach(e=>e.setVisible(!1));const e=this.add.text(700,550,"Siguiente",{fontSize:"20px",color:"#ffffffff",backgroundColor:"#000000ff"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerover",()=>e.setStyle({backgroundColor:"#737373ff"})).on("pointerout",()=>e.setStyle({backgroundColor:"#000000ff"})).on("pointerdown",()=>{switch(this.inProgress?this.game.events.emit("RequestScoreBoard"):this.nextText(),this.textIndex){case 1:this.endImage1.setVisible(!1),this.endImage2.setVisible(!0);break;case 2:this.endImage2.setVisible(!1),this.endImage3.setVisible(!0);break;case 3:this.endImage3.setVisible(!1),this.endImage4.setVisible(!0);break;case 4:this.endImage4.setVisible(!1)}});this.texto=this.add.text(400,460,"",{fontSize:"24px",color:"#ffffffff",align:"center"}).setOrigin(.5);const t=this.add.text(100,550,"Saltar",{fontSize:"20px",color:"#ffffffff",backgroundColor:"#00000000"}).setOrigin(.5).setInteractive({useHandCursor:!0}).on("pointerover",()=>t.setStyle({backgroundColor:"#737373ff"})).on("pointerout",()=>t.setStyle({backgroundColor:"#000000ff"})).on("pointerdown",()=>{this.scene.start("ScoreBoardScene")});this.showText()}showText(){this.textIndex<this.introText.length?this.textIn(this.introText[this.textIndex]):this.scene.start("ScoreBoardScene")}textIn(e){this.inProgress=!0;let t=0;const s=()=>{t<e.length?(this.texto.setText(e.substring(0,t+1)),t++,this.time.delayedCall(75,s)):this.inProgress=!1};s()}nextText(){this.textIndex++,this.showText()}}class P extends s().Scene{constructor(){super("GameScene2")}preload(){this.arthur.preload(600,800),this.lucy.preload(600,800),this.load.audio("ambient","assets/sound/ambient-theme.mp3"),this.load.image("fondo","assets/FondoHorizontal.png"),this.load.image("p1","assets/props/plataforma1.png"),this.load.image("suelo","assets/props/suelo.png"),this.load.image("p2","assets/props/plataforma2.png"),this.load.image("c1","assets/props/columna1.png"),this.load.image("lib","assets/props/libreria.png"),this.enemies.forEach(e=>e.preload())}init(){this.sound.stopAll(),this.commandProcessor=new c,this.players=new Map,this.enemies=new Map,this.platforms=new Map,this.isPaused=!1,this.inputManager=new p(this,this.scene,this.input,this.commandProcessor),this.arthur=new S(this,"player1",600,100,500,"spritesheet-arthur"),this.lucy=new f(this,"player2",450,300,500,"spritesheet-lucy"),this.camera=new m(this,this.players)}create(){this.music=this.sound.add("ambient"),this.music.play(),this.music.setVolume(.25),this.fondo=this.add.tileSprite(0,0,8e3,2e3,"fondo").setOrigin(0,0).setScrollFactor(.2).setScale(.3),this.arthur.create(),this.lucy.create(),this.players.set("player1",this.arthur),this.players.set("player2",this.lucy),this.inputManager.players=this.players,this.enemies.forEach(e=>{e.create()}),this.setUpWorldCollisions(),this.setUpEnemyCollisions(),this.setUpReviveCollision(),this.physics.world.setBounds(0,0,4175,600),this.camera.camera.setBounds(0,0,4175,600),this.camera.camera.setLerp(.1,.1)}setUpReviveCollision(){this.physics.add.overlap(this.players.get("player1").sprite,this.players.get("player2").sprite,()=>{this.players.get("player1").health<=0&&this.players.get("player2").health>0?this.players.get("player1").revive():this.players.get("player2").health<=0&&this.players.get("player1").health>0&&this.players.get("player2").revive()})}setUpWorldCollisions(){this.suelo1=new u(this,"s1",2500,590,5e3,40,"suelo"),this.platforms.set("s1",this.suelo1),this.platforms.forEach(e=>{this.players.forEach(t=>{this.physics.add.collider(t.sprite,e.sprite)}),this.enemies.forEach(t=>{this.physics.add.collider(t.sprite,e.sprite)})})}setUpEnemyCollisions(){this.enemies.forEach(e=>{this.physics.add.collider(e.sprite,this.players.get("player1").sprite,()=>{e&&this.players.get("player1").health>0&&(this.players.get("player1").getHit(50),this.checkPlayerStatus())}),this.physics.add.collider(e.sprite,this.players.get("player2").sprite,()=>{e&&this.players.get("player2").health>0&&(this.players.get("player2").getHit(50),this.checkPlayerStatus())}),this.physics.add.overlap(e.sprite,this.arthur.light.colliderCircle,()=>{this.arthur.light.isOn&&e&&(e.setWeakened(!0),this.time.delayedCall(4e3,()=>{e&&e.setWeakened(!1)}))}),this.physics.add.overlap(e.sprite,this.players.get("player2").attackHitbox,()=>{e?.weakened&&this.players.get("player2").isAttacking&&(e.die(),e.isDead=!0,e=null)})})}checkPlayerStatus(){this.players.get("player1").health<=0&&this.players.get("player2").health<=0&&(this.scene.stop(),this.scene.start("GameScene"))}update(){this.fondo.tilePositionX=.2*this.cameras.main.scrollX,this.camera.update(),this.inputManager.update(),this.arthur.light.update(),this.enemies.forEach(e=>{e&&!e.isDead?e.update():this.enemies.delete(e.id)})}}class M extends s().Scene{constructor(){super("ConnectionLostScene"),this.reconnectCheckInterval=null}init(e){this.previousScene=e.previousScene}create(){this.add.rectangle(400,300,800,600,0,.8),this.add.text(400,200,"CONEXIÓN PERDIDA",{fontSize:"48px",fontFamily:"LinLibertine",color:"#ff0000",fontStyle:"bold"}).setOrigin(.5),this.statusText=this.add.text(400,300,"Intentando reconectar...",{fontSize:"24px",fontFamily:"LinLibertine",color:"#ffff00"}).setOrigin(.5),this.attemptCount=0,this.attemptText=this.add.text(400,350,"Intentos: 0",{fontSize:"18px",fontFamily:"LinLibertine",color:"#ffffff"}).setOrigin(.5),this.dotCount=0,this.time.addEvent({delay:2e3,callback:()=>{this.dotCount=(this.dotCount+1)%4;const e=".".repeat(this.dotCount);this.statusText.setText(`Intentando reconectar${e}`)},loop:!0}),this.connectionListener=e=>{e.connected&&this.onReconnected()},a.addListener(this.connectionListener),this.reconnectCheckInterval=setInterval(()=>{this.attemptReconnect()},2e3),this.attemptReconnect()}async attemptReconnect(){if(this.attemptCount++,this.attemptCount>30)return this.statusText.setText("No se pudo establecer la conexión"),void this.statusText.setColor("#ff0000");this.attemptText.setText(`Intentos: ${this.attemptCount}`),await a.checkConnection()}onReconnected(){this.reconnectCheckInterval&&clearInterval(this.reconnectCheckInterval),a.removeListener(this.connectionListener),this.statusText.setText("¡Conexión restablecida!"),this.statusText.setColor("#00ff00"),this.time.delayedCall(1e3,()=>{this.scene.stop(),this.previousScene&&this.scene.resume(this.previousScene)})}shutdown(){this.reconnectCheckInterval&&clearInterval(this.reconnectCheckInterval),this.connectionListener&&a.removeListener(this.connectionListener)}}class L extends s().Scene{constructor(){super("LoginScene")}preload(){this.load.html("login","assets/html/form.html")}create(){const e=this.add.text(400,52,"Login",{fontSize:"32px",fontFamily:"LinLibertine",color:"#ffffffff"}).setOrigin(.5),t=this.add.dom(400,300).createFromCache("login");t.setPerspective(800),t.addListener("click"),t.on("click",async s=>{if(s.preventDefault(),"loginButton"===s.target.name){const s=t.getChildByName("username").value;console.log(s),""!==s&&(console.log("Trying to log in"),n.name=s,201===await n.postLogin()?(t.removeListener("click"),e.setText("Login successful"),this.scene.start("MenuScene")):e.setText("Login failed"))}})}}class A extends Phaser.Scene{constructor(){super("MatchMakingScene"),this.ws=null}preload(){this.load.image("matchMaking","assets/menus/pantalla-matchmaking.jpg")}create(){const e=this.cameras.main.width,t=this.cameras.main.height;this.add.image(e/2,t/2,"matchMaking").setOrigin(.5),this.statusText=this.add.text(e/2,t/2-50,"Conectando...",{fontFamily:"LinLibertine",fontSize:"24px",color:"#ffffffff",backgroundColor:"#000000ff"}).setOrigin(.5),this.playerCountText=this.add.text(e/2,t/2+20,"",{fontFamily:"LinLibertine",fontSize:"20px",color:"#ffffffff",backgroundColor:"#000000ff"}).setOrigin(.5);const s=this.add.text(e/2,t-100,"Cancel",{fontFamily:"LinLibertine",fontSize:"24px",color:"#ff6666ff",backgroundColor:"#000000ff",padding:{x:20,y:10}}).setOrigin(.5).setInteractive();s.on("pointerover",()=>{s.setColor("#ff0000ff")}),s.on("pointerout",()=>{s.setColor("#ff6666ff")}),s.on("pointerdown",()=>{this.leaveQueue(),this.scene.start("MenuScene")}),this.connectToServer()}connectToServer(){try{const e=`ws://${window.location.host}`;this.ws=new WebSocket(e),this.ws.onopen=()=>{console.log("Connecting to WebSocket server"),this.statusText.setText("Esperando oponente..."),this.ws.send(JSON.stringify({type:"joinQueue"}))},this.ws.onmessage=e=>{try{const t=JSON.parse(e.data);this.handleServerMessage(t)}catch(e){console.error("Error parsing server message:",e)}},this.ws.onerror=e=>{console.error("Error de WebSocket:",e),this.statusText.setText("Error de WebSocket!"),this.statusText.setColor("#ff0000ff")},this.ws.onclose=()=>{console.log("WebSocket connection closed"),this.scene.isActive("LobbyScene")&&(this.statusText.setText("Conexión perdida!"),this.statusText.setColor("#ff0000ff"))}}catch(e){console.error("Error connecting to server:",e),this.statusText.setText("Error al conectar!"),this.statusText.setColor("#ff0000ff")}}handleServerMessage(e){switch(e.type){case"queueStatus":this.playerCountText.setText(`Jugadores en cola: ${e.position}/2`);break;case"gameStart":console.log("Game starting!",e),this.scene.start("MultiplayerScene",{ws:this.ws,playerRole:e.role,roomId:e.roomId});break;default:console.log("Unknown message type:",e.type)}}leaveQueue(){this.ws&&this.ws.readyState===WebSocket.OPEN&&(this.ws.send(JSON.stringify({type:"leaveQueue"})),this.ws.close())}shutdown(){this.leaveQueue()}}class O extends s().Scene{constructor(){super("ScoreBoardScene")}preload(){this.load.image("p1p2eSCAPANDO","assets/p1p2eSCAPANDO.png")}create(){this.add.image(400,300,"p1p2eSCAPANDO").setOrigin(.5),this.add.text(400,100,"SCOREBOARD",{fontSize:"48px",color:"#ffffffff",backgroundColor:"#000000",fontFamily:"LinLibertine"}).setOrigin(.5),this.deathsText=this.add.text(400,200,"Muertes: Cargando... ",{fontSize:"18px",fontFamily:"LinLibertine",color:"#ffffffff",backgroundColor:"#000000"}).setOrigin(.5),n.getClientDeaths().then(e=>{console.log("Received deaths:",e),null!=e?this.deathsText.setText("Muertes Totales: "+e):this.deathsText.setText("Muertes Totales: Error")}).catch(e=>{console.error("Error fetching deaths:",e),this.deathsText.setText("Muertes Totales: Error")})}}const T={type:s().AUTO,width:800,height:600,parent:"game-container",physics:{default:"arcade",arcade:{gravity:{x:0,y:1},debug:!1,debugShowBody:!1,debugShowStaticBody:!1}},dom:{createContainer:!0},scene:[L,r,A,w,i,C,x,class extends x{constructor(){super("MultiplayerScene"),this.loaded=!1}preload(){super.preload(),this.load.image("gameover","assets/menus/GameOver.png")}init(e){super.init(),this.ws=e.ws,this.playerRole=e.playerRole,this.roomId=e.roomId,this.localPlayer=null,this.remotePlayer=null,this.clientDataManager=n,this.setupWebSocketListeners()}create(){this.setUpPlayers(),super.create(),this.inputManager.setWebSocket(this.ws),this.inputManager.setLocalPlayerRole(this.playerRole),this.inputManager.setUpInputs(),this.game.events.on("RequestScoreBoard",()=>{this.sendMessage({type:"RequestScoreBoard"})}),this.sendMessage({type:"Loaded"})}update(){this.loaded&&(this.fondo.tilePositionX=.2*this.cameras.main.scrollX,this.camera.update(),this.inputManager.update(),this.arthur.light.update(),"player1"===this.playerRole&&this.enemies.forEach(e=>{e&&!e.isDead?(e.update(),this.sendMessage({type:"EnemyMovment",enemyId:e.id,movementVector:e.movementVector,chasingPlayerId:e.chasingPlayerId,x:e.sprite.x,y:e.sprite.y})):this.enemies.delete(e.id)}))}setUpPlayers(){"player1"===this.playerRole?(this.localPlayer=this.arthur,this.remotePlayer=this.lucy):(this.localPlayer=this.lucy,this.remotePlayer=this.arthur),console.log("Local player:",this.localPlayer),console.log("Remote player:",this.remotePlayer)}setupWebSocketListeners(){this.ws.onmessage=e=>{try{const t=JSON.parse(e.data);this.handleServerMessage(t)}catch(e){console.error("Error parsing server message:",e)}},this.ws.onclose=()=>{console.log("WebSocket connection closed"),this.handleDisconnection()},this.ws.onerror=e=>{console.error("WebSocket error:",e),this.handleDisconnection()}}handleServerMessage(e){switch(e.type){case"PlayerMovmentInputCommand":this.inputManager.updateRemotePlayerPosition(e);break;case"PlayerAttackCommand":console.log("MultiplayerScene received msg:",e),this.inputManager.updateRemotePlayerAttack(e);break;case"PlayerHit":console.log("MultiplayerScene received msg:",e),this.updateRemotePlayerHit(e);break;case"EnemyMovment":this.recieveEnemyMovment(e);break;case"playerDisconnected":this.handleDisconnection();break;case"Loaded":this.loaded=!0;break;case"GameOver":this.handleGameOver();break;case"PlayersWin":this.scene.stop(),this.scene.start("EndScene");break;case"ScoreBoard":this.scene.stop(),this.scene.start("ScoreBoardScene",{scoreboard:e.data});break;case"Restart":this.handleRestart();break;default:console.log("Unknown message type:",e.type)}}recieveEnemyMovment(e){this.enemies.forEach(t=>{t.id===e.enemyId&&t.receiveEnemyMovment(e.movementVector,e.chasingPlayerId,e.x,e.y)})}setUpEnemyCollisions(){this.enemies.forEach(e=>{this.physics.add.overlap(e.sprite,this.localPlayer.sprite,()=>{if(e&&this.localPlayer.health>0){let e=50;this.sendMessage({type:"PlayerHit",damage:e,playerId:this.playerRole}),console.log(`Sending message of player hit: ${this.playerRole}`),this.localPlayer.getHit(e),this.checkPlayerStatus()}}),this.physics.add.overlap(e.sprite,this.remotePlayer.sprite),this.physics.add.overlap(e.sprite,this.arthur.light.colliderCircle,()=>{this.arthur.light.isOn&&e&&(e.setWeakened(!0),this.time.delayedCall(4e3,()=>{e&&e.setWeakened(!1)}))}),this.physics.add.overlap(e.sprite,this.lucy.attackHitbox,()=>{e?.weakened&&this.lucy.isAttacking&&(e.die(),e.isDead=!0,e=null)})})}setUpLibraryCollision(){this.libreria=new u(this,"lib",4e3,208,100,150,"lib"),this.libreria.sprite.setDepth(2),this.physics.add.overlap(this.libreria.sprite,this.localPlayer.sprite,()=>{this.sendMessage({type:"PlayersWin"}),this.scene.stop(),this.scene.start("EndScene")})}updateRemotePlayerHit(e){this.players.get(e.playerId).getHit(e.damage),this.checkPlayerStatus()}checkPlayerStatus(){this.players.get("player1").health<=0&&this.players.get("player2").health<=0&&this.sendMessage({type:"GameOver"})}handleDisconnection(){this.gameEnded=!0,this.physics.pause(),this.add.text(400,250,"Compañero desconectado",{fontSize:"48px",color:"#ff0000",fontFamily:"LinLibertine"}).setOrigin(.5).setScrollFactor(0),this.createMenuButton()}handleGameOver(){this.gameEnded=!0,this.physics.pause(),this.add.image(400,300,"gameover").setOrigin(.5).setScrollFactor(0).setDepth(100),this.createMenuButton(),this.createRetryButton()}createRetryButton(){const e=this.add.text(400,350,"Volver a intentar",{fontSize:"32px",color:"#ffffff",backgroundColor:"#000000",fontFamily:"LinLibertine"}).setOrigin(.5).setDepth(101).setScrollFactor(0).setInteractive({useHandCursor:!0}).on("pointerover",()=>e.setColor("#cccccc")).on("pointerout",()=>e.setColor("#ffffff")).on("pointerdown",()=>{this.ws&&this.ws.readyState===WebSocket.OPEN&&this.sendMessage({type:"Restart"})})}createMenuButton(){const e=this.add.text(400,400,"Volver al menu",{fontSize:"32px",color:"#ffffff",backgroundColor:"#000000",fontFamily:"LinLibertine"}).setOrigin(.5).setDepth(101).setScrollFactor(0).setInteractive({useHandCursor:!0}).on("pointerover",()=>e.setColor("#cccccc")).on("pointerout",()=>e.setColor("#ffffff")).on("pointerdown",()=>{this.ws&&this.ws.readyState===WebSocket.OPEN&&(this.sendMessage({type:"PlayerDisconnected"}),this.ws.close()),this.scene.start("MenuScene")})}handleRestart(){this.scene.start("MultiplayerScene")}sendMessage(e){this.ws&&this.ws.readyState===WebSocket.OPEN&&this.ws.send(JSON.stringify(e))}shutdown(){this.ws&&this.ws.readyState===WebSocket.OPEN&&this.ws.close()}},k,I,P,M,O],backgroundColor:"#360246ff"};new(s().Game)(T)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QVMsS0FDVDhHLGdCQUFnQixHQUNoQmpULGVBQWUsQ0FBRUMsZUFBZSxJQUNoQ0MsR0FBRyxjQUFlLElBQU15YyxFQUFROVcsU0FBUyxZQUN6QzNGLEdBQUcsYUFBYyxJQUFNeWMsRUFBUTlXLFNBQVMsWUFDeEMzRixHQUFHLGNBQWUsS0FDWHZCLEtBQUtrSixJQUFNbEosS0FBS2tKLEdBQUdtQyxhQUFlQyxVQUFVQyxPQUM1Q3ZMLEtBQUtrTCxZQUFZLENBQ2JwRCxLQUFNLHVCQUVWOUgsS0FBS2tKLEdBQUc3QyxTQUVackcsS0FBSzJCLE1BQU1pRSxNQUFNLGNBRTdCLENBRUEsYUFBQStYLEdBQ0kzZCxLQUFLMkIsTUFBTWlFLE1BQU0sbUJBQ3JCLENBRUEsV0FBQXNGLENBQVk5SyxHQUNKSixLQUFLa0osSUFBTWxKLEtBQUtrSixHQUFHbUMsYUFBZUMsVUFBVUMsTUFDNUN2TCxLQUFLa0osR0FBR3NDLEtBQUtuSSxLQUFLQyxVQUFVbEQsR0FFcEMsQ0FFQSxRQUFBK0csR0FDUW5ILEtBQUtrSixJQUFNbEosS0FBS2tKLEdBQUdtQyxhQUFlQyxVQUFVQyxNQUM1Q3ZMLEtBQUtrSixHQUFHN0MsT0FFaEIsR0RyU3NIbVEsRUFBWTRDLEVBQVVXLEVBQVlDLEVBQXFCc0MsR0FDN0tyYixnQkFBaUIsYUFHUixJQUFJLFVBQVlrSixFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYm1jb25maWRlbmNpYWwvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vYm1jb25maWRlbmNpYWwvd2VicGFjay9ydW50aW1lL2NvbXBhdCBnZXQgZGVmYXVsdCBleHBvcnQiLCJ3ZWJwYWNrOi8vYm1jb25maWRlbmNpYWwvd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovL2JtY29uZmlkZW5jaWFsL3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vYm1jb25maWRlbmNpYWwvZXh0ZXJuYWwgdmFyIFwiUGhhc2VyXCIiLCJ3ZWJwYWNrOi8vYm1jb25maWRlbmNpYWwvLi9zcmMvY2xpZW50L3NjZW5lL09wdGlvbnNTY2VuZS5qcyIsIndlYnBhY2s6Ly9ibWNvbmZpZGVuY2lhbC8uL3NyYy9jbGllbnQvc2VydmljZXMvQ29ubmVjdGlvbk1hbmFnZXIuanMiLCJ3ZWJwYWNrOi8vYm1jb25maWRlbmNpYWwvLi9zcmMvY2xpZW50L3NlcnZpY2VzL2NsaWVudERhdGFNYW5hZ2VyLmpzIiwid2VicGFjazovL2JtY29uZmlkZW5jaWFsLy4vc3JjL2NsaWVudC9zY2VuZS9NZW51U2NlbmUuanMiLCJ3ZWJwYWNrOi8vYm1jb25maWRlbmNpYWwvLi9zcmMvY2xpZW50L2NvbW1hbmQtcGF0dGVybi9Db21tYW5kLmpzIiwid2VicGFjazovL2JtY29uZmlkZW5jaWFsLy4vc3JjL2NsaWVudC9jb21tYW5kLXBhdHRlcm4vUGxheWVyTW92bWVudElucHV0Q29tbWFuZC5qcyIsIndlYnBhY2s6Ly9ibWNvbmZpZGVuY2lhbC8uL3NyYy9jbGllbnQvY29tbWFuZC1wYXR0ZXJuL1BsYXllckF0dGFja0NvbW1hbmQuanMiLCJ3ZWJwYWNrOi8vYm1jb25maWRlbmNpYWwvLi9zcmMvY2xpZW50L2NvbW1hbmQtcGF0dGVybi9Db21tYW5kUHJvY2Vzc29yLmpzIiwid2VicGFjazovL2JtY29uZmlkZW5jaWFsLy4vc3JjL2NsaWVudC9oYW5kbGVycy9JbnB1dE1hbmFnZXIuanMiLCJ3ZWJwYWNrOi8vYm1jb25maWRlbmNpYWwvLi9zcmMvY2xpZW50L2NvbXBvbmVudHMvQW5pbWF0b3IuanMiLCJ3ZWJwYWNrOi8vYm1jb25maWRlbmNpYWwvLi9zcmMvY2xpZW50L2VudGl0aWVzL0VuZW15LmpzIiwid2VicGFjazovL2JtY29uZmlkZW5jaWFsLy4vc3JjL2NsaWVudC9jb21wb25lbnRzL0NhbWVyYS5qcyIsIndlYnBhY2s6Ly9ibWNvbmZpZGVuY2lhbC8uL3NyYy9jbGllbnQvZW50aXRpZXMvUGxhdGZvcm0uanMiLCJ3ZWJwYWNrOi8vYm1jb25maWRlbmNpYWwvLi9zcmMvY2xpZW50L2VudGl0aWVzL1BsYXllci5qcyIsIndlYnBhY2s6Ly9ibWNvbmZpZGVuY2lhbC8uL3NyYy9jbGllbnQvZW50aXRpZXMvTHVjeS5qcyIsIndlYnBhY2s6Ly9ibWNvbmZpZGVuY2lhbC8uL3NyYy9jbGllbnQvZW50aXRpZXMvTGlnaHQuanMiLCJ3ZWJwYWNrOi8vYm1jb25maWRlbmNpYWwvLi9zcmMvY2xpZW50L2VudGl0aWVzL0FydGh1ci5qcyIsIndlYnBhY2s6Ly9ibWNvbmZpZGVuY2lhbC8uL3NyYy9jbGllbnQvc2NlbmUvR2FtZVNjZW5lLmpzIiwid2VicGFjazovL2JtY29uZmlkZW5jaWFsLy4vc3JjL2NsaWVudC9zY2VuZS9QYXVzZVNjZW5lLmpzIiwid2VicGFjazovL2JtY29uZmlkZW5jaWFsLy4vc3JjL2NsaWVudC9zY2VuZS9DcmVkaXRzU2NlbmUuanMiLCJ3ZWJwYWNrOi8vYm1jb25maWRlbmNpYWwvLi9zcmMvY2xpZW50L2VudGl0aWVzL1B1cHBldC5qcyIsIndlYnBhY2s6Ly9ibWNvbmZpZGVuY2lhbC8uL3NyYy9jbGllbnQvc2NlbmUvSW50cm9TY2VuZS5qcyIsIndlYnBhY2s6Ly9ibWNvbmZpZGVuY2lhbC8uL3NyYy9jbGllbnQvc2NlbmUvRW5kU2NlbmUuanMiLCJ3ZWJwYWNrOi8vYm1jb25maWRlbmNpYWwvLi9zcmMvY2xpZW50L3NjZW5lL0dhbWVTY2VuZTIuanMiLCJ3ZWJwYWNrOi8vYm1jb25maWRlbmNpYWwvLi9zcmMvY2xpZW50L3NjZW5lL0Nvbm5lY3Rpb25Mb3N0U2NlbmUuanMiLCJ3ZWJwYWNrOi8vYm1jb25maWRlbmNpYWwvLi9zcmMvY2xpZW50L3NjZW5lL0xvZ2luU2NlbmUuanMiLCJ3ZWJwYWNrOi8vYm1jb25maWRlbmNpYWwvLi9zcmMvY2xpZW50L3NjZW5lL01hdGNoTWFraW5nU2NlbmUuanMiLCJ3ZWJwYWNrOi8vYm1jb25maWRlbmNpYWwvLi9zcmMvY2xpZW50L3NjZW5lL1Njb3JlQm9hcmRTY2VuZS5qcyIsIndlYnBhY2s6Ly9ibWNvbmZpZGVuY2lhbC8uL3NyYy9jbGllbnQvbWFpbi5qcyIsIndlYnBhY2s6Ly9ibWNvbmZpZGVuY2lhbC8uL3NyYy9jbGllbnQvc2NlbmUvTXVsdGlwbGF5ZXJTY2VuZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBUaGUgcmVxdWlyZSBzY29wZVxudmFyIF9fd2VicGFja19yZXF1aXJlX18gPSB7fTtcblxuIiwiLy8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbl9fd2VicGFja19yZXF1aXJlX18ubiA9IChtb2R1bGUpID0+IHtcblx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG5cdFx0KCkgPT4gKG1vZHVsZVsnZGVmYXVsdCddKSA6XG5cdFx0KCkgPT4gKG1vZHVsZSk7XG5cdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsIHsgYTogZ2V0dGVyIH0pO1xuXHRyZXR1cm4gZ2V0dGVyO1xufTsiLCIvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSAoZXhwb3J0cywgZGVmaW5pdGlvbikgPT4ge1xuXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xuXHRcdH1cblx0fVxufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpIiwiY29uc3QgX19XRUJQQUNLX05BTUVTUEFDRV9PQkpFQ1RfXyA9IFBoYXNlcjsiLCJpbXBvcnQgUGhhc2VyIGZyb20gXCJwaGFzZXJcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBPcHRpb25zU2NlbmUgZXh0ZW5kcyBQaGFzZXIuU2NlbmUge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoJ09wdGlvbnNTY2VuZScpO1xyXG4gICAgfVxyXG5cclxuICAgIHByZWxvYWQoKSB7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdiYWNrZ3JvdW5kJywgJ2Fzc2V0cy9tZW51LWluaWNpby1mb25kby5wbmcnKTtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGUoZGF0YSkge1xyXG4gICAgICAgIC8vUGFuZWwgb3NjdXJvXHJcbiAgICAgICAgdGhpcy5hZGQucmVjdGFuZ2xlKDQwMCwgMzAwLCA4MDAsIDYwMCwgMHgwMDAwMDApLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICAvLyBUaXRsZVxyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoNDAwLCAxMDAsICdPcGNpb25lcycsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICc0OHB4JyxcclxuICAgICAgICAgICAgZm9udEZhbWlseTogJ0xpbkxpYmVydGluZScsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmZmZmZmZmJyxcclxuICAgICAgICAgICAgZm9udFN0eWxlOiAnYm9sZCdcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgLy9ib3RvbiBkZSBzb25pZG9cclxuICAgICAgICBjb25zdCB2b2x1bWVUZXh0ID0gdGhpcy5zb3VuZC5tdXRlID8gJ0FjdGl2YXIgU29uaWRvJyA6ICdEZXNhY3RpdmFyIFNvbmlkbyc7XHJcbiAgICAgICAgY29uc3Qgdm9sdW1lQnRuID0gdGhpcy5hZGQudGV4dCg0MDAsIDMwMCwgdm9sdW1lVGV4dCwge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzMycHgnLFxyXG4gICAgICAgICAgICBmb250RmFtaWx5OiAnTGluTGliZXJ0aW5lJyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmZmYnLFxyXG4gICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjMDAwMDAwZmYnLFxyXG4gICAgICAgICAgICBwYWRkaW5nOiB7IHg6IDIwLCB5OiAxMCB9XHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KTtcclxuXHJcbiAgICAgICAgdm9sdW1lQnRuLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IHZvbHVtZUJ0bi5zZXRTdHlsZSh7IGJhY2tncm91bmRDb2xvcjogJyM3MzczNzNmZicgfSkpXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcm91dCcsICgpID0+IHZvbHVtZUJ0bi5zZXRTdHlsZSh7IGJhY2tncm91bmRDb2xvcjogJyMwMDAwMDBmZicgfSkpXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNvdW5kLm11dGUgPSAhdGhpcy5zb3VuZC5tdXRlO1xyXG4gICAgICAgICAgICAgICAgdm9sdW1lQnRuLnNldFRleHQodGhpcy5zb3VuZC5tdXRlID8gJ0FjdGl2YXIgU29uaWRvJyA6ICdEZXNhY3RpdmFyIFNvbmlkbycpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy9ib3RvbiBkZSB2b2x2ZXJcclxuICAgICAgICBjb25zdCBiYWNrQnRuID0gdGhpcy5hZGQudGV4dCg0MDAsIDUwMCwgJ1ZvbHZlcicsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICczMnB4JyxcclxuICAgICAgICAgICAgZm9udEZhbWlseTogJ0xpbkxpYmVydGluZScsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmZmZmZmZmJyxcclxuICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAnIzAwMDAwMGZmJyxcclxuICAgICAgICAgICAgcGFkZGluZzogeyB4OiAyMCwgeTogMTAgfVxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSk7XHJcblxyXG4gICAgICAgIGJhY2tCdG4ub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4gYmFja0J0bi5zZXRTdHlsZSh7IGJhY2tncm91bmRDb2xvcjogJyM3MzczNzNmZicgfSkpXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcm91dCcsICgpID0+IGJhY2tCdG4uc2V0U3R5bGUoeyBiYWNrZ3JvdW5kQ29sb3I6ICcjMDAwMDAwZmYnIH0pKVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5zdG9wKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnJlc3VtZShkYXRhLm9yaWdpbmFsU2NlbmUpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgIH1cclxufVxyXG4iLCIvKipcclxuICogU2VydmljaW8gcGFyYSBnZXN0aW9uYXIgbGEgY29uZXhpw7NuIGNvbiBlbCBzZXJ2aWRvclxyXG4gKiBNYW5lamEgZWwgcG9sbGluZyBhbCBlbmRwb2ludCAvYXBpL2Nvbm5lY3RlZCB5IGRldGVjdGEgcMOpcmRpZGFzIGRlIGNvbmV4acOzblxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIENvbm5lY3Rpb25NYW5hZ2VyIHtcclxuICBjb25zdHJ1Y3RvcigpIHtcclxuICAgIHRoaXMuY29ubmVjdGVkQ291bnQgPSAwO1xyXG4gICAgdGhpcy5pc0Nvbm5lY3RlZCA9IGZhbHNlO1xyXG4gICAgdGhpcy5sYXN0Q2hlY2tUaW1lID0gMDtcclxuICAgIHRoaXMuY2hlY2tJbnRlcnZhbCA9IDIwMDA7IC8vIENvbXByb2JhciBjYWRhIDIgc2VndW5kb3NcclxuICAgIHRoaXMubGlzdGVuZXJzID0gW107XHJcbiAgICB0aGlzLnNlc3Npb25JZCA9IHRoaXMuZ2VuZXJhdGVTZXNzaW9uSWQoKTtcclxuICAgIHRoaXMuaW50ZXJ2YWxJZCA9IG51bGw7XHJcblxyXG4gICAgLy8gSW5pY2lhciBlbCBwb2xsaW5nIGF1dG9tw6F0aWNvXHJcbiAgICB0aGlzLnN0YXJ0UG9sbGluZygpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogR2VuZXJhciB1biBJRCDDum5pY28gZGUgc2VzacOzbiBwYXJhIGVzdGUgY2xpZW50ZVxyXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9XHJcbiAgICovXHJcbiAgZ2VuZXJhdGVTZXNzaW9uSWQoKSB7XHJcbiAgICByZXR1cm4gYHNlc3Npb25fJHtEYXRlLm5vdygpfV8ke01hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cigyLCA5KX1gO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQ29tcHJvYmFyIGNvbmV4acOzbiBjb24gZWwgc2Vydmlkb3JcclxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTx7Y29ubmVjdGVkOiBudW1iZXIsIHN1Y2Nlc3M6IGJvb2xlYW59Pn1cclxuICAgKi9cclxuICBhc3luYyBjaGVja0Nvbm5lY3Rpb24oKSB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCcvYXBpL2Nvbm5lY3RlZCcsIHtcclxuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcclxuICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXHJcbiAgICAgICAgfSxcclxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgICBzZXNzaW9uSWQ6IHRoaXMuc2Vzc2lvbklkXHJcbiAgICAgICAgfSlcclxuICAgICAgfSk7XHJcblxyXG4gICAgICBpZiAocmVzcG9uc2Uub2spIHtcclxuICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xyXG4gICAgICAgIHRoaXMuY29ubmVjdGVkQ291bnQgPSBkYXRhLmNvbm5lY3RlZDtcclxuICAgICAgICB0aGlzLmlzQ29ubmVjdGVkID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLmxhc3RDaGVja1RpbWUgPSBEYXRlLm5vdygpO1xyXG5cclxuICAgICAgICAvLyBOb3RpZmljYXIgYSBsb3MgbGlzdGVuZXJzXHJcbiAgICAgICAgdGhpcy5ub3RpZnlMaXN0ZW5lcnMoeyBjb25uZWN0ZWQ6IHRydWUsIGNvdW50OiB0aGlzLmNvbm5lY3RlZENvdW50IH0pO1xyXG5cclxuICAgICAgICByZXR1cm4geyBjb25uZWN0ZWQ6IHRoaXMuY29ubmVjdGVkQ291bnQsIHN1Y2Nlc3M6IHRydWUgfTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0aGlzLmhhbmRsZURpc2Nvbm5lY3Rpb24oKTtcclxuICAgICAgICByZXR1cm4geyBjb25uZWN0ZWQ6IDAsIHN1Y2Nlc3M6IGZhbHNlIH07XHJcbiAgICAgIH1cclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGNoZWNraW5nIGNvbm5lY3Rpb246JywgZXJyb3IpO1xyXG4gICAgICB0aGlzLmhhbmRsZURpc2Nvbm5lY3Rpb24oKTtcclxuICAgICAgcmV0dXJuIHsgY29ubmVjdGVkOiAwLCBzdWNjZXNzOiBmYWxzZSB9O1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogTWFuZWphciBkZXNjb25leGnDs25cclxuICAgKi9cclxuICBoYW5kbGVEaXNjb25uZWN0aW9uKCkge1xyXG4gICAgdGhpcy5pc0Nvbm5lY3RlZCA9IGZhbHNlO1xyXG4gICAgdGhpcy5jb25uZWN0ZWRDb3VudCA9IDA7XHJcbiAgICB0aGlzLm5vdGlmeUxpc3RlbmVycyh7IGNvbm5lY3RlZDogZmFsc2UsIGNvdW50OiAwIH0pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogUmVnaXN0cmFyIHVuIGxpc3RlbmVyIHBhcmEgY2FtYmlvcyBkZSBjb25leGnDs25cclxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayAtIEZ1bmNpw7NuIHF1ZSBzZSBsbGFtYXLDoSBjdWFuZG8gY2FtYmllIGVsIGVzdGFkb1xyXG4gICAqL1xyXG4gIGFkZExpc3RlbmVyKGNhbGxiYWNrKSB7XHJcbiAgICB0aGlzLmxpc3RlbmVycy5wdXNoKGNhbGxiYWNrKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEVsaW1pbmFyIHVuIGxpc3RlbmVyXHJcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgLSBGdW5jacOzbiBhIGVsaW1pbmFyXHJcbiAgICovXHJcbiAgcmVtb3ZlTGlzdGVuZXIoY2FsbGJhY2spIHtcclxuICAgIGNvbnN0IGluZGV4ID0gdGhpcy5saXN0ZW5lcnMuaW5kZXhPZihjYWxsYmFjayk7XHJcbiAgICBpZiAoaW5kZXggPiAtMSkge1xyXG4gICAgICB0aGlzLmxpc3RlbmVycy5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogTm90aWZpY2FyIGEgdG9kb3MgbG9zIGxpc3RlbmVyc1xyXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBkYXRhIC0gRGF0b3MgZGVsIGVzdGFkbyBkZSBjb25leGnDs25cclxuICAgKi9cclxuICBub3RpZnlMaXN0ZW5lcnMoZGF0YSkge1xyXG4gICAgdGhpcy5saXN0ZW5lcnMuZm9yRWFjaChsaXN0ZW5lciA9PiBsaXN0ZW5lcihkYXRhKSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBPYnRlbmVyIGVsIGVzdGFkbyBhY3R1YWwgZGUgY29uZXhpw7NuXHJcbiAgICogQHJldHVybnMge09iamVjdH1cclxuICAgKi9cclxuICBnZXRTdGF0dXMoKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBpc0Nvbm5lY3RlZDogdGhpcy5pc0Nvbm5lY3RlZCxcclxuICAgICAgY29ubmVjdGVkQ291bnQ6IHRoaXMuY29ubmVjdGVkQ291bnQsXHJcbiAgICAgIGxhc3RDaGVja1RpbWU6IHRoaXMubGFzdENoZWNrVGltZVxyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEluaWNpYXIgZWwgcG9sbGluZyBhdXRvbcOhdGljbyBkZSBjb25leGnDs25cclxuICAgKi9cclxuICBzdGFydFBvbGxpbmcoKSB7XHJcbiAgICBpZiAodGhpcy5pbnRlcnZhbElkKSB7XHJcbiAgICAgIHJldHVybjsgLy8gWWEgZXN0w6EgY29ycmllbmRvXHJcbiAgICB9XHJcblxyXG4gICAgLy8gQ29tcHJvYmFyIGlubWVkaWF0YW1lbnRlXHJcbiAgICB0aGlzLmNoZWNrQ29ubmVjdGlvbigpO1xyXG5cclxuICAgIC8vIEx1ZWdvIGNvbXByb2JhciBjYWRhIFggc2VndW5kb3NcclxuICAgIHRoaXMuaW50ZXJ2YWxJZCA9IHNldEludGVydmFsKCgpID0+IHtcclxuICAgICAgdGhpcy5jaGVja0Nvbm5lY3Rpb24oKTtcclxuICAgIH0sIHRoaXMuY2hlY2tJbnRlcnZhbCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBEZXRlbmVyIGVsIHBvbGxpbmcgYXV0b23DoXRpY29cclxuICAgKi9cclxuICBzdG9wUG9sbGluZygpIHtcclxuICAgIGlmICh0aGlzLmludGVydmFsSWQpIHtcclxuICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLmludGVydmFsSWQpO1xyXG4gICAgICB0aGlzLmludGVydmFsSWQgPSBudWxsO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuLy8gQ3JlYXIgaW5zdGFuY2lhIHNpbmdsZXRvblxyXG5leHBvcnQgY29uc3QgY29ubmVjdGlvbk1hbmFnZXIgPSBuZXcgQ29ubmVjdGlvbk1hbmFnZXIoKTtcclxuIiwiZXhwb3J0IGNsYXNzIENsaWVudERhdGFNYW5hZ2VyIHtcclxuICAgIFxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5pZCA9IHVuZGVmaW5lZDtcclxuICAgICAgICB0aGlzLm5hbWUgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgdGhpcy5kZWF0aHMgPSAwO1xyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIHVwZGF0ZUNsaWVudERhdGEodXBkYXRlcykge1xyXG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYC9hcGkvdXNlcnMvJHt0aGlzLmlkfWAsIHtcclxuICAgICAgICAgICAgbWV0aG9kOiAnUFVUJyxcclxuICAgICAgICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh1cGRhdGVzKVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICByZXR1cm4gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIGdldENsaWVudERlYXRocygpIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAvYXBpL3VzZXJzLyR7dGhpcy5pZH1gKTtcclxuICAgICAgICAgICAgaWYgKCFyZXNwb25zZS5vaykgdGhyb3cgbmV3IEVycm9yKCdOZXR3b3JrIHJlc3BvbnNlIHdhcyBub3Qgb2snKTtcclxuICAgICAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcclxuICAgICAgICAgICAgcmV0dXJuIGRhdGEuZGVhdGhzO1xyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0NsaWVudERhdGFNYW5hZ2VyIGVycm9yOicsIGVycm9yKTtcclxuICAgICAgICAgICAgdGhyb3cgZXJyb3I7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIHVwZGF0ZUNsaWVudERlYXRocyhkZWF0aHMpIHtcclxuICAgICAgICB0aGlzLmRlYXRocyA9IGRlYXRocztcclxuICAgIH1cclxuXHJcbiAgICBhc3luYyBwb3N0TG9naW4oKSB7XHJcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgL2FwaS91c2Vyc2AsIHtcclxuICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbidcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgICAgICAgICAgaWQ6IHRoaXMuaWQsXHJcbiAgICAgICAgICAgICAgICBuYW1lOiB0aGlzLm5hbWUsXHJcbiAgICAgICAgICAgICAgICBkZWF0aHM6IHRoaXMuZGVhdGhzXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgaWYgKHJlc3BvbnNlLm9rKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XHJcbiAgICAgICAgICAgIHRoaXMuaWQgPSBkYXRhLmlkO1xyXG4gICAgICAgICAgICB0aGlzLmRlYXRocyA9IGRhdGEuZGVhdGhzO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzO1xyXG4gICAgfVxyXG5cclxufVxyXG5cclxuLy9TaW5nbGV0b25cclxuZXhwb3J0IGxldCBjbGllbnREYXRhTWFuYWdlciA9IG5ldyBDbGllbnREYXRhTWFuYWdlcigpOyIsImltcG9ydCBQaGFzZXIgZnJvbSBcInBoYXNlclwiO1xyXG5pbXBvcnQgeyBjb25uZWN0aW9uTWFuYWdlciB9IGZyb20gXCIuLi9zZXJ2aWNlcy9Db25uZWN0aW9uTWFuYWdlci5qc1wiO1xyXG5pbXBvcnQgeyBjbGllbnREYXRhTWFuYWdlciB9IGZyb20gXCIuLi9zZXJ2aWNlcy9jbGllbnREYXRhTWFuYWdlci5qc1wiO1xyXG5cclxuZXhwb3J0IGNsYXNzIE1lbnVTY2VuZSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcignTWVudVNjZW5lJylcclxuICAgIH1cclxuXHJcblxyXG4gICAgcHJlbG9hZCgpIHtcclxuICAgICAgICB0aGlzLmxvYWQuYXVkaW8oJ211c2ljJywgJ2Fzc2V0cy9zb3VuZC9tZW51LXRoZW1lLm1wMycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYmFja2dyb3VuZCcsICdhc3NldHMvbWVudXMvbWVudVNpbkxldHJhcy5wbmcnKTtcclxuXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdudW1QbGF5ZXJzJywgJ2Fzc2V0cy9tZW51cy9Cb3Rvbk51bVVzdWFyaW9zLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnc2VydmVyRG93bicsICdhc3NldHMvbWVudXMvQm90b25TZXJ2aWRvckNhaWRvLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnanVlZ29MaW5lYScsICdhc3NldHMvbWVudXMvQm90b25KdWVnb0xpbmVhLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnaWQxJywgJ2Fzc2V0cy9tZW51cy9Cb3RvblRpdHVsby5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2lkMicsICdhc3NldHMvbWVudXMvQm90b25Mb2NhbFBsYXkucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdpZDMnLCAnYXNzZXRzL21lbnVzL0JvdG9uQ3JlZGl0b3MucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdpZDQnLCAnYXNzZXRzL21lbnVzL0JvdG9uT3BjaW9uZXMucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdpZDUnLCAnYXNzZXRzL21lbnVzL0JvdG9uU2FsaXIucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdtZW51JywgJ2Fzc2V0cy9tZW51cy9saWJyZXRhTml2ZWxlc0NvblNvbWJyYS5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ24xJywgJ2Fzc2V0cy9tZW51cy9Cb3Rvbk5pdmVsMS5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ24yJywgJ2Fzc2V0cy9tZW51cy9Cb3Rvbk5pdmVsMi5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3JldHVybicsICdhc3NldHMvbWVudXMvQm90b25Wb2x2ZXIucG5nJyk7XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlKCkge1xyXG4gICAgICAgIHRoaXMuYWRkLmltYWdlKDQwMCwgMzAwLCAnYmFja2dyb3VuZCcpLlxyXG4gICAgICAgICAgICBzZXRPcmlnaW4oMC41KTtcclxuICAgICAgICB0aGlzLmFkZC5pbWFnZSg4NSwgMzQsICdpZDEnKS5cclxuICAgICAgICAgICAgc2V0T3JpZ2luKDApO1xyXG5cclxuXHJcbiAgICAgICAgdGhpcy5zdGFydEJ1dHRvbiA9IHRoaXMuYWRkLmltYWdlKDE5NiwgMjAwLCAnaWQyJykuXHJcbiAgICAgICAgICAgIHNldE9yaWdpbigwKS5cclxuICAgICAgICAgICAgc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pLlxyXG4gICAgICAgICAgICBvbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdJbnRyb1NjZW5lJywgeyBzY2VuZVRvUGxheTogJ0dhbWVTY2VuZScgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLmNyZWRpdHNCdXR0b24gPSB0aGlzLmFkZC5pbWFnZSgyNDEsIDMyMCwgJ2lkMycpLlxyXG4gICAgICAgICAgICBzZXRPcmlnaW4oMCkuXHJcbiAgICAgICAgICAgIHNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KS5cclxuICAgICAgICAgICAgb24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5zdGFydCgnQ3JlZGl0c1NjZW5lJyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLm9wdGlvbnNCdXR0b24gPSB0aGlzLmFkZC5pbWFnZSgyNDUsIDM5MCwgJ2lkNCcpLlxyXG4gICAgICAgICAgICBzZXRPcmlnaW4oMCkuXHJcbiAgICAgICAgICAgIHNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KS5cclxuICAgICAgICAgICAgb24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5sYXVuY2goJ09wdGlvbnNTY2VuZScsIHsgb3JpZ2luYWxTY2VuZTogJ01lbnVTY2VuZScgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLmV4aXRCdXR0b24gPSB0aGlzLmFkZC5pbWFnZSgyNzYsIDQ1MSwgJ2lkNScpLlxyXG4gICAgICAgICAgICBzZXRPcmlnaW4oMCkuXHJcbiAgICAgICAgICAgIHNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KS5cclxuICAgICAgICAgICAgb24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5nYW1lLmRlc3Ryb3kodHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICB3aW5kb3cuY2xvc2UoKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuYnV0dG9ucyA9IFt0aGlzLnN0YXJ0QnV0dG9uLCB0aGlzLmNyZWRpdHNCdXR0b24sIHRoaXMub3B0aW9uc0J1dHRvbiwgdGhpcy5leGl0QnV0dG9uXTtcclxuICAgICAgICB0aGlzLm11c2ljID0gdGhpcy5zb3VuZC5hZGQoJ211c2ljJyk7XHJcbiAgICAgICAgdGhpcy5tdXNpYy5wbGF5KCk7XHJcbiAgICAgICAgdGhpcy5tdXNpYy5zZXRWb2x1bWUoMCk7XHJcblxyXG5cclxuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vIEFQSSBSRVNUIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuICAgICAgICAvLyBJbmRpY2Fkb3IgZGUgY29uZXhpw7NuIGFsIHNlcnZpZG9yXHJcblxyXG4gICAgICAgIHRoaXMubnVtUGxheWVycyA9IHRoaXMuYWRkLmltYWdlKDMyMCwgNTUwLCAnbnVtUGxheWVycycpLnNldE9yaWdpbigwLjUpO1xyXG4gICAgICAgIHRoaXMuc2VydmVyRG93biA9IHRoaXMuYWRkLmltYWdlKDQwMCwgNTUwLCAnc2VydmVyRG93bicpLnNldE9yaWdpbigwLjUpLnNldFZpc2libGUoZmFsc2UpO1xyXG5cclxuICAgICAgICB0aGlzLmNvbm5lY3Rpb25UZXh0ID0gdGhpcy5hZGQudGV4dCg0NTAsIDU1MCwgJycsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICcxOHB4JyxcclxuICAgICAgICAgICAgZm9udEZhbWlseTogJ0xpbkxpYmVydGluZScsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmZmZmZmZmJyxcclxuICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAnIzAwMDAwMGZmJ1xyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICAvLyBMaXN0ZW5lciBwYXJhIGNhbWJpb3MgZGUgY29uZXhpw7NuXHJcbiAgICAgICAgdGhpcy5jb25uZWN0aW9uTGlzdGVuZXIgPSAoZGF0YSkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUNvbm5lY3Rpb25EaXNwbGF5KGRhdGEpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgY29ubmVjdGlvbk1hbmFnZXIuYWRkTGlzdGVuZXIodGhpcy5jb25uZWN0aW9uTGlzdGVuZXIpO1xyXG5cclxuXHJcbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vIE9ubGluZSBjb24gV2ViU29ja2V0IC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcbiAgICAgICAgdGhpcy5vbmxpbmVCdG4gPSB0aGlzLmFkZC5pbWFnZSgxOTYsIDI2NSwgJ2p1ZWdvTGluZWEnKS5zZXRPcmlnaW4oMClcclxuICAgICAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4gdGhpcy5vbmxpbmVCdG4uc2V0U3R5bGUoeyBiYWNrZ3JvdW5kQ29sb3I6ICcjNzM3MzczZmYnIH0pKVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiB0aGlzLm9ubGluZUJ0bi5zZXRTdHlsZSh7IGJhY2tncm91bmRDb2xvcjogJyMwMDAwMDBmZicgfSkpXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdJbnRyb1NjZW5lJywgeyBzY2VuZVRvUGxheTogJ01hdGNoTWFraW5nU2NlbmUnIH0pO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8vLy8vLy8vL1dlYlNvY2tldC8vLy8vLy8vLy9cclxuICAgIH1cclxuXHJcblxyXG5cclxuICAgIC8vIG9wZW5NaW5pTWVudSgpIHtcclxuXHJcbiAgICAvLyAgICAgLy9EZXNhY3RpdmFyIHRvZG9zIGxvcyBib3RvbmVzIGRlIGFiYWpvIGRlbCBtZW7DulxyXG4gICAgLy8gICAgIHRoaXMuYnV0dG9ucy5mb3JFYWNoKGJ0biA9PiBidG4ucmVtb3ZlSW50ZXJhY3RpdmUoKSk7XHJcblxyXG4gICAgLy8gICAgIC8vIEZvbmRvIGRlbCBtZW7DulxyXG4gICAgLy8gICAgIGNvbnN0IGJnID0gdGhpcy5hZGQuaW1hZ2UoNDAwLCAzMDAsICdtZW51JylcclxuICAgIC8vICAgICAgICAgLnNldERlcHRoKDEwKTtcclxuXHJcbiAgICAvLyAgICAgLy8gQm90w7NuIE5pdmVsIDFcclxuICAgIC8vICAgICBjb25zdCBsdmwxID0gdGhpcy5hZGQuaW1hZ2UoMzUwLCAyMzAsICduMScpXHJcbiAgICAvLyAgICAgICAgIC5zZXREZXB0aCgxMSlcclxuICAgIC8vICAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KVxyXG4gICAgLy8gICAgICAgICAub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgLy8gICAgICAgICAgICAgdGhpcy5jbG9zZU1pbmlNZW51KFtiZywgbHZsMSwgbHZsMiwgcmV0dXJuQnRuXSk7XHJcbiAgICAvLyAgICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdJbnRyb1NjZW5lJyk7XHJcbiAgICAvLyAgICAgICAgIH0pO1xyXG5cclxuICAgIC8vICAgICAvLyBCb3TDs24gTml2ZWwgMlxyXG4gICAgLy8gICAgIGNvbnN0IGx2bDIgPSB0aGlzLmFkZC5pbWFnZSgzNTAsIDMxMCwgJ24yJylcclxuICAgIC8vICAgICAgICAgLnNldERlcHRoKDExKVxyXG4gICAgLy8gICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pXHJcbiAgICAvLyAgICAgICAgIC5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAvLyAgICAgICAgICAgICB0aGlzLmNsb3NlTWluaU1lbnUoW2JnLCBsdmwxLCBsdmwyLCByZXR1cm5CdG5dKTtcclxuICAgIC8vICAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ0VuZFNjZW5lJyk7XHJcbiAgICAvLyAgICAgICAgIH0pO1xyXG5cclxuICAgIC8vICAgICBjb25zdCByZXR1cm5CdG4gPSB0aGlzLmFkZC5pbWFnZSgzMjAsIDQwMCwgJ3JldHVybicpXHJcbiAgICAvLyAgICAgICAgIC5zZXREZXB0aCgxMSlcclxuICAgIC8vICAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KVxyXG4gICAgLy8gICAgICAgICAub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgLy8gICAgICAgICAgICAgdGhpcy5jbG9zZU1pbmlNZW51KFtiZywgbHZsMSwgbHZsMiwgcmV0dXJuQnRuXSk7XHJcbiAgICAvLyAgICAgICAgIH0pO1xyXG4gICAgLy8gfVxyXG5cclxuICAgIC8vLy8vLy8vLy8vLy8vLy8gRlVOQ0lPTiBBUEkgUkVTVCBOVU0gSlVHQURPUkVTIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuXHJcbiAgICB1cGRhdGVDb25uZWN0aW9uRGlzcGxheShkYXRhKSB7XHJcbiAgICAgICAgLy8gU29sbyBhY3R1YWxpemFyIHNpIGVsIHRleHRvIGV4aXN0ZSAobGEgZXNjZW5hIGVzdMOhIGNyZWFkYSlcclxuICAgICAgICBpZiAoIXRoaXMuY29ubmVjdGlvblRleHQgfHwgIXRoaXMuc2NlbmUgfHwgIXRoaXMuc2NlbmUuaXNBY3RpdmUoJ01lbnVTY2VuZScpKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGlmIChkYXRhLmNvbm5lY3RlZCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jb25uZWN0aW9uVGV4dC5zZXRUZXh0KGRhdGEuY291bnQpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jb25uZWN0aW9uVGV4dC5zZXRDb2xvcignI2ZmZmZmZmZmJyk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbm5lY3Rpb25UZXh0LnNldFRleHQoJycpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXJ2ZXJEb3duLnNldFZpc2libGUodHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm51bVBsYXllcnMuc2V0VmlzaWJsZShmYWxzZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdbTWVudVNjZW5lXSBFcnJvciB1cGRhdGluZyBjb25uZWN0aW9uIGRpc3BsYXk6JywgZXJyb3IpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzaHV0ZG93bigpIHtcclxuICAgICAgICAvLyBSZW1vdmVyIGVsIGxpc3RlbmVyXHJcbiAgICAgICAgaWYgKHRoaXMuY29ubmVjdGlvbkxpc3RlbmVyKSB7XHJcbiAgICAgICAgICAgIGNvbm5lY3Rpb25NYW5hZ2VyLnJlbW92ZUxpc3RlbmVyKHRoaXMuY29ubmVjdGlvbkxpc3RlbmVyKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG5cclxufSIsImV4cG9ydCBjbGFzcyBDb21tYW5kIHtcclxuICAgIGV4ZWN1dGUoKSB7XHJcbiAgICAgICAgLy8gSW1wbGVtZW50YXIgZW4gc3ViY2xhc2VzXHJcbiAgICAgICAgLy8gRWplY3V0YSBsYSBhY2Npw7NuIGVuIGVsIGp1ZWdvXHJcbiAgICB9XHJcbiAgICBcclxuICAgIHNlcmlhbGl6ZSgpIHtcclxuICAgICAgICAvLyBDb252ZXJ0aXIgYSBKU09OIHBhcmEgZW52aWFyIHBvciByZWRcclxuICAgICAgICByZXR1cm4ge307XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGdldEVudGl0eSgpIHtcclxuICAgICAgICAvLyBSZXRvcm5hIGxhIGVudGlkYWQgYXNvY2lhZGFcclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxufSIsImltcG9ydCB7IENvbW1hbmQgfSBmcm9tICcuL0NvbW1hbmQuanMnO1xyXG5cclxuZXhwb3J0IGNsYXNzIFBsYXllck1vdm1lbnRJbnB1dENvbW1hbmQgZXh0ZW5kcyBDb21tYW5kIHtcclxuICAgIGNvbnN0cnVjdG9yKHBsYXllciwgYWN0aW9uKSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgICAgICB0aGlzLnBsYXllciA9IHBsYXllcjtcclxuICAgICAgICB0aGlzLmFjdGlvbiA9IGFjdGlvbjsgLy8gJ2xlZnQnLCAncmlnaHQnLCAndXAnXHJcbiAgICB9XHJcblxyXG4gICAgZXhlY3V0ZSgpIHtcclxuXHJcbiAgICAgICAgY29uc3QgcGxheWVyID0gdGhpcy5wbGF5ZXI7XHJcblxyXG4gICAgICAgIC8vIFxyXG4gICAgICAgIGlmICh0aGlzLmFjdGlvbiA9PT0gJ3VwJykge1xyXG4gICAgICAgICAgICBwbGF5ZXIuanVtcCgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gXHJcbiAgICAgICAgaWYgKHRoaXMuYWN0aW9uID09PSAnbGVmdCcgfHwgdGhpcy5hY3Rpb24gPT09ICdyaWdodCcpIHtcclxuICAgICAgICAgICAgcGxheWVyLmhvcml6b250YWxNb3ZlKHRoaXMuYWN0aW9uKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gXHJcbiAgICAgICAgaWYgKHRoaXMuYWN0aW9uID09PSAnaWRsZScpIHtcclxuICAgICAgICAgICAgcGxheWVyLmlkbGUoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG5cclxuXHJcbiAgICBzZXJpYWxpemUoKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgdHlwZTogJ1BsYXllck1vdm1lbnRJbnB1dENvbW1hbmQnLFxyXG4gICAgICAgICAgICBwbGF5ZXJJZDogdGhpcy5wbGF5ZXIuaWQsXHJcbiAgICAgICAgICAgIGFjdGlvbjogdGhpcy5hY3Rpb24sXHJcbiAgICAgICAgICAgIHg6IHRoaXMucGxheWVyLnNwcml0ZS54LFxyXG4gICAgICAgICAgICB5OiB0aGlzLnBsYXllci5zcHJpdGUueVxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0RW50aXR5KCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnBsYXllcjtcclxuICAgIH1cclxufSIsImltcG9ydCB7IENvbW1hbmQgfSBmcm9tIFwiLi9Db21tYW5kLmpzXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgUGxheWVyQXR0YWNrQ29tbWFuZCBleHRlbmRzIENvbW1hbmQge1xyXG4gICAgY29uc3RydWN0b3IocGxheWVyKSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgICAgICB0aGlzLnBsYXllciA9IHBsYXllcjtcclxuICAgIH1cclxuXHJcbiAgICBleGVjdXRlKCkge1xyXG4gICAgICAgIHRoaXMucGxheWVyLmF0dGFjaygpO1xyXG4gICAgfVxyXG5cclxuICAgIHNlcmlhbGl6ZSgpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICB0eXBlOiAnUGxheWVyQXR0YWNrQ29tbWFuZCcsXHJcbiAgICAgICAgICAgIHBsYXllcklkOiB0aGlzLnBsYXllci5pZCxcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIGdldEVudGl0eSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5wbGF5ZXI7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBQbGF5ZXJBdHRhY2tDb21tYW5kIH0gZnJvbSAnLi9QbGF5ZXJBdHRhY2tDb21tYW5kLmpzJztcclxuaW1wb3J0IHsgUGxheWVyTW92bWVudElucHV0Q29tbWFuZCB9IGZyb20gJy4vUGxheWVyTW92bWVudElucHV0Q29tbWFuZC5qcyc7XHJcbmV4cG9ydCBjbGFzcyBDb21tYW5kUHJvY2Vzc29yIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMucGxheWVycyA9IG5ldyBNYXAoKTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgcHJvY2Vzcyhjb21tYW5kKSB7XHJcbiAgICAgICAgY29tbWFuZC5leGVjdXRlKCk7IC8vIFJlc3B1ZXN0YSBpbm1lZGlhdGFcclxuICAgIH1cclxuXHJcbiAgICByZWNlaXZlQ29tbWFuZChkYXRhKSB7XHJcbiAgICAgICAgY29uc3QgcGxheWVyID0gdGhpcy5wbGF5ZXJzLmdldChkYXRhLnBsYXllcklkKTtcclxuXHJcbiAgICAgICAgY29uc3QgY29tbWFuZCA9IHRoaXMuZGVzZXJpYWxpemUoZGF0YSk7XHJcbiAgICAgICAgaWYgKGNvbW1hbmQpIHtcclxuICAgICAgICAgICAgY29tbWFuZC5leGVjdXRlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLy8vIEltcGxlbWVudGFyIGRlc2VyaWFsaXphY2lvbiBkZSBjb21hbmRvcyBjb24gbGFzIGRpZmVyZW50ZXMgYWNjaW9uZXMgZGUgbG9zIGlucHV0c1xyXG4gICAgZGVzZXJpYWxpemUoZGF0YSkge1xyXG4gICAgICAgIC8vIE9idGVuZXIgbGEgaW5zdGFuY2lhIHJlYWwgZGVsIGp1Z2Fkb3IgdXNhbmRvIGVsIElEXHJcbiAgICAgICAgY29uc3QgcGxheWVyID0gdGhpcy5wbGF5ZXJzLmdldChkYXRhLnBsYXllcklkKTtcclxuICAgICAgICBzd2l0Y2ggKGRhdGEudHlwZSkge1xyXG4gICAgICAgICAgICBjYXNlICdQbGF5ZXJNb3ZtZW50SW5wdXRDb21tYW5kJzpcclxuICAgICAgICAgICAgICAgIGlmICghcGxheWVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKGBQbGF5ZXIgbm90IGZvdW5kIGZvciBJRDogJHtkYXRhLnBsYXllcklkfWApO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gU3luYyBhYnNvbHV0ZSBwb3NpdGlvbiB0byBmaXggZHJpZnRcclxuICAgICAgICAgICAgICAgIGlmIChkYXRhLnggIT09IHVuZGVmaW5lZCAmJiBkYXRhLnkgIT09IHVuZGVmaW5lZCAmJiBwbGF5ZXIuc3ByaXRlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKE1hdGguYWJzKHBsYXllci5zcHJpdGUueCAtIGRhdGEueCkgPiA1IHx8IE1hdGguYWJzKHBsYXllci5zcHJpdGUueSAtIGRhdGEueSkgPiA1KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBsYXllci5zcHJpdGUuc2V0UG9zaXRpb24oZGF0YS54LCBkYXRhLnkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUGxheWVyTW92bWVudElucHV0Q29tbWFuZChwbGF5ZXIsIGRhdGEuYWN0aW9uKTtcclxuICAgICAgICAgICAgY2FzZSAnUGxheWVyQXR0YWNrQ29tbWFuZCc6XHJcbiAgICAgICAgICAgICAgICBpZiAoIXBsYXllcikge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihgUGxheWVyIG5vdCBmb3VuZCBmb3IgSUQ6ICR7ZGF0YS5wbGF5ZXJJZH1gKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUGxheWVyQXR0YWNrQ29tbWFuZChwbGF5ZXIpO1xyXG4gICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdDb21hbmRvIGRlc2Nvbm9jaWRvOicsIGRhdGEudHlwZSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBDb21tYW5kIH0gZnJvbSAnLi4vY29tbWFuZC1wYXR0ZXJuL0NvbW1hbmQnO1xyXG5pbXBvcnQgeyBQbGF5ZXJNb3ZtZW50SW5wdXRDb21tYW5kIH0gZnJvbSAnLi4vY29tbWFuZC1wYXR0ZXJuL1BsYXllck1vdm1lbnRJbnB1dENvbW1hbmQnO1xyXG5pbXBvcnQgeyBDb21tYW5kUHJvY2Vzc29yIH0gZnJvbSAnLi4vY29tbWFuZC1wYXR0ZXJuL0NvbW1hbmRQcm9jZXNzb3InO1xyXG5pbXBvcnQgUGhhc2VyIGZyb20gJ3BoYXNlcic7XHJcbmltcG9ydCB7IFBsYXllckF0dGFja0NvbW1hbmQgfSBmcm9tICcuLi9jb21tYW5kLXBhdHRlcm4vUGxheWVyQXR0YWNrQ29tbWFuZCc7XHJcblxyXG5leHBvcnQgY2xhc3MgSW5wdXRNYW5hZ2VyIHtcclxuICAgIC8vIENsYXNlIHF1ZSBtYW5lamEgbG9zIGlucHV0cyBkZWwganVnYWRvciB5IGxvcyBlbnZpYSBhbCBjb21tYW5kIHByb2Nlc3NvciBcclxuICAgIGNvbnN0cnVjdG9yKHNjZW5lLCBzY2VuZU1hbmFnZXIsIGlucHV0LCBjb21tYW5kUHJvY2Vzc29yLCBsb2NhbFBsYXllclJvbGUgPSBudWxsLCB3cyA9IG51bGwpIHtcclxuICAgICAgICB0aGlzLmNvbW1hbmRQcm9jZXNzb3IgPSBuZXcgQ29tbWFuZFByb2Nlc3NvcigpO1xyXG4gICAgICAgIHRoaXMuc2NlbmUgPSBzY2VuZTtcclxuICAgICAgICB0aGlzLnNjZW5lTWFuYWdlciA9IHNjZW5lTWFuYWdlcjtcclxuICAgICAgICB0aGlzLmlucHV0ID0gaW5wdXQ7XHJcbiAgICAgICAgdGhpcy5jb21tYW5kUHJvY2Vzc29yID0gY29tbWFuZFByb2Nlc3NvcjtcclxuICAgICAgICB0aGlzLnBsYXllcnMgPSBuZXcgTWFwKCk7XHJcbiAgICAgICAgdGhpcy5pbnB1dHNNYXBwaW5nID0gW107XHJcbiAgICAgICAgdGhpcy5pc1BhdXNlZCA9IGZhbHNlO1xyXG5cclxuICAgICAgICAvLy8vLy8vLy8vLyBJTlBVVCBNQU5BR0VSIENPTiBXRUJTT0NLRVQgLy8vLy8vLy8vLy9cclxuICAgICAgICB0aGlzLmxvY2FsUGxheWVyUm9sZSA9IGxvY2FsUGxheWVyUm9sZTtcclxuICAgICAgICB0aGlzLndzID0gd3M7XHJcbiAgICAgICAgdGhpcy5zZXRVcElucHV0cygpO1xyXG4gICAgfVxyXG5cclxuICAgIHNldFVwSW5wdXRzKCkge1xyXG4gICAgICAgIHRoaXMucGxheWVycyA9IHRoaXMuc2NlbmUucGxheWVycztcclxuICAgICAgICBpZiAodGhpcy5sb2NhbFBsYXllclJvbGUgPT09IG51bGwpIHtcclxuICAgICAgICAgICAgdGhpcy5zZXRVcExvY2FsSW5wdXRzKCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5zZXRVcFJlbW90ZUlucHV0cyh0aGlzLmxvY2FsUGxheWVyUm9sZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHNldFdlYlNvY2tldCh3cykge1xyXG4gICAgICAgIHRoaXMud3MgPSB3cztcclxuICAgIH1cclxuXHJcbiAgICBzZXRMb2NhbFBsYXllclJvbGUocm9sZSkge1xyXG4gICAgICAgIHRoaXMubG9jYWxQbGF5ZXJSb2xlID0gcm9sZTtcclxuICAgIH1cclxuXHJcbiAgICBzZXRVcExvY2FsSW5wdXRzKCkge1xyXG5cclxuICAgICAgICB0aGlzLmlucHV0LmtleWJvYXJkLm9uKCdrZXlkb3duLUVTQycsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5wYXVzZSgpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBjb25zdCBJbnB1dENvbmZpZyA9IFtcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgcGxheWVySWQ6ICdwbGF5ZXIxJyxcclxuICAgICAgICAgICAgICAgIGxlZnRLZXk6ICdBJyxcclxuICAgICAgICAgICAgICAgIHJpZ2h0S2V5OiAnRCcsXHJcbiAgICAgICAgICAgICAgICB1cEtleTogJ1cnLFxyXG4gICAgICAgICAgICAgICAgZG93bktleTogJ1MnLFxyXG4gICAgICAgICAgICAgICAgYXR0YWNrS2V5OiAnRidcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgcGxheWVySWQ6ICdwbGF5ZXIyJyxcclxuICAgICAgICAgICAgICAgIGxlZnRLZXk6ICdMRUZUJyxcclxuICAgICAgICAgICAgICAgIHJpZ2h0S2V5OiAnUklHSFQnLFxyXG4gICAgICAgICAgICAgICAgdXBLZXk6ICdVUCcsXHJcbiAgICAgICAgICAgICAgICBkb3duS2V5OiAnRE9XTicsXHJcbiAgICAgICAgICAgICAgICBhdHRhY2tLZXk6ICdFTlRFUidcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIF07XHJcblxyXG4gICAgICAgIHRoaXMuaW5wdXRzTWFwcGluZyA9IElucHV0Q29uZmlnO1xyXG4gICAgICAgIHRoaXMuaW5wdXRzTWFwcGluZyA9IHRoaXMuaW5wdXRzTWFwcGluZy5tYXAoY29uZmlnID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgIHBsYXllcklkOiBjb25maWcucGxheWVySWQsXHJcbiAgICAgICAgICAgICAgICBsZWZ0S2V5T2JqOiB0aGlzLmlucHV0LmtleWJvYXJkLmFkZEtleShQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuS2V5Q29kZXNbY29uZmlnLmxlZnRLZXldKSxcclxuICAgICAgICAgICAgICAgIHJpZ2h0S2V5T2JqOiB0aGlzLmlucHV0LmtleWJvYXJkLmFkZEtleShQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuS2V5Q29kZXNbY29uZmlnLnJpZ2h0S2V5XSksXHJcbiAgICAgICAgICAgICAgICB1cEtleU9iajogdGhpcy5pbnB1dC5rZXlib2FyZC5hZGRLZXkoUGhhc2VyLklucHV0LktleWJvYXJkLktleUNvZGVzW2NvbmZpZy51cEtleV0pLFxyXG4gICAgICAgICAgICAgICAgZG93bktleU9iajogdGhpcy5pbnB1dC5rZXlib2FyZC5hZGRLZXkoUGhhc2VyLklucHV0LktleWJvYXJkLktleUNvZGVzW2NvbmZpZy5kb3duS2V5XSksXHJcbiAgICAgICAgICAgICAgICBhdHRhY2tLZXlPYmo6IHRoaXMuaW5wdXQua2V5Ym9hcmQuYWRkS2V5KFBoYXNlci5JbnB1dC5LZXlib2FyZC5LZXlDb2Rlc1tjb25maWcuYXR0YWNrS2V5XSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHNldFVwUmVtb3RlSW5wdXRzKHBsYXllclJvbGUpIHtcclxuXHJcbiAgICAgICAgdGhpcy5pbnB1dC5rZXlib2FyZC5vbigna2V5ZG93bi1FU0MnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMucGF1c2UoKTtcclxuICAgICAgICB9KTtcclxuXHJcblxyXG4gICAgICAgIGNvbnN0IElucHV0Q29uZmlnID0gW1xyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBwbGF5ZXJJZDogdGhpcy5sb2NhbFBsYXllclJvbGUsXHJcbiAgICAgICAgICAgICAgICBsZWZ0S2V5OiAnQScsXHJcbiAgICAgICAgICAgICAgICByaWdodEtleTogJ0QnLFxyXG4gICAgICAgICAgICAgICAgdXBLZXk6ICdXJyxcclxuICAgICAgICAgICAgICAgIGRvd25LZXk6ICdTJyxcclxuICAgICAgICAgICAgICAgIGF0dGFja0tleTogJ0YnXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICBdO1xyXG5cclxuICAgICAgICB0aGlzLmlucHV0c01hcHBpbmcgPSBJbnB1dENvbmZpZztcclxuICAgICAgICB0aGlzLmlucHV0c01hcHBpbmcgPSB0aGlzLmlucHV0c01hcHBpbmcubWFwKGNvbmZpZyA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICBwbGF5ZXJJZDogY29uZmlnLnBsYXllcklkLFxyXG4gICAgICAgICAgICAgICAgbGVmdEtleU9iajogdGhpcy5pbnB1dC5rZXlib2FyZC5hZGRLZXkoUGhhc2VyLklucHV0LktleWJvYXJkLktleUNvZGVzW2NvbmZpZy5sZWZ0S2V5XSksXHJcbiAgICAgICAgICAgICAgICByaWdodEtleU9iajogdGhpcy5pbnB1dC5rZXlib2FyZC5hZGRLZXkoUGhhc2VyLklucHV0LktleWJvYXJkLktleUNvZGVzW2NvbmZpZy5yaWdodEtleV0pLFxyXG4gICAgICAgICAgICAgICAgdXBLZXlPYmo6IHRoaXMuaW5wdXQua2V5Ym9hcmQuYWRkS2V5KFBoYXNlci5JbnB1dC5LZXlib2FyZC5LZXlDb2Rlc1tjb25maWcudXBLZXldKSxcclxuICAgICAgICAgICAgICAgIGRvd25LZXlPYmo6IHRoaXMuaW5wdXQua2V5Ym9hcmQuYWRkS2V5KFBoYXNlci5JbnB1dC5LZXlib2FyZC5LZXlDb2Rlc1tjb25maWcuZG93bktleV0pLFxyXG4gICAgICAgICAgICAgICAgYXR0YWNrS2V5T2JqOiB0aGlzLmlucHV0LmtleWJvYXJkLmFkZEtleShQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuS2V5Q29kZXNbY29uZmlnLmF0dGFja0tleV0pXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBwYXVzZSgpIHtcclxuICAgICAgICB0aGlzLnNjZW5lTWFuYWdlci5sYXVuY2goJ1BhdXNlU2NlbmUnLCB7IG9yaWdpbmFsU2NlbmU6ICdHYW1lU2NlbmUnIH0pO1xyXG4gICAgICAgIHRoaXMuc2NlbmVNYW5hZ2VyLnBhdXNlKCdHYW1lU2NlbmUnKTtcclxuICAgICAgICB0aGlzLmlzUGF1c2VkID0gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGUoKSB7XHJcblxyXG4gICAgICAgIHRoaXMuaW5wdXRzTWFwcGluZy5mb3JFYWNoKG1hcHBpbmcgPT4ge1xyXG4gICAgICAgICAgICBsZXQgcGxheWVyID0gdGhpcy5wbGF5ZXJzLmdldChtYXBwaW5nLnBsYXllcklkKTtcclxuICAgICAgICAgICAgcGxheWVyLmlkID0gbWFwcGluZy5wbGF5ZXJJZDtcclxuXHJcbiAgICAgICAgICAgIGxldCBsb2NhbENvbW1hbmQgPSBuZXcgQ29tbWFuZCgpO1xyXG5cclxuICAgICAgICAgICAgLy8gU0FMVE9cclxuICAgICAgICAgICAgaWYgKG1hcHBpbmcudXBLZXlPYmouaXNEb3duKSB7XHJcbiAgICAgICAgICAgICAgICBsb2NhbENvbW1hbmQgPSBuZXcgUGxheWVyTW92bWVudElucHV0Q29tbWFuZChwbGF5ZXIsICd1cCcpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBNT1ZJTUlFTlRPXHJcbiAgICAgICAgICAgIGVsc2UgaWYgKG1hcHBpbmcubGVmdEtleU9iai5pc0Rvd24pIHtcclxuICAgICAgICAgICAgICAgIGxvY2FsQ29tbWFuZCA9IG5ldyBQbGF5ZXJNb3ZtZW50SW5wdXRDb21tYW5kKHBsYXllciwgJ2xlZnQnKTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChtYXBwaW5nLnJpZ2h0S2V5T2JqLmlzRG93bikge1xyXG4gICAgICAgICAgICAgICAgbG9jYWxDb21tYW5kID0gbmV3IFBsYXllck1vdm1lbnRJbnB1dENvbW1hbmQocGxheWVyLCAncmlnaHQnKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGxvY2FsQ29tbWFuZCA9IG5ldyBQbGF5ZXJNb3ZtZW50SW5wdXRDb21tYW5kKHBsYXllciwgJ2lkbGUnKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5jb21tYW5kUHJvY2Vzc29yLnByb2Nlc3MobG9jYWxDb21tYW5kKTtcclxuICAgICAgICAgICAgdGhpcy5zZW5kTWVzc2FnZShsb2NhbENvbW1hbmQuc2VyaWFsaXplKCkpO1xyXG5cclxuICAgICAgICAgICAgaWYgKG1hcHBpbmcuYXR0YWNrS2V5T2JqLmlzRG93bikge1xyXG4gICAgICAgICAgICAgICAgbGV0IGF0dGFja0NvbW1hbmQgPSBuZXcgUGxheWVyQXR0YWNrQ29tbWFuZChwbGF5ZXIpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jb21tYW5kUHJvY2Vzc29yLnByb2Nlc3MoYXR0YWNrQ29tbWFuZCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNlbmRNZXNzYWdlKGF0dGFja0NvbW1hbmQuc2VyaWFsaXplKCkpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBzZW5kTWVzc2FnZShtZXNzYWdlKSB7XHJcbiAgICAgICAgaWYgKHRoaXMud3MgJiYgdGhpcy53cy5yZWFkeVN0YXRlID09PSBXZWJTb2NrZXQuT1BFTikge1xyXG4gICAgICAgICAgICB0aGlzLndzLnNlbmQoSlNPTi5zdHJpbmdpZnkobWVzc2FnZSkpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUud2FybignV2ViU29ja2V0IGlzIG5vdCBvcGVuLiBNZXNzYWdlIG5vdCBzZW50OicsIG1lc3NhZ2UpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGVSZW1vdGVQbGF5ZXJQb3NpdGlvbihkYXRhKSB7XHJcbiAgICAgICAgaWYgKGRhdGEudHlwZSA9PT0gJ1BsYXllck1vdm1lbnRJbnB1dENvbW1hbmQnKSB7XHJcbiAgICAgICAgICAgIC8vY29uc29sZS5sb2coJ011bHRpcGxheWVyU2NlbmUgcmVjZWl2ZWQgaW4gaW5wdXQgbWFuYWdlciBtc2c6JywgZGF0YSk7XHJcbiAgICAgICAgICAgIHRoaXMuY29tbWFuZFByb2Nlc3Nvci5yZWNlaXZlQ29tbWFuZChkYXRhKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlUmVtb3RlUGxheWVyQXR0YWNrKGRhdGEpIHtcclxuICAgICAgICBpZiAoZGF0YS50eXBlID09PSAnUGxheWVyQXR0YWNrQ29tbWFuZCcpIHtcclxuICAgICAgICAgICAgLy9jb25zb2xlLmxvZygnTXVsdGlwbGF5ZXJTY2VuZSByZWNlaXZlZCBpbiBpbnB1dCBtYW5hZ2VyIG1zZzonLCBkYXRhKTtcclxuICAgICAgICAgICAgdGhpcy5jb21tYW5kUHJvY2Vzc29yLnJlY2VpdmVDb21tYW5kKGRhdGEpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbn0iLCJleHBvcnQgY2xhc3MgQW5pbWF0b3Ige1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHNjZW5lLCBhbmltYXRpb25TcHJpdGVzaGVldCkge1xyXG4gICAgICAgIHRoaXMuc2NlbmUgPSBzY2VuZTtcclxuICAgICAgICB0aGlzLmFuaW1hdGlvblNwcml0ZXNoZWV0ID0gYW5pbWF0aW9uU3ByaXRlc2hlZXQ7XHJcbiAgICB9XHJcblxyXG4vLyBNdXkgaW1wb3J0YW50ZSBsbGFtYXIgYSBlc3RhIGZ1bmNpw7NuIGVuIGVsIHByZWxvYWQgZGUgbGEgZXNjZW5hXHJcbiAgICBwcmVsb2FkKGZyYW1lV2lkdGgsIGZyYW1lSGVpZ2h0KSB7XHJcbiAgICAgICAgdGhpcy5zY2VuZS5sb2FkLnNwcml0ZXNoZWV0KHRoaXMuYW5pbWF0aW9uU3ByaXRlc2hlZXQsIFxyXG4gICAgICAgICAgICBgYXNzZXRzL3Nwcml0ZXMvJHt0aGlzLmFuaW1hdGlvblNwcml0ZXNoZWV0fS5wbmdgLCBcclxuICAgICAgICAgICAgeyBmcmFtZVdpZHRoOiBmcmFtZVdpZHRoLCBmcmFtZUhlaWdodDogZnJhbWVIZWlnaHQgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlQW5pbWF0aW9uKGtleSwgc3RhcnRGcmFtZSwgZW5kRnJhbWUsIGZyYW1lUmF0ZSwgcmVwZWF0ID0gLTEpIHtcclxuICAgICAgICB0aGlzLnNjZW5lLmFuaW1zLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgIGtleToga2V5LFxyXG4gICAgICAgICAgICBmcmFtZXM6IHRoaXMuc2NlbmUuYW5pbXMuZ2VuZXJhdGVGcmFtZU51bWJlcnModGhpcy5hbmltYXRpb25TcHJpdGVzaGVldCwgeyBzdGFydDogc3RhcnRGcmFtZSwgZW5kOiBlbmRGcmFtZSB9KSxcclxuICAgICAgICAgICAgZnJhbWVSYXRlOiBmcmFtZVJhdGUsICAvLyBQb25lciBtYXMgbyBtZW5vcyAxNiBvIGFzw61cclxuICAgICAgICAgICAgcmVwZWF0OiByZXBlYXRcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBhc3NpZ25TcHJpdGVUb1BsYXllcih4LCB5KSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc2NlbmUucGh5c2ljcy5hZGQuc3ByaXRlKHgsIHksIHRoaXMuYW5pbWF0aW9uU3ByaXRlc2hlZXQpO1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZVNwcml0ZSh4LCB5KSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc2NlbmUuYWRkLnNwcml0ZSh4LCB5LCB0aGlzLmFuaW1hdGlvblNwcml0ZXNoZWV0KTtcclxuICAgIH1cclxuICAgIFxyXG59IiwiaW1wb3J0IHsgQW5pbWF0b3IgfSBmcm9tIFwiLi4vY29tcG9uZW50cy9BbmltYXRvclwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEVuZW15IHtcclxuICAgIGNvbnN0cnVjdG9yKHNjZW5lLCBpZCwgeCwgeSwgcGxheWVycykge1xyXG4gICAgICAgIHRoaXMuc2NlbmUgPSBzY2VuZTtcclxuICAgICAgICB0aGlzLnggPSB4O1xyXG4gICAgICAgIHRoaXMueSA9IHk7XHJcbiAgICAgICAgdGhpcy5wbGF5ZXJzID0gcGxheWVycztcclxuICAgICAgICB0aGlzLmlkID0gaWQ7XHJcbiAgICAgICAgdGhpcy5iYXNlSGVpZ2h0ID0gMC4zMztcclxuICAgICAgICB0aGlzLmJhc2VXaWR0aCA9IDAuMzM7XHJcbiAgICAgICAgdGhpcy5iYXNlU3BlZWQgPSAxMDA7XHJcbiAgICAgICAgdGhpcy5pc0RlYWQgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgdGhpcy53ZWFrZW5lZCA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuY2hhc2luZ1BsYXllcklkID0gbnVsbDtcclxuXHJcbiAgICAgICAgdGhpcy5hbmltYXRvciA9IG5ldyBBbmltYXRvcih0aGlzLnNjZW5lLCAnc3ByaXRlc2hlZXQtZW5lbWlnby1yZWVzY2FsYWRvLW1pdGFkJyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJlbG9hZCgpIHtcclxuICAgICAgICB0aGlzLmFuaW1hdG9yLnByZWxvYWQoMzAwLCA0MDApO1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZSgpIHtcclxuXHJcbiAgICAgICAgdGhpcy5zcHJpdGUgPSB0aGlzLmFuaW1hdG9yLmFzc2lnblNwcml0ZVRvUGxheWVyKHRoaXMueCwgdGhpcy55KTtcclxuICAgICAgICB0aGlzLmFuaW1hdG9yLmNyZWF0ZUFuaW1hdGlvbihgaWRsZS1ibGFjay0ke3RoaXMuaWR9YCwgMCwgMiwgNSk7XHJcbiAgICAgICAgdGhpcy5hbmltYXRvci5jcmVhdGVBbmltYXRpb24oYGlkbGUtd2hpdGUtJHt0aGlzLmlkfWAsIDMsIDUsIDUpO1xyXG4gICAgICAgIHRoaXMuYW5pbWF0b3IuY3JlYXRlQW5pbWF0aW9uKGBibGFjay10by13aGl0ZS0ke3RoaXMuaWR9YCwgNiwgOCwgOCwgMCk7XHJcbiAgICAgICAgdGhpcy5hbmltYXRvci5jcmVhdGVBbmltYXRpb24oYHdoaXRlLXRvLWJsYWNrLSR7dGhpcy5pZH1gLCA2LCA4LCA4LCAwKTtcclxuICAgICAgICB0aGlzLmFuaW1hdG9yLmNyZWF0ZUFuaW1hdGlvbihgZGllLSR7dGhpcy5pZH1gLCA5LCAxMSwgOCwgMCk7XHJcblxyXG4gICAgICAgIHRoaXMuc3ByaXRlLm9uKFwiYW5pbWF0aW9uY29tcGxldGVcIiwgKGFuaW0pID0+IHtcclxuICAgICAgICAgICAgaWYgKGFuaW0ua2V5ID09PSBgZGllLSR7dGhpcy5pZH1gKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNwcml0ZS5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5zcHJpdGUuc2V0Q29sbGlkZVdvcmxkQm91bmRzKHRydWUpO1xyXG4gICAgICAgIHRoaXMuc3ByaXRlLmJvZHkuYWxsb3dHcmF2aXR5ID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5zcHJpdGUuYm9keS5zZXRHcmF2aXR5WSg1MDApO1xyXG4gICAgICAgIHRoaXMuc3ByaXRlLnNldERlcHRoKDEwKTtcclxuICAgICAgICB0aGlzLnNwcml0ZS5zZXRTY2FsZSh0aGlzLmJhc2VXaWR0aCwgdGhpcy5iYXNlSGVpZ2h0KTtcclxuICAgICAgICB0aGlzLnNwcml0ZS5ib2R5LnNldFNpemUodGhpcy5zcHJpdGUud2lkdGggLSAxNTAsIHRoaXMuc3ByaXRlLmhlaWdodCAtIDEzNSk7XHJcblxyXG4gICAgICAgIHRoaXMuc3ByaXRlLmFuaW1zLnBsYXkoYGlkbGUtYmxhY2stJHt0aGlzLmlkfWApO1xyXG4gICAgfVxyXG4gICAgZW5lbXlNb3ZlbWVudCgpIHtcclxuICAgICAgICB0aGlzLnBpY2tQbGF5ZXIoKTtcclxuXHJcbiAgICAgICAgLy8gT2J0ZW5lbW9zIGxhIGRpcmVjY2nDs24gaGFjaWEgZWwganVnYWRvclxyXG4gICAgICAgIGNvbnN0IGR4ID0gdGhpcy5wbGF5ZXJzLmdldCh0aGlzLmNoYXNpbmdQbGF5ZXJJZCkuc3ByaXRlLnggLSB0aGlzLnNwcml0ZS54O1xyXG4gICAgICAgIGNvbnN0IGR5ID0gdGhpcy5wbGF5ZXJzLmdldCh0aGlzLmNoYXNpbmdQbGF5ZXJJZCkuc3ByaXRlLnkgLSB0aGlzLnNwcml0ZS55O1xyXG4gICAgICAgIGNvbnN0IGRpc3RhbmNlID0gTWF0aC5zcXJ0KGR4ICogZHggKyBkeSAqIGR5KTtcclxuXHJcbiAgICAgICAgLy8gbW92ZSB0b3dhcmRzIHRoZSBwbGF5ZXJcclxuICAgICAgICB0aGlzLnNwcml0ZS5mbGlwWCA9IHRoaXMucGxheWVycy5nZXQodGhpcy5jaGFzaW5nUGxheWVySWQpLnNwcml0ZS54IDwgdGhpcy5zcHJpdGUueDtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMud2Vha2VuZWQgfHwgTWF0aC5hYnModGhpcy5wbGF5ZXJzLmdldCh0aGlzLmNoYXNpbmdQbGF5ZXJJZCkuc3ByaXRlLnggLSB0aGlzLnNwcml0ZS54KSA+IDUwMCB8fCBNYXRoLmFicyh0aGlzLnBsYXllcnMuZ2V0KHRoaXMuY2hhc2luZ1BsYXllcklkKS5zcHJpdGUueSAtIHRoaXMuc3ByaXRlLnkpID4gNTAwKSB7IC8vIENoZWNrIGlmIHRoZSBwbGF5ZXIgaXMgdG9vIGZhciBhd2F5XHJcbiAgICAgICAgICAgIHRoaXMuYmFzZVNwZWVkID0gMDtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmJhc2VTcGVlZCA9IDEwMDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIENhbGN1bGFtb3MgZWwgdmVjdG9yIG5vcm1hbGl6YWRvIHkgYXBsaWNhbW9zIHZlbG9jaWRhZFxyXG4gICAgICAgIGlmIChkaXN0YW5jZSA+IDI1ICYmIHRoaXMuYmFzZVNwZWVkID4gMCkge1xyXG4gICAgICAgICAgICB0aGlzLm1vdmVtZW50VmVjdG9yID0ge1xyXG4gICAgICAgICAgICAgICAgeDogZHggLyBkaXN0YW5jZSxcclxuICAgICAgICAgICAgICAgIHk6IGR5IC8gZGlzdGFuY2VcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgdGhpcy5zcHJpdGUuc2V0VmVsb2NpdHlYKHRoaXMubW92ZW1lbnRWZWN0b3IueCAqIHRoaXMuYmFzZVNwZWVkKTtcclxuICAgICAgICAgICAgdGhpcy5zcHJpdGUuc2V0VmVsb2NpdHlZKHRoaXMubW92ZW1lbnRWZWN0b3IueSAqIHRoaXMuYmFzZVNwZWVkKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLm1vdmVtZW50VmVjdG9yID0geyB4OiAwLCB5OiAwIH07XHJcbiAgICAgICAgICAgIHRoaXMuc3ByaXRlLnNldFZlbG9jaXR5KDApO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG4gICAgcmVjZWl2ZUVuZW15TW92bWVudChtb3ZlbWVudFZlY3RvciwgcGxheWVySWQsIHgsIHkpIHtcclxuICAgICAgICBjb25zdCB0YXJnZXRQbGF5ZXIgPSB0aGlzLnBsYXllcnMuZ2V0KHBsYXllcklkKTtcclxuICAgICAgICBpZiAoIXRhcmdldFBsYXllciB8fCAhdGFyZ2V0UGxheWVyLnNwcml0ZSkgcmV0dXJuO1xyXG5cclxuICAgICAgICB0aGlzLnNwcml0ZS5mbGlwWCA9IHRhcmdldFBsYXllci5zcHJpdGUueCA8IHRoaXMuc3ByaXRlLng7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLndlYWtlbmVkIHx8IE1hdGguYWJzKHRhcmdldFBsYXllci5zcHJpdGUueCAtIHRoaXMuc3ByaXRlLngpID4gNTAwIHx8IE1hdGguYWJzKHRhcmdldFBsYXllci5zcHJpdGUueSAtIHRoaXMuc3ByaXRlLnkpID4gNTAwKSB7IC8vIENoZWNrIGlmIHRoZSBwbGF5ZXIgaXMgdG9vIGZhciBhd2F5XHJcbiAgICAgICAgICAgIHRoaXMuYmFzZVNwZWVkID0gMDtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmJhc2VTcGVlZCA9IDEwMDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFN5bmMgbG9jYWwgcG9zaXRpb24gd2l0aCBob3N0IHBvc2l0aW9uIHRvIGZpeCBkcmlmdFxyXG4gICAgICAgIGlmICh4ICE9PSB1bmRlZmluZWQgJiYgeSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIGlmIChNYXRoLmFicyh0aGlzLnNwcml0ZS54IC0geCkgPiAxMCB8fCBNYXRoLmFicyh0aGlzLnNwcml0ZS55IC0geSkgPiAxMCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zcHJpdGUuc2V0UG9zaXRpb24oeCwgeSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMubW92ZW1lbnRWZWN0b3IgPSBtb3ZlbWVudFZlY3RvcjtcclxuICAgICAgICB0aGlzLnNwcml0ZS5zZXRWZWxvY2l0eVgodGhpcy5tb3ZlbWVudFZlY3Rvci54ICogdGhpcy5iYXNlU3BlZWQpO1xyXG4gICAgICAgIHRoaXMuc3ByaXRlLnNldFZlbG9jaXR5WSh0aGlzLm1vdmVtZW50VmVjdG9yLnkgKiB0aGlzLmJhc2VTcGVlZCk7XHJcbiAgICB9XHJcblxyXG4gICAgcGlja1BsYXllcigpIHtcclxuICAgICAgICBjb25zdCBwMSA9IHRoaXMucGxheWVycy5nZXQoJ3BsYXllcjEnKTtcclxuICAgICAgICBjb25zdCBwMiA9IHRoaXMucGxheWVycy5nZXQoJ3BsYXllcjInKTtcclxuXHJcbiAgICAgICAgaWYgKCFwMSB8fCAhcDIgfHwgIXAxLnNwcml0ZSB8fCAhcDIuc3ByaXRlKSByZXR1cm47IC8vIFZhbGlkYWNpw7NuIGRlIHNlZ3VyaWRhZFxyXG5cclxuICAgICAgICB0aGlzLmNoYXNpbmdQbGF5ZXJJZCA9IChNYXRoLmFicyhwMS5zcHJpdGUueCAtIHRoaXMuc3ByaXRlLngpKSA+IChNYXRoLmFicyhwMi5zcHJpdGUueCAtIHRoaXMuc3ByaXRlLngpKSA/ICdwbGF5ZXIyJyA6ICdwbGF5ZXIxJztcclxuXHJcbiAgICAgICAgY29uc3QgdGFyZ2V0ID0gdGhpcy5wbGF5ZXJzLmdldCh0aGlzLmNoYXNpbmdQbGF5ZXJJZCk7XHJcbiAgICAgICAgaWYgKHRhcmdldCAmJiB0YXJnZXQuaGVhbHRoIDw9IDApIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuY2hhc2luZ1BsYXllcklkID09PSAncGxheWVyMScpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2hhc2luZ1BsYXllcklkID0gJ3BsYXllcjInO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jaGFzaW5nUGxheWVySWQgPSAncGxheWVyMSc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZGllKCkge1xyXG4gICAgICAgIHRoaXMuc3ByaXRlLnNldFZlbG9jaXR5KDApO1xyXG4gICAgICAgIHRoaXMuc3ByaXRlLmFuaW1zLnBsYXkoYGRpZS0ke3RoaXMuaWR9YCk7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIHNldFdlYWtlbmVkKHZhbHVlKSB7XHJcbiAgICAgICAgdGhpcy53ZWFrZW5lZCA9IHZhbHVlO1xyXG4gICAgICAgIGlmICh2YWx1ZSkge1xyXG4gICAgICAgICAgICB0aGlzLnNwcml0ZS5hbmltcy5wbGF5KGBibGFjay10by13aGl0ZS0ke3RoaXMuaWR9YCk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnNwcml0ZS5vbihcImFuaW1hdGlvbmNvbXBsZXRlXCIsIChhbmltKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoYW5pbS5rZXkgPT09IGBibGFjay10by13aGl0ZS0ke3RoaXMuaWR9YCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3ByaXRlLmFuaW1zLnBsYXkoYGlkbGUtd2hpdGUtJHt0aGlzLmlkfWApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG5cclxuICAgICAgICAgICAgdGhpcy5zcHJpdGUuYW5pbXMucGxheShgaWRsZS1ibGFjay0ke3RoaXMuaWR9YCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGUoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNEZWFkKSByZXR1cm47XHJcbiAgICAgICAgdGhpcy5lbmVteU1vdmVtZW50KCk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgUGhhc2VyIGZyb20gJ3BoYXNlcic7XHJcbmV4cG9ydCBjbGFzcyBDYW1lcmEge1xyXG4gICAgY29uc3RydWN0b3Ioc2NlbmUsIHBsYXllcnMpIHtcclxuICAgICAgICB0aGlzLnNjZW5lID0gc2NlbmU7XHJcbiAgICAgICAgdGhpcy5wbGF5ZXJzID0gcGxheWVycztcclxuICAgICAgICB0aGlzLmNhbWVyYSA9IHRoaXMuc2NlbmUuY2FtZXJhcy5tYWluO1xyXG5cclxuICAgICAgICB0aGlzLmNhbUxlZnQgPSB0aGlzLmNhbWVyYS5zY3JvbGxYO1xyXG4gICAgICAgIHRoaXMuY2FtUmlnaHQgPSB0aGlzLmNhbWVyYS5zY3JvbGxYICsgdGhpcy5jYW1lcmEud2lkdGg7XHJcbiAgICAgICAgdGhpcy5tYXJnaW4gPSAyMDtcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGUoKSB7XHJcbiAgICAgICAgdGhpcy5jYW1MZWZ0ID0gdGhpcy5jYW1lcmEuc2Nyb2xsWDtcclxuICAgICAgICB0aGlzLmNhbVJpZ2h0ID0gdGhpcy5jYW1lcmEuc2Nyb2xsWCArIHRoaXMuY2FtZXJhLndpZHRoO1xyXG5cclxuICAgICAgICB0aGlzLnBsYXllcnMuZ2V0KCdwbGF5ZXIxJykuc3ByaXRlLnggPSBQaGFzZXIuTWF0aC5DbGFtcCh0aGlzLnBsYXllcnMuZ2V0KCdwbGF5ZXIxJykuc3ByaXRlLngsIHRoaXMuY2FtTGVmdCArIHRoaXMubWFyZ2luLCB0aGlzLmNhbVJpZ2h0IC0gdGhpcy5tYXJnaW4pO1xyXG4gICAgICAgIHRoaXMucGxheWVycy5nZXQoJ3BsYXllcjInKS5zcHJpdGUueCA9IFBoYXNlci5NYXRoLkNsYW1wKHRoaXMucGxheWVycy5nZXQoJ3BsYXllcjInKS5zcHJpdGUueCwgdGhpcy5jYW1MZWZ0ICsgdGhpcy5tYXJnaW4sIHRoaXMuY2FtUmlnaHQgLSB0aGlzLm1hcmdpbik7XHJcbiAgICAgICAgXHJcbiAgICAgICAgY29uc3QgbWlkWCA9ICh0aGlzLnBsYXllcnMuZ2V0KCdwbGF5ZXIxJykuc3ByaXRlLnggKyB0aGlzLnBsYXllcnMuZ2V0KCdwbGF5ZXIyJykuc3ByaXRlLngpIC8gMjtcclxuICAgICAgICBjb25zdCB0YXJnZXRMZWZ0ICA9IG1pZFggLSB0aGlzLmNhbWVyYS53aWR0aCAqIDAuNTtcclxuICAgICAgICBjb25zdCB0YXJnZXRSaWdodCA9IG1pZFggKyB0aGlzLmNhbWVyYS53aWR0aCAqIDAuNTtcclxuXHJcbiAgICAgICAgY29uc3QgYXJ0aHVySW5zaWRlQWZ0ZXJNb3ZlID0gXHJcbiAgICAgICAgICAgIHRoaXMucGxheWVycy5nZXQoJ3BsYXllcjEnKS5zcHJpdGUueCA+IHRhcmdldExlZnQgKyB0aGlzLm1hcmdpbiAmJlxyXG4gICAgICAgICAgICB0aGlzLnBsYXllcnMuZ2V0KCdwbGF5ZXIxJykuc3ByaXRlLnggPCB0YXJnZXRSaWdodCAtIHRoaXMubWFyZ2luO1xyXG5cclxuICAgICAgICBjb25zdCBsdWN5SW5zaWRlQWZ0ZXJNb3ZlID1cclxuICAgICAgICAgICAgdGhpcy5wbGF5ZXJzLmdldCgncGxheWVyMicpLnNwcml0ZS54ID4gdGFyZ2V0TGVmdCArIHRoaXMubWFyZ2luICYmXHJcbiAgICAgICAgICAgIHRoaXMucGxheWVycy5nZXQoJ3BsYXllcjInKS5zcHJpdGUueCA8IHRhcmdldFJpZ2h0IC0gdGhpcy5tYXJnaW47XHJcblxyXG4gICAgICAgIGlmIChhcnRodXJJbnNpZGVBZnRlck1vdmUgJiYgbHVjeUluc2lkZUFmdGVyTW92ZSkge1xyXG4gICAgICAgICAgICB0aGlzLmNhbWVyYS5zY3JvbGxYID0gTWF0aC5yb3VuZChcclxuICAgICAgICAgICAgICAgIFBoYXNlci5NYXRoLkxpbmVhcih0aGlzLmNhbWVyYS5zY3JvbGxYLCBtaWRYIC0gdGhpcy5jYW1lcmEud2lkdGgvMiwgMC4xKVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH1cclxuICAgIH0gICBcclxufSAgIiwiZXhwb3J0IGNsYXNzIFBsYXRmb3JtIHtcclxuICAgIGNvbnN0cnVjdG9yKHNjZW5lLCBpZCwgeCwgeSwgd2lkdGgsIGhlaWdodCwgdGV4dHVyZUtleSkge1xyXG4gICAgICAgIHRoaXMuc2NlbmUgPSBzY2VuZTtcclxuICAgICAgICB0aGlzLmlkID0gaWQ7XHJcblxyXG4gICAgICAgIHRoaXMuc3ByaXRlID0gc2NlbmUuYWRkLmltYWdlKHgsIHksIHRleHR1cmVLZXkpO1xyXG4gICAgICAgIHRoaXMuc3ByaXRlLnNldE9yaWdpbigwLjUsIDAuNSk7XHJcbiAgICAgICAgdGhpcy5zcHJpdGUuc2V0RGVwdGgoMTApO1xyXG4gICAgICAgIHRoaXMuc3ByaXRlLnNldERpc3BsYXlTaXplKHdpZHRoLCBoZWlnaHQpO1xyXG5cclxuICAgICAgICBzY2VuZS5waHlzaWNzLmFkZC5leGlzdGluZyh0aGlzLnNwcml0ZSwgdHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5zcHJpdGUuYm9keS5zZXRTaXplKHdpZHRoLCBoZWlnaHQpO1xyXG5cclxuICAgICAgICAvLyBEaWJ1am8gdmlzdWFsIHBhcmEgZGVwdXJhciBjb2xpc2nDs25cclxuICAgICAgICB0aGlzLmcgPSBzY2VuZS5hZGQuZ3JhcGhpY3MoKTtcclxuICAgICAgICB0aGlzLmcuZmlsbFN0eWxlKDB4MDAwMDAwLCAwLjApO1xyXG4gICAgICAgIHRoaXMuZy5maWxsUmVjdCh4IC0gd2lkdGgvMiwgeSAtIGhlaWdodC8yLCB3aWR0aCAtIDEwLCBoZWlnaHQgLSAxMCk7XHJcbiAgICAgICAgdGhpcy5nLnNldERlcHRoKDApO1xyXG5cclxuICAgICAgICB0aGlzLnNldFVwQ29sbGlzaW9ucygpO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBzZXRVcENvbGxpc2lvbnMoKXtcclxuICAgICAgICB0aGlzLnNjZW5lLnBoeXNpY3MuYWRkLmV4aXN0aW5nKHRoaXMuZywgdHJ1ZSk7XHJcbiAgICB9XHJcbn1cclxuXHJcbiAgICBcclxuIiwiaW1wb3J0IHsgQW5pbWF0b3IgfSBmcm9tIFwiLi4vY29tcG9uZW50cy9BbmltYXRvclwiO1xyXG5pbXBvcnQgeyBjbGllbnREYXRhTWFuYWdlciB9IGZyb20gXCIuLi9zZXJ2aWNlcy9jbGllbnREYXRhTWFuYWdlclwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFBsYXllciB7XHJcblxyXG4gICAgY29uc3RydWN0b3Ioc2NlbmUsIGlkLCBncmF2aXR5LCB4UG9zLCB5UG9zLCBzcHJpdGVTaGVldCA9IG51bGwpIHtcclxuICAgICAgICB0aGlzLmlkID0gaWQ7XHJcbiAgICAgICAgdGhpcy5zY2VuZSA9IHNjZW5lO1xyXG4gICAgICAgIHRoaXMuZ3Jhdml0eSA9IGdyYXZpdHk7XHJcbiAgICAgICAgdGhpcy5iYXNlSGVpZ2h0ID0gMC4zMztcclxuICAgICAgICB0aGlzLmJhc2VXaWR0aCA9IDAuMzM7XHJcbiAgICAgICAgdGhpcy5iYXNlU3BlZWQgPSAzMDA7XHJcbiAgICAgICAgdGhpcy5qdW1wRm9yY2UgPSA0NTA7XHJcbiAgICAgICAgdGhpcy5oZWFsdGggPSAxMDA7XHJcbiAgICAgICAgdGhpcy5pbnZ1bG5lcmFibGUgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnhQb3MgPSB4UG9zO1xyXG4gICAgICAgIHRoaXMueVBvcyA9IHlQb3M7XHJcbiAgICAgICAgdGhpcy5pc0RlYWQgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLm51bURlYXRocyA9IGNsaWVudERhdGFNYW5hZ2VyLmRlYXRocztcclxuXHJcbiAgICAgICAgdGhpcy5jdXJyZW50RGlyZWN0aW9uID0gJ2lkbGUnO1xyXG4gICAgICAgIHRoaXMuY3VycmVudEFuaW0gPSBudWxsO1xyXG5cclxuICAgICAgICB0aGlzLmFuaW1hdG9yID0gbmV3IEFuaW1hdG9yKHRoaXMuc2NlbmUsIHNwcml0ZVNoZWV0KVxyXG4gICAgfVxyXG5cclxuICAgIHByZWxvYWQod2lkdGgsIGhlaWdodCkge1xyXG4gICAgICAgIHRoaXMuYW5pbWF0b3IucHJlbG9hZCh3aWR0aCwgaGVpZ2h0KTtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGUoKSB7XHJcbiAgICAgICAgLy8gQ3JlYXIgbGFzIGFuaW1hY2lvbmVzIGRlbCBqdWdhZG9yIGFxdcOtXHJcbiAgICAgICAgdGhpcy5zcHJpdGUgPSB0aGlzLmFuaW1hdG9yLmFzc2lnblNwcml0ZVRvUGxheWVyKHRoaXMueFBvcywgdGhpcy55UG9zKTtcclxuICAgICAgICB0aGlzLmFuaW1hdG9yLmNyZWF0ZUFuaW1hdGlvbihgaWRsZS0ke3RoaXMuaWR9YCwgMCwgMywgNCk7XHJcbiAgICAgICAgdGhpcy5hbmltYXRvci5jcmVhdGVBbmltYXRpb24oYHdhbGstJHt0aGlzLmlkfWAsIDQsIDcsIDUpO1xyXG4gICAgICAgIHRoaXMuYW5pbWF0b3IuY3JlYXRlQW5pbWF0aW9uKGBqdW1wLSR7dGhpcy5pZH1gLCA4LCA4LCA0LCAwKTtcclxuICAgICAgICB0aGlzLmFuaW1hdG9yLmNyZWF0ZUFuaW1hdGlvbihgYWlyLSR7dGhpcy5pZH1gLCA5LCAxMCwgMSwgMCk7XHJcbiAgICAgICAgdGhpcy5hbmltYXRvci5jcmVhdGVBbmltYXRpb24oYGZhbGwtJHt0aGlzLmlkfWAsIDEwLCAxMCwgMSwgMCk7XHJcbiAgICAgICAgdGhpcy5hbmltYXRvci5jcmVhdGVBbmltYXRpb24oYGF0dGFjay0ke3RoaXMuaWR9YCwgMTIsIDEzLCAyLCAwKTtcclxuXHJcbiAgICAgICAgdGhpcy5zcHJpdGUub24oXCJhbmltYXRpb25jb21wbGV0ZVwiLCAoYW5pbSkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoYW5pbS5rZXkgPT09IGBqdW1wLSR7dGhpcy5pZH1gKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLnNwcml0ZS5ib2R5Lm9uRmxvb3IoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGxheUFuaW0oYGFpci0ke3RoaXMuaWR9YCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5zcHJpdGUub24oXCJhbmltYXRpb251cGRhdGVcIiwgKGFuaW0pID0+IHtcclxuICAgICAgICAgICAgaWYgKGFuaW0ua2V5ID09PSBgYWlyLSR7dGhpcy5pZH1gKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zcHJpdGUuYm9keS5vbkZsb29yKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBsYXlBbmltKGBmYWxsLSR7dGhpcy5pZH1gKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLnNwcml0ZS5zZXRTY2FsZSh0aGlzLmJhc2VXaWR0aCwgdGhpcy5iYXNlSGVpZ2h0KTtcclxuXHJcbiAgICAgICAgdGhpcy5zcHJpdGUuc2V0Q29sbGlkZVdvcmxkQm91bmRzKHRydWUpO1xyXG4gICAgICAgIHRoaXMuc3ByaXRlLmJvZHkuYWxsb3dHcmF2aXR5ID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLnNwcml0ZS5ib2R5LnNldEdyYXZpdHlZKHRoaXMuZ3Jhdml0eSk7XHJcbiAgICAgICAgdGhpcy5zcHJpdGUuYm9keS5zZXRTaXplKHRoaXMuc3ByaXRlLndpZHRoIC0gMTYwLCB0aGlzLnNwcml0ZS5oZWlnaHQgLSAxNDApO1xyXG4gICAgICAgIHRoaXMuc3ByaXRlLmJvZHkuc2V0T2Zmc2V0KDc1LCAxMzUpO1xyXG4gICAgICAgIHRoaXMuc3ByaXRlLnNldERlcHRoKDUpO1xyXG4gICAgICAgIHRoaXMuc3ByaXRlLnBsYXkoYGlkbGUtJHt0aGlzLmlkfWApO1xyXG4gICAgfVxyXG5cclxuICAgIHBsYXlBbmltKGtleSkge1xyXG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRBbmltICE9PSBrZXkpIHtcclxuICAgICAgICAgICAgdGhpcy5zcHJpdGUucGxheShrZXksIHRydWUpO1xyXG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRBbmltID0ga2V5O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBob3Jpem9udGFsTW92ZShkaXJlY3Rpb24pIHtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuaGVhbHRoIDw9IDApIHJldHVybjtcclxuICAgICAgICB0aGlzLmN1cnJlbnREaXJlY3Rpb24gPSBkaXJlY3Rpb247XHJcbiAgICAgICAgdGhpcy5zcHJpdGUuZmxpcFggPSAoZGlyZWN0aW9uID09PSAnbGVmdCcpO1xyXG5cclxuICAgICAgICAvLyBNb3ZlclxyXG4gICAgICAgIHRoaXMuc3ByaXRlLnNldFZlbG9jaXR5WChkaXJlY3Rpb24gPT09ICdsZWZ0JyA/IC10aGlzLmJhc2VTcGVlZCA6IHRoaXMuYmFzZVNwZWVkKTtcclxuXHJcblxyXG4gICAgICAgIGlmICh0aGlzLnNwcml0ZS5ib2R5Lm9uRmxvb3IoKSAmJiB0aGlzLmN1cnJlbnRBbmltICE9PSBganVtcC0ke3RoaXMuaWR9YCAmJiB0aGlzLmN1cnJlbnRBbmltICE9PSBgYXR0YWNrLSR7dGhpcy5pZH1gKSB7XHJcbiAgICAgICAgICAgIHRoaXMucGxheUFuaW0oYHdhbGstJHt0aGlzLmlkfWApO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBqdW1wKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmNhbkp1bXAoKSkge1xyXG4gICAgICAgICAgICB0aGlzLnNwcml0ZS5zZXRWZWxvY2l0eVkoLXRoaXMuanVtcEZvcmNlKTtcclxuICAgICAgICAgICAgdGhpcy5wbGF5QW5pbShganVtcC0ke3RoaXMuaWR9YCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuXHJcbiAgICBpZGxlKCkge1xyXG4gICAgICAgIHRoaXMuc3ByaXRlLnNldFZlbG9jaXR5WCgwKTtcclxuICAgICAgICAvLyBObyBwb25lciBpZGxlIHNpIGVzdMOhcyBlbiBlbCBhaXJlXHJcbiAgICAgICAgaWYgKHRoaXMuc3ByaXRlLmJvZHkub25GbG9vcigpICYmIHRoaXMuY3VycmVudEFuaW0gIT09IGBqdW1wLSR7dGhpcy5pZH1gICYmIHRoaXMuY3VycmVudEFuaW0gIT09IGBmYWxsLSR7dGhpcy5pZH1gICYmIHRoaXMuY3VycmVudEFuaW0gIT09IGBhdHRhY2stJHt0aGlzLmlkfWAgJiYgIXRoaXMuaXNEZWFkKSB7XHJcbiAgICAgICAgICAgIHRoaXMucGxheUFuaW0oYGlkbGUtJHt0aGlzLmlkfWApO1xyXG4gICAgICAgICAgICB0aGlzLmN1cnJlbnREaXJlY3Rpb24gPSAnaWRsZSc7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuXHJcbiAgICBnZXRIaXQoZGFtYWdlKSB7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmludnVsbmVyYWJsZSkgcmV0dXJuO1xyXG5cclxuICAgICAgICB0aGlzLmhlYWx0aCAtPSBkYW1hZ2U7XHJcbiAgICAgICAgdGhpcy5pbnZ1bG5lcmFibGUgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuc3ByaXRlLnNldFRpbnQoMHg4MDgwODApOyAgLy8gR3Jpc1xyXG5cclxuICAgICAgICBpZiAoIXRoaXMuY2hlY2tBbGl2ZSgpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaGVhbHRoID0gMDtcclxuICAgICAgICAgICAgdGhpcy5iYXNlU3BlZWQgPSAwO1xyXG4gICAgICAgICAgICB0aGlzLnNwcml0ZS5zZXRUaW50KDB4MDAwMDAwKTtcclxuICAgICAgICAgICAgdGhpcy5zcHJpdGUuYW5pbXMucGF1c2UoKTtcclxuICAgICAgICAgICAgdGhpcy5pbnZ1bG5lcmFibGUgPSBmYWxzZTtcclxuICAgICAgICAgICAgdGhpcy5pc0RlYWQgPSB0cnVlO1xyXG4gICAgICAgICAgICB0aGlzLmlzQXR0YWNraW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHRoaXMubnVtRGVhdGhzKys7XHJcbiAgICAgICAgICAgIHRoaXMudXBkYXRlRGVhdGhzKCk7XHJcbiAgICAgICAgICAgIGNsaWVudERhdGFNYW5hZ2VyLnVwZGF0ZUNsaWVudERlYXRocyh0aGlzLm51bURlYXRocyk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFZvbHZlciB2dWxuZXJhYmxlIHRyYXMgMiBzZWd1bmRvc1xyXG4gICAgICAgIHRoaXMuc2NlbmUudGltZS5kZWxheWVkQ2FsbCgyMDAwLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuaW52dWxuZXJhYmxlID0gZmFsc2U7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV2aXZlKCkge1xyXG4gICAgICAgIHRoaXMuaGVhbHRoID0gMTAwO1xyXG4gICAgICAgIHRoaXMuYmFzZVNwZWVkID0gMzAwO1xyXG4gICAgICAgIHRoaXMuaXNEZWFkID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5pbnZ1bG5lcmFibGUgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnNwcml0ZS5jbGVhclRpbnQoKTtcclxuICAgICAgICB0aGlzLnNwcml0ZS5hbmltcy5yZXN1bWUoKTtcclxuICAgICAgICB0aGlzLmludnVsbmVyYWJsZSA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5pc0F0dGFja2luZyA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMucGxheUFuaW0oYGlkbGUtJHt0aGlzLmlkfWApO1xyXG5cclxuICAgICAgICB0aGlzLnNjZW5lLnRpbWUuZGVsYXllZENhbGwoMTAwMCwgKCkgPT4geyB0aGlzLmludnVsbmVyYWJsZSA9IGZhbHNlIH0pXHJcbiAgICB9XHJcblxyXG4gICAgY2hlY2tBbGl2ZSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5oZWFsdGggPiAwO1xyXG4gICAgfVxyXG5cclxuICAgIGNhbkp1bXAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc3ByaXRlLmJvZHkub25GbG9vcigpICYmIHRoaXMuY2hlY2tBbGl2ZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIGF0dGFjaygpIHtcclxuICAgICAgICAvLyBJbXBsZW1lbnRhciBlbiBsYXMgY2xhc2VzIGhpamFzXHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgdXBkYXRlRGVhdGhzKCkge1xyXG4gICAgICAgIGF3YWl0IGNsaWVudERhdGFNYW5hZ2VyLnVwZGF0ZUNsaWVudERhdGEoeyBkZWF0aHM6IHRoaXMubnVtRGVhdGhzIH0pO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgUGxheWVyIH0gZnJvbSBcIi4vUGxheWVyXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgTHVjeSBleHRlbmRzIFBsYXllciB7XHJcbiAgICBjb25zdHJ1Y3RvcihzY2VuZSwgaWQsIGdyYXZpdHksIHhQb3MsIHlQb3MsIHNwcml0ZVNoZWV0ID0gbnVsbCkge1xyXG4gICAgICAgIHN1cGVyKHNjZW5lLCBpZCwgZ3Jhdml0eSwgeFBvcywgeVBvcywgc3ByaXRlU2hlZXQpO1xyXG4gICAgICAgIHRoaXMuYXR0YWNrSGl0Ym94ID0gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGUoKSB7XHJcbiAgICAgICAgc3VwZXIuY3JlYXRlKCk7XHJcbiAgICAgICAgdGhpcy5hdHRhY2tIaXRib3ggPSB0aGlzLnNjZW5lLnBoeXNpY3MuYWRkLnNwcml0ZSgwLCAwLCBudWxsKVxyXG4gICAgICAgICAgICAuc2V0U2l6ZSg1MCwgMjApXHJcbiAgICAgICAgICAgIC5zZXRWaXNpYmxlKGZhbHNlKVxyXG4gICAgICAgICAgICAuc2V0SW1tb3ZhYmxlKHRydWUpO1xyXG5cclxuICAgICAgICB0aGlzLmlzQXR0YWNraW5nID0gZmFsc2U7XHJcblxyXG5cclxuICAgICAgICB0aGlzLnNwcml0ZS5vbihcImFuaW1hdGlvbmNvbXBsZXRlXCIsIChhbmltKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChhbmltLmtleSA9PT0gYGF0dGFjay0ke3RoaXMuaWR9YCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pc0F0dGFja2luZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wbGF5QW5pbShgaWRsZS0ke3RoaXMuaWR9YCk7IC8vIG8gd2FsayBzaSB0ZSBtdWV2ZXNcclxuICAgICAgICAgICAgICAgIHRoaXMuYXR0YWNrSGl0Ym94LnNldFBvc2l0aW9uKC0xMDAsIC0xMDApOyAvLyBzYWNhciBlbCBoaXRib3ggZGUgbGEgcGFudGFsbGFcclxuXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5zcHJpdGUub24oXCJhbmltYXRpb251cGRhdGVcIiwgKGFuaW0pID0+IHtcclxuICAgICAgICAgICAgaWYgKGFuaW0ua2V5ID09PSBgYXR0YWNrLSR7dGhpcy5pZH1gKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUhpdGJveCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIEVuIGVsIGNyZWF0ZSBkZSBsYSBlc2NlbmEgY29uZmlndXJhciBsb3MgT1ZFUkxBUFMgY29uIGxvcyBlbmVtaWdvc1xyXG4gICAgfVxyXG5cclxuICAgIGdldEhpdChkYW1hZ2UpIHtcclxuICAgICAgICBzdXBlci5nZXRIaXQoZGFtYWdlKTtcclxuICAgICAgICB0aGlzLmlzQXR0YWNraW5nID0gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlSGl0Ym94KCkge1xyXG4gICAgICAgIGNvbnN0IG9mZnNldFggPSB0aGlzLnNwcml0ZS5mbGlwWCA/IC0yMCA6IDIwO1xyXG4gICAgICAgIHRoaXMuYXR0YWNrSGl0Ym94LnNldFBvc2l0aW9uKFxyXG4gICAgICAgICAgICB0aGlzLnNwcml0ZS54ICsgb2Zmc2V0WCxcclxuICAgICAgICAgICAgdGhpcy5zcHJpdGUueVxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgYXR0YWNrKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmlzQXR0YWNraW5nKSByZXR1cm47IC8vIGV2aXRhIHNwYW1lb1xyXG5cclxuICAgICAgICB0aGlzLnVwZGF0ZUhpdGJveCgpO1xyXG4gICAgICAgIHRoaXMuaXNBdHRhY2tpbmcgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuc3ByaXRlLnNldFZlbG9jaXR5WCgwKTsgLy8gb3BjaW9uYWxcclxuICAgICAgICB0aGlzLnBsYXlBbmltKGBhdHRhY2stJHt0aGlzLmlkfWApO1xyXG4gICAgfVxyXG59IiwiZXhwb3J0IGNsYXNzIExpZ2h0IHtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihzY2VuZSwgaWQsIHBsYXllciwgcmFkaXVzLCBjb2xvcikge1xyXG5cclxuICAgICAgICB0aGlzLmlkID0gaWQ7XHJcbiAgICAgICAgdGhpcy5zY2VuZSA9IHNjZW5lO1xyXG4gICAgICAgIHRoaXMucGxheWVyID0gcGxheWVyO1xyXG4gICAgICAgIHRoaXMucmFkaXVzID0gcmFkaXVzO1xyXG4gICAgICAgIHRoaXMuY29sb3IgPSBjb2xvcjtcclxuICAgICAgICB0aGlzLmlzT24gPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmNhblBlcmZvcm0gPSB0cnVlO1xyXG5cclxuICAgICAgICB0aGlzLmNvbGxpZGVyQ2lyY2xlID0gbnVsbDtcclxuICAgICAgICBcclxuICAgIH1cclxuICAgIGNyZWF0ZSgpIHtcclxuICAgICAgICAvLyBDw41SQ1VMTyBGw41TSUNPXHJcbiAgICAgICAgdGhpcy5jb2xsaWRlckNpcmNsZSA9IHRoaXMuc2NlbmUuYWRkLmNpcmNsZShcclxuICAgICAgICAgICAgdGhpcy5wbGF5ZXIuc3ByaXRlLngsXHJcbiAgICAgICAgICAgIHRoaXMucGxheWVyLnNwcml0ZS55LFxyXG4gICAgICAgICAgICB0aGlzLnJhZGl1c1xyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIHRoaXMuc2NlbmUucGh5c2ljcy5hZGQuZXhpc3RpbmcodGhpcy5jb2xsaWRlckNpcmNsZSk7XHJcbiAgICAgICAgdGhpcy5jb2xsaWRlckNpcmNsZS5ib2R5LnNldENpcmNsZSh0aGlzLnJhZGl1cyk7XHJcbiAgICAgICAgdGhpcy5jb2xsaWRlckNpcmNsZS5ib2R5LnNldEFsbG93R3Jhdml0eShmYWxzZSk7XHJcbiAgICAgICAgdGhpcy5jb2xsaWRlckNpcmNsZS5ib2R5LnNldEltbW92YWJsZSh0cnVlKTtcclxuXHJcbiAgICAgICAgLy8gR3LDoWZpY29zIHZpc3VhbGVzXHJcbiAgICAgICAgdGhpcy5ncmFwaGljcyA9IHRoaXMuc2NlbmUuYWRkLmdyYXBoaWNzKCk7XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlKCkge1xyXG5cclxuICAgICAgICAvLyBTZWd1aXIgYWwganVnYWRvclxyXG4gICAgICAgIGNvbnN0IHggPSB0aGlzLnBsYXllci5zcHJpdGUueDtcclxuICAgICAgICBjb25zdCB5ID0gdGhpcy5wbGF5ZXIuc3ByaXRlLnk7XHJcblxyXG4gICAgICAgIHRoaXMuY29sbGlkZXJDaXJjbGUuc2V0UG9zaXRpb24oeCwgeSk7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmlzT24pIHsgICBcclxuICAgICAgICAgICAgdGhpcy5ncmFwaGljcy5jbGVhcigpO1xyXG4gICAgICAgICAgICB0aGlzLmdyYXBoaWNzLmZpbGxTdHlsZSh0aGlzLmNvbG9yLCAwLjUpO1xyXG4gICAgICAgICAgICB0aGlzLmdyYXBoaWNzLmZpbGxDaXJjbGUoeCwgeSwgdGhpcy5yYWRpdXMpO1xyXG4gICAgICAgICAgICB0aGlzLmdyYXBoaWNzLnNldERlcHRoKDEwKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmdyYXBoaWNzLmNsZWFyKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHBlcmZvcm0oKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmNhblBlcmZvcm0pIHJldHVybjtcclxuXHJcbiAgICAgICAgdGhpcy5jYW5QZXJmb3JtID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5pc09uID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgdGhpcy5zY2VuZS50aW1lLmRlbGF5ZWRDYWxsKDEwMDAsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5pc09uID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHRoaXMuZ3JhcGhpY3MuY2xlYXIoKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5zY2VuZS50aW1lLmRlbGF5ZWRDYWxsKDMwMDAsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5jYW5QZXJmb3JtID0gdHJ1ZTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBkZXN0cm95KCkge1xyXG4gICAgICAgIHRoaXMuZ3JhcGhpY3MuZGVzdHJveSgpO1xyXG4gICAgICAgIHRoaXMuY29sbGlkZXJDaXJjbGUuZGVzdHJveSgpO1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCB7IFBsYXllciB9IGZyb20gXCIuL1BsYXllclwiO1xyXG5pbXBvcnQgeyBMaWdodCB9IGZyb20gXCIuL0xpZ2h0LmpzXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgQXJ0aHVyIGV4dGVuZHMgUGxheWVyIHtcclxuICAgIGNvbnN0cnVjdG9yKHNjZW5lLCBpZCwgZ3Jhdml0eSwgeFBvcywgeVBvcywgc3ByaXRlU2hlZXQgPSBudWxsKSB7XHJcbiAgICAgICAgc3VwZXIoc2NlbmUsIGlkLCBncmF2aXR5LCB4UG9zLCB5UG9zLCBzcHJpdGVTaGVldCk7XHJcblxyXG4gICAgICAgIHRoaXMubGlnaHQgPSBuZXcgTGlnaHQodGhpcy5zY2VuZSwgJ2xpZ2h0MScsIHRoaXMsIDc1LCAweGZmZmZmZilcclxuICAgICAgICB0aGlzLmlzQXR0YWNraW5nID0gZmFsc2U7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZSgpIHtcclxuICAgICAgICBzdXBlci5jcmVhdGUoKTtcclxuICAgICAgICB0aGlzLmxpZ2h0LmNyZWF0ZSgpO1xyXG5cclxuXHJcblxyXG4gICAgICAgIHRoaXMuc3ByaXRlLm9uKFwiYW5pbWF0aW9udXBkYXRlXCIsIChhbmltKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChhbmltLmtleSA9PT0gYGF0dGFjay0ke3RoaXMuaWR9YCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5saWdodC51cGRhdGUoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuaXNBdHRhY2tpbmcgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5zcHJpdGUub24oXCJhbmltYXRpb25jb21wbGV0ZVwiLCAoYW5pbSkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoYW5pbS5rZXkgPT09IGBhdHRhY2stJHt0aGlzLmlkfWApIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuaXNBdHRhY2tpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIHRoaXMucGxheUFuaW0oYGlkbGUtJHt0aGlzLmlkfWApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV2aXZlKCkge1xyXG4gICAgICAgIHN1cGVyLnJldml2ZSgpO1xyXG4gICAgICAgIHRoaXMubGlnaHQuY2FuUGVyZm9ybSA9IHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgYXR0YWNrKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmlzQXR0YWNraW5nIHx8ICF0aGlzLmxpZ2h0LmNhblBlcmZvcm0pIHJldHVybjtcclxuXHJcbiAgICAgICAgdGhpcy5saWdodC5wZXJmb3JtKCk7XHJcbiAgICAgICAgdGhpcy5wbGF5QW5pbShgYXR0YWNrLSR7dGhpcy5pZH1gKTtcclxuICAgIH1cclxufSIsImltcG9ydCBQaGFzZXIgZnJvbSBcInBoYXNlclwiO1xyXG5pbXBvcnQgeyBJbnB1dE1hbmFnZXIgfSBmcm9tIFwiLi4vaGFuZGxlcnMvSW5wdXRNYW5hZ2VyLmpzXCI7XHJcbmltcG9ydCB7IEVuZW15IH0gZnJvbSBcIi4uL2VudGl0aWVzL0VuZW15LmpzXCI7XHJcbmltcG9ydCB7IENvbW1hbmRQcm9jZXNzb3IgfSBmcm9tIFwiLi4vY29tbWFuZC1wYXR0ZXJuL0NvbW1hbmRQcm9jZXNzb3IuanNcIjtcclxuaW1wb3J0IHsgQ2FtZXJhIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvQ2FtZXJhLmpzXCI7XHJcbmltcG9ydCB7IFBsYXRmb3JtIH0gZnJvbSBcIi4uL2VudGl0aWVzL1BsYXRmb3JtLmpzXCI7XHJcbmltcG9ydCB7IEx1Y3kgfSBmcm9tIFwiLi4vZW50aXRpZXMvTHVjeS5qc1wiO1xyXG5pbXBvcnQgeyBBcnRodXIgfSBmcm9tIFwiLi4vZW50aXRpZXMvQXJ0aHVyLmpzXCI7XHJcbmltcG9ydCB7IGNvbm5lY3Rpb25NYW5hZ2VyIH0gZnJvbSBcIi4uL3NlcnZpY2VzL0Nvbm5lY3Rpb25NYW5hZ2VyLmpzXCI7XHJcbmltcG9ydCB7IGNsaWVudERhdGFNYW5hZ2VyIH0gZnJvbSBcIi4uL3NlcnZpY2VzL2NsaWVudERhdGFNYW5hZ2VyLmpzXCI7XHJcblxyXG5cclxuZXhwb3J0IGNsYXNzIEdhbWVTY2VuZSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XHJcbiAgICBjb25zdHJ1Y3RvcihuYW1lID0gJ0dhbWVTY2VuZScpIHtcclxuICAgICAgICBzdXBlcihuYW1lKVxyXG4gICAgfVxyXG5cclxuXHJcbiAgICBwcmVsb2FkKCkge1xyXG4gICAgICAgIHRoaXMuYXJ0aHVyLnByZWxvYWQoMzAwLCA0MDApO1xyXG4gICAgICAgIHRoaXMubHVjeS5wcmVsb2FkKDMwMCwgNDAwKTtcclxuICAgICAgICB0aGlzLmxvYWQuYXVkaW8oJ2FtYmllbnQnLCAnYXNzZXRzL3NvdW5kL2FtYmllbnQtdGhlbWUubXAzJyk7XHJcblxyXG5cclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2ZvbmRvJywgJ2Fzc2V0cy9Gb25kb0hvcml6b250YWwucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdwMScsICdhc3NldHMvcHJvcHMvcGxhdGFmb3JtYTEucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdzdWVsbycsICdhc3NldHMvcHJvcHMvc3VlbG8ucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdwMicsICdhc3NldHMvcHJvcHMvcGxhdGFmb3JtYTIucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdjMScsICdhc3NldHMvcHJvcHMvY29sdW1uYTEucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdsaWInLCAnYXNzZXRzL3Byb3BzL2xpYnJlcmlhLnBuZycpO1xyXG5cclxuICAgICAgICB0aGlzLmVuZW1pZXMuZm9yRWFjaChlbmVteSA9PiBlbmVteS5wcmVsb2FkKCkpO1xyXG4gICAgfVxyXG5cclxuICAgIGluaXQoKSB7XHJcbiAgICAgICAgdGhpcy5zb3VuZC5zdG9wQWxsKCk7XHJcbiAgICAgICAgdGhpcy5jb21tYW5kUHJvY2Vzc29yID0gbmV3IENvbW1hbmRQcm9jZXNzb3IoKTtcclxuICAgICAgICB0aGlzLnBsYXllcnMgPSBuZXcgTWFwKCk7XHJcbiAgICAgICAgdGhpcy5lbmVtaWVzID0gbmV3IE1hcCgpO1xyXG4gICAgICAgIHRoaXMucGxhdGZvcm1zID0gbmV3IE1hcCgpO1xyXG4gICAgICAgIHRoaXMuaXNQYXVzZWQgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmlucHV0TWFuYWdlciA9IG5ldyBJbnB1dE1hbmFnZXIodGhpcywgdGhpcy5zY2VuZSwgdGhpcy5pbnB1dCwgdGhpcy5jb21tYW5kUHJvY2Vzc29yKTtcclxuICAgICAgICB0aGlzLmFydGh1ciA9IG5ldyBBcnRodXIodGhpcywgJ3BsYXllcjEnLCA2MDAsIDEwMCwgNTAwLCAnc3ByaXRlc2hlZXQtYXJ0aHVyLXJlZXNjYWxhZG8tbWl0YWQnKTtcclxuICAgICAgICB0aGlzLmx1Y3kgPSBuZXcgTHVjeSh0aGlzLCAncGxheWVyMicsIDQ1MCwgMzAwLCA1MDAsICdzcHJpdGVzaGVldC1sdWN5LXJlZXNjYWxhZG8tbWl0YWQnKTtcclxuXHJcbiAgICAgICAgdGhpcy5lbmVteTEgPSBuZXcgRW5lbXkodGhpcywgJ2VuZW15MScsIDQwMCwgMTAwLCB0aGlzLnBsYXllcnMpO1xyXG4gICAgICAgIHRoaXMuZW5lbXkyID0gbmV3IEVuZW15KHRoaXMsICdlbmVteTInLCAxMjAwLCAxMDAsIHRoaXMucGxheWVycyk7XHJcbiAgICAgICAgdGhpcy5lbmVteTMgPSBuZXcgRW5lbXkodGhpcywgJ2VuZW15MycsIDIwMDAsIDEwMCwgdGhpcy5wbGF5ZXJzKTtcclxuICAgICAgICB0aGlzLmVuZW15NCA9IG5ldyBFbmVteSh0aGlzLCAnZW5lbXk0JywgMjgwMCwgMTAwLCB0aGlzLnBsYXllcnMpO1xyXG4gICAgICAgIHRoaXMuZW5lbXk1ID0gbmV3IEVuZW15KHRoaXMsICdlbmVteTUnLCAzNTAwLCAxMDAsIHRoaXMucGxheWVycyk7XHJcblxyXG5cclxuICAgICAgICB0aGlzLmNhbWVyYSA9IG5ldyBDYW1lcmEodGhpcywgdGhpcy5wbGF5ZXJzKTtcclxuXHJcbiAgICAgICAgdGhpcy5lbmVtaWVzLnNldCh0aGlzLmVuZW15MS5pZCwgdGhpcy5lbmVteTEpO1xyXG4gICAgICAgIHRoaXMuZW5lbWllcy5zZXQodGhpcy5lbmVteTIuaWQsIHRoaXMuZW5lbXkyKTtcclxuICAgICAgICB0aGlzLmVuZW1pZXMuc2V0KHRoaXMuZW5lbXkzLmlkLCB0aGlzLmVuZW15Myk7XHJcbiAgICAgICAgdGhpcy5lbmVtaWVzLnNldCh0aGlzLmVuZW15NC5pZCwgdGhpcy5lbmVteTQpO1xyXG4gICAgICAgIHRoaXMuZW5lbWllcy5zZXQodGhpcy5lbmVteTUuaWQsIHRoaXMuZW5lbXk1KTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlKCkge1xyXG4gICAgICAgIC8vIE11c2ljXHJcbiAgICAgICAgdGhpcy5tdXNpYyA9IHRoaXMuc291bmQuYWRkKCdhbWJpZW50Jyk7XHJcbiAgICAgICAgdGhpcy5tdXNpYy5wbGF5KCk7XHJcbiAgICAgICAgdGhpcy5tdXNpYy5zZXRWb2x1bWUoMC4yNSk7XHJcblxyXG4gICAgICAgIC8vIEJhY2tncm91bmRcclxuICAgICAgICB0aGlzLmZvbmRvID0gdGhpcy5hZGQudGlsZVNwcml0ZSgwLCAwLCA4MDAwLCAyMDAwLCAnZm9uZG8nKVxyXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDAsIDApXHJcbiAgICAgICAgICAgIC5zZXRTY3JvbGxGYWN0b3IoMC4yKVxyXG4gICAgICAgICAgICAuc2V0U2NhbGUoMC4zKTtcclxuXHJcbiAgICAgICAgLy9DcmVhdGUgdGhlIHBsYXllcnMgXHJcbiAgICAgICAgdGhpcy5hcnRodXIuY3JlYXRlKCk7XHJcbiAgICAgICAgdGhpcy5sdWN5LmNyZWF0ZSgpO1xyXG5cclxuICAgICAgICAvLyBTZXQgdXAgaW5wdXQgYW5kIHBsYXllcnNcclxuICAgICAgICB0aGlzLnBsYXllcnMuc2V0KCdwbGF5ZXIxJywgdGhpcy5hcnRodXIpO1xyXG4gICAgICAgIHRoaXMucGxheWVycy5zZXQoJ3BsYXllcjInLCB0aGlzLmx1Y3kpO1xyXG5cclxuICAgICAgICB0aGlzLmlucHV0TWFuYWdlci5wbGF5ZXJzID0gdGhpcy5wbGF5ZXJzO1xyXG4gICAgICAgIHRoaXMuY29tbWFuZFByb2Nlc3Nvci5wbGF5ZXJzID0gdGhpcy5wbGF5ZXJzO1xyXG5cclxuICAgICAgICAvLyBTZXQgdXAgZW5lbWllc1xyXG4gICAgICAgIHRoaXMuZW5lbWllcy5mb3JFYWNoKChlbmVteSkgPT4ge1xyXG4gICAgICAgICAgICBlbmVteS5jcmVhdGUoKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5zZXRVcFdvcmxkQ29sbGlzaW9ucygpO1xyXG4gICAgICAgIHRoaXMuc2V0VXBFbmVteUNvbGxpc2lvbnMoKTtcclxuICAgICAgICB0aGlzLnNldFVwUmV2aXZlQ29sbGlzaW9uKCk7XHJcbiAgICAgICAgdGhpcy5zZXRVcExpYnJhcnlDb2xsaXNpb24oKTtcclxuXHJcbiAgICAgICAgdGhpcy5waHlzaWNzLndvcmxkLnNldEJvdW5kcygwLCAwLCA0MTc1LCA2MDApO1xyXG4gICAgICAgIHRoaXMuY2FtZXJhLmNhbWVyYS5zZXRCb3VuZHMoMCwgMCwgNDE3NSwgNjAwKTtcclxuXHJcbiAgICAgICAgdGhpcy5jYW1lcmEuY2FtZXJhLnNldExlcnAoMC4xLCAwLjEpO1xyXG5cclxuICAgICAgICB0aGlzLmNvbm5lY3Rpb25MaXN0ZW5lciA9IChkYXRhKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICghZGF0YS5jb25uZWN0ZWQgJiYgdGhpcy5zY2VuZS5pc0FjdGl2ZSgpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm9uQ29ubmVjdGlvbkxvc3QoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgY29ubmVjdGlvbk1hbmFnZXIuYWRkTGlzdGVuZXIodGhpcy5jb25uZWN0aW9uTGlzdGVuZXIpO1xyXG4gICAgfVxyXG5cclxuICAgIHNldFVwUmV2aXZlQ29sbGlzaW9uKCkge1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQub3ZlcmxhcCh0aGlzLnBsYXllcnMuZ2V0KCdwbGF5ZXIxJykuc3ByaXRlLCB0aGlzLnBsYXllcnMuZ2V0KCdwbGF5ZXIyJykuc3ByaXRlLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnBsYXllcnMuZ2V0KCdwbGF5ZXIxJykuaGVhbHRoIDw9IDAgJiYgdGhpcy5wbGF5ZXJzLmdldCgncGxheWVyMicpLmhlYWx0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucGxheWVycy5nZXQoJ3BsYXllcjEnKS5yZXZpdmUoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmICh0aGlzLnBsYXllcnMuZ2V0KCdwbGF5ZXIyJykuaGVhbHRoIDw9IDAgJiYgdGhpcy5wbGF5ZXJzLmdldCgncGxheWVyMScpLmhlYWx0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucGxheWVycy5nZXQoJ3BsYXllcjInKS5yZXZpdmUoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHNldFVwV29ybGRDb2xsaXNpb25zKCkge1xyXG4gICAgICAgIC8vU2V0IHVwIHBsYXRmb3JtcyBhbmQgY29sbGlzaW9uc1xyXG5cclxuICAgICAgICB0aGlzLnN1ZWxvMSA9IG5ldyBQbGF0Zm9ybSh0aGlzLCAnczEnLCAyNTAwLCA1OTAsIDUwMDAsIDQwLCAnc3VlbG8nKTtcclxuICAgICAgICB0aGlzLnBsYXQxID0gbmV3IFBsYXRmb3JtKHRoaXMsICdwMScsIDIwMCwgNDUwLCAyMDAsIDMwLCAncDEnKTtcclxuICAgICAgICB0aGlzLnBsYXQyID0gbmV3IFBsYXRmb3JtKHRoaXMsICdwMicsIDQ1MCwgMzAwLCAyMDAsIDMwLCAncDEnKTtcclxuICAgICAgICB0aGlzLnN1ZWxvMiA9IG5ldyBQbGF0Zm9ybSh0aGlzLCAnczInLCAxMjAwLCA1NTAsIDUwMCwgMjAwLCAncDInKTtcclxuICAgICAgICB0aGlzLmNvbDEgPSBuZXcgUGxhdGZvcm0odGhpcywgJ2MxJywgNzAwLCA0NTAsIDcwLCAzMDAsICdjMScpO1xyXG4gICAgICAgIHRoaXMuY29sMiA9IG5ldyBQbGF0Zm9ybSh0aGlzLCAnYzInLCAyMjAwLCA0NTAsIDcwLCA0MDAsICdjMScpO1xyXG4gICAgICAgIHRoaXMucGxhdDMgPSBuZXcgUGxhdGZvcm0odGhpcywgJ3AzJywgMTgwMCwgNDUwLCAxNTAsIDMwLCAncDEnKTtcclxuICAgICAgICB0aGlzLnBsYXQ0ID0gbmV3IFBsYXRmb3JtKHRoaXMsICdwNCcsIDE1MDAsIDMwMCwgMTUwLCAzMCwgJ3AxJyk7XHJcbiAgICAgICAgdGhpcy5wbGF0NSA9IG5ldyBQbGF0Zm9ybSh0aGlzLCAncDUnLCAyMDAwLCAyMDAsIDE1MCwgMzAsICdwMScpO1xyXG4gICAgICAgIHRoaXMuc3VlbG8zID0gbmV3IFBsYXRmb3JtKHRoaXMsICdzMycsIDIyMDAsIDU1MCwgMjMwLCAxMDAsICdwMicpO1xyXG4gICAgICAgIHRoaXMuc3VlbG80ID0gbmV3IFBsYXRmb3JtKHRoaXMsICdzNCcsIDI4MDAsIDUwMCwgNTUwLCAyNTAsICdwMicpO1xyXG4gICAgICAgIHRoaXMucGxhdDYgPSBuZXcgUGxhdGZvcm0odGhpcywgJ3A2JywgMzE1MCwgMjUwLCAxNTAsIDMwLCAncDEnKTtcclxuICAgICAgICB0aGlzLnBsYXQ3ID0gbmV3IFBsYXRmb3JtKHRoaXMsICdwNycsIDM1MDAsIDI1MCwgMTUwLCAzMCwgJ3AxJyk7XHJcbiAgICAgICAgdGhpcy5wbGF0OCA9IG5ldyBQbGF0Zm9ybSh0aGlzLCAncDgnLCAzMTUwLCA0NTAsIDE1MCwgMzAsICdwMScpO1xyXG4gICAgICAgIHRoaXMuc3VlbG81ID0gbmV3IFBsYXRmb3JtKHRoaXMsICdzNScsIDQwMDEsIDQ1MCwgMzUwLCAzNTAsICdwMicpO1xyXG5cclxuXHJcbiAgICAgICAgdGhpcy5wbGF0Zm9ybXMuc2V0KCdzMScsIHRoaXMuc3VlbG8xKTtcclxuICAgICAgICB0aGlzLnBsYXRmb3Jtcy5zZXQoJ3AxJywgdGhpcy5wbGF0MSk7XHJcbiAgICAgICAgdGhpcy5wbGF0Zm9ybXMuc2V0KCdwMicsIHRoaXMucGxhdDIpO1xyXG4gICAgICAgIHRoaXMucGxhdGZvcm1zLnNldCgnczInLCB0aGlzLnN1ZWxvMik7XHJcbiAgICAgICAgdGhpcy5wbGF0Zm9ybXMuc2V0KCdjMScsIHRoaXMuY29sMSk7XHJcbiAgICAgICAgdGhpcy5wbGF0Zm9ybXMuc2V0KCdjMicsIHRoaXMuY29sMik7XHJcbiAgICAgICAgdGhpcy5wbGF0Zm9ybXMuc2V0KCdwMycsIHRoaXMucGxhdDMpO1xyXG4gICAgICAgIHRoaXMucGxhdGZvcm1zLnNldCgncDQnLCB0aGlzLnBsYXQ0KTtcclxuICAgICAgICB0aGlzLnBsYXRmb3Jtcy5zZXQoJ3A1JywgdGhpcy5wbGF0NSk7XHJcbiAgICAgICAgdGhpcy5wbGF0Zm9ybXMuc2V0KCdzMycsIHRoaXMuc3VlbG8zKTtcclxuICAgICAgICB0aGlzLnBsYXRmb3Jtcy5zZXQoJ3M0JywgdGhpcy5zdWVsbzQpO1xyXG4gICAgICAgIHRoaXMucGxhdGZvcm1zLnNldCgnczUnLCB0aGlzLnN1ZWxvNSk7XHJcbiAgICAgICAgdGhpcy5wbGF0Zm9ybXMuc2V0KCdwNicsIHRoaXMucGxhdDYpO1xyXG4gICAgICAgIHRoaXMucGxhdGZvcm1zLnNldCgncDcnLCB0aGlzLnBsYXQ3KTtcclxuICAgICAgICB0aGlzLnBsYXRmb3Jtcy5zZXQoJ3A4JywgdGhpcy5wbGF0OCk7XHJcblxyXG4gICAgICAgIHRoaXMucGxhdGZvcm1zLmZvckVhY2gocCA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMucGxheWVycy5mb3JFYWNoKHBlcnNvbmFqZSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHBlcnNvbmFqZS5zcHJpdGUsIHAuc3ByaXRlKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHRoaXMuZW5lbWllcy5mb3JFYWNoKGVuZW1pZ28gPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcihlbmVtaWdvLnNwcml0ZSwgcC5zcHJpdGUpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuXHJcblxyXG4gICAgfVxyXG5cclxuICAgIHNldFVwTGlicmFyeUNvbGxpc2lvbigpIHtcclxuICAgICAgICB0aGlzLmxpYnJlcmlhID0gbmV3IFBsYXRmb3JtKHRoaXMsICdsaWInLCA0MDAwLCAyMDgsIDEwMCwgMTUwLCAnbGliJyk7XHJcbiAgICAgICAgdGhpcy5saWJyZXJpYS5zcHJpdGUuc2V0RGVwdGgoMik7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5vdmVybGFwKHRoaXMubGlicmVyaWEuc3ByaXRlLCB0aGlzLmFydGh1ci5zcHJpdGUsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5zdG9wKCk7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ0VuZFNjZW5lJyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5vdmVybGFwKHRoaXMubGlicmVyaWEuc3ByaXRlLCB0aGlzLmx1Y3kuc3ByaXRlLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RvcCgpO1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdFbmRTY2VuZScpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHNldFVwRW5lbXlDb2xsaXNpb25zKCkge1xyXG4gICAgICAgIHRoaXMuZW5lbWllcy5mb3JFYWNoKChlbmVteSkgPT4ge1xyXG5cclxuICAgICAgICAgICAgLy8gRW1lbnkgaGl0cyBcclxuICAgICAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcihlbmVteS5zcHJpdGUsIHRoaXMucGxheWVycy5nZXQoJ3BsYXllcjEnKS5zcHJpdGUsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChlbmVteSAmJiB0aGlzLnBsYXllcnMuZ2V0KCdwbGF5ZXIxJykuaGVhbHRoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGxheWVycy5nZXQoJ3BsYXllcjEnKS5nZXRIaXQoNTApO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2hlY2tQbGF5ZXJTdGF0dXMoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKGVuZW15LnNwcml0ZSwgdGhpcy5wbGF5ZXJzLmdldCgncGxheWVyMicpLnNwcml0ZSwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKGVuZW15ICYmIHRoaXMucGxheWVycy5nZXQoJ3BsYXllcjInKS5oZWFsdGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wbGF5ZXJzLmdldCgncGxheWVyMicpLmdldEhpdCg1MCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jaGVja1BsYXllclN0YXR1cygpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIC8vIFBsYXllciBsaWdodHMgZW5lbXlcclxuICAgICAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5vdmVybGFwKGVuZW15LnNwcml0ZSwgdGhpcy5hcnRodXIubGlnaHQuY29sbGlkZXJDaXJjbGUsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmFydGh1ci5saWdodC5pc09uICYmIGVuZW15KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZW5lbXkuc2V0V2Vha2VuZWQodHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50aW1lLmRlbGF5ZWRDYWxsKDQwMDAsICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVuZW15KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmVteS5zZXRXZWFrZW5lZChmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAvLyBQbGF5ZXIgYXR0YWNrcyBlbmVteVxyXG4gICAgICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLm92ZXJsYXAoZW5lbXkuc3ByaXRlLCB0aGlzLnBsYXllcnMuZ2V0KCdwbGF5ZXIyJykuYXR0YWNrSGl0Ym94LCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZW5lbXk/LndlYWtlbmVkICYmIHRoaXMucGxheWVycy5nZXQoJ3BsYXllcjInKS5pc0F0dGFja2luZykge1xyXG4gICAgICAgICAgICAgICAgICAgIGVuZW15LmRpZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGVuZW15LmlzRGVhZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgZW5lbXkgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBjaGVja1BsYXllclN0YXR1cygpIHtcclxuICAgICAgICBpZiAodGhpcy5wbGF5ZXJzLmdldCgncGxheWVyMScpLmhlYWx0aCA8PSAwICYmIHRoaXMucGxheWVycy5nZXQoJ3BsYXllcjInKS5oZWFsdGggPD0gMCkge1xyXG4gICAgICAgICAgICBjbGllbnREYXRhTWFuYWdlci51cGRhdGVDbGllbnREZWF0aHMoY2xpZW50RGF0YU1hbmFnZXIuZGVhdGhzICsgMSk7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RvcCgpO1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdHYW1lU2NlbmUnKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlKCkge1xyXG4gICAgICAgIHRoaXMuZm9uZG8udGlsZVBvc2l0aW9uWCA9IHRoaXMuY2FtZXJhcy5tYWluLnNjcm9sbFggKiAwLjI7XHJcblxyXG4gICAgICAgIHRoaXMuY2FtZXJhLnVwZGF0ZSgpO1xyXG4gICAgICAgIHRoaXMuaW5wdXRNYW5hZ2VyLnVwZGF0ZSgpO1xyXG5cclxuICAgICAgICB0aGlzLmFydGh1ci5saWdodC51cGRhdGUoKTtcclxuXHJcbiAgICAgICAgdGhpcy5lbmVtaWVzLmZvckVhY2goKGVuZW15KSA9PiB7XHJcbiAgICAgICAgICAgIGlmICghZW5lbXkgfHwgZW5lbXkuaXNEZWFkKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmVuZW1pZXMuZGVsZXRlKGVuZW15LmlkKTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbmVteS51cGRhdGUoKTtcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG5cclxuICAgIC8vLy8vLy8vLy8vLy8vLy8vLyBSRUQgLy8vLy8vLy8vLy8vLy9cclxuICAgIG9uQ29ubmVjdGlvbkxvc3QoKSB7XHJcbiAgICAgICAgdGhpcy5zY2VuZS5wYXVzZSgpO1xyXG4gICAgICAgIHRoaXMuc2NlbmUubGF1bmNoKCdDb25uZWN0aW9uTG9zdFNjZW5lJywgeyBwcmV2aW91c1NjZW5lOiAnR2FtZVNjZW5lJyB9KTtcclxuICAgIH1cclxuXHJcbn0iLCJpbXBvcnQgUGhhc2VyIGZyb20gJ3BoYXNlcic7XHJcblxyXG5leHBvcnQgY2xhc3MgUGF1c2VTY2VuZSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcignUGF1c2VTY2VuZScpO1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZShkYXRhKSB7XHJcblxyXG4gICAgICAgIHRoaXMuaW5wdXQua2V5Ym9hcmQub24oJ2tleWRvd24tRVNDJywgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnVucGF1c2UoZGF0YS5vcmlnaW5hbFNjZW5lKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5hZGQucmVjdGFuZ2xlKDQwMCwgMzAwLCA4MDAsIDYwMCwgMHgwMDAwMDAsIDAuNyk7XHJcblxyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoNDAwLCAxMDAsICdNZW7DuiBkZSBwYXVzYScsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICc0OHB4JyxcclxuICAgICAgICAgICAgZm9udEZhbWlseTogJ0xpbkxpYmVydGluZScsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnIzNlMjYwNmZmJyxcclxuICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAnI2ZmZmZmZidcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgY29uc3QgcGxheUJ0biA9IHRoaXMuYWRkLnRleHQoNDAwLCAyNTAsICdDb250aW51YXInLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMjRweCcsXHJcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdMaW5MaWJlcnRpbmUnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyMzZTI2MDZmZicsXHJcbiAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogJyNmZmZmZmYnLFxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSlcclxuICAgICAgICAgICAgLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IHBsYXlCdG4uc2V0U3R5bGUoeyBmaWxsOiAnIzAwMDAwMDM3JyB9KSlcclxuICAgICAgICAgICAgLm9uKCdwb2ludGVyb3V0JywgKCkgPT4gcGxheUJ0bi5zZXRTdHlsZSh7IGZpbGw6ICcjMDAwMDAwJyB9KSlcclxuICAgICAgICAgICAgLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMudW5wYXVzZShkYXRhLm9yaWdpbmFsU2NlbmUpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy9ib3RvbiBkZSBzb25pZG9cclxuICAgICAgICBjb25zdCB2b2x1bWVUZXh0ID0gdGhpcy5zb3VuZC5tdXRlID8gJ0FjdGl2YXIgU29uaWRvJyA6ICdEZXNhY3RpdmFyIFNvbmlkbyc7XHJcbiAgICAgICAgY29uc3Qgdm9sdW1lQnRuID0gdGhpcy5hZGQudGV4dCg0MDAsIDQwMCwgdm9sdW1lVGV4dCwge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzI0cHgnLFxyXG4gICAgICAgICAgICBmb250RmFtaWx5OiAnTGluTGliZXJ0aW5lJyxcclxuICAgICAgICAgICAgY29sb3I6ICcjM2UyNjA2ZmYnLFxyXG4gICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjZmZmZmZmJyxcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcm92ZXInLCAoKSA9PiB2b2x1bWVCdG4uc2V0U3R5bGUoeyBmaWxsOiAnIzAwMDAwMDM3JyB9KSlcclxuICAgICAgICAgICAgLm9uKCdwb2ludGVyb3V0JywgKCkgPT4gdm9sdW1lQnRuLnNldFN0eWxlKHsgZmlsbDogJyMwMDAwMDAnIH0pKVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zb3VuZC5tdXRlID0gIXRoaXMuc291bmQubXV0ZTtcclxuICAgICAgICAgICAgICAgIHZvbHVtZUJ0bi5zZXRUZXh0KHRoaXMuc291bmQubXV0ZSA/ICdBY3RpdmFyIFNvbmlkbycgOiAnRGVzYWN0aXZhciBTb25pZG8nKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGNvbnN0IGV4aXRCdG4gPSB0aGlzLmFkZC50ZXh0KDQwMCwgNTUwLCAnVm9sdmVyIGFsIE1lbnUnLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMjRweCcsXHJcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdMaW5MaWJlcnRpbmUnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyMzZTI2MDZmZicsXHJcbiAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogJyNmZmZmZmYnLFxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSlcclxuICAgICAgICAgICAgLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IGV4aXRCdG4uc2V0U3R5bGUoeyBmaWxsOiAnIzAwMDAwMDM3JyB9KSlcclxuICAgICAgICAgICAgLm9uKCdwb2ludGVyb3V0JywgKCkgPT4gZXhpdEJ0bi5zZXRTdHlsZSh7IGZpbGw6ICcjMDAwMDAwJyB9KSlcclxuICAgICAgICAgICAgLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZXhpdFRvTWVudShkYXRhLm9yaWdpbmFsU2NlbmUpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICB1bnBhdXNlKG9yaWdpbmFsU2NlbmUpIHtcclxuICAgICAgICB0aGlzLnNjZW5lLnN0b3AoKTtcclxuICAgICAgICB0aGlzLnNjZW5lLnJlc3VtZShvcmlnaW5hbFNjZW5lKTtcclxuICAgIH1cclxuXHJcbiAgICBleGl0VG9NZW51KG9yaWdpbmFsU2NlbmUpIHtcclxuICAgICAgICB0aGlzLnNjZW5lLnN0b3Aob3JpZ2luYWxTY2VuZSk7XHJcbiAgICAgICAgdGhpcy5zb3VuZC5zdG9wQWxsKCk7XHJcbiAgICAgICAgdGhpcy5zY2VuZS5zdGFydCgnTWVudVNjZW5lJyk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgUGhhc2VyIGZyb20gXCJwaGFzZXJcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBDcmVkaXRzU2NlbmUgZXh0ZW5kcyBQaGFzZXIuU2NlbmUge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoJ0NyZWRpdHNTY2VuZScpXHJcbiAgICB9XHJcblxyXG4gICAgcHJlbG9hZCgpIHtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3ZvbHZlck1lbnUnLCAnYXNzZXRzL21lbnVzL0JvdG9uVm9sdmVyTWVudS5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2NyZWRpdHNJbWFnZScsICdhc3NldHMvbWVudXMvTWVudUNyZWRpdG9zLnBuZycpO1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZSgpIHtcclxuXHJcbiAgICAgICAgdGhpcy5hZGQuaW1hZ2UoNDAwLCAzMDAsICdjcmVkaXRzSW1hZ2UnKS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgY29uc3QgcmV0dXJuQnRuID0gdGhpcy5hZGQuaW1hZ2UoNDAwLCA1MDAsICd2b2x2ZXJNZW51Jykuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5zdGFydCgnTWVudVNjZW5lJyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuXHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBBbmltYXRvciB9IGZyb20gXCIuLi9jb21wb25lbnRzL0FuaW1hdG9yXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgUHVwcGV0IHtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihzY2VuZSwgaWQsIHhQb3MsIHlQb3MsIHNwcml0ZVNoZWV0ID0gbnVsbCwgaXNQbGF5ZXIpIHtcclxuICAgICAgICB0aGlzLmlkID0gaWQ7XHJcbiAgICAgICAgdGhpcy5zY2VuZSA9IHNjZW5lO1xyXG4gICAgICAgIHRoaXMueFBvcyA9IHhQb3M7XHJcbiAgICAgICAgdGhpcy55UG9zID0geVBvcztcclxuICAgICAgICB0aGlzLmN1cnJlbnRBbmltID0gbnVsbDtcclxuICAgICAgICB0aGlzLmlzUGxheWVyID0gaXNQbGF5ZXI7XHJcbiAgICAgICAgdGhpcy5hbmltYXRvciA9IG5ldyBBbmltYXRvcihzY2VuZSwgc3ByaXRlU2hlZXQpO1xyXG4gICAgfVxyXG5cclxuICAgIHByZWxvYWQod2lkdGgsIGhlaWdodCkge1xyXG4gICAgICAgIHRoaXMuYW5pbWF0b3IucHJlbG9hZCh3aWR0aCwgaGVpZ2h0KTtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGUoKSB7XHJcbiAgICAgICAgLy8gQ3JlYXIgc3ByaXRlIHNpbiBmw61zaWNhc1xyXG4gICAgICAgIHRoaXMuc3ByaXRlID0gdGhpcy5hbmltYXRvci5jcmVhdGVTcHJpdGUodGhpcy54UG9zLCB0aGlzLnlQb3MpO1xyXG5cclxuICAgICAgICAvLyBDcmVhciBhbmltYWNpb25lcyBpZ3VhbCBxdWUgUGxheWVyXHJcbiAgICAgICAgaWYgKHRoaXMuaXNQbGF5ZXIpIHtcclxuICAgICAgICAgICAgdGhpcy5hbmltYXRvci5jcmVhdGVBbmltYXRpb24oYGlkbGUtJHt0aGlzLmlkfWAsIDAsIDMsIDQpO1xyXG4gICAgICAgICAgICB0aGlzLmFuaW1hdG9yLmNyZWF0ZUFuaW1hdGlvbihgd2Fsay0ke3RoaXMuaWR9YCwgNCwgNywgNSk7XHJcbiAgICAgICAgICAgIHRoaXMuYW5pbWF0b3IuY3JlYXRlQW5pbWF0aW9uKGBqdW1wLSR7dGhpcy5pZH1gLCA4LCA4LCA0LCAwKTtcclxuICAgICAgICAgICAgdGhpcy5hbmltYXRvci5jcmVhdGVBbmltYXRpb24oYGFpci0ke3RoaXMuaWR9YCwgOSwgMTAsIDEsIDApO1xyXG4gICAgICAgICAgICB0aGlzLmFuaW1hdG9yLmNyZWF0ZUFuaW1hdGlvbihgZmFsbC0ke3RoaXMuaWR9YCwgMTAsIDEwLCAxLCAwKTtcclxuICAgICAgICAgICAgdGhpcy5hbmltYXRvci5jcmVhdGVBbmltYXRpb24oYGF0dGFjay0ke3RoaXMuaWR9YCwgMTIsIDEzLCAyLCAwKTtcclxuICAgICAgICAgICAgdGhpcy5zcHJpdGUuc2V0U2NhbGUoMC4yMyk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5hbmltYXRvci5jcmVhdGVBbmltYXRpb24oYGlkbGUtJHt0aGlzLmlkfWAsIDAsIDIsIDUpO1xyXG4gICAgICAgICAgICB0aGlzLmFuaW1hdG9yLmNyZWF0ZUFuaW1hdGlvbihgaWRsZS13aGl0ZS0ke3RoaXMuaWR9YCwgMywgNSwgNSk7XHJcbiAgICAgICAgICAgIHRoaXMuYW5pbWF0b3IuY3JlYXRlQW5pbWF0aW9uKGBibGFjay10by13aGl0ZS0ke3RoaXMuaWR9YCwgNiwgOCwgOCwgMCk7XHJcbiAgICAgICAgICAgIHRoaXMuYW5pbWF0b3IuY3JlYXRlQW5pbWF0aW9uKGB3aGl0ZS10by1ibGFjay0ke3RoaXMuaWR9YCwgNiwgOCwgOCwgMCk7XHJcbiAgICAgICAgICAgIHRoaXMuYW5pbWF0b3IuY3JlYXRlQW5pbWF0aW9uKGBkaWUtJHt0aGlzLmlkfWAsIDksIDExLCA4LCAwKTtcclxuICAgICAgICAgICAgdGhpcy5zcHJpdGUuc2V0U2NhbGUoMC4zNSk7XHJcbiAgICAgICAgfVxyXG5cclxuXHJcblxyXG4gICAgICAgIHRoaXMuc3ByaXRlLnNldERlcHRoKDIwMCk7XHJcblxyXG4gICAgICAgIC8vIEFuaW1hY2nDs24gcG9yIGRlZmVjdG9cclxuICAgICAgICB0aGlzLnNwcml0ZS5wbGF5KGBpZGxlLSR7dGhpcy5pZH1gKTtcclxuICAgIH1cclxuXHJcbiAgICBwbGF5QW5pbShrZXkpIHtcclxuICAgICAgICBpZiAodGhpcy5jdXJyZW50QW5pbSAhPT0ga2V5KSB7XHJcbiAgICAgICAgICAgIHRoaXMuc3ByaXRlLnBsYXkoa2V5LCB0cnVlKTtcclxuICAgICAgICAgICAgdGhpcy5jdXJyZW50QW5pbSA9IGtleTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gU2kgcXVpZXJlcyBxdWUgaGFnYSB1biBidWNsZSBkZSBhbmltYWNpb25lcyBhdXRvbcOhdGljYW1lbnRlOlxyXG4gICAgbG9vcEFuaW1hdGlvbkxpc3QoYW5pbXMsIGRlbGF5ID0gMTAwMCkge1xyXG4gICAgICAgIGxldCBpbmRleCA9IDA7XHJcbiAgICAgICAgdGhpcy5zY2VuZS50aW1lLmFkZEV2ZW50KHtcclxuICAgICAgICAgICAgZGVsYXksXHJcbiAgICAgICAgICAgIGxvb3A6IHRydWUsXHJcbiAgICAgICAgICAgIGNhbGxiYWNrOiAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBsYXlBbmltKGFuaW1zW2luZGV4XSk7XHJcbiAgICAgICAgICAgICAgICBpbmRleCA9IChpbmRleCArIDEpICUgYW5pbXMubGVuZ3RoO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgUGhhc2VyIGZyb20gXCJwaGFzZXJcIjtcclxuaW1wb3J0IHsgUHVwcGV0IH0gZnJvbSBcIi4uL2VudGl0aWVzL1B1cHBldC5qc1wiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEludHJvU2NlbmUgZXh0ZW5kcyBQaGFzZXIuU2NlbmUge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoJ0ludHJvU2NlbmUnKVxyXG4gICAgfVxyXG5cclxuICAgIGluaXQoZGF0YSkge1xyXG4gICAgICAgIHRoaXMuc2NlbmVUb1BsYXkgPSBkYXRhLnNjZW5lVG9QbGF5O1xyXG4gICAgICAgIHRoaXMuYXJ0aHVyMSA9IG5ldyBQdXBwZXQodGhpcywgXCJjYTFcIiwgMTMwLCAxMjAsIFwic3ByaXRlc2hlZXQtYXJ0aHVyLXJlZXNjYWxhZG8tbWl0YWRcIiwgdHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5hcnRodXIyID0gbmV3IFB1cHBldCh0aGlzLCBcImNhMlwiLCAzNDAsIDEyMCwgXCJzcHJpdGVzaGVldC1hcnRodXItcmVlc2NhbGFkby1taXRhZFwiLCB0cnVlKTtcclxuICAgICAgICB0aGlzLmFydGh1cjMgPSBuZXcgUHVwcGV0KHRoaXMsIFwiY2EzXCIsIDUwMCwgMTIwLCBcInNwcml0ZXNoZWV0LWFydGh1ci1yZWVzY2FsYWRvLW1pdGFkXCIsIHRydWUpO1xyXG4gICAgICAgIHRoaXMuYXJ0aHVyNCA9IG5ldyBQdXBwZXQodGhpcywgXCJjYTRcIiwgNjUwLCAxMjAsIFwic3ByaXRlc2hlZXQtYXJ0aHVyLXJlZXNjYWxhZG8tbWl0YWRcIiwgdHJ1ZSk7XHJcblxyXG4gICAgICAgIHRoaXMubHVjeTEgPSBuZXcgUHVwcGV0KHRoaXMsIFwiY2wxXCIsIDEzMCwgMzcwLCBcInNwcml0ZXNoZWV0LWx1Y3ktcmVlc2NhbGFkby1taXRhZFwiLCB0cnVlKTtcclxuICAgICAgICB0aGlzLmx1Y3kyID0gbmV3IFB1cHBldCh0aGlzLCBcImNsMlwiLCAzNDAsIDM3MCwgXCJzcHJpdGVzaGVldC1sdWN5LXJlZXNjYWxhZG8tbWl0YWRcIiwgdHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5sdWN5MyA9IG5ldyBQdXBwZXQodGhpcywgXCJjbDNcIiwgNTAwLCAzNzAsIFwic3ByaXRlc2hlZXQtbHVjeS1yZWVzY2FsYWRvLW1pdGFkXCIsIHRydWUpO1xyXG4gICAgICAgIHRoaXMubHVjeTQgPSBuZXcgUHVwcGV0KHRoaXMsIFwiY2w0XCIsIDY1MCwgMzcwLCBcInNwcml0ZXNoZWV0LWx1Y3ktcmVlc2NhbGFkby1taXRhZFwiLCB0cnVlKTtcclxuXHJcbiAgICAgICAgdGhpcy5wdXBwZXRzMSA9IFt0aGlzLmFydGh1cjEsIHRoaXMuYXJ0aHVyMiwgdGhpcy5hcnRodXIzLCB0aGlzLmFydGh1cjQsIHRoaXMubHVjeTEsIHRoaXMubHVjeTIsIHRoaXMubHVjeTMsIHRoaXMubHVjeTRdO1xyXG5cclxuICAgICAgICB0aGlzLmVuZW15MSA9IG5ldyBQdXBwZXQodGhpcywgXCJlbmVteTFcIiwgMzAwLCA5MCwgXCJzcHJpdGVzaGVldC1lbmVtaWdvLXJlZXNjYWxhZG8tbWl0YWRcIiwgZmFsc2UpO1xyXG4gICAgICAgIHRoaXMuZW5lbXkyID0gbmV3IFB1cHBldCh0aGlzLCBcImVuZW15MlwiLCA2MDAsIDkwLCBcInNwcml0ZXNoZWV0LWVuZW1pZ28tcmVlc2NhbGFkby1taXRhZFwiLCBmYWxzZSk7XHJcbiAgICAgICAgdGhpcy5lbmVteTMgPSBuZXcgUHVwcGV0KHRoaXMsIFwiZW5lbXkzXCIsIDMwMCwgMzQwLCBcInNwcml0ZXNoZWV0LWVuZW1pZ28tcmVlc2NhbGFkby1taXRhZFwiLCBmYWxzZSk7XHJcbiAgICAgICAgdGhpcy5lbmVteTQgPSBuZXcgUHVwcGV0KHRoaXMsIFwiZW5lbXk0XCIsIDYwMCwgMzQwLCBcInNwcml0ZXNoZWV0LWVuZW1pZ28tcmVlc2NhbGFkby1taXRhZFwiLCBmYWxzZSk7XHJcblxyXG4gICAgICAgIHRoaXMucHVwcGV0czIgPSBbdGhpcy5lbmVteTEsIHRoaXMuZW5lbXkyLCB0aGlzLmVuZW15MywgdGhpcy5lbmVteTRdO1xyXG4gICAgfVxyXG5cclxuICAgIHByZWxvYWQoKSB7XHJcblxyXG5cclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2ludHJvJywgJ2Fzc2V0cy9wMWVudHJhbmRvLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnaW50cm8yJywgJ2Fzc2V0cy9wMXlwMi5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2NvbnRyb2xzJywgJ2Fzc2V0cy9pbHVzdHJhY2lvbk1lY2FuaWNhcy5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2NvbWJhdCcsICdhc3NldHMvaWx1c3RyYWNpb25Db21iYXRlLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnbWFuc2lvbicsICdhc3NldHMvbWFuc2lvbi5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2x1Y3lQZWVraW5nJywgJ2Fzc2V0cy9sdWN5UGVla2luZy5wbmcnKTtcclxuXHJcbiAgICAgICAgdGhpcy5wdXBwZXRzMS5mb3JFYWNoKHB1cHBldCA9PiBwdXBwZXQucHJlbG9hZCgzMDAsIDQwMCkpO1xyXG4gICAgICAgIHRoaXMucHVwcGV0czIuZm9yRWFjaChwdXBwZXQgPT4gcHVwcGV0LnByZWxvYWQoMzAwLCA0MDApKTtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGUoKSB7XHJcbiAgICAgICAgdGhpcy5pbnRyb1RleHQgPSBbXHJcbiAgICAgICAgICAgIFwiMTk1MywgQmlybWluZ2hhbSwgSW5nbGF0ZXJyYSwgXFxuaGFjZSAyNyBhw7FvcyBsYSBmYW1pbGlhIEZlbHRvbiBmdWUgbWlzdGVyaW9zYW1lbnRlIFxcbmFzZXNpbmFkYSxcXG4gbmFkaWUgc2UgaGEgYXRyZXZpZG8gYSBlbnRyYXIgZW4gc3UgbWFuc2nDs24uXCIsXHJcbiAgICAgICAgICAgIFwiSGFzdGEgaG95LiBcXG4gICAgICAgICAgIFxcbkFydGh1ciwgZGlzcHVlc3RvIGEgcmVzb2x2ZXIgZWwgY2Fzb1xcbiBzZSBhZGVudHJhIGVuIGxhIHNvbWJyw61hIG1hbnNpw7NuLlwiLFxyXG4gICAgICAgICAgICBcIlBlcm8gbm8gZXN0w6Egc29sby5cXG5BbGdvIGxlIG9ic2VydmEgZGVzZGUgbGFzIHNvbWJyYXMuLi5cXG5PIG3DoXMgYmllbixcXG5BbGd1aWVuLlwiLFxyXG4gICAgICAgICAgICBcIkxhIGZhbnRhc21hIHJlc3VsdMOzIHNlciBleHRyYcOxYW1lbnRlIGFtaWdhYmxlLFxcbk9mcmVjacOpbmRvc2UgY29tbyBndcOtYSB5IHByb3RlY3RvcmFcXG4gZW4gc3UgaW52ZXN0aWdhY8Otb24gcG9yIGxhIG1hbnNpw7NuLlwiLFxyXG4gICAgICAgICAgICBcIiBcIixcclxuICAgICAgICAgICAgXCIgXCJcclxuICAgICAgICBdO1xyXG4gICAgICAgIHRoaXMudGV4dEluZGV4ID0gMDtcclxuICAgICAgICB0aGlzLmluUHJvZ3Jlc3MgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmludHJvSW1hZ2UwID0gdGhpcy5hZGQuaW1hZ2UoNDAwLCAyMDAsICdtYW5zaW9uJyk7XHJcblxyXG4gICAgICAgIHRoaXMuaW50cm9JbWFnZTEgPSB0aGlzLmFkZC5pbWFnZSg0MDAsIDIwMCwgJ2ludHJvJyk7XHJcbiAgICAgICAgdGhpcy5pbnRyb0ltYWdlTCA9IHRoaXMuYWRkLmltYWdlKDQwMCwgMjAwLCAnbHVjeVBlZWtpbmcnKTtcclxuICAgICAgICB0aGlzLmludHJvSW1hZ2UyID0gdGhpcy5hZGQuaW1hZ2UoNDAwLCAyMDAsICdpbnRybzInKTtcclxuICAgICAgICB0aGlzLmNvbnRyb2xzSW1hZ2UgPSB0aGlzLmFkZC5pbWFnZSg0MDAsIDI3MCwgJ2NvbnRyb2xzJyk7XHJcbiAgICAgICAgdGhpcy5jb21iYXRJbWFnZSA9IHRoaXMuYWRkLmltYWdlKDQwMCwgMjcwLCAnY29tYmF0Jyk7XHJcbiAgICAgICAgdGhpcy5jb250cm9sc0ltYWdlLnNldFNjYWxlKDAuOSk7XHJcbiAgICAgICAgdGhpcy5jb21iYXRJbWFnZS5zZXRTY2FsZSgwLjkpO1xyXG4gICAgICAgIHRoaXMuY3V0c2NlbmVJbWFnZXMgPSBbdGhpcy5pbnRyb0ltYWdlMSwgdGhpcy5pbnRyb0ltYWdlTCwgdGhpcy5pbnRyb0ltYWdlMiwgdGhpcy5jb250cm9sc0ltYWdlLCB0aGlzLmNvbWJhdEltYWdlXTtcclxuICAgICAgICB0aGlzLmN1dHNjZW5lSW1hZ2VzLmZvckVhY2goaW1hZ2UgPT4gaW1hZ2Uuc2V0VmlzaWJsZShmYWxzZSkpO1xyXG5cclxuXHJcblxyXG4gICAgICAgIHRoaXMuYXJ0aHVyMS5jcmVhdGUoKTtcclxuICAgICAgICB0aGlzLmFydGh1cjEucGxheUFuaW0oYHdhbGstY2ExYCk7XHJcbiAgICAgICAgdGhpcy5hcnRodXIxLnNwcml0ZS5mbGlwWCA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5hcnRodXIyLmNyZWF0ZSgpO1xyXG4gICAgICAgIHRoaXMuYXJ0aHVyMi5wbGF5QW5pbShgd2Fsay1jYTJgKTtcclxuICAgICAgICB0aGlzLmFydGh1cjIuc3ByaXRlLmZsaXBYID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5hcnRodXIzLmNyZWF0ZSgpO1xyXG4gICAgICAgIHRoaXMuYXJ0aHVyMy5sb29wQW5pbWF0aW9uTGlzdChbYGp1bXAtY2EzYCwgYGFpci1jYTNgLCAnZmFsbC1jYTMnXSwgMzAwKTtcclxuICAgICAgICB0aGlzLmFydGh1cjQuY3JlYXRlKCk7XHJcbiAgICAgICAgdGhpcy5hcnRodXI0Lmxvb3BBbmltYXRpb25MaXN0KFtgaWRsZS1jYTRgLCBgYXR0YWNrLWNhNGBdLCA1MDApO1xyXG4gICAgICAgIHRoaXMubHVjeTEuY3JlYXRlKCk7XHJcbiAgICAgICAgdGhpcy5sdWN5MS5wbGF5QW5pbShgd2Fsay1jbDFgKTtcclxuICAgICAgICB0aGlzLmx1Y3kxLnNwcml0ZS5mbGlwWCA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5sdWN5Mi5jcmVhdGUoKTtcclxuICAgICAgICB0aGlzLmx1Y3kyLnBsYXlBbmltKGB3YWxrLWNsMmApO1xyXG4gICAgICAgIHRoaXMubHVjeTIuc3ByaXRlLmZsaXBYID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5sdWN5My5jcmVhdGUoKTtcclxuICAgICAgICB0aGlzLmx1Y3kzLmxvb3BBbmltYXRpb25MaXN0KFtganVtcC1jbDNgLCBgYWlyLWNsM2AsICdmYWxsLWNsMyddLCAzMDApO1xyXG4gICAgICAgIHRoaXMubHVjeTQuY3JlYXRlKCk7XHJcbiAgICAgICAgdGhpcy5sdWN5NC5sb29wQW5pbWF0aW9uTGlzdChbYGlkbGUtY2w0YCwgYGF0dGFjay1jbDRgXSwgNTAwKTtcclxuXHJcbiAgICAgICAgdGhpcy5wdXBwZXRzMS5mb3JFYWNoKHB1cHBldCA9PiBwdXBwZXQuc3ByaXRlLnNldFZpc2libGUoZmFsc2UpKTtcclxuXHJcbiAgICAgICAgdGhpcy5lbmVteTEuY3JlYXRlKCk7XHJcbiAgICAgICAgdGhpcy5lbmVteTEucGxheUFuaW0oYGlkbGUtZW5lbXkxYCk7XHJcbiAgICAgICAgdGhpcy5lbmVteTIuY3JlYXRlKCk7XHJcbiAgICAgICAgdGhpcy5lbmVteTIucGxheUFuaW0oYGlkbGUtd2hpdGUtZW5lbXkyYCk7XHJcbiAgICAgICAgdGhpcy5lbmVteTMuY3JlYXRlKCk7XHJcbiAgICAgICAgdGhpcy5lbmVteTMucGxheUFuaW0oYGlkbGUtd2hpdGUtZW5lbXkzYCk7XHJcbiAgICAgICAgdGhpcy5lbmVteTQuY3JlYXRlKCk7XHJcbiAgICAgICAgdGhpcy5lbmVteTQubG9vcEFuaW1hdGlvbkxpc3QoW2B3aGl0ZS10by1ibGFjay1lbmVteTRgLCBgZGllLWVuZW15NGBdLCA1MDApO1xyXG5cclxuICAgICAgICB0aGlzLnB1cHBldHMyLmZvckVhY2gocHVwcGV0ID0+IHB1cHBldC5zcHJpdGUuc2V0VmlzaWJsZShmYWxzZSkpO1xyXG5cclxuXHJcbiAgICAgICAgY29uc3QgbmV4dEJ0biA9IHRoaXMuYWRkLnRleHQoNzAwLCA1NTAsICdTaWd1aWVudGUnLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMjBweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmZmZmZmZmJyxcclxuICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAnIzAwMDAwMDAwJyxcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcm92ZXInLCAoKSA9PiBuZXh0QnRuLnNldFN0eWxlKHsgYmFja2dyb3VuZENvbG9yOiAnIzczNzM3M2ZmJyB9KSlcclxuICAgICAgICAgICAgLm9uKCdwb2ludGVyb3V0JywgKCkgPT4gbmV4dEJ0bi5zZXRTdHlsZSh7IGJhY2tncm91bmRDb2xvcjogJyMwMDAwMDBmZicgfSkpXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuaW5Qcm9ncmVzcykgeyB0aGlzLm5leHRUZXh0KCk7IH1cclxuICAgICAgICAgICAgICAgIHN3aXRjaCAodGhpcy50ZXh0SW5kZXgpIHtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaW50cm9JbWFnZTAuc2V0VmlzaWJsZShmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaW50cm9JbWFnZTEuc2V0VmlzaWJsZSh0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pbnRyb0ltYWdlMS5zZXRWaXNpYmxlKGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pbnRyb0ltYWdlTC5zZXRWaXNpYmxlKHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAzOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmludHJvSW1hZ2VMLnNldFZpc2libGUoZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmludHJvSW1hZ2UyLnNldFZpc2libGUodHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaW50cm9JbWFnZTIuc2V0VmlzaWJsZShmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29udHJvbHNJbWFnZS5zZXRWaXNpYmxlKHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnB1cHBldHMxLmZvckVhY2gocHVwcGV0ID0+IHB1cHBldC5zcHJpdGUuc2V0VmlzaWJsZSh0cnVlKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDU6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29udHJvbHNJbWFnZS5zZXRWaXNpYmxlKGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb21iYXRJbWFnZS5zZXRWaXNpYmxlKHRydWUpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wdXBwZXRzMS5mb3JFYWNoKHB1cHBldCA9PiBwdXBwZXQuc3ByaXRlLnNldFZpc2libGUoZmFsc2UpKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYXJ0aHVyNC5zcHJpdGUuc2V0VmlzaWJsZSh0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hcnRodXI0LnNwcml0ZS54ID0gMTUwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFydGh1cjQuc3ByaXRlLnkgPSAxMDA7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmx1Y3k0LnNwcml0ZS5zZXRWaXNpYmxlKHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmx1Y3k0LnNwcml0ZS54ID0gMTUwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmx1Y3k0LnNwcml0ZS55ID0gMzMwO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wdXBwZXRzMi5mb3JFYWNoKHB1cHBldCA9PiBwdXBwZXQuc3ByaXRlLnNldFZpc2libGUodHJ1ZSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXRzY2VuZUltYWdlcy5mb3JFYWNoKGltYWdlID0+IGltYWdlLnNldFZpc2libGUoZmFsc2UpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9IC8vU2UgcG9kcmlhIGhhY2VyIGNvbiB1biBhcnJheVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLnRleHQgPSB0aGlzLmFkZC50ZXh0KDQwMCwgNDYwLCAnJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzI0cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmZmZmZicsXHJcbiAgICAgICAgICAgIGFsaWduOiAnY2VudGVyJyxcclxuXHJcblxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICBjb25zdCBza2lwQnRuID0gdGhpcy5hZGQudGV4dCgxMDAsIDU1MCwgJ1NhbHRhcicsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICcyMHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmZmYnLFxyXG4gICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjMDAwMDAwMDAnLFxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSlcclxuICAgICAgICAgICAgLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IHNraXBCdG4uc2V0U3R5bGUoeyBiYWNrZ3JvdW5kQ29sb3I6ICcjNzM3MzczZmYnIH0pKVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiBza2lwQnRuLnNldFN0eWxlKHsgYmFja2dyb3VuZENvbG9yOiAnIzAwMDAwMGZmJyB9KSlcclxuICAgICAgICAgICAgLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQodGhpcy5zY2VuZVRvUGxheSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLnNob3dUZXh0KCk7XHJcbiAgICB9XHJcblxyXG4gICAgc2hvd1RleHQoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMudGV4dEluZGV4IDwgdGhpcy5pbnRyb1RleHQubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIHRoaXMudGV4dEluKHRoaXMuaW50cm9UZXh0W3RoaXMudGV4dEluZGV4XSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5zdGFydCh0aGlzLnNjZW5lVG9QbGF5KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdGV4dEluKHRleHQpIHtcclxuICAgICAgICB0aGlzLmluUHJvZ3Jlc3MgPSB0cnVlO1xyXG4gICAgICAgIGxldCBpbmRleCA9IDA7XHJcbiAgICAgICAgY29uc3Qgc3BlZWQgPSA3NTsgLy8gVmVsb2NpZGFkIGRlIGVzY3JpdHVyYSBlbiBtc1xyXG5cclxuICAgICAgICBjb25zdCB3cml0ZVRleHQgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChpbmRleCA8IHRleHQubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnRleHQuc2V0VGV4dCh0ZXh0LnN1YnN0cmluZygwLCBpbmRleCArIDEpKTtcclxuICAgICAgICAgICAgICAgIGluZGV4Kys7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnRpbWUuZGVsYXllZENhbGwoc3BlZWQsIHdyaXRlVGV4dCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmluUHJvZ3Jlc3MgPSBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHdyaXRlVGV4dCgpO1xyXG4gICAgfVxyXG4gICAgbmV4dFRleHQoKSB7XHJcbiAgICAgICAgdGhpcy50ZXh0SW5kZXgrKztcclxuICAgICAgICB0aGlzLnNob3dUZXh0KCk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgUGhhc2VyIGZyb20gXCJwaGFzZXJcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBFbmRTY2VuZSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcignRW5kU2NlbmUnKVxyXG4gICAgfVxyXG5cclxuICAgIHByZWxvYWQoKSB7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdpbWcxJywgJ2Fzc2V0cy9wMXAyZm90by5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2ltZzInLCAnYXNzZXRzL3AxcDJQYXJ0aWRvLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnaW1nMycsICdhc3NldHMvcDFwMnlmYW50YXNtYS5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2ltZzQnLCAnYXNzZXRzL3AxcDJlU0NBUEFORE8ucG5nJyk7XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlKCkge1xyXG4gICAgICAgIHRoaXMuaW50cm9UZXh0ID0gW1xyXG4gICAgICAgICAgICBcIkFydGh1ciB5IEx1Y3kgaGFsbGFuIHVuYSB2aWVqYSBmb3RvIGVudHJlIGxvcyBcXG4gcG9sdm9yaWVudG9zIGxpYnJvcyBkZSBsYSBlc3RhbnRlcsOtYS5cIixcclxuICAgICAgICAgICAgXCJEZSBwcm9udG8sIHRvZG8gZW5jYWphIGVuIGxhIG1lbnRlIGRlIEFydGh1ci5cXG5TdSBvYnNlc2nDs24gc2luIHNlbnRpZG8gY29uIGVsIGNhc29cXG4geSBsYSBjb25leGnDs24gY29uIEx1Y3kuLi5cXG5lbGxhIGVzLi4uXCIsXHJcbiAgICAgICAgICAgIFwiU2luIGVtYmFyZ28sIG5vIGhheSB0aWVtcG8gcGFyYSByZWZsZXhpb25lcy5cIixcclxuICAgICAgICAgICAgXCJEZWJlbiBodWlyLlwiLFxyXG4gICAgICAgIF07XHJcbiAgICAgICAgdGhpcy50ZXh0SW5kZXggPSAwO1xyXG4gICAgICAgIHRoaXMuaW5Qcm9ncmVzcyA9IGZhbHNlO1xyXG5cclxuICAgICAgICB0aGlzLmVuZEltYWdlMSA9IHRoaXMuYWRkLmltYWdlKDQwMCwgMjAwLCAnaW1nMScpO1xyXG4gICAgICAgIHRoaXMuZW5kSW1hZ2UyID0gdGhpcy5hZGQuaW1hZ2UoNDAwLCAyMDAsICdpbWcyJyk7XHJcbiAgICAgICAgdGhpcy5lbmRJbWFnZTMgPSB0aGlzLmFkZC5pbWFnZSg0MDAsIDIwMCwgJ2ltZzMnKTtcclxuICAgICAgICB0aGlzLmVuZEltYWdlNCA9IHRoaXMuYWRkLmltYWdlKDQwMCwgMjAwLCAnaW1nNCcpO1xyXG4gICAgICAgIHRoaXMuZW5kSW1hZ2VzID0gW3RoaXMuZW5kSW1hZ2UyLCB0aGlzLmVuZEltYWdlMywgdGhpcy5lbmRJbWFnZTRdO1xyXG4gICAgICAgIHRoaXMuZW5kSW1hZ2VzLmZvckVhY2goaW1hZ2UgPT4gaW1hZ2Uuc2V0VmlzaWJsZShmYWxzZSkpO1xyXG5cclxuICAgICAgICBjb25zdCBuZXh0QnRuID0gdGhpcy5hZGQudGV4dCg3MDAsIDU1MCwgJ1NpZ3VpZW50ZScsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICcyMHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmZmYnLFxyXG4gICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjMDAwMDAwZmYnLFxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSlcclxuICAgICAgICAgICAgLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IG5leHRCdG4uc2V0U3R5bGUoeyBiYWNrZ3JvdW5kQ29sb3I6ICcjNzM3MzczZmYnIH0pKVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiBuZXh0QnRuLnNldFN0eWxlKHsgYmFja2dyb3VuZENvbG9yOiAnIzAwMDAwMGZmJyB9KSlcclxuICAgICAgICAgICAgLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5pblByb2dyZXNzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5uZXh0VGV4dCgpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmdhbWUuZXZlbnRzLmVtaXQoJ1JlcXVlc3RTY29yZUJvYXJkJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKHRoaXMudGV4dEluZGV4KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVuZEltYWdlMS5zZXRWaXNpYmxlKGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbmRJbWFnZTIuc2V0VmlzaWJsZSh0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbmRJbWFnZTIuc2V0VmlzaWJsZShmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZW5kSW1hZ2UzLnNldFZpc2libGUodHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDM6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZW5kSW1hZ2UzLnNldFZpc2libGUoZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVuZEltYWdlNC5zZXRWaXNpYmxlKHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA0OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVuZEltYWdlNC5zZXRWaXNpYmxlKGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMudGV4dG8gPSB0aGlzLmFkZC50ZXh0KDQwMCwgNDYwLCAnJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzI0cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmZmZmZicsXHJcbiAgICAgICAgICAgIGFsaWduOiAnY2VudGVyJyxcclxuXHJcblxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICBjb25zdCBza2lwQnRuID0gdGhpcy5hZGQudGV4dCgxMDAsIDU1MCwgJ1NhbHRhcicsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICcyMHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmZmYnLFxyXG4gICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjMDAwMDAwMDAnLFxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSlcclxuICAgICAgICAgICAgLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IHNraXBCdG4uc2V0U3R5bGUoeyBiYWNrZ3JvdW5kQ29sb3I6ICcjNzM3MzczZmYnIH0pKVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiBza2lwQnRuLnNldFN0eWxlKHsgYmFja2dyb3VuZENvbG9yOiAnIzAwMDAwMGZmJyB9KSlcclxuICAgICAgICAgICAgLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ1Njb3JlQm9hcmRTY2VuZScpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5zaG93VGV4dCgpO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBzaG93VGV4dCgpIHtcclxuICAgICAgICBpZiAodGhpcy50ZXh0SW5kZXggPCB0aGlzLmludHJvVGV4dC5sZW5ndGgpIHtcclxuICAgICAgICAgICAgdGhpcy50ZXh0SW4odGhpcy5pbnRyb1RleHRbdGhpcy50ZXh0SW5kZXhdKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdTY29yZUJvYXJkU2NlbmUnKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdGV4dEluKHRleHQpIHtcclxuICAgICAgICB0aGlzLmluUHJvZ3Jlc3MgPSB0cnVlO1xyXG4gICAgICAgIGxldCBpZHggPSAwO1xyXG4gICAgICAgIGNvbnN0IHNwZWVkID0gNzU7IC8vIHNwZWVkIG9mIHdyaXRpbmcgaW4gbXNcclxuXHJcbiAgICAgICAgY29uc3Qgd3JpdGVMZXR0ZXIgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChpZHggPCB0ZXh0Lmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy50ZXh0by5zZXRUZXh0KHRleHQuc3Vic3RyaW5nKDAsIGlkeCArIDEpKTtcclxuICAgICAgICAgICAgICAgIGlkeCsrO1xyXG4gICAgICAgICAgICAgICAgdGhpcy50aW1lLmRlbGF5ZWRDYWxsKHNwZWVkLCB3cml0ZUxldHRlcik7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmluUHJvZ3Jlc3MgPSBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHdyaXRlTGV0dGVyKCk7XHJcbiAgICB9XHJcbiAgICBuZXh0VGV4dCgpIHtcclxuICAgICAgICB0aGlzLnRleHRJbmRleCsrO1xyXG4gICAgICAgIHRoaXMuc2hvd1RleHQoKTtcclxuICAgIH1cclxufSIsImltcG9ydCBQaGFzZXIgZnJvbSBcInBoYXNlclwiO1xyXG5pbXBvcnQgeyBJbnB1dE1hbmFnZXIgfSBmcm9tIFwiLi4vaGFuZGxlcnMvSW5wdXRNYW5hZ2VyLmpzXCI7XHJcbmltcG9ydCB7IEVuZW15IH0gZnJvbSBcIi4uL2VudGl0aWVzL0VuZW15LmpzXCI7XHJcbmltcG9ydCB7IENvbW1hbmRQcm9jZXNzb3IgfSBmcm9tIFwiLi4vY29tbWFuZC1wYXR0ZXJuL0NvbW1hbmRQcm9jZXNzb3IuanNcIjtcclxuaW1wb3J0IHsgQ2FtZXJhIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvQ2FtZXJhLmpzXCI7XHJcbmltcG9ydCB7IFBsYXRmb3JtIH0gZnJvbSBcIi4uL2VudGl0aWVzL1BsYXRmb3JtLmpzXCI7XHJcbmltcG9ydCB7IEx1Y3kgfSBmcm9tIFwiLi4vZW50aXRpZXMvTHVjeS5qc1wiO1xyXG5pbXBvcnQgeyBBcnRodXIgfSBmcm9tIFwiLi4vZW50aXRpZXMvQXJ0aHVyLmpzXCI7XHJcblxyXG5cclxuZXhwb3J0IGNsYXNzIEdhbWVTY2VuZTIgZXh0ZW5kcyBQaGFzZXIuU2NlbmUge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoJ0dhbWVTY2VuZTInKVxyXG4gICAgfVxyXG5cclxuICAgIHByZWxvYWQoKSB7XHJcbiAgICAgICAgdGhpcy5hcnRodXIucHJlbG9hZCg2MDAsIDgwMCk7XHJcbiAgICAgICAgdGhpcy5sdWN5LnByZWxvYWQoNjAwLCA4MDApO1xyXG4gICAgICAgIHRoaXMubG9hZC5hdWRpbygnYW1iaWVudCcsICdhc3NldHMvc291bmQvYW1iaWVudC10aGVtZS5tcDMnKTtcclxuXHJcblxyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnZm9uZG8nLCAnYXNzZXRzL0ZvbmRvSG9yaXpvbnRhbC5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3AxJywgJ2Fzc2V0cy9wcm9wcy9wbGF0YWZvcm1hMS5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3N1ZWxvJywgJ2Fzc2V0cy9wcm9wcy9zdWVsby5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3AyJywgJ2Fzc2V0cy9wcm9wcy9wbGF0YWZvcm1hMi5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2MxJywgJ2Fzc2V0cy9wcm9wcy9jb2x1bW5hMS5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2xpYicsICdhc3NldHMvcHJvcHMvbGlicmVyaWEucG5nJyk7XHJcblxyXG4gICAgICAgIHRoaXMuZW5lbWllcy5mb3JFYWNoKGVuZW15ID0+IGVuZW15LnByZWxvYWQoKSk7XHJcbiAgICB9XHJcblxyXG4gICAgaW5pdCgpIHtcclxuICAgICAgICB0aGlzLnNvdW5kLnN0b3BBbGwoKTtcclxuICAgICAgICB0aGlzLmNvbW1hbmRQcm9jZXNzb3IgPSBuZXcgQ29tbWFuZFByb2Nlc3NvcigpO1xyXG4gICAgICAgIHRoaXMucGxheWVycyA9IG5ldyBNYXAoKTtcclxuICAgICAgICB0aGlzLmVuZW1pZXMgPSBuZXcgTWFwKCk7XHJcbiAgICAgICAgdGhpcy5wbGF0Zm9ybXMgPSBuZXcgTWFwKCk7XHJcbiAgICAgICAgdGhpcy5pc1BhdXNlZCA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuaW5wdXRNYW5hZ2VyID0gbmV3IElucHV0TWFuYWdlcih0aGlzLCB0aGlzLnNjZW5lLCB0aGlzLmlucHV0LCB0aGlzLmNvbW1hbmRQcm9jZXNzb3IpO1xyXG4gICAgICAgIHRoaXMuYXJ0aHVyID0gbmV3IEFydGh1cih0aGlzLCAncGxheWVyMScsIDYwMCwgMTAwLCA1MDAsICdzcHJpdGVzaGVldC1hcnRodXInKTtcclxuICAgICAgICB0aGlzLmx1Y3kgPSBuZXcgTHVjeSh0aGlzLCAncGxheWVyMicsIDQ1MCwgMzAwLCA1MDAsICdzcHJpdGVzaGVldC1sdWN5Jyk7XHJcblxyXG5cclxuICAgICAgICB0aGlzLmNhbWVyYSA9IG5ldyBDYW1lcmEodGhpcywgdGhpcy5wbGF5ZXJzKTtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGUoKSB7XHJcbiAgICAgICAgLy8gTXVzaWNcclxuICAgICAgICB0aGlzLm11c2ljID0gdGhpcy5zb3VuZC5hZGQoJ2FtYmllbnQnKTtcclxuICAgICAgICB0aGlzLm11c2ljLnBsYXkoKTtcclxuICAgICAgICB0aGlzLm11c2ljLnNldFZvbHVtZSgwLjI1KTtcclxuXHJcbiAgICAgICAgLy8gQmFja2dyb3VuZFxyXG4gICAgICAgIHRoaXMuZm9uZG8gPSB0aGlzLmFkZC50aWxlU3ByaXRlKDAsIDAsIDgwMDAsIDIwMDAsICdmb25kbycpXHJcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMCwgMClcclxuICAgICAgICAgICAgLnNldFNjcm9sbEZhY3RvcigwLjIpXHJcbiAgICAgICAgICAgIC5zZXRTY2FsZSgwLjMpO1xyXG5cclxuICAgICAgICAvL0NyZWF0ZSB0aGUgcGxheWVycyBcclxuICAgICAgICB0aGlzLmFydGh1ci5jcmVhdGUoKTtcclxuICAgICAgICB0aGlzLmx1Y3kuY3JlYXRlKCk7XHJcblxyXG4gICAgICAgIC8vIFNldCB1cCBpbnB1dCBhbmQgcGxheWVyc1xyXG4gICAgICAgIHRoaXMucGxheWVycy5zZXQoJ3BsYXllcjEnLCB0aGlzLmFydGh1cik7XHJcbiAgICAgICAgdGhpcy5wbGF5ZXJzLnNldCgncGxheWVyMicsIHRoaXMubHVjeSk7XHJcblxyXG4gICAgICAgIHRoaXMuaW5wdXRNYW5hZ2VyLnBsYXllcnMgPSB0aGlzLnBsYXllcnM7XHJcblxyXG4gICAgICAgIC8vIFNldCB1cCBlbmVtaWVzXHJcbiAgICAgICAgdGhpcy5lbmVtaWVzLmZvckVhY2goKGVuZW15KSA9PiB7XHJcbiAgICAgICAgICAgIGVuZW15LmNyZWF0ZSgpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLnNldFVwV29ybGRDb2xsaXNpb25zKCk7XHJcbiAgICAgICAgdGhpcy5zZXRVcEVuZW15Q29sbGlzaW9ucygpO1xyXG4gICAgICAgIHRoaXMuc2V0VXBSZXZpdmVDb2xsaXNpb24oKTtcclxuXHJcbiAgICAgICAgdGhpcy5waHlzaWNzLndvcmxkLnNldEJvdW5kcygwLCAwLCA0MTc1LCA2MDApO1xyXG4gICAgICAgIHRoaXMuY2FtZXJhLmNhbWVyYS5zZXRCb3VuZHMoMCwgMCwgNDE3NSwgNjAwKTtcclxuXHJcbiAgICAgICAgdGhpcy5jYW1lcmEuY2FtZXJhLnNldExlcnAoMC4xLCAwLjEpO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBzZXRVcFJldml2ZUNvbGxpc2lvbigpIHtcclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLm92ZXJsYXAodGhpcy5wbGF5ZXJzLmdldCgncGxheWVyMScpLnNwcml0ZSwgdGhpcy5wbGF5ZXJzLmdldCgncGxheWVyMicpLnNwcml0ZSwgKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5wbGF5ZXJzLmdldCgncGxheWVyMScpLmhlYWx0aCA8PSAwICYmIHRoaXMucGxheWVycy5nZXQoJ3BsYXllcjInKS5oZWFsdGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBsYXllcnMuZ2V0KCdwbGF5ZXIxJykucmV2aXZlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5wbGF5ZXJzLmdldCgncGxheWVyMicpLmhlYWx0aCA8PSAwICYmIHRoaXMucGxheWVycy5nZXQoJ3BsYXllcjEnKS5oZWFsdGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBsYXllcnMuZ2V0KCdwbGF5ZXIyJykucmV2aXZlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBzZXRVcFdvcmxkQ29sbGlzaW9ucygpIHtcclxuICAgICAgICAvL1NldCB1cCBwbGF0Zm9ybXMgYW5kIGNvbGxpc2lvbnNcclxuXHJcbiAgICAgICAgdGhpcy5zdWVsbzEgPSBuZXcgUGxhdGZvcm0odGhpcywgJ3MxJywgMjUwMCwgNTkwLCA1MDAwLCA0MCwgJ3N1ZWxvJyk7XHJcbiAgICAgICAgLyp0aGlzLnBsYXQxID0gbmV3IFBsYXRmb3JtKHRoaXMsICdwMScsIDIwMCwgNDUwLCAyMDAsIDMwLCAncDEnKTtcclxuICAgICAgICB0aGlzLnBsYXQyID0gbmV3IFBsYXRmb3JtKHRoaXMsICdwMicsIDQ1MCwgMzAwLCAyMDAsIDMwLCAncDEnKTtcclxuICAgICAgICB0aGlzLnN1ZWxvMiA9IG5ldyBQbGF0Zm9ybSh0aGlzLCAnczInLCAxMjAwLCA1NTAsIDUwMCwgMjAwLCAncDInKTtcclxuICAgICAgICB0aGlzLmNvbDEgPSBuZXcgUGxhdGZvcm0odGhpcywgJ2MxJywgNzAwLCA0NTAsIDcwLCAzMDAsICdjMScpO1xyXG4gICAgICAgIHRoaXMuY29sMiA9IG5ldyBQbGF0Zm9ybSh0aGlzLCAnYzInLCAyMjAwLCA0NTAsIDcwLCA0MDAsICdjMScpO1xyXG4gICAgICAgIHRoaXMucGxhdDMgPSBuZXcgUGxhdGZvcm0odGhpcywgJ3AzJywgMTgwMCwgNDUwLCAxNTAsIDMwLCAncDEnKTtcclxuICAgICAgICB0aGlzLnBsYXQ0ID0gbmV3IFBsYXRmb3JtKHRoaXMsICdwNCcsIDE1MDAsIDMwMCwgMTUwLCAzMCwgJ3AxJyk7XHJcbiAgICAgICAgdGhpcy5wbGF0NSA9IG5ldyBQbGF0Zm9ybSh0aGlzLCAncDUnLCAyMDAwLCAyMDAsIDE1MCwgMzAsICdwMScpO1xyXG4gICAgICAgIHRoaXMuc3VlbG8zID0gbmV3IFBsYXRmb3JtKHRoaXMsICdzMycsIDIyMDAsIDU1MCwgMjMwLCAxMDAsICdwMicpO1xyXG4gICAgICAgIHRoaXMuc3VlbG80ID0gbmV3IFBsYXRmb3JtKHRoaXMsICdzNCcsIDI4MDAsIDUwMCwgNTUwLCAyNTAsICdwMicpO1xyXG4gICAgICAgIHRoaXMucGxhdDYgPSBuZXcgUGxhdGZvcm0odGhpcywgJ3A2JywgMzE1MCwgMjUwLCAxNTAsIDMwLCAncDEnKTtcclxuICAgICAgICB0aGlzLnBsYXQ3ID0gbmV3IFBsYXRmb3JtKHRoaXMsICdwNycsIDM1MDAsIDI1MCwgMTUwLCAzMCwgJ3AxJyk7XHJcbiAgICAgICAgdGhpcy5wbGF0OCA9IG5ldyBQbGF0Zm9ybSh0aGlzLCAncDgnLCAzMTUwLCA0NTAsIDE1MCwgMzAsICdwMScpO1xyXG4gICAgICAgIHRoaXMuc3VlbG81ID0gbmV3IFBsYXRmb3JtKHRoaXMsICdzNScsIDQwMDEsIDQ1MCwgMzUwLCAzNTAsICdwMicpOyovXHJcblxyXG5cclxuICAgICAgICB0aGlzLnBsYXRmb3Jtcy5zZXQoJ3MxJywgdGhpcy5zdWVsbzEpO1xyXG4gICAgICAgIC8qdGhpcy5wbGF0Zm9ybXMuc2V0KCdwMScsIHRoaXMucGxhdDEpO1xyXG4gICAgICAgIHRoaXMucGxhdGZvcm1zLnNldCgncDInLCB0aGlzLnBsYXQyKTtcclxuICAgICAgICB0aGlzLnBsYXRmb3Jtcy5zZXQoJ3MyJywgdGhpcy5zdWVsbzIpO1xyXG4gICAgICAgIHRoaXMucGxhdGZvcm1zLnNldCgnYzEnLCB0aGlzLmNvbDEpO1xyXG4gICAgICAgIHRoaXMucGxhdGZvcm1zLnNldCgnYzInLCB0aGlzLmNvbDIpO1xyXG4gICAgICAgIHRoaXMucGxhdGZvcm1zLnNldCgncDMnLCB0aGlzLnBsYXQzKTtcclxuICAgICAgICB0aGlzLnBsYXRmb3Jtcy5zZXQoJ3A0JywgdGhpcy5wbGF0NCk7XHJcbiAgICAgICAgdGhpcy5wbGF0Zm9ybXMuc2V0KCdwNScsIHRoaXMucGxhdDUpO1xyXG4gICAgICAgIHRoaXMucGxhdGZvcm1zLnNldCgnczMnLCB0aGlzLnN1ZWxvMyk7XHJcbiAgICAgICAgdGhpcy5wbGF0Zm9ybXMuc2V0KCdzNCcsIHRoaXMuc3VlbG80KTtcclxuICAgICAgICB0aGlzLnBsYXRmb3Jtcy5zZXQoJ3M1JywgdGhpcy5zdWVsbzUpO1xyXG4gICAgICAgIHRoaXMucGxhdGZvcm1zLnNldCgncDYnLCB0aGlzLnBsYXQ2KTtcclxuICAgICAgICB0aGlzLnBsYXRmb3Jtcy5zZXQoJ3A3JywgdGhpcy5wbGF0Nyk7XHJcbiAgICAgICAgdGhpcy5wbGF0Zm9ybXMuc2V0KCdwOCcsIHRoaXMucGxhdDgpOyovXHJcblxyXG4gICAgICAgIHRoaXMucGxhdGZvcm1zLmZvckVhY2gocCA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMucGxheWVycy5mb3JFYWNoKHBlcnNvbmFqZSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHBlcnNvbmFqZS5zcHJpdGUsIHAuc3ByaXRlKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHRoaXMuZW5lbWllcy5mb3JFYWNoKGVuZW1pZ28gPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcihlbmVtaWdvLnNwcml0ZSwgcC5zcHJpdGUpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLyp0aGlzLmxpYnJlcmlhID0gbmV3IFBsYXRmb3JtKHRoaXMsICdsaWInLCA0MDAwLCAyMDgsIDEwMCwgMTUwLCAnbGliJyk7XHJcbiAgICAgICAgdGhpcy5saWJyZXJpYS5zcHJpdGUuc2V0RGVwdGgoMik7XHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5vdmVybGFwKHRoaXMubGlicmVyaWEuc3ByaXRlLCB0aGlzLmFydGh1ci5zcHJpdGUsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5zdG9wKCk7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ0VuZFNjZW5lJyk7XHJcbiAgICAgICAgfSk7Ki9cclxuICAgIH1cclxuXHJcbiAgICBzZXRVcEVuZW15Q29sbGlzaW9ucygpIHtcclxuICAgICAgICB0aGlzLmVuZW1pZXMuZm9yRWFjaCgoZW5lbXkpID0+IHtcclxuXHJcbiAgICAgICAgICAgIC8vIEVtZW55IGhpdHMgXHJcbiAgICAgICAgICAgIHRoaXMucGh5c2ljcy5hZGQuY29sbGlkZXIoZW5lbXkuc3ByaXRlLCB0aGlzLnBsYXllcnMuZ2V0KCdwbGF5ZXIxJykuc3ByaXRlLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZW5lbXkgJiYgdGhpcy5wbGF5ZXJzLmdldCgncGxheWVyMScpLmhlYWx0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBsYXllcnMuZ2V0KCdwbGF5ZXIxJykuZ2V0SGl0KDUwKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNoZWNrUGxheWVyU3RhdHVzKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcihlbmVteS5zcHJpdGUsIHRoaXMucGxheWVycy5nZXQoJ3BsYXllcjInKS5zcHJpdGUsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChlbmVteSAmJiB0aGlzLnBsYXllcnMuZ2V0KCdwbGF5ZXIyJykuaGVhbHRoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGxheWVycy5nZXQoJ3BsYXllcjInKS5nZXRIaXQoNTApO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2hlY2tQbGF5ZXJTdGF0dXMoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAvLyBQbGF5ZXIgbGlnaHRzIGVuZW15XHJcbiAgICAgICAgICAgIHRoaXMucGh5c2ljcy5hZGQub3ZlcmxhcChlbmVteS5zcHJpdGUsIHRoaXMuYXJ0aHVyLmxpZ2h0LmNvbGxpZGVyQ2lyY2xlLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5hcnRodXIubGlnaHQuaXNPbiAmJiBlbmVteSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGVuZW15LnNldFdlYWtlbmVkKHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudGltZS5kZWxheWVkQ2FsbCg0MDAwLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlbmVteSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5lbXkuc2V0V2Vha2VuZWQoZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgLy8gUGxheWVyIGF0dGFja3MgZW5lbXlcclxuICAgICAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5vdmVybGFwKGVuZW15LnNwcml0ZSwgdGhpcy5wbGF5ZXJzLmdldCgncGxheWVyMicpLmF0dGFja0hpdGJveCwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKGVuZW15Py53ZWFrZW5lZCAmJiB0aGlzLnBsYXllcnMuZ2V0KCdwbGF5ZXIyJykuaXNBdHRhY2tpbmcpIHtcclxuICAgICAgICAgICAgICAgICAgICBlbmVteS5kaWUoKTtcclxuICAgICAgICAgICAgICAgICAgICBlbmVteS5pc0RlYWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGVuZW15ID0gbnVsbDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgY2hlY2tQbGF5ZXJTdGF0dXMoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMucGxheWVycy5nZXQoJ3BsYXllcjEnKS5oZWFsdGggPD0gMCAmJiB0aGlzLnBsYXllcnMuZ2V0KCdwbGF5ZXIyJykuaGVhbHRoIDw9IDApIHtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5zdG9wKCk7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ0dhbWVTY2VuZScpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGUoKSB7XHJcbiAgICAgICAgdGhpcy5mb25kby50aWxlUG9zaXRpb25YID0gdGhpcy5jYW1lcmFzLm1haW4uc2Nyb2xsWCAqIDAuMjtcclxuXHJcbiAgICAgICAgdGhpcy5jYW1lcmEudXBkYXRlKCk7XHJcbiAgICAgICAgdGhpcy5pbnB1dE1hbmFnZXIudXBkYXRlKCk7XHJcblxyXG4gICAgICAgIHRoaXMuYXJ0aHVyLmxpZ2h0LnVwZGF0ZSgpO1xyXG5cclxuICAgICAgICB0aGlzLmVuZW1pZXMuZm9yRWFjaCgoZW5lbXkpID0+IHtcclxuICAgICAgICAgICAgaWYgKCFlbmVteSB8fCBlbmVteS5pc0RlYWQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZW5lbWllcy5kZWxldGUoZW5lbXkuaWQpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVuZW15LnVwZGF0ZSgpO1xyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG5cclxufSIsImltcG9ydCBQaGFzZXIgZnJvbSAncGhhc2VyJztcclxuaW1wb3J0IHsgY29ubmVjdGlvbk1hbmFnZXIgfSBmcm9tICcuLi9zZXJ2aWNlcy9Db25uZWN0aW9uTWFuYWdlcic7XHJcblxyXG4vKipcclxuICogRXNjZW5hIHF1ZSBzZSBtdWVzdHJhIGN1YW5kbyBzZSBwaWVyZGUgbGEgY29uZXhpw7NuIGNvbiBlbCBzZXJ2aWRvclxyXG4gKiBQYXVzYSBlbCByZXN0byBkZSBlc2NlbmFzIHkgY29tcHJ1ZWJhIGNvbnRpbnVhbWVudGUgaGFzdGEgcXVlIHNlIHJlc3RhYmxlemNhXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgQ29ubmVjdGlvbkxvc3RTY2VuZSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcignQ29ubmVjdGlvbkxvc3RTY2VuZScpO1xyXG4gICAgICAgIHRoaXMucmVjb25uZWN0Q2hlY2tJbnRlcnZhbCA9IG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgaW5pdChkYXRhKSB7XHJcbiAgICAgICAgLy8gR3VhcmRhciBsYSBlc2NlbmEgcXVlIGVzdGFiYSBhY3RpdmEgY3VhbmRvIHNlIHBlcmRpw7MgbGEgY29uZXhpw7NuXHJcbiAgICAgICAgdGhpcy5wcmV2aW91c1NjZW5lID0gZGF0YS5wcmV2aW91c1NjZW5lO1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZSgpIHtcclxuICAgICAgICAvLyBGb25kbyBzZW1pLXRyYW5zcGFyZW50ZVxyXG4gICAgICAgIHRoaXMuYWRkLnJlY3RhbmdsZSg0MDAsIDMwMCwgODAwLCA2MDAsIDB4MDAwMDAwLCAwLjgpO1xyXG5cclxuICAgICAgICAvLyBUw610dWxvXHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCg0MDAsIDIwMCwgJ0NPTkVYScOTTiBQRVJESURBJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzQ4cHgnLFxyXG4gICAgICAgICAgICBmb250RmFtaWx5OiAnTGluTGliZXJ0aW5lJyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZmYwMDAwJyxcclxuICAgICAgICAgICAgZm9udFN0eWxlOiAnYm9sZCdcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgLy8gTWVuc2FqZVxyXG4gICAgICAgIHRoaXMuc3RhdHVzVGV4dCA9IHRoaXMuYWRkLnRleHQoNDAwLCAzMDAsICdJbnRlbnRhbmRvIHJlY29uZWN0YXIuLi4nLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMjRweCcsXHJcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdMaW5MaWJlcnRpbmUnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmMDAnXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIC8vIENvbnRhZG9yIGRlIGludGVudG9zXHJcbiAgICAgICAgdGhpcy5hdHRlbXB0Q291bnQgPSAwO1xyXG4gICAgICAgIHRoaXMuYXR0ZW1wdFRleHQgPSB0aGlzLmFkZC50ZXh0KDQwMCwgMzUwLCAnSW50ZW50b3M6IDAnLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMThweCcsXHJcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdMaW5MaWJlcnRpbmUnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmZmYnXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIC8vIEluZGljYWRvciBwYXJwYWRlYW50ZVxyXG4gICAgICAgIHRoaXMuZG90Q291bnQgPSAwO1xyXG4gICAgICAgIHRoaXMudGltZS5hZGRFdmVudCh7XHJcbiAgICAgICAgICAgIGRlbGF5OiAyMDAwLFxyXG4gICAgICAgICAgICBjYWxsYmFjazogKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kb3RDb3VudCA9ICh0aGlzLmRvdENvdW50ICsgMSkgJSA0O1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZG90cyA9ICcuJy5yZXBlYXQodGhpcy5kb3RDb3VudCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXR1c1RleHQuc2V0VGV4dChgSW50ZW50YW5kbyByZWNvbmVjdGFyJHtkb3RzfWApO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBsb29wOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIExpc3RlbmVyIHBhcmEgY2FtYmlvcyBkZSBjb25leGnDs25cclxuICAgICAgICB0aGlzLmNvbm5lY3Rpb25MaXN0ZW5lciA9IChkYXRhKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChkYXRhLmNvbm5lY3RlZCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5vblJlY29ubmVjdGVkKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIGNvbm5lY3Rpb25NYW5hZ2VyLmFkZExpc3RlbmVyKHRoaXMuY29ubmVjdGlvbkxpc3RlbmVyKTtcclxuXHJcbiAgICAgICAgLy8gSW50ZW50YXIgcmVjb25lY3RhciBjYWRhIDIgc2VndW5kb3NcclxuICAgICAgICB0aGlzLnJlY29ubmVjdENoZWNrSW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuYXR0ZW1wdFJlY29ubmVjdCgpO1xyXG4gICAgICAgIH0sIDIwMDApO1xyXG5cclxuICAgICAgICAvLyBQcmltZXIgaW50ZW50byBpbm1lZGlhdG9cclxuICAgICAgICB0aGlzLmF0dGVtcHRSZWNvbm5lY3QoKTtcclxuICAgIH1cclxuXHJcbiAgICBhc3luYyBhdHRlbXB0UmVjb25uZWN0KCkge1xyXG4gICAgICAgIHRoaXMuYXR0ZW1wdENvdW50Kys7XHJcbiAgICAgICAgaWYgKHRoaXMuYXR0ZW1wdENvdW50ID4gMzApIHtcclxuICAgICAgICAgICAgdGhpcy5zdGF0dXNUZXh0LnNldFRleHQoJ05vIHNlIHB1ZG8gZXN0YWJsZWNlciBsYSBjb25leGnDs24nKTtcclxuICAgICAgICAgICAgdGhpcy5zdGF0dXNUZXh0LnNldENvbG9yKCcjZmYwMDAwJyk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5hdHRlbXB0VGV4dC5zZXRUZXh0KGBJbnRlbnRvczogJHt0aGlzLmF0dGVtcHRDb3VudH1gKTtcclxuICAgICAgICBhd2FpdCBjb25uZWN0aW9uTWFuYWdlci5jaGVja0Nvbm5lY3Rpb24oKTtcclxuICAgIH1cclxuXHJcbiAgICBvblJlY29ubmVjdGVkKCkge1xyXG4gICAgICAgIC8vIExpbXBpYXIgaW50ZXJ2YWxcclxuICAgICAgICBpZiAodGhpcy5yZWNvbm5lY3RDaGVja0ludGVydmFsKSB7XHJcbiAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5yZWNvbm5lY3RDaGVja0ludGVydmFsKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFJlbW92ZXIgbGlzdGVuZXJcclxuICAgICAgICBjb25uZWN0aW9uTWFuYWdlci5yZW1vdmVMaXN0ZW5lcih0aGlzLmNvbm5lY3Rpb25MaXN0ZW5lcik7XHJcblxyXG4gICAgICAgIC8vIE1lbnNhamUgZGUgw6l4aXRvXHJcbiAgICAgICAgdGhpcy5zdGF0dXNUZXh0LnNldFRleHQoJ8KhQ29uZXhpw7NuIHJlc3RhYmxlY2lkYSEnKTtcclxuICAgICAgICB0aGlzLnN0YXR1c1RleHQuc2V0Q29sb3IoJyMwMGZmMDAnKTtcclxuXHJcbiAgICAgICAgLy8gVm9sdmVyIGEgbGEgZXNjZW5hIGFudGVyaW9yXHJcbiAgICAgICAgdGhpcy50aW1lLmRlbGF5ZWRDYWxsKDEwMDAsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5zdG9wKCk7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnByZXZpb3VzU2NlbmUpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUucmVzdW1lKHRoaXMucHJldmlvdXNTY2VuZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBzaHV0ZG93bigpIHtcclxuICAgICAgICAvLyBMaW1waWFyIGVsIGludGVydmFsIGFsIGNlcnJhciBsYSBlc2NlbmFcclxuICAgICAgICBpZiAodGhpcy5yZWNvbm5lY3RDaGVja0ludGVydmFsKSB7XHJcbiAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5yZWNvbm5lY3RDaGVja0ludGVydmFsKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gUmVtb3ZlciBlbCBsaXN0ZW5lclxyXG4gICAgICAgIGlmICh0aGlzLmNvbm5lY3Rpb25MaXN0ZW5lcikge1xyXG4gICAgICAgICAgICBjb25uZWN0aW9uTWFuYWdlci5yZW1vdmVMaXN0ZW5lcih0aGlzLmNvbm5lY3Rpb25MaXN0ZW5lcik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCBQaGFzZXIgZnJvbSBcInBoYXNlclwiO1xyXG5pbXBvcnQgeyBjbGllbnREYXRhTWFuYWdlciB9IGZyb20gXCIuLi9zZXJ2aWNlcy9jbGllbnREYXRhTWFuYWdlclwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIExvZ2luU2NlbmUgZXh0ZW5kcyBQaGFzZXIuU2NlbmUge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoJ0xvZ2luU2NlbmUnKVxyXG4gICAgfVxyXG5cclxuICAgIHByZWxvYWQoKSB7XHJcbiAgICAgICAgdGhpcy5sb2FkLmh0bWwoJ2xvZ2luJywgJ2Fzc2V0cy9odG1sL2Zvcm0uaHRtbCcpO1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZSgpIHtcclxuICAgICAgICBjb25zdCB0ZXh0ID0gdGhpcy5hZGQudGV4dCg0MDAsIDUyLCAnTG9naW4nLCB7IGZvbnRTaXplOiAnMzJweCcsIGZvbnRGYW1pbHk6ICdMaW5MaWJlcnRpbmUnLCBjb2xvcjogJyNmZmZmZmZmZicgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIGNvbnN0IGVsZW1lbnQgPSB0aGlzLmFkZC5kb20oNDAwLCAzMDApLmNyZWF0ZUZyb21DYWNoZSgnbG9naW4nKTtcclxuXHJcbiAgICAgICAgZWxlbWVudC5zZXRQZXJzcGVjdGl2ZSg4MDApO1xyXG5cclxuICAgICAgICBlbGVtZW50LmFkZExpc3RlbmVyKCdjbGljaycpO1xyXG5cclxuICAgICAgICBjb25zdCBzZWxmID0gdGhpcztcclxuICAgICAgICBlbGVtZW50Lm9uKCdjbGljaycsIGFzeW5jIChldmVudCkgPT4ge1xyXG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuICAgICAgICAgICAgaWYgKGV2ZW50LnRhcmdldC5uYW1lID09PSAnbG9naW5CdXR0b24nKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgY29uc3QgaW5wdXRVc2VybmFtZSA9IGVsZW1lbnQuZ2V0Q2hpbGRCeU5hbWUoJ3VzZXJuYW1lJykudmFsdWU7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhpbnB1dFVzZXJuYW1lKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyAgSGF2ZSB0aGV5IGVudGVyZWQgYW55dGhpbmc/XHJcbiAgICAgICAgICAgICAgICBpZiAoaW5wdXRVc2VybmFtZSAhPT0gJycpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1RyeWluZyB0byBsb2cgaW4nKTtcclxuICAgICAgICAgICAgICAgICAgICAvL1BPU1Qgb24gL2FwaS91c2Vyc1xyXG4gICAgICAgICAgICAgICAgICAgIGNsaWVudERhdGFNYW5hZ2VyLm5hbWUgPSBpbnB1dFVzZXJuYW1lO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGxvZ2dlZEluID0gYXdhaXQgY2xpZW50RGF0YU1hbmFnZXIucG9zdExvZ2luKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGxvZ2dlZEluID09PSAyMDEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gIFR1cm4gb2ZmIHRoZSBjbGljayBldmVudHNcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5yZW1vdmVMaXN0ZW5lcignY2xpY2snKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dC5zZXRUZXh0KCdMb2dpbiBzdWNjZXNzZnVsJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ01lbnVTY2VuZScpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQuc2V0VGV4dCgnTG9naW4gZmFpbGVkJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIH1cclxuXHJcbn1cclxuIiwiZXhwb3J0IGNsYXNzIE1hdGNoTWFraW5nU2NlbmUgZXh0ZW5kcyBQaGFzZXIuU2NlbmUge1xyXG4gIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgc3VwZXIoJ01hdGNoTWFraW5nU2NlbmUnKTtcclxuICAgIHRoaXMud3MgPSBudWxsO1xyXG4gIH1cclxuXHJcbiAgcHJlbG9hZCgpIHtcclxuICAgIHRoaXMubG9hZC5pbWFnZSgnbWF0Y2hNYWtpbmcnLCAnYXNzZXRzL21lbnVzL3BhbnRhbGxhLW1hdGNobWFraW5nLmpwZycpO1xyXG4gIH1cclxuXHJcbiAgY3JlYXRlKCkge1xyXG4gICAgY29uc3Qgd2lkdGggPSB0aGlzLmNhbWVyYXMubWFpbi53aWR0aDtcclxuICAgIGNvbnN0IGhlaWdodCA9IHRoaXMuY2FtZXJhcy5tYWluLmhlaWdodDtcclxuXHJcbiAgICAvLyBCYWNrZ3JvdW5kIGltYWdlXHJcbiAgICB0aGlzLmFkZC5pbWFnZSh3aWR0aCAvIDIsIGhlaWdodCAvIDIsICdtYXRjaE1ha2luZycpLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgIC8vIFN0YXR1cyB0ZXh0XHJcbiAgICB0aGlzLnN0YXR1c1RleHQgPSB0aGlzLmFkZC50ZXh0KHdpZHRoIC8gMiwgaGVpZ2h0IC8gMiAtIDUwLCAnQ29uZWN0YW5kby4uLicsIHtcclxuICAgICAgZm9udEZhbWlseTogJ0xpbkxpYmVydGluZScsXHJcbiAgICAgIGZvbnRTaXplOiAnMjRweCcsXHJcbiAgICAgIGNvbG9yOiAnI2ZmZmZmZmZmJyxcclxuICAgICAgYmFja2dyb3VuZENvbG9yOiAnIzAwMDAwMGZmJ1xyXG4gICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgLy8gUGxheWVyIGNvdW50IHRleHRcclxuICAgIHRoaXMucGxheWVyQ291bnRUZXh0ID0gdGhpcy5hZGQudGV4dCh3aWR0aCAvIDIsIGhlaWdodCAvIDIgKyAyMCwgJycsIHtcclxuICAgICAgZm9udEZhbWlseTogJ0xpbkxpYmVydGluZScsXHJcbiAgICAgIGZvbnRTaXplOiAnMjBweCcsXHJcbiAgICAgIGNvbG9yOiAnI2ZmZmZmZmZmJyxcclxuICAgICAgYmFja2dyb3VuZENvbG9yOiAnIzAwMDAwMGZmJ1xyXG4gICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgLy8gQ2FuY2VsIGJ1dHRvblxyXG4gICAgY29uc3QgY2FuY2VsQnV0dG9uID0gdGhpcy5hZGQudGV4dCh3aWR0aCAvIDIsIGhlaWdodCAtIDEwMCwgJ0NhbmNlbCcsIHtcclxuICAgICAgZm9udEZhbWlseTogJ0xpbkxpYmVydGluZScsXHJcbiAgICAgIGZvbnRTaXplOiAnMjRweCcsXHJcbiAgICAgIGNvbG9yOiAnI2ZmNjY2NmZmJyxcclxuICAgICAgYmFja2dyb3VuZENvbG9yOiAnIzAwMDAwMGZmJyxcclxuICAgICAgcGFkZGluZzogeyB4OiAyMCwgeTogMTAgfVxyXG4gICAgfSkuc2V0T3JpZ2luKDAuNSkuc2V0SW50ZXJhY3RpdmUoKTtcclxuXHJcbiAgICBjYW5jZWxCdXR0b24ub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4ge1xyXG4gICAgICBjYW5jZWxCdXR0b24uc2V0Q29sb3IoJyNmZjAwMDBmZicpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgY2FuY2VsQnV0dG9uLm9uKCdwb2ludGVyb3V0JywgKCkgPT4ge1xyXG4gICAgICBjYW5jZWxCdXR0b24uc2V0Q29sb3IoJyNmZjY2NjZmZicpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgY2FuY2VsQnV0dG9uLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgdGhpcy5sZWF2ZVF1ZXVlKCk7XHJcbiAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ01lbnVTY2VuZScpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gQ29ubmVjdCB0byBXZWJTb2NrZXQgc2VydmVyXHJcbiAgICB0aGlzLmNvbm5lY3RUb1NlcnZlcigpO1xyXG4gIH1cclxuXHJcbiAgY29ubmVjdFRvU2VydmVyKCkge1xyXG4gICAgdHJ5IHtcclxuICAgICAgLy8gQ29ubmVjdCB0byBXZWJTb2NrZXQgc2VydmVyIChzYW1lIGhvc3QgYXMgd2ViIHNlcnZlcilcclxuICAgICAgY29uc3Qgd3NVcmwgPSBgd3M6Ly8ke3dpbmRvdy5sb2NhdGlvbi5ob3N0fWA7XHJcblxyXG4gICAgICB0aGlzLndzID0gbmV3IFdlYlNvY2tldCh3c1VybCk7XHJcblxyXG4gICAgICB0aGlzLndzLm9ub3BlbiA9ICgpID0+IHtcclxuICAgICAgICBjb25zb2xlLmxvZygnQ29ubmVjdGluZyB0byBXZWJTb2NrZXQgc2VydmVyJyk7XHJcbiAgICAgICAgdGhpcy5zdGF0dXNUZXh0LnNldFRleHQoJ0VzcGVyYW5kbyBvcG9uZW50ZS4uLicpO1xyXG5cclxuICAgICAgICAvLyBKb2luIG1hdGNobWFraW5nIHF1ZXVlXHJcbiAgICAgICAgdGhpcy53cy5zZW5kKEpTT04uc3RyaW5naWZ5KHsgdHlwZTogJ2pvaW5RdWV1ZScgfSkpO1xyXG4gICAgICB9O1xyXG5cclxuICAgICAgdGhpcy53cy5vbm1lc3NhZ2UgPSAoZXZlbnQpID0+IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgY29uc3QgZGF0YSA9IEpTT04ucGFyc2UoZXZlbnQuZGF0YSk7XHJcbiAgICAgICAgICB0aGlzLmhhbmRsZVNlcnZlck1lc3NhZ2UoZGF0YSk7XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHBhcnNpbmcgc2VydmVyIG1lc3NhZ2U6JywgZXJyb3IpO1xyXG4gICAgICAgIH1cclxuICAgICAgfTtcclxuXHJcbiAgICAgIHRoaXMud3Mub25lcnJvciA9IChlcnJvcikgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGRlIFdlYlNvY2tldDonLCBlcnJvcik7XHJcbiAgICAgICAgdGhpcy5zdGF0dXNUZXh0LnNldFRleHQoJ0Vycm9yIGRlIFdlYlNvY2tldCEnKTtcclxuICAgICAgICB0aGlzLnN0YXR1c1RleHQuc2V0Q29sb3IoJyNmZjAwMDBmZicpO1xyXG4gICAgICB9O1xyXG5cclxuICAgICAgdGhpcy53cy5vbmNsb3NlID0gKCkgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdXZWJTb2NrZXQgY29ubmVjdGlvbiBjbG9zZWQnKTtcclxuICAgICAgICBpZiAodGhpcy5zY2VuZS5pc0FjdGl2ZSgnTG9iYnlTY2VuZScpKSB7XHJcbiAgICAgICAgICB0aGlzLnN0YXR1c1RleHQuc2V0VGV4dCgnQ29uZXhpw7NuIHBlcmRpZGEhJyk7XHJcbiAgICAgICAgICB0aGlzLnN0YXR1c1RleHQuc2V0Q29sb3IoJyNmZjAwMDBmZicpO1xyXG4gICAgICAgIH1cclxuICAgICAgfTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGNvbm5lY3RpbmcgdG8gc2VydmVyOicsIGVycm9yKTtcclxuICAgICAgdGhpcy5zdGF0dXNUZXh0LnNldFRleHQoJ0Vycm9yIGFsIGNvbmVjdGFyIScpO1xyXG4gICAgICB0aGlzLnN0YXR1c1RleHQuc2V0Q29sb3IoJyNmZjAwMDBmZicpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgaGFuZGxlU2VydmVyTWVzc2FnZShkYXRhKSB7XHJcbiAgICBzd2l0Y2ggKGRhdGEudHlwZSkge1xyXG4gICAgICBjYXNlICdxdWV1ZVN0YXR1cyc6XHJcbiAgICAgICAgdGhpcy5wbGF5ZXJDb3VudFRleHQuc2V0VGV4dChgSnVnYWRvcmVzIGVuIGNvbGE6ICR7ZGF0YS5wb3NpdGlvbn0vMmApO1xyXG4gICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgY2FzZSAnZ2FtZVN0YXJ0JzpcclxuICAgICAgICBjb25zb2xlLmxvZygnR2FtZSBzdGFydGluZyEnLCBkYXRhKTtcclxuICAgICAgICAvLyBTdG9yZSBnYW1lIGRhdGEgYW5kIHRyYW5zaXRpb24gdG8gbXVsdGlwbGF5ZXIgZ2FtZSBzY2VuZVxyXG4gICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ011bHRpcGxheWVyU2NlbmUnLCB7XHJcbiAgICAgICAgICB3czogdGhpcy53cyxcclxuICAgICAgICAgIHBsYXllclJvbGU6IGRhdGEucm9sZSxcclxuICAgICAgICAgIHJvb21JZDogZGF0YS5yb29tSWQsXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICBkZWZhdWx0OlxyXG4gICAgICAgIGNvbnNvbGUubG9nKCdVbmtub3duIG1lc3NhZ2UgdHlwZTonLCBkYXRhLnR5cGUpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgbGVhdmVRdWV1ZSgpIHtcclxuICAgIGlmICh0aGlzLndzICYmIHRoaXMud3MucmVhZHlTdGF0ZSA9PT0gV2ViU29ja2V0Lk9QRU4pIHtcclxuICAgICAgdGhpcy53cy5zZW5kKEpTT04uc3RyaW5naWZ5KHsgdHlwZTogJ2xlYXZlUXVldWUnIH0pKTtcclxuICAgICAgdGhpcy53cy5jbG9zZSgpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgc2h1dGRvd24oKSB7XHJcbiAgICB0aGlzLmxlYXZlUXVldWUoKTtcclxuICB9XHJcbn0iLCJpbXBvcnQgUGhhc2VyIGZyb20gXCJwaGFzZXJcIjtcclxuaW1wb3J0IHsgY2xpZW50RGF0YU1hbmFnZXIgfSBmcm9tIFwiLi4vc2VydmljZXMvY2xpZW50RGF0YU1hbmFnZXIuanNcIjtcclxuZXhwb3J0IGNsYXNzIFNjb3JlQm9hcmRTY2VuZSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcignU2NvcmVCb2FyZFNjZW5lJylcclxuICAgIH1cclxuXHJcbiAgICBwcmVsb2FkKCkge1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgncDFwMmVTQ0FQQU5ETycsICdhc3NldHMvcDFwMmVTQ0FQQU5ETy5wbmcnKTtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGUoKSB7XHJcblxyXG4gICAgICAgIHRoaXMuYWRkLmltYWdlKDQwMCwgMzAwLCAncDFwMmVTQ0FQQU5ETycpLnNldE9yaWdpbigwLjUpO1xyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoNDAwLCAxMDAsICdTQ09SRUJPQVJEJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzQ4cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmZmZmZicsXHJcbiAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogJyMwMDAwMDAnLFxyXG4gICAgICAgICAgICBmb250RmFtaWx5OiAnTGluTGliZXJ0aW5lJ1xyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICBsZXQgeSA9IDIwMDtcclxuXHJcbiAgICAgICAgLy9UZXh0byBkZSBtdWVydGVzXHJcbiAgICAgICAgdGhpcy5kZWF0aHNUZXh0ID0gdGhpcy5hZGQudGV4dCg0MDAsIHksICdNdWVydGVzOiBDYXJnYW5kby4uLiAnLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMThweCcsXHJcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdMaW5MaWJlcnRpbmUnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmZmZmZicsXHJcbiAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogJyMwMDAwMDAnLFxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICBjbGllbnREYXRhTWFuYWdlci5nZXRDbGllbnREZWF0aHMoKS50aGVuKGRlYXRocyA9PiB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdSZWNlaXZlZCBkZWF0aHM6JywgZGVhdGhzKTtcclxuICAgICAgICAgICAgaWYgKGRlYXRocyAhPT0gbnVsbCAmJiBkZWF0aHMgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kZWF0aHNUZXh0LnNldFRleHQoJ011ZXJ0ZXMgVG90YWxlczogJyArIGRlYXRocyk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRlYXRoc1RleHQuc2V0VGV4dCgnTXVlcnRlcyBUb3RhbGVzOiBFcnJvcicpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSkuY2F0Y2goZXJyb3IgPT4ge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyBkZWF0aHM6JywgZXJyb3IpO1xyXG4gICAgICAgICAgICB0aGlzLmRlYXRoc1RleHQuc2V0VGV4dCgnTXVlcnRlcyBUb3RhbGVzOiBFcnJvcicpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuXHJcblxyXG5cclxufSIsImltcG9ydCBQaGFzZXIgZnJvbSAncGhhc2VyJztcclxuaW1wb3J0IHsgT3B0aW9uc1NjZW5lIH0gZnJvbSAnLi9zY2VuZS9PcHRpb25zU2NlbmUuanMnO1xyXG5pbXBvcnQgeyBNZW51U2NlbmUgfSBmcm9tICcuL3NjZW5lL01lbnVTY2VuZS5qcyc7XHJcbmltcG9ydCB7IEdhbWVTY2VuZSB9IGZyb20gJy4vc2NlbmUvR2FtZVNjZW5lLmpzJztcclxuaW1wb3J0IHsgUGF1c2VTY2VuZSB9IGZyb20gJy4vc2NlbmUvUGF1c2VTY2VuZS5qcyc7XHJcbmltcG9ydCB7IENyZWRpdHNTY2VuZSB9IGZyb20gJy4vc2NlbmUvQ3JlZGl0c1NjZW5lLmpzJztcclxuaW1wb3J0IHsgSW50cm9TY2VuZSB9IGZyb20gJy4vc2NlbmUvSW50cm9TY2VuZS5qcyc7XHJcbmltcG9ydCB7IEVuZFNjZW5lIH0gZnJvbSAnLi9zY2VuZS9FbmRTY2VuZS5qcyc7XHJcbmltcG9ydCB7IEdhbWVTY2VuZTIgfSBmcm9tICcuL3NjZW5lL0dhbWVTY2VuZTIuanMnO1xyXG5pbXBvcnQgeyBDb25uZWN0aW9uTG9zdFNjZW5lIH0gZnJvbSAnLi9zY2VuZS9Db25uZWN0aW9uTG9zdFNjZW5lLmpzJztcclxuaW1wb3J0IHsgTG9naW5TY2VuZSB9IGZyb20gJy4vc2NlbmUvTG9naW5TY2VuZS5qcyc7XHJcbmltcG9ydCB7IE1hdGNoTWFraW5nU2NlbmUgfSBmcm9tICcuL3NjZW5lL01hdGNoTWFraW5nU2NlbmUuanMnO1xyXG5pbXBvcnQgeyBNdWx0aXBsYXllclNjZW5lIH0gZnJvbSAnLi9zY2VuZS9NdWx0aXBsYXllclNjZW5lLmpzJztcclxuaW1wb3J0IHsgU2NvcmVCb2FyZFNjZW5lIH0gZnJvbSAnLi9zY2VuZS9TY29yZUJvYXJkU2NlbmUuanMnO1xyXG5cclxuY29uc3QgY29uZmlnID0ge1xyXG4gICAgdHlwZTogUGhhc2VyLkFVVE8sXHJcbiAgICB3aWR0aDogODAwLCAvLyBBbmNobyBkZSBsYSB2ZW50YW5hXHJcbiAgICBoZWlnaHQ6IDYwMCwgLy8gQWx0byBkZSBsYSB2ZW50YW5hXHJcbiAgICBwYXJlbnQ6ICdnYW1lLWNvbnRhaW5lcicsXHJcblxyXG4gICAgcGh5c2ljczoge1xyXG4gICAgICAgIGRlZmF1bHQ6ICdhcmNhZGUnLFxyXG4gICAgICAgIGFyY2FkZToge1xyXG4gICAgICAgICAgICBncmF2aXR5OiB7IHg6IDAsIHk6IDEgfSxcclxuICAgICAgICAgICAgZGVidWc6IGZhbHNlLFxyXG4gICAgICAgICAgICBkZWJ1Z1Nob3dCb2R5OiBmYWxzZSxcclxuICAgICAgICAgICAgZGVidWdTaG93U3RhdGljQm9keTogZmFsc2UsXHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIGRvbToge1xyXG4gICAgICAgIGNyZWF0ZUNvbnRhaW5lcjogdHJ1ZVxyXG4gICAgfSxcclxuXHJcbiAgICAvLyBMb2dpblNjZW5lIHBvbmVyIGNvbW8gZXNjZW5hIGluaWNpYWwsIGFob3JhIGVzdGEgcXVpdGFkbyBwcSBlcyB1biBjb8OxYXpvIHBhcmEgaGFjZXIgcHJ1ZWJhc1xyXG4gICAgc2NlbmU6IFtMb2dpblNjZW5lLCBNZW51U2NlbmUsIE1hdGNoTWFraW5nU2NlbmUsIENyZWRpdHNTY2VuZSwgT3B0aW9uc1NjZW5lLCBJbnRyb1NjZW5lLCBHYW1lU2NlbmUsIE11bHRpcGxheWVyU2NlbmUsIFBhdXNlU2NlbmUsIEVuZFNjZW5lLCBHYW1lU2NlbmUyLCBDb25uZWN0aW9uTG9zdFNjZW5lLCBTY29yZUJvYXJkU2NlbmVdLFxyXG4gICAgYmFja2dyb3VuZENvbG9yOiAnIzM2MDI0NmZmJ1xyXG59XHJcblxyXG5jb25zdCBnYW1lID0gbmV3IFBoYXNlci5HYW1lKGNvbmZpZyk7XHJcblxyXG4iLCJpbXBvcnQgeyBHYW1lU2NlbmUgfSBmcm9tIFwiLi9HYW1lU2NlbmUuanNcIjtcclxuaW1wb3J0IHsgUGxhdGZvcm0gfSBmcm9tIFwiLi4vZW50aXRpZXMvUGxhdGZvcm0uanNcIjtcclxuaW1wb3J0IHsgY2xpZW50RGF0YU1hbmFnZXIgfSBmcm9tIFwiLi4vc2VydmljZXMvY2xpZW50RGF0YU1hbmFnZXIuanNcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBNdWx0aXBsYXllclNjZW5lIGV4dGVuZHMgR2FtZVNjZW5lIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCdNdWx0aXBsYXllclNjZW5lJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkZWQgPSBmYWxzZTsgLy8gZmxhZyBwYXJhIHZlcmlmaWNhciBxIGhhIGNhcmdhZG8gbGEgZXNjZW5hIGRlbCBjb21waVxyXG4gICAgfVxyXG5cclxuICAgIHByZWxvYWQoKSB7XHJcbiAgICAgICAgc3VwZXIucHJlbG9hZCgpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnZ2FtZW92ZXInLCAnYXNzZXRzL21lbnVzL0dhbWVPdmVyLnBuZycpO1xyXG4gICAgfVxyXG5cclxuICAgIGluaXQoZGF0YSkge1xyXG4gICAgICAgIHN1cGVyLmluaXQoKTtcclxuICAgICAgICB0aGlzLndzID0gZGF0YS53cztcclxuICAgICAgICB0aGlzLnBsYXllclJvbGUgPSBkYXRhLnBsYXllclJvbGU7IC8vICdwbGF5ZXIxJyBvciAncGxheWVyMidcclxuICAgICAgICB0aGlzLnJvb21JZCA9IGRhdGEucm9vbUlkO1xyXG4gICAgICAgIHRoaXMubG9jYWxQbGF5ZXIgPSBudWxsO1xyXG4gICAgICAgIHRoaXMucmVtb3RlUGxheWVyID0gbnVsbDtcclxuICAgICAgICB0aGlzLmNsaWVudERhdGFNYW5hZ2VyID0gY2xpZW50RGF0YU1hbmFnZXI7XHJcbiAgICAgICAgdGhpcy5zZXR1cFdlYlNvY2tldExpc3RlbmVycygpO1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZSgpIHtcclxuICAgICAgICB0aGlzLnNldFVwUGxheWVycygpO1xyXG4gICAgICAgIHN1cGVyLmNyZWF0ZSgpO1xyXG5cclxuICAgICAgICAvLyBDb25maWd1cmFyIElucHV0TWFuYWdlciBwYXJhIG11bHRpcGxheWVyXHJcbiAgICAgICAgdGhpcy5pbnB1dE1hbmFnZXIuc2V0V2ViU29ja2V0KHRoaXMud3MpO1xyXG4gICAgICAgIHRoaXMuaW5wdXRNYW5hZ2VyLnNldExvY2FsUGxheWVyUm9sZSh0aGlzLnBsYXllclJvbGUpO1xyXG4gICAgICAgIHRoaXMuaW5wdXRNYW5hZ2VyLnNldFVwSW5wdXRzKCk7XHJcbiAgICAgICAgdGhpcy5nYW1lLmV2ZW50cy5vbignUmVxdWVzdFNjb3JlQm9hcmQnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuc2VuZE1lc3NhZ2UoeyB0eXBlOiAnUmVxdWVzdFNjb3JlQm9hcmQnIH0pO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLnNlbmRNZXNzYWdlKHtcclxuICAgICAgICAgICAgdHlwZTogJ0xvYWRlZCcsXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIHVwZGF0ZSgpIHtcclxuICAgICAgICBpZiAoIXRoaXMubG9hZGVkKSByZXR1cm47XHJcblxyXG4gICAgICAgIHRoaXMuZm9uZG8udGlsZVBvc2l0aW9uWCA9IHRoaXMuY2FtZXJhcy5tYWluLnNjcm9sbFggKiAwLjI7XHJcblxyXG4gICAgICAgIHRoaXMuY2FtZXJhLnVwZGF0ZSgpO1xyXG4gICAgICAgIHRoaXMuaW5wdXRNYW5hZ2VyLnVwZGF0ZSgpO1xyXG5cclxuICAgICAgICB0aGlzLmFydGh1ci5saWdodC51cGRhdGUoKTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMucGxheWVyUm9sZSA9PT0gJ3BsYXllcjEnKSB7ICAvLyBKdWdhZG9yIDEgYWN0dWFsaXphIGVuZW1pZ29zIHkgcmVlbnZpYSBtb3ZpbWllbnRvcyBhIGp1Z2Fkb3IgMlxyXG5cclxuICAgICAgICAgICAgdGhpcy5lbmVtaWVzLmZvckVhY2goKGVuZW15KSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWVuZW15IHx8IGVuZW15LmlzRGVhZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZW5lbWllcy5kZWxldGUoZW5lbXkuaWQpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVuZW15LnVwZGF0ZSgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZW5kTWVzc2FnZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ0VuZW15TW92bWVudCcsXHJcbiAgICAgICAgICAgICAgICAgICAgZW5lbXlJZDogZW5lbXkuaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgbW92ZW1lbnRWZWN0b3I6IGVuZW15Lm1vdmVtZW50VmVjdG9yLFxyXG4gICAgICAgICAgICAgICAgICAgIGNoYXNpbmdQbGF5ZXJJZDogZW5lbXkuY2hhc2luZ1BsYXllcklkLFxyXG4gICAgICAgICAgICAgICAgICAgIHg6IGVuZW15LnNwcml0ZS54LFxyXG4gICAgICAgICAgICAgICAgICAgIHk6IGVuZW15LnNwcml0ZS55XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8vLy8vLy8vLy8vLy8vLy8vIFJFRCBDT04gV0VCU09DS0VUIC8vLy8vLy8vLy8vLy8vXHJcblxyXG4gICAgc2V0VXBQbGF5ZXJzKCkge1xyXG4gICAgICAgIGlmICh0aGlzLnBsYXllclJvbGUgPT09ICdwbGF5ZXIxJykge1xyXG4gICAgICAgICAgICB0aGlzLmxvY2FsUGxheWVyID0gdGhpcy5hcnRodXI7XHJcbiAgICAgICAgICAgIHRoaXMucmVtb3RlUGxheWVyID0gdGhpcy5sdWN5O1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMubG9jYWxQbGF5ZXIgPSB0aGlzLmx1Y3k7XHJcbiAgICAgICAgICAgIHRoaXMucmVtb3RlUGxheWVyID0gdGhpcy5hcnRodXI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnNvbGUubG9nKCdMb2NhbCBwbGF5ZXI6JywgdGhpcy5sb2NhbFBsYXllcik7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ1JlbW90ZSBwbGF5ZXI6JywgdGhpcy5yZW1vdGVQbGF5ZXIpO1xyXG4gICAgfVxyXG5cclxuICAgIHNldHVwV2ViU29ja2V0TGlzdGVuZXJzKCkge1xyXG4gICAgICAgIHRoaXMud3Mub25tZXNzYWdlID0gKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBkYXRhID0gSlNPTi5wYXJzZShldmVudC5kYXRhKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlU2VydmVyTWVzc2FnZShkYXRhKTtcclxuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHBhcnNpbmcgc2VydmVyIG1lc3NhZ2U6JywgZXJyb3IpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdGhpcy53cy5vbmNsb3NlID0gKCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnV2ViU29ja2V0IGNvbm5lY3Rpb24gY2xvc2VkJyk7XHJcbiAgICAgICAgICAgIHRoaXMuaGFuZGxlRGlzY29ubmVjdGlvbigpO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMud3Mub25lcnJvciA9IChlcnJvcikgPT4ge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdXZWJTb2NrZXQgZXJyb3I6JywgZXJyb3IpO1xyXG4gICAgICAgICAgICB0aGlzLmhhbmRsZURpc2Nvbm5lY3Rpb24oKTtcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIGhhbmRsZVNlcnZlck1lc3NhZ2UoZGF0YSkge1xyXG4gICAgICAgIHN3aXRjaCAoZGF0YS50eXBlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgJ1BsYXllck1vdm1lbnRJbnB1dENvbW1hbmQnOlxyXG4gICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZygnTXVsdGlwbGF5ZXJTY2VuZSByZWNlaXZlZCBtc2c6JywgZGF0YSk7XHJcbiAgICAgICAgICAgICAgICAvLyBSZW1vdGUgcGxheWVyIG1vdm1lbnRcclxuICAgICAgICAgICAgICAgIHRoaXMuaW5wdXRNYW5hZ2VyLnVwZGF0ZVJlbW90ZVBsYXllclBvc2l0aW9uKGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICBjYXNlICdQbGF5ZXJBdHRhY2tDb21tYW5kJzpcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdNdWx0aXBsYXllclNjZW5lIHJlY2VpdmVkIG1zZzonLCBkYXRhKTtcclxuICAgICAgICAgICAgICAgIC8vIFJlbW90ZSBwbGF5ZXIgYXR0YWNrc1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pbnB1dE1hbmFnZXIudXBkYXRlUmVtb3RlUGxheWVyQXR0YWNrKGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICBjYXNlICdQbGF5ZXJIaXQnOlxyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ011bHRpcGxheWVyU2NlbmUgcmVjZWl2ZWQgbXNnOicsIGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgLy8gUmVtb3RlIHBsYXllciBoaXRzXHJcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVJlbW90ZVBsYXllckhpdChkYXRhKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgY2FzZSAnRW5lbXlNb3ZtZW50JzpcclxuICAgICAgICAgICAgICAgIC8vIFJlbW90ZSBwbGF5ZXIgaGl0c1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yZWNpZXZlRW5lbXlNb3ZtZW50KGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICBjYXNlICdwbGF5ZXJEaXNjb25uZWN0ZWQnOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVEaXNjb25uZWN0aW9uKCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgIGNhc2UgJ0xvYWRlZCc6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxvYWRlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgIGNhc2UgJ0dhbWVPdmVyJzpcclxuICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlR2FtZU92ZXIoKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgY2FzZSAnUGxheWVyc1dpbic6XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnN0b3AoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ0VuZFNjZW5lJyk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgIGNhc2UgJ1Njb3JlQm9hcmQnOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5zdG9wKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdTY29yZUJvYXJkU2NlbmUnLCB7IHNjb3JlYm9hcmQ6IGRhdGEuZGF0YSB9KTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgY2FzZSAnUmVzdGFydCc6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZVJlc3RhcnQoKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdVbmtub3duIG1lc3NhZ2UgdHlwZTonLCBkYXRhLnR5cGUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZWNpZXZlRW5lbXlNb3ZtZW50KGRhdGEpIHtcclxuICAgICAgICB0aGlzLmVuZW1pZXMuZm9yRWFjaCgoZW5lbXkpID0+IHtcclxuICAgICAgICAgICAgaWYgKGVuZW15LmlkID09PSBkYXRhLmVuZW15SWQpIHtcclxuICAgICAgICAgICAgICAgIGVuZW15LnJlY2VpdmVFbmVteU1vdm1lbnQoZGF0YS5tb3ZlbWVudFZlY3RvciwgZGF0YS5jaGFzaW5nUGxheWVySWQsIGRhdGEueCwgZGF0YS55KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHNldFVwRW5lbXlDb2xsaXNpb25zKCkge1xyXG4gICAgICAgIHRoaXMuZW5lbWllcy5mb3JFYWNoKChlbmVteSkgPT4ge1xyXG5cclxuICAgICAgICAgICAgLy8gRW1lbnkgaGl0cyBcclxuICAgICAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5vdmVybGFwKGVuZW15LnNwcml0ZSwgdGhpcy5sb2NhbFBsYXllci5zcHJpdGUsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChlbmVteSAmJiB0aGlzLmxvY2FsUGxheWVyLmhlYWx0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgZGFtYWdlID0gNTA7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZW5kTWVzc2FnZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdQbGF5ZXJIaXQnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkYW1hZ2U6IGRhbWFnZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGxheWVySWQ6IHRoaXMucGxheWVyUm9sZSxcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgU2VuZGluZyBtZXNzYWdlIG9mIHBsYXllciBoaXQ6ICR7dGhpcy5wbGF5ZXJSb2xlfWApXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2NhbFBsYXllci5nZXRIaXQoZGFtYWdlKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNoZWNrUGxheWVyU3RhdHVzKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgLy8gUmVtb3RlIHBsYXllciBoaXRcclxuICAgICAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5vdmVybGFwKGVuZW15LnNwcml0ZSwgdGhpcy5yZW1vdGVQbGF5ZXIuc3ByaXRlKTtcclxuXHJcbiAgICAgICAgICAgIC8vIFBsYXllciBsaWdodHMgZW5lbXlcclxuICAgICAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5vdmVybGFwKGVuZW15LnNwcml0ZSwgdGhpcy5hcnRodXIubGlnaHQuY29sbGlkZXJDaXJjbGUsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmFydGh1ci5saWdodC5pc09uICYmIGVuZW15KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZW5lbXkuc2V0V2Vha2VuZWQodHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50aW1lLmRlbGF5ZWRDYWxsKDQwMDAsICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVuZW15KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmVteS5zZXRXZWFrZW5lZChmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAvLyBQbGF5ZXIgYXR0YWNrcyBlbmVteVxyXG4gICAgICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLm92ZXJsYXAoZW5lbXkuc3ByaXRlLCB0aGlzLmx1Y3kuYXR0YWNrSGl0Ym94LCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZW5lbXk/LndlYWtlbmVkICYmIHRoaXMubHVjeS5pc0F0dGFja2luZykge1xyXG4gICAgICAgICAgICAgICAgICAgIGVuZW15LmRpZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGVuZW15LmlzRGVhZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgZW5lbXkgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBzZXRVcExpYnJhcnlDb2xsaXNpb24oKSB7XHJcbiAgICAgICAgdGhpcy5saWJyZXJpYSA9IG5ldyBQbGF0Zm9ybSh0aGlzLCAnbGliJywgNDAwMCwgMjA4LCAxMDAsIDE1MCwgJ2xpYicpO1xyXG4gICAgICAgIHRoaXMubGlicmVyaWEuc3ByaXRlLnNldERlcHRoKDIpO1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQub3ZlcmxhcCh0aGlzLmxpYnJlcmlhLnNwcml0ZSwgdGhpcy5sb2NhbFBsYXllci5zcHJpdGUsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5zZW5kTWVzc2FnZSh7XHJcbiAgICAgICAgICAgICAgICB0eXBlOiAnUGxheWVyc1dpbicsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnN0b3AoKTtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5zdGFydCgnRW5kU2NlbmUnKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGVSZW1vdGVQbGF5ZXJIaXQoZGF0YSkge1xyXG4gICAgICAgIHRoaXMucGxheWVycy5nZXQoZGF0YS5wbGF5ZXJJZCkuZ2V0SGl0KGRhdGEuZGFtYWdlKTtcclxuICAgICAgICB0aGlzLmNoZWNrUGxheWVyU3RhdHVzKCk7XHJcbiAgICB9XHJcblxyXG4gICAgY2hlY2tQbGF5ZXJTdGF0dXMoKSB7IC8vIEVzdG8gaGFyYSBicm9hZGNhc3QgZGUgbGEgbXVlcnRlIGRlIHVuIGp1Z2Fkb3JcclxuICAgICAgICAvLyBkZXRlY3RhciBtdWVydGUgaW5kaXZpZHVhbFxyXG4gICAgICAgIGlmICh0aGlzLnBsYXllcnMuZ2V0KCdwbGF5ZXIxJykuaGVhbHRoIDw9IDAgJiYgdGhpcy5wbGF5ZXJzLmdldCgncGxheWVyMicpLmhlYWx0aCA8PSAwKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2VuZE1lc3NhZ2Uoe1xyXG4gICAgICAgICAgICAgICAgdHlwZTogJ0dhbWVPdmVyJyxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGhhbmRsZURpc2Nvbm5lY3Rpb24oKSB7XHJcbiAgICAgICAgdGhpcy5nYW1lRW5kZWQgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy5wYXVzZSgpO1xyXG5cclxuICAgICAgICB0aGlzLmFkZC50ZXh0KDQwMCwgMjUwLCAnQ29tcGHDsWVybyBkZXNjb25lY3RhZG8nLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnNDhweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmMDAwMCcsXHJcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdMaW5MaWJlcnRpbmUnLFxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpLnNldFNjcm9sbEZhY3RvcigwKTtcclxuXHJcbiAgICAgICAgdGhpcy5jcmVhdGVNZW51QnV0dG9uKCk7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIGhhbmRsZUdhbWVPdmVyKCkge1xyXG4gICAgICAgIHRoaXMuZ2FtZUVuZGVkID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLnBoeXNpY3MucGF1c2UoKTtcclxuXHJcbiAgICAgICAgdGhpcy5hZGQuaW1hZ2UoNDAwLCAzMDAsICdnYW1lb3ZlcicpLnNldE9yaWdpbigwLjUpLnNldFNjcm9sbEZhY3RvcigwKS5zZXREZXB0aCgxMDApO1xyXG5cclxuICAgICAgICB0aGlzLmNyZWF0ZU1lbnVCdXR0b24oKTtcclxuICAgICAgICB0aGlzLmNyZWF0ZVJldHJ5QnV0dG9uKCk7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIGNyZWF0ZVJldHJ5QnV0dG9uKCkge1xyXG4gICAgICAgIGNvbnN0IHJldHJ5QnRuID0gdGhpcy5hZGQudGV4dCg0MDAsIDM1MCwgJ1ZvbHZlciBhIGludGVudGFyJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzMycHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmZmYnLFxyXG4gICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjMDAwMDAwJyxcclxuICAgICAgICAgICAgZm9udEZhbWlseTogJ0xpbkxpYmVydGluZScsXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgLnNldERlcHRoKDEwMSlcclxuICAgICAgICAgICAgLnNldFNjcm9sbEZhY3RvcigwKVxyXG4gICAgICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcm92ZXInLCAoKSA9PiByZXRyeUJ0bi5zZXRDb2xvcignI2NjY2NjYycpKVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiByZXRyeUJ0bi5zZXRDb2xvcignI2ZmZmZmZicpKVxyXG4gICAgICAgICAgICAub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMud3MgJiYgdGhpcy53cy5yZWFkeVN0YXRlID09PSBXZWJTb2NrZXQuT1BFTikge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2VuZE1lc3NhZ2Uoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnUmVzdGFydCcsXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlTWVudUJ1dHRvbigpIHtcclxuICAgICAgICBjb25zdCBtZW51QnRuID0gdGhpcy5hZGQudGV4dCg0MDAsIDQwMCwgJ1ZvbHZlciBhbCBtZW51Jywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzMycHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmZmYnLFxyXG4gICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjMDAwMDAwJyxcclxuICAgICAgICAgICAgZm9udEZhbWlseTogJ0xpbkxpYmVydGluZScsXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgLnNldERlcHRoKDEwMSlcclxuICAgICAgICAgICAgLnNldFNjcm9sbEZhY3RvcigwKVxyXG4gICAgICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcm92ZXInLCAoKSA9PiBtZW51QnRuLnNldENvbG9yKCcjY2NjY2NjJykpXHJcbiAgICAgICAgICAgIC5vbigncG9pbnRlcm91dCcsICgpID0+IG1lbnVCdG4uc2V0Q29sb3IoJyNmZmZmZmYnKSlcclxuICAgICAgICAgICAgLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLndzICYmIHRoaXMud3MucmVhZHlTdGF0ZSA9PT0gV2ViU29ja2V0Lk9QRU4pIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbmRNZXNzYWdlKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ1BsYXllckRpc2Nvbm5lY3RlZCcsXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy53cy5jbG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5zdGFydCgnTWVudVNjZW5lJyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGhhbmRsZVJlc3RhcnQoKSB7XHJcbiAgICAgICAgdGhpcy5zY2VuZS5zdGFydCgnTXVsdGlwbGF5ZXJTY2VuZScpO1xyXG4gICAgfVxyXG5cclxuICAgIHNlbmRNZXNzYWdlKGRhdGEpIHtcclxuICAgICAgICBpZiAodGhpcy53cyAmJiB0aGlzLndzLnJlYWR5U3RhdGUgPT09IFdlYlNvY2tldC5PUEVOKSB7XHJcbiAgICAgICAgICAgIHRoaXMud3Muc2VuZChKU09OLnN0cmluZ2lmeShkYXRhKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHNodXRkb3duKCkge1xyXG4gICAgICAgIGlmICh0aGlzLndzICYmIHRoaXMud3MucmVhZHlTdGF0ZSA9PT0gV2ViU29ja2V0Lk9QRU4pIHtcclxuICAgICAgICAgICAgdGhpcy53cy5jbG9zZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSJdLCJuYW1lcyI6WyJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlIiwiZ2V0dGVyIiwiX19lc01vZHVsZSIsImQiLCJhIiwiZXhwb3J0cyIsImRlZmluaXRpb24iLCJrZXkiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0Iiwib2JqIiwicHJvcCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsIlBoYXNlciIsIk9wdGlvbnNTY2VuZSIsImNvbnN0cnVjdG9yIiwic3VwZXIiLCJwcmVsb2FkIiwidGhpcyIsImxvYWQiLCJpbWFnZSIsImNyZWF0ZSIsImRhdGEiLCJhZGQiLCJyZWN0YW5nbGUiLCJzZXRPcmlnaW4iLCJ0ZXh0IiwiZm9udFNpemUiLCJmb250RmFtaWx5IiwiY29sb3IiLCJmb250U3R5bGUiLCJ2b2x1bWVUZXh0Iiwic291bmQiLCJtdXRlIiwidm9sdW1lQnRuIiwiYmFja2dyb3VuZENvbG9yIiwicGFkZGluZyIsIngiLCJ5Iiwic2V0SW50ZXJhY3RpdmUiLCJ1c2VIYW5kQ3Vyc29yIiwib24iLCJzZXRTdHlsZSIsInNldFRleHQiLCJiYWNrQnRuIiwic2NlbmUiLCJzdG9wIiwicmVzdW1lIiwib3JpZ2luYWxTY2VuZSIsImNvbm5lY3Rpb25NYW5hZ2VyIiwiY29ubmVjdGVkQ291bnQiLCJpc0Nvbm5lY3RlZCIsImxhc3RDaGVja1RpbWUiLCJjaGVja0ludGVydmFsIiwibGlzdGVuZXJzIiwic2Vzc2lvbklkIiwiZ2VuZXJhdGVTZXNzaW9uSWQiLCJpbnRlcnZhbElkIiwic3RhcnRQb2xsaW5nIiwiRGF0ZSIsIm5vdyIsIk1hdGgiLCJyYW5kb20iLCJ0b1N0cmluZyIsInN1YnN0ciIsImNoZWNrQ29ubmVjdGlvbiIsInJlc3BvbnNlIiwiZmV0Y2giLCJtZXRob2QiLCJoZWFkZXJzIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJvayIsImpzb24iLCJjb25uZWN0ZWQiLCJub3RpZnlMaXN0ZW5lcnMiLCJjb3VudCIsInN1Y2Nlc3MiLCJoYW5kbGVEaXNjb25uZWN0aW9uIiwiZXJyb3IiLCJjb25zb2xlIiwiYWRkTGlzdGVuZXIiLCJjYWxsYmFjayIsInB1c2giLCJyZW1vdmVMaXN0ZW5lciIsImluZGV4IiwiaW5kZXhPZiIsInNwbGljZSIsImZvckVhY2giLCJsaXN0ZW5lciIsImdldFN0YXR1cyIsInNldEludGVydmFsIiwic3RvcFBvbGxpbmciLCJjbGVhckludGVydmFsIiwiY2xpZW50RGF0YU1hbmFnZXIiLCJpZCIsInVuZGVmaW5lZCIsIm5hbWUiLCJkZWF0aHMiLCJ1cGRhdGVDbGllbnREYXRhIiwidXBkYXRlcyIsImdldENsaWVudERlYXRocyIsIkVycm9yIiwidXBkYXRlQ2xpZW50RGVhdGhzIiwicG9zdExvZ2luIiwic3RhdHVzIiwiTWVudVNjZW5lIiwiYXVkaW8iLCJzdGFydEJ1dHRvbiIsInN0YXJ0Iiwic2NlbmVUb1BsYXkiLCJjcmVkaXRzQnV0dG9uIiwib3B0aW9uc0J1dHRvbiIsImxhdW5jaCIsImV4aXRCdXR0b24iLCJnYW1lIiwiZGVzdHJveSIsIndpbmRvdyIsImNsb3NlIiwiYnV0dG9ucyIsIm11c2ljIiwicGxheSIsInNldFZvbHVtZSIsIm51bVBsYXllcnMiLCJzZXJ2ZXJEb3duIiwic2V0VmlzaWJsZSIsImNvbm5lY3Rpb25UZXh0IiwiY29ubmVjdGlvbkxpc3RlbmVyIiwidXBkYXRlQ29ubmVjdGlvbkRpc3BsYXkiLCJvbmxpbmVCdG4iLCJpc0FjdGl2ZSIsInNldENvbG9yIiwic2h1dGRvd24iLCJDb21tYW5kIiwiZXhlY3V0ZSIsInNlcmlhbGl6ZSIsImdldEVudGl0eSIsIlBsYXllck1vdm1lbnRJbnB1dENvbW1hbmQiLCJwbGF5ZXIiLCJhY3Rpb24iLCJqdW1wIiwiaWRsZSIsImhvcml6b250YWxNb3ZlIiwidHlwZSIsInBsYXllcklkIiwic3ByaXRlIiwiUGxheWVyQXR0YWNrQ29tbWFuZCIsImF0dGFjayIsIkNvbW1hbmRQcm9jZXNzb3IiLCJwbGF5ZXJzIiwiTWFwIiwicHJvY2VzcyIsImNvbW1hbmQiLCJyZWNlaXZlQ29tbWFuZCIsImRlc2VyaWFsaXplIiwiYWJzIiwic2V0UG9zaXRpb24iLCJ3YXJuIiwiSW5wdXRNYW5hZ2VyIiwic2NlbmVNYW5hZ2VyIiwiaW5wdXQiLCJjb21tYW5kUHJvY2Vzc29yIiwibG9jYWxQbGF5ZXJSb2xlIiwid3MiLCJpbnB1dHNNYXBwaW5nIiwiaXNQYXVzZWQiLCJzZXRVcElucHV0cyIsInNldFVwTG9jYWxJbnB1dHMiLCJzZXRVcFJlbW90ZUlucHV0cyIsInNldFdlYlNvY2tldCIsInNldExvY2FsUGxheWVyUm9sZSIsInJvbGUiLCJrZXlib2FyZCIsInBhdXNlIiwibGVmdEtleSIsInJpZ2h0S2V5IiwidXBLZXkiLCJkb3duS2V5IiwiYXR0YWNrS2V5IiwibWFwIiwiY29uZmlnIiwibGVmdEtleU9iaiIsImFkZEtleSIsIktleWJvYXJkIiwiS2V5Q29kZXMiLCJyaWdodEtleU9iaiIsInVwS2V5T2JqIiwiZG93bktleU9iaiIsImF0dGFja0tleU9iaiIsInBsYXllclJvbGUiLCJJbnB1dENvbmZpZyIsInVwZGF0ZSIsIm1hcHBpbmciLCJsb2NhbENvbW1hbmQiLCJpc0Rvd24iLCJzZW5kTWVzc2FnZSIsImF0dGFja0NvbW1hbmQiLCJtZXNzYWdlIiwicmVhZHlTdGF0ZSIsIldlYlNvY2tldCIsIk9QRU4iLCJzZW5kIiwidXBkYXRlUmVtb3RlUGxheWVyUG9zaXRpb24iLCJ1cGRhdGVSZW1vdGVQbGF5ZXJBdHRhY2siLCJBbmltYXRvciIsImFuaW1hdGlvblNwcml0ZXNoZWV0IiwiZnJhbWVXaWR0aCIsImZyYW1lSGVpZ2h0Iiwic3ByaXRlc2hlZXQiLCJjcmVhdGVBbmltYXRpb24iLCJzdGFydEZyYW1lIiwiZW5kRnJhbWUiLCJmcmFtZVJhdGUiLCJyZXBlYXQiLCJhbmltcyIsImZyYW1lcyIsImdlbmVyYXRlRnJhbWVOdW1iZXJzIiwiZW5kIiwiYXNzaWduU3ByaXRlVG9QbGF5ZXIiLCJwaHlzaWNzIiwiY3JlYXRlU3ByaXRlIiwiRW5lbXkiLCJiYXNlSGVpZ2h0IiwiYmFzZVdpZHRoIiwiYmFzZVNwZWVkIiwiaXNEZWFkIiwid2Vha2VuZWQiLCJjaGFzaW5nUGxheWVySWQiLCJhbmltYXRvciIsImFuaW0iLCJzZXRDb2xsaWRlV29ybGRCb3VuZHMiLCJhbGxvd0dyYXZpdHkiLCJzZXRHcmF2aXR5WSIsInNldERlcHRoIiwic2V0U2NhbGUiLCJzZXRTaXplIiwid2lkdGgiLCJoZWlnaHQiLCJlbmVteU1vdmVtZW50IiwicGlja1BsYXllciIsImR4IiwiZHkiLCJkaXN0YW5jZSIsInNxcnQiLCJmbGlwWCIsIm1vdmVtZW50VmVjdG9yIiwic2V0VmVsb2NpdHlYIiwic2V0VmVsb2NpdHlZIiwic2V0VmVsb2NpdHkiLCJyZWNlaXZlRW5lbXlNb3ZtZW50IiwidGFyZ2V0UGxheWVyIiwicDEiLCJwMiIsInRhcmdldCIsImhlYWx0aCIsImRpZSIsInNldFdlYWtlbmVkIiwidmFsdWUiLCJDYW1lcmEiLCJjYW1lcmEiLCJjYW1lcmFzIiwibWFpbiIsImNhbUxlZnQiLCJzY3JvbGxYIiwiY2FtUmlnaHQiLCJtYXJnaW4iLCJDbGFtcCIsIm1pZFgiLCJ0YXJnZXRMZWZ0IiwidGFyZ2V0UmlnaHQiLCJhcnRodXJJbnNpZGVBZnRlck1vdmUiLCJsdWN5SW5zaWRlQWZ0ZXJNb3ZlIiwicm91bmQiLCJMaW5lYXIiLCJQbGF0Zm9ybSIsInRleHR1cmVLZXkiLCJzZXREaXNwbGF5U2l6ZSIsImV4aXN0aW5nIiwiZyIsImdyYXBoaWNzIiwiZmlsbFN0eWxlIiwiZmlsbFJlY3QiLCJzZXRVcENvbGxpc2lvbnMiLCJQbGF5ZXIiLCJncmF2aXR5IiwieFBvcyIsInlQb3MiLCJzcHJpdGVTaGVldCIsImp1bXBGb3JjZSIsImludnVsbmVyYWJsZSIsIm51bURlYXRocyIsImN1cnJlbnREaXJlY3Rpb24iLCJjdXJyZW50QW5pbSIsIm9uRmxvb3IiLCJwbGF5QW5pbSIsInNldE9mZnNldCIsImRpcmVjdGlvbiIsImNhbkp1bXAiLCJnZXRIaXQiLCJkYW1hZ2UiLCJzZXRUaW50IiwiY2hlY2tBbGl2ZSIsImlzQXR0YWNraW5nIiwidXBkYXRlRGVhdGhzIiwidGltZSIsImRlbGF5ZWRDYWxsIiwicmV2aXZlIiwiY2xlYXJUaW50IiwiTHVjeSIsImF0dGFja0hpdGJveCIsInNldEltbW92YWJsZSIsInVwZGF0ZUhpdGJveCIsIm9mZnNldFgiLCJMaWdodCIsInJhZGl1cyIsImlzT24iLCJjYW5QZXJmb3JtIiwiY29sbGlkZXJDaXJjbGUiLCJjaXJjbGUiLCJzZXRDaXJjbGUiLCJzZXRBbGxvd0dyYXZpdHkiLCJjbGVhciIsImZpbGxDaXJjbGUiLCJwZXJmb3JtIiwiQXJ0aHVyIiwibGlnaHQiLCJHYW1lU2NlbmUiLCJhcnRodXIiLCJsdWN5IiwiZW5lbWllcyIsImVuZW15IiwiaW5pdCIsInN0b3BBbGwiLCJwbGF0Zm9ybXMiLCJpbnB1dE1hbmFnZXIiLCJlbmVteTEiLCJlbmVteTIiLCJlbmVteTMiLCJlbmVteTQiLCJlbmVteTUiLCJzZXQiLCJmb25kbyIsInRpbGVTcHJpdGUiLCJzZXRTY3JvbGxGYWN0b3IiLCJzZXRVcFdvcmxkQ29sbGlzaW9ucyIsInNldFVwRW5lbXlDb2xsaXNpb25zIiwic2V0VXBSZXZpdmVDb2xsaXNpb24iLCJzZXRVcExpYnJhcnlDb2xsaXNpb24iLCJ3b3JsZCIsInNldEJvdW5kcyIsInNldExlcnAiLCJvbkNvbm5lY3Rpb25Mb3N0Iiwib3ZlcmxhcCIsInN1ZWxvMSIsInBsYXQxIiwicGxhdDIiLCJzdWVsbzIiLCJjb2wxIiwiY29sMiIsInBsYXQzIiwicGxhdDQiLCJwbGF0NSIsInN1ZWxvMyIsInN1ZWxvNCIsInBsYXQ2IiwicGxhdDciLCJwbGF0OCIsInN1ZWxvNSIsInAiLCJwZXJzb25hamUiLCJjb2xsaWRlciIsImVuZW1pZ28iLCJsaWJyZXJpYSIsImNoZWNrUGxheWVyU3RhdHVzIiwidGlsZVBvc2l0aW9uWCIsImRlbGV0ZSIsInByZXZpb3VzU2NlbmUiLCJQYXVzZVNjZW5lIiwidW5wYXVzZSIsInBsYXlCdG4iLCJmaWxsIiwiZXhpdEJ0biIsImV4aXRUb01lbnUiLCJDcmVkaXRzU2NlbmUiLCJQdXBwZXQiLCJpc1BsYXllciIsImxvb3BBbmltYXRpb25MaXN0IiwiZGVsYXkiLCJhZGRFdmVudCIsImxvb3AiLCJsZW5ndGgiLCJJbnRyb1NjZW5lIiwiYXJ0aHVyMSIsImFydGh1cjIiLCJhcnRodXIzIiwiYXJ0aHVyNCIsImx1Y3kxIiwibHVjeTIiLCJsdWN5MyIsImx1Y3k0IiwicHVwcGV0czEiLCJwdXBwZXRzMiIsInB1cHBldCIsImludHJvVGV4dCIsInRleHRJbmRleCIsImluUHJvZ3Jlc3MiLCJpbnRyb0ltYWdlMCIsImludHJvSW1hZ2UxIiwiaW50cm9JbWFnZUwiLCJpbnRyb0ltYWdlMiIsImNvbnRyb2xzSW1hZ2UiLCJjb21iYXRJbWFnZSIsImN1dHNjZW5lSW1hZ2VzIiwibmV4dEJ0biIsIm5leHRUZXh0IiwiYWxpZ24iLCJza2lwQnRuIiwic2hvd1RleHQiLCJ0ZXh0SW4iLCJ3cml0ZVRleHQiLCJzdWJzdHJpbmciLCJFbmRTY2VuZSIsImVuZEltYWdlMSIsImVuZEltYWdlMiIsImVuZEltYWdlMyIsImVuZEltYWdlNCIsImVuZEltYWdlcyIsImV2ZW50cyIsImVtaXQiLCJ0ZXh0byIsImlkeCIsIndyaXRlTGV0dGVyIiwiR2FtZVNjZW5lMiIsIkNvbm5lY3Rpb25Mb3N0U2NlbmUiLCJyZWNvbm5lY3RDaGVja0ludGVydmFsIiwic3RhdHVzVGV4dCIsImF0dGVtcHRDb3VudCIsImF0dGVtcHRUZXh0IiwiZG90Q291bnQiLCJkb3RzIiwib25SZWNvbm5lY3RlZCIsImF0dGVtcHRSZWNvbm5lY3QiLCJMb2dpblNjZW5lIiwiaHRtbCIsImVsZW1lbnQiLCJkb20iLCJjcmVhdGVGcm9tQ2FjaGUiLCJzZXRQZXJzcGVjdGl2ZSIsImFzeW5jIiwiZXZlbnQiLCJwcmV2ZW50RGVmYXVsdCIsImlucHV0VXNlcm5hbWUiLCJnZXRDaGlsZEJ5TmFtZSIsImxvZyIsIk1hdGNoTWFraW5nU2NlbmUiLCJTY2VuZSIsInBsYXllckNvdW50VGV4dCIsImNhbmNlbEJ1dHRvbiIsImxlYXZlUXVldWUiLCJjb25uZWN0VG9TZXJ2ZXIiLCJ3c1VybCIsImxvY2F0aW9uIiwiaG9zdCIsIm9ub3BlbiIsIm9ubWVzc2FnZSIsInBhcnNlIiwiaGFuZGxlU2VydmVyTWVzc2FnZSIsIm9uZXJyb3IiLCJvbmNsb3NlIiwicG9zaXRpb24iLCJyb29tSWQiLCJTY29yZUJvYXJkU2NlbmUiLCJkZWF0aHNUZXh0IiwidGhlbiIsImNhdGNoIiwicGFyZW50IiwiZGVmYXVsdCIsImFyY2FkZSIsImRlYnVnIiwiZGVidWdTaG93Qm9keSIsImRlYnVnU2hvd1N0YXRpY0JvZHkiLCJjcmVhdGVDb250YWluZXIiLCJsb2FkZWQiLCJsb2NhbFBsYXllciIsInJlbW90ZVBsYXllciIsInNldHVwV2ViU29ja2V0TGlzdGVuZXJzIiwic2V0VXBQbGF5ZXJzIiwiZW5lbXlJZCIsInVwZGF0ZVJlbW90ZVBsYXllckhpdCIsInJlY2lldmVFbmVteU1vdm1lbnQiLCJoYW5kbGVHYW1lT3ZlciIsInNjb3JlYm9hcmQiLCJoYW5kbGVSZXN0YXJ0IiwiZ2FtZUVuZGVkIiwiY3JlYXRlTWVudUJ1dHRvbiIsImNyZWF0ZVJldHJ5QnV0dG9uIiwicmV0cnlCdG4iLCJtZW51QnRuIl0sInNvdXJjZVJvb3QiOiIifQ==